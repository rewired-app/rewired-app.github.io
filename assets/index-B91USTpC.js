var EP=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var _Q=EP((ea,ta)=>{function MP(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(o,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vg={exports:{}},Qc={};var SS;function _P(){if(SS)return Qc;SS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(o,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var u in i)u!=="key"&&(l[u]=i[u])}else l=i;return i=l.ref,{$$typeof:e,type:o,key:c,ref:i!==void 0?i:null,props:l}}return Qc.Fragment=t,Qc.jsx=r,Qc.jsxs=r,Qc}var AS;function RP(){return AS||(AS=1,Vg.exports=_P()),Vg.exports}var A=RP(),Zg={exports:{}},bt={};var ES;function TP(){if(ES)return bt;ES=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function E(D,F,X){this.props=D,this.context=F,this.refs=S,this.updater=X||x}E.prototype.isReactComponent={},E.prototype.setState=function(D,F){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,F,"setState")},E.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function R(){}R.prototype=E.prototype;function _(D,F,X){this.props=D,this.context=F,this.refs=S,this.updater=X||x}var T=_.prototype=new R;T.constructor=_,C(T,E.prototype),T.isPureReactComponent=!0;var k=Array.isArray;function O(){}var M={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function H(D,F,X){var re=X.ref;return{$$typeof:e,type:D,key:F,ref:re!==void 0?re:null,props:X}}function U(D,F){return H(D.type,F,D.props)}function Y(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function Q(D){var F={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(X){return F[X]})}var W=/\/+/g;function ae(D,F){return typeof D=="object"&&D!==null&&D.key!=null?Q(""+D.key):F.toString(36)}function Z(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(O,O):(D.status="pending",D.then(function(F){D.status==="pending"&&(D.status="fulfilled",D.value=F)},function(F){D.status==="pending"&&(D.status="rejected",D.reason=F)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function P(D,F,X,re,V){var ee=typeof D;(ee==="undefined"||ee==="boolean")&&(D=null);var te=!1;if(D===null)te=!0;else switch(ee){case"bigint":case"string":case"number":te=!0;break;case"object":switch(D.$$typeof){case e:case t:te=!0;break;case p:return te=D._init,P(te(D._payload),F,X,re,V)}}if(te)return V=V(D),te=re===""?"."+ae(D,0):re,k(V)?(X="",te!=null&&(X=te.replace(W,"$&/")+"/"),P(V,F,X,"",function(be){return be})):V!=null&&(Y(V)&&(V=U(V,X+(V.key==null||D&&D.key===V.key?"":(""+V.key).replace(W,"$&/")+"/")+te)),F.push(V)),1;te=0;var J=re===""?".":re+":";if(k(D))for(var ie=0;ie<D.length;ie++)re=D[ie],ee=J+ae(re,ie),te+=P(re,F,X,ee,V);else if(ie=b(D),typeof ie=="function")for(D=ie.call(D),ie=0;!(re=D.next()).done;)re=re.value,ee=J+ae(re,ie++),te+=P(re,F,X,ee,V);else if(ee==="object"){if(typeof D.then=="function")return P(Z(D),F,X,re,V);throw F=String(D),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return te}function L(D,F,X){if(D==null)return D;var re=[],V=0;return P(D,re,"","",function(ee){return F.call(X,ee,V++)}),re}function N(D){if(D._status===-1){var F=D._result;F=F(),F.then(function(X){(D._status===0||D._status===-1)&&(D._status=1,D._result=X)},function(X){(D._status===0||D._status===-1)&&(D._status=2,D._result=X)}),D._status===-1&&(D._status=0,D._result=F)}if(D._status===1)return D._result.default;throw D._result}var q=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},$={map:L,forEach:function(D,F,X){L(D,function(){F.apply(this,arguments)},X)},count:function(D){var F=0;return L(D,function(){F++}),F},toArray:function(D){return L(D,function(F){return F})||[]},only:function(D){if(!Y(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return bt.Activity=g,bt.Children=$,bt.Component=E,bt.Fragment=r,bt.Profiler=i,bt.PureComponent=_,bt.StrictMode=o,bt.Suspense=h,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,bt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return M.H.useMemoCache(D)}},bt.cache=function(D){return function(){return D.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(D,F,X){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=C({},D.props),V=D.key;if(F!=null)for(ee in F.key!==void 0&&(V=""+F.key),F)!j.call(F,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&F.ref===void 0||(re[ee]=F[ee]);var ee=arguments.length-2;if(ee===1)re.children=X;else if(1<ee){for(var te=Array(ee),J=0;J<ee;J++)te[J]=arguments[J+2];re.children=te}return H(D.type,V,re)},bt.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},bt.createElement=function(D,F,X){var re,V={},ee=null;if(F!=null)for(re in F.key!==void 0&&(ee=""+F.key),F)j.call(F,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(V[re]=F[re]);var te=arguments.length-2;if(te===1)V.children=X;else if(1<te){for(var J=Array(te),ie=0;ie<te;ie++)J[ie]=arguments[ie+2];V.children=J}if(D&&D.defaultProps)for(re in te=D.defaultProps,te)V[re]===void 0&&(V[re]=te[re]);return H(D,ee,V)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(D){return{$$typeof:u,render:D}},bt.isValidElement=Y,bt.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:N}},bt.memo=function(D,F){return{$$typeof:f,type:D,compare:F===void 0?null:F}},bt.startTransition=function(D){var F=M.T,X={};M.T=X;try{var re=D(),V=M.S;V!==null&&V(X,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(O,q)}catch(ee){q(ee)}finally{F!==null&&X.types!==null&&(F.types=X.types),M.T=F}},bt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},bt.use=function(D){return M.H.use(D)},bt.useActionState=function(D,F,X){return M.H.useActionState(D,F,X)},bt.useCallback=function(D,F){return M.H.useCallback(D,F)},bt.useContext=function(D){return M.H.useContext(D)},bt.useDebugValue=function(){},bt.useDeferredValue=function(D,F){return M.H.useDeferredValue(D,F)},bt.useEffect=function(D,F){return M.H.useEffect(D,F)},bt.useEffectEvent=function(D){return M.H.useEffectEvent(D)},bt.useId=function(){return M.H.useId()},bt.useImperativeHandle=function(D,F,X){return M.H.useImperativeHandle(D,F,X)},bt.useInsertionEffect=function(D,F){return M.H.useInsertionEffect(D,F)},bt.useLayoutEffect=function(D,F){return M.H.useLayoutEffect(D,F)},bt.useMemo=function(D,F){return M.H.useMemo(D,F)},bt.useOptimistic=function(D,F){return M.H.useOptimistic(D,F)},bt.useReducer=function(D,F,X){return M.H.useReducer(D,F,X)},bt.useRef=function(D){return M.H.useRef(D)},bt.useState=function(D){return M.H.useState(D)},bt.useSyncExternalStore=function(D,F,X){return M.H.useSyncExternalStore(D,F,X)},bt.useTransition=function(){return M.H.useTransition()},bt.version="19.2.0",bt}var MS;function xs(){return MS||(MS=1,Zg.exports=TP()),Zg.exports}var v=xs();const z=$i(v),kR=MP({__proto__:null,default:z},[v]);var Jg={exports:{}},Kc={},em={exports:{}},tm={};var _S;function kP(){return _S||(_S=1,(function(e){function t(P,L){var N=P.length;P.push(L);e:for(;0<N;){var q=N-1>>>1,$=P[q];if(0<i($,L))P[q]=L,P[N]=$,N=q;else break e}}function r(P){return P.length===0?null:P[0]}function o(P){if(P.length===0)return null;var L=P[0],N=P.pop();if(N!==L){P[0]=N;e:for(var q=0,$=P.length,D=$>>>1;q<D;){var F=2*(q+1)-1,X=P[F],re=F+1,V=P[re];if(0>i(X,N))re<$&&0>i(V,X)?(P[q]=V,P[re]=N,q=re):(P[q]=X,P[F]=N,q=F);else if(re<$&&0>i(V,N))P[q]=V,P[re]=N,q=re;else break e}}return L}function i(P,L){var N=P.sortIndex-L.sortIndex;return N!==0?N:P.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var h=[],f=[],p=1,g=null,y=3,b=!1,x=!1,C=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function T(P){for(var L=r(f);L!==null;){if(L.callback===null)o(f);else if(L.startTime<=P)o(f),L.sortIndex=L.expirationTime,t(h,L);else break;L=r(f)}}function k(P){if(C=!1,T(P),!x)if(r(h)!==null)x=!0,O||(O=!0,Q());else{var L=r(f);L!==null&&Z(k,L.startTime-P)}}var O=!1,M=-1,j=5,H=-1;function U(){return S?!0:!(e.unstable_now()-H<j)}function Y(){if(S=!1,O){var P=e.unstable_now();H=P;var L=!0;try{e:{x=!1,C&&(C=!1,R(M),M=-1),b=!0;var N=y;try{t:{for(T(P),g=r(h);g!==null&&!(g.expirationTime>P&&U());){var q=g.callback;if(typeof q=="function"){g.callback=null,y=g.priorityLevel;var $=q(g.expirationTime<=P);if(P=e.unstable_now(),typeof $=="function"){g.callback=$,T(P),L=!0;break t}g===r(h)&&o(h),T(P)}else o(h);g=r(h)}if(g!==null)L=!0;else{var D=r(f);D!==null&&Z(k,D.startTime-P),L=!1}}break e}finally{g=null,y=N,b=!1}L=void 0}}finally{L?Q():O=!1}}}var Q;if(typeof _=="function")Q=function(){_(Y)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ae=W.port2;W.port1.onmessage=Y,Q=function(){ae.postMessage(null)}}else Q=function(){E(Y,0)};function Z(P,L){M=E(function(){P(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(P){switch(y){case 1:case 2:case 3:var L=3;break;default:L=y}var N=y;y=L;try{return P()}finally{y=N}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var N=y;y=P;try{return L()}finally{y=N}},e.unstable_scheduleCallback=function(P,L,N){var q=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?q+N:q):N=q,P){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=N+$,P={id:p++,callback:L,priorityLevel:P,startTime:N,expirationTime:$,sortIndex:-1},N>q?(P.sortIndex=N,t(f,P),r(h)===null&&P===r(f)&&(C?(R(M),M=-1):C=!0,Z(k,N-q))):(P.sortIndex=$,t(h,P),x||b||(x=!0,O||(O=!0,Q()))),P},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(P){var L=y;return function(){var N=y;y=L;try{return P.apply(this,arguments)}finally{y=N}}}})(tm)),tm}var RS;function OP(){return RS||(RS=1,em.exports=kP()),em.exports}var nm={exports:{}},cr={};var TS;function IP(){if(TS)return cr;TS=1;var e=xs();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:h,containerInfo:f,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,cr.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(h,f,null,p)},cr.flushSync=function(h){var f=c.T,p=o.p;try{if(c.T=null,o.p=2,h)return h()}finally{c.T=f,o.p=p,o.d.f()}},cr.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,o.d.C(h,f))},cr.prefetchDNS=function(h){typeof h=="string"&&o.d.D(h)},cr.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?o.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):p==="script"&&o.d.X(h,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},cr.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);o.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&o.d.M(h)},cr.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);o.d.L(h,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},cr.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);o.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else o.d.m(h)},cr.requestFormReset=function(h){o.d.r(h)},cr.unstable_batchedUpdates=function(h,f){return h(f)},cr.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},cr.useFormStatus=function(){return c.H.useHostTransitionStatus()},cr.version="19.2.0",cr}var kS;function OR(){if(kS)return nm.exports;kS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nm.exports=IP(),nm.exports}var OS;function PP(){if(OS)return Kc;OS=1;var e=OP(),t=xs(),r=OR();function o(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var a=n,s=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(s=a.return),n=a.return;while(n)}return a.tag===3?s:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function u(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(o(188))}function f(n){var a=n.alternate;if(!a){if(a=l(n),a===null)throw Error(o(188));return a!==n?null:n}for(var s=n,d=a;;){var m=s.return;if(m===null)break;var w=m.alternate;if(w===null){if(d=m.return,d!==null){s=d;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===s)return h(m),n;if(w===d)return h(m),a;w=w.sibling}throw Error(o(188))}if(s.return!==d.return)s=m,d=w;else{for(var I=!1,B=m.child;B;){if(B===s){I=!0,s=m,d=w;break}if(B===d){I=!0,d=m,s=w;break}B=B.sibling}if(!I){for(B=w.child;B;){if(B===s){I=!0,s=w,d=m;break}if(B===d){I=!0,d=w,s=m;break}B=B.sibling}if(!I)throw Error(o(189))}}if(s.alternate!==d)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?n:a}function p(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=p(n),a!==null)return a;n=n.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function Q(n){return n===null||typeof n!="object"?null:(n=Y&&n[Y]||n["@@iterator"],typeof n=="function"?n:null)}var W=Symbol.for("react.client.reference");function ae(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===W?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case O:return"SuspenseList";case H:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case _:return n.displayName||"Context";case R:return(n._context.displayName||"Context")+".Consumer";case T:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return a=n.displayName||null,a!==null?a:ae(n.type)||"Memo";case j:a=n._payload,n=n._init;try{return ae(n(a))}catch{}}return null}var Z=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},q=[],$=-1;function D(n){return{current:n}}function F(n){0>$||(n.current=q[$],q[$]=null,$--)}function X(n,a){$++,q[$]=n.current,n.current=a}var re=D(null),V=D(null),ee=D(null),te=D(null);function J(n,a){switch(X(ee,a),X(V,n),X(re,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?XC(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=XC(a),n=GC(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}F(re),X(re,n)}function ie(){F(re),F(V),F(ee)}function be(n){n.memoizedState!==null&&X(te,n);var a=re.current,s=GC(a,n.type);a!==s&&(X(V,n),X(re,s))}function ge(n){V.current===n&&(F(re),F(V)),te.current===n&&(F(te),qc._currentValue=N)}var Ee,Te;function Se(n){if(Ee===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ee=a&&a[1]||"",Te=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+n+Te}var ce=!1;function Oe(n,a){if(!n||ce)return"";ce=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(he){var de=he}Reflect.construct(n,[],we)}else{try{we.call()}catch(he){de=he}n.call(we.prototype)}}else{try{throw Error()}catch(he){de=he}(we=n())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(he){if(he&&de&&typeof he.stack=="string")return[he.stack,de.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=d.DetermineComponentFrameRoot(),I=w[0],B=w[1];if(I&&B){var K=I.split(`
`),ue=B.split(`
`);for(m=d=0;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;for(;m<ue.length&&!ue[m].includes("DetermineComponentFrameRoot");)m++;if(d===K.length||m===ue.length)for(d=K.length-1,m=ue.length-1;1<=d&&0<=m&&K[d]!==ue[m];)m--;for(;1<=d&&0<=m;d--,m--)if(K[d]!==ue[m]){if(d!==1||m!==1)do if(d--,m--,0>m||K[d]!==ue[m]){var me=`
`+K[d].replace(" at new "," at ");return n.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",n.displayName)),me}while(1<=d&&0<=m);break}}}finally{ce=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Se(s):""}function Ce(n,a){switch(n.tag){case 26:case 27:case 5:return Se(n.type);case 16:return Se("Lazy");case 13:return n.child!==a&&a!==null?Se("Suspense Fallback"):Se("Suspense");case 19:return Se("SuspenseList");case 0:case 15:return Oe(n.type,!1);case 11:return Oe(n.type.render,!1);case 1:return Oe(n.type,!0);case 31:return Se("Activity");default:return""}}function Le(n){try{var a="",s=null;do a+=Ce(n,s),s=n,n=n.return;while(n);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var He=Object.prototype.hasOwnProperty,dt=e.unstable_scheduleCallback,Qe=e.unstable_cancelCallback,tt=e.unstable_shouldYield,$e=e.unstable_requestPaint,Fe=e.unstable_now,ze=e.unstable_getCurrentPriorityLevel,rt=e.unstable_ImmediatePriority,Ke=e.unstable_UserBlockingPriority,ft=e.unstable_NormalPriority,$t=e.unstable_LowPriority,Re=e.unstable_IdlePriority,Ie=e.log,Pe=e.unstable_setDisableYieldValue,_e=null,Ne=null;function Ve(n){if(typeof Ie=="function"&&Pe(n),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(_e,n)}catch{}}var Je=Math.clz32?Math.clz32:Ge,ke=Math.log,Xe=Math.LN2;function Ge(n){return n>>>=0,n===0?32:31-(ke(n)/Xe|0)|0}var ct=256,Jt=262144,on=4194304;function at(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function vn(n,a,s){var d=n.pendingLanes;if(d===0)return 0;var m=0,w=n.suspendedLanes,I=n.pingedLanes;n=n.warmLanes;var B=d&134217727;return B!==0?(d=B&~w,d!==0?m=at(d):(I&=B,I!==0?m=at(I):s||(s=B&~n,s!==0&&(m=at(s))))):(B=d&~w,B!==0?m=at(B):I!==0?m=at(I):s||(s=d&~n,s!==0&&(m=at(s)))),m===0?0:a!==0&&a!==m&&(a&w)===0&&(w=m&-m,s=a&-a,w>=s||w===32&&(s&4194048)!==0)?a:m}function Ln(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Cn(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xr(){var n=on;return on<<=1,(on&62914560)===0&&(on=4194304),n}function Hn(n){for(var a=[],s=0;31>s;s++)a.push(n);return a}function Wt(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function qn(n,a,s,d,m,w){var I=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var B=n.entanglements,K=n.expirationTimes,ue=n.hiddenUpdates;for(s=I&~s;0<s;){var me=31-Je(s),we=1<<me;B[me]=0,K[me]=-1;var de=ue[me];if(de!==null)for(ue[me]=null,me=0;me<de.length;me++){var he=de[me];he!==null&&(he.lane&=-536870913)}s&=~we}d!==0&&Xn(n,d,0),w!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=w&~(I&~a))}function Xn(n,a,s){n.pendingLanes|=a,n.suspendedLanes&=~a;var d=31-Je(a);n.entangledLanes|=a,n.entanglements[d]=n.entanglements[d]|1073741824|s&261930}function pr(n,a){var s=n.entangledLanes|=a;for(n=n.entanglements;s;){var d=31-Je(s),m=1<<d;m&a|n[d]&a&&(n[d]|=a),s&=~m}}function We(n,a){var s=a&-a;return s=(s&42)!==0?1:ht(s),(s&(n.suspendedLanes|a))!==0?0:s}function ht(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function et(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function kn(){var n=L.p;return n!==0?n:(n=window.event,n===void 0?32:mS(n.type))}function zr(n,a){var s=L.p;try{return L.p=n,a()}finally{L.p=s}}var pn=Math.random().toString(36).slice(2),en="__reactFiber$"+pn,tn="__reactProps$"+pn,Gn="__reactContainer$"+pn,Nr="__reactEvents$"+pn,Qo="__reactListeners$"+pn,Wn="__reactHandles$"+pn,Sn="__reactResources$"+pn,xn="__reactMarker$"+pn;function ir(n){delete n[en],delete n[tn],delete n[Nr],delete n[Qo],delete n[Wn]}function Lr(n){var a=n[en];if(a)return a;for(var s=n.parentNode;s;){if(a=s[Gn]||s[en]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(n=eS(n);n!==null;){if(s=n[en])return s;n=eS(n)}return a}n=s,s=n.parentNode}return null}function Ga(n){if(n=n[en]||n[Gn]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function nn(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(o(33))}function wr(n){var a=n[Sn];return a||(a=n[Sn]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function An(n){n[xn]=!0}var qi=new Set,Os={};function Cr(n,a){Hr(n,a),Hr(n+"Capture",a)}function Hr(n,a){for(Os[n]=a,n=0;n<a.length;n++)qi.add(a[n])}var Ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ln={},pt={};function ia(n){return He.call(pt,n)?!0:He.call(ln,n)?!1:Ko.test(n)?pt[n]=!0:(ln[n]=!0,!1)}function Sr(n,a,s){if(ia(a))if(s===null)n.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+s)}}function Oa(n,a,s){if(s===null)n.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+s)}}function $r(n,a,s,d){if(d===null)n.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(a,s,""+d)}}function $n(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function En(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function go(n,a,s){var d=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var m=d.get,w=d.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return m.call(this)},set:function(I){s=""+I,w.call(this,I)}}),Object.defineProperty(n,a,{enumerable:d.enumerable}),{getValue:function(){return s},setValue:function(I){s=""+I},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Qn(n){if(!n._valueTracker){var a=En(n)?"checked":"value";n._valueTracker=go(n,a,""+n[a])}}function Fr(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var s=a.getValue(),d="";return n&&(d=En(n)?n.checked?"true":"false":n.value),n=d,n!==s?(a.setValue(n),!0):!1}function sa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Vo=/[\n"\\]/g;function Fn(n){return n.replace(Vo,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ar(n,a,s,d,m,w,I,B){n.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?n.type=I:n.removeAttribute("type"),a!=null?I==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+$n(a)):n.value!==""+$n(a)&&(n.value=""+$n(a)):I!=="submit"&&I!=="reset"||n.removeAttribute("value"),a!=null?la(n,I,$n(a)):s!=null?la(n,I,$n(s)):d!=null&&n.removeAttribute("value"),m==null&&w!=null&&(n.defaultChecked=!!w),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?n.name=""+$n(B):n.removeAttribute("name")}function Is(n,a,s,d,m,w,I,B){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.type=w),a!=null||s!=null){if(!(w!=="submit"&&w!=="reset"||a!=null)){Qn(n);return}s=s!=null?""+$n(s):"",a=a!=null?""+$n(a):s,B||a===n.value||(n.value=a),n.defaultValue=a}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=B?n.checked:!!d,n.defaultChecked=!!d,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(n.name=I),Qn(n)}function la(n,a,s){a==="number"&&sa(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function ca(n,a,s,d){if(n=n.options,a){a={};for(var m=0;m<s.length;m++)a["$"+s[m]]=!0;for(s=0;s<n.length;s++)m=a.hasOwnProperty("$"+n[s].value),n[s].selected!==m&&(n[s].selected=m),m&&d&&(n[s].defaultSelected=!0)}else{for(s=""+$n(s),a=null,m=0;m<n.length;m++){if(n[m].value===s){n[m].selected=!0,d&&(n[m].defaultSelected=!0);return}a!==null||n[m].disabled||(a=n[m])}a!==null&&(a.selected=!0)}}function Xi(n,a,s){if(a!=null&&(a=""+$n(a),a!==n.value&&(n.value=a),s==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=s!=null?""+$n(s):""}function Er(n,a,s,d){if(a==null){if(d!=null){if(s!=null)throw Error(o(92));if(Z(d)){if(1<d.length)throw Error(o(93));d=d[0]}s=d}s==null&&(s=""),a=s}s=$n(a),n.defaultValue=s,d=n.textContent,d===s&&d!==""&&d!==null&&(n.value=d),Qn(n)}function fe(n,a){if(a){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=a;return}}n.textContent=a}var pe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function De(n,a,s){var d=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?d?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":d?n.setProperty(a,s):typeof s!="number"||s===0||pe.has(a)?a==="float"?n.cssFloat=s:n[a]=(""+s).trim():n[a]=s+"px"}function nt(n,a,s){if(a!=null&&typeof a!="object")throw Error(o(62));if(n=n.style,s!=null){for(var d in s)!s.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var m in a)d=a[m],a.hasOwnProperty(m)&&s[m]!==d&&De(n,m,d)}else for(var w in a)a.hasOwnProperty(w)&&De(n,w,a[w])}function Me(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lt(n){return yt.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function cn(){}var wt=null;function qt(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var sn=null,gt=null;function Rt(n){var a=Ga(n);if(a&&(n=a.stateNode)){var s=n[tn]||null;e:switch(n=a.stateNode,a.type){case"input":if(Ar(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Fn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var d=s[a];if(d!==n&&d.form===n.form){var m=d[tn]||null;if(!m)throw Error(o(90));Ar(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<s.length;a++)d=s[a],d.form===n.form&&Fr(d)}break e;case"textarea":Xi(n,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&ca(n,!!s.multiple,a,!1)}}}var Ft=!1;function st(n,a,s){if(Ft)return n(a,s);Ft=!0;try{var d=n(a);return d}finally{if(Ft=!1,(sn!==null||gt!==null)&&($d(),sn&&(a=sn,n=gt,gt=sn=null,Rt(a),n)))for(a=0;a<n.length;a++)Rt(n[a])}}function St(n,a){var s=n.stateNode;if(s===null)return null;var d=s[tn]||null;if(d===null)return null;s=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(o(231,a,typeof s));return s}var Dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kn=!1;if(Dt)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Kn=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Kn=!1}var gr=null,Ia=null,mo=null;function mr(){if(mo)return mo;var n,a=Ia,s=a.length,d,m="value"in gr?gr.value:gr.textContent,w=m.length;for(n=0;n<s&&a[n]===m[n];n++);var I=s-n;for(d=1;d<=I&&a[s-d]===m[w-d];d++);return mo=m.slice(n,1<d?1-d:void 0)}function On(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Gi(){return!0}function qu(){return!1}function lr(n){function a(s,d,m,w,I){this._reactName=s,this._targetInst=m,this.type=d,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var B in n)n.hasOwnProperty(B)&&(s=n[B],this[B]=s?s(w):w[B]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Gi:qu,this.isPropagationStopped=qu,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),a}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=lr(Wa),Pa=g({},Wa,{view:0,detail:0}),Qi=lr(Pa),yo,bo,ja,Qa=g({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ja&&(ja&&n.type==="mousemove"?(yo=n.screenX-ja.screenX,bo=n.screenY-ja.screenY):bo=yo=0,ja=n),yo)},movementY:function(n){return"movementY"in n?n.movementY:bo}}),Zo=lr(Qa),Xu=g({},Qa,{dataTransfer:0}),Gu=lr(Xu),Wu=g({},Pa,{relatedTarget:0}),Ps=lr(Wu),Qu=g({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ku=lr(Qu),Vu=g({},Wa,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Zu=lr(Vu),Ju=g({},Wa,{data:0}),dc=lr(Ju),ed={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rd(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=nd[n])?!!a[n]:!1}function fc(){return rd}var Vh=g({},Pa,{key:function(n){if(n.key){var a=ed[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=On(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?td[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(n){return n.type==="keypress"?On(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?On(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Zh=lr(Vh),Jh=g({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ad=lr(Jh),ep=g({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),tp=lr(ep),Ka=g({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),js=lr(Ka),np=g({},Qa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),rp=lr(np),od=g({},Wa,{newState:0,oldState:0}),G=lr(od),ye=[9,13,27,32],ve=Dt&&"CompositionEvent"in window,Ae=null;Dt&&"documentMode"in document&&(Ae=document.documentMode);var ot=Dt&&"TextEvent"in window&&!Ae,Et=Dt&&(!ve||Ae&&8<Ae&&11>=Ae),Nt=" ",rn=!1;function In(n,a){switch(n){case"keyup":return ye.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ds(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Jo=!1;function QI(n,a){switch(n){case"compositionend":return Ds(a);case"keypress":return a.which!==32?null:(rn=!0,Nt);case"textInput":return n=a.data,n===Nt&&rn?null:n;default:return null}}function KI(n,a){if(Jo)return n==="compositionend"||!ve&&In(n,a)?(n=mr(),mo=Ia=gr=null,Jo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Et&&a.locale!=="ko"?null:a.data;default:return null}}var VI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r1(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!VI[n.type]:a==="textarea"}function a1(n,a,s,d){sn?gt?gt.push(d):gt=[d]:sn=d,a=Wd(a,"onChange"),0<a.length&&(s=new Wi("onChange","change",null,s,d),n.push({event:s,listeners:a}))}var hc=null,pc=null;function ZI(n){HC(n,0)}function id(n){var a=nn(n);if(Fr(a))return n}function o1(n,a){if(n==="change")return a}var i1=!1;if(Dt){var ap;if(Dt){var op="oninput"in document;if(!op){var s1=document.createElement("div");s1.setAttribute("oninput","return;"),op=typeof s1.oninput=="function"}ap=op}else ap=!1;i1=ap&&(!document.documentMode||9<document.documentMode)}function l1(){hc&&(hc.detachEvent("onpropertychange",c1),pc=hc=null)}function c1(n){if(n.propertyName==="value"&&id(pc)){var a=[];a1(a,pc,n,qt(n)),st(ZI,a)}}function JI(n,a,s){n==="focusin"?(l1(),hc=a,pc=s,hc.attachEvent("onpropertychange",c1)):n==="focusout"&&l1()}function e5(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return id(pc)}function t5(n,a){if(n==="click")return id(a)}function n5(n,a){if(n==="input"||n==="change")return id(a)}function r5(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Yr=typeof Object.is=="function"?Object.is:r5;function gc(n,a){if(Yr(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var s=Object.keys(n),d=Object.keys(a);if(s.length!==d.length)return!1;for(d=0;d<s.length;d++){var m=s[d];if(!He.call(a,m)||!Yr(n[m],a[m]))return!1}return!0}function u1(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function d1(n,a){var s=u1(n);n=0;for(var d;s;){if(s.nodeType===3){if(d=n+s.textContent.length,n<=a&&d>=a)return{node:s,offset:a-n};n=d}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=u1(s)}}function f1(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?f1(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function h1(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=sa(n.document);a instanceof n.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)n=a.contentWindow;else break;a=sa(n.document)}return a}function ip(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var a5=Dt&&"documentMode"in document&&11>=document.documentMode,Bs=null,sp=null,mc=null,lp=!1;function p1(n,a,s){var d=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;lp||Bs==null||Bs!==sa(d)||(d=Bs,"selectionStart"in d&&ip(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),mc&&gc(mc,d)||(mc=d,d=Wd(sp,"onSelect"),0<d.length&&(a=new Wi("onSelect","select",null,a,s),n.push({event:a,listeners:d}),a.target=Bs)))}function Ki(n,a){var s={};return s[n.toLowerCase()]=a.toLowerCase(),s["Webkit"+n]="webkit"+a,s["Moz"+n]="moz"+a,s}var zs={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},cp={},g1={};Dt&&(g1=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Vi(n){if(cp[n])return cp[n];if(!zs[n])return n;var a=zs[n],s;for(s in a)if(a.hasOwnProperty(s)&&s in g1)return cp[n]=a[s];return n}var m1=Vi("animationend"),y1=Vi("animationiteration"),b1=Vi("animationstart"),o5=Vi("transitionrun"),i5=Vi("transitionstart"),s5=Vi("transitioncancel"),v1=Vi("transitionend"),x1=new Map,up="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");up.push("scrollEnd");function Da(n,a){x1.set(n,a),Cr(a,[n])}var sd=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ua=[],Ns=0,dp=0;function ld(){for(var n=Ns,a=dp=Ns=0;a<n;){var s=ua[a];ua[a++]=null;var d=ua[a];ua[a++]=null;var m=ua[a];ua[a++]=null;var w=ua[a];if(ua[a++]=null,d!==null&&m!==null){var I=d.pending;I===null?m.next=m:(m.next=I.next,I.next=m),d.pending=m}w!==0&&w1(s,m,w)}}function cd(n,a,s,d){ua[Ns++]=n,ua[Ns++]=a,ua[Ns++]=s,ua[Ns++]=d,dp|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function fp(n,a,s,d){return cd(n,a,s,d),ud(n)}function Zi(n,a){return cd(n,null,null,a),ud(n)}function w1(n,a,s){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s);for(var m=!1,w=n.return;w!==null;)w.childLanes|=s,d=w.alternate,d!==null&&(d.childLanes|=s),w.tag===22&&(n=w.stateNode,n===null||n._visibility&1||(m=!0)),n=w,w=w.return;return n.tag===3?(w=n.stateNode,m&&a!==null&&(m=31-Je(s),n=w.hiddenUpdates,d=n[m],d===null?n[m]=[a]:d.push(a),a.lane=s|536870912),w):null}function ud(n){if(50<Nc)throw Nc=0,wg=null,Error(o(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Ls={};function l5(n,a,s,d){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(n,a,s,d){return new l5(n,a,s,d)}function hp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function vo(n,a){var s=n.alternate;return s===null?(s=Ur(n.tag,a,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=a,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,a=n.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function C1(n,a){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,a=s.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function dd(n,a,s,d,m,w){var I=0;if(d=n,typeof n=="function")hp(n)&&(I=1);else if(typeof n=="string")I=hP(n,s,re.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case H:return n=Ur(31,s,a,m),n.elementType=H,n.lanes=w,n;case C:return Ji(s.children,m,w,a);case S:I=8,m|=24;break;case E:return n=Ur(12,s,a,m|2),n.elementType=E,n.lanes=w,n;case k:return n=Ur(13,s,a,m),n.elementType=k,n.lanes=w,n;case O:return n=Ur(19,s,a,m),n.elementType=O,n.lanes=w,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _:I=10;break e;case R:I=9;break e;case T:I=11;break e;case M:I=14;break e;case j:I=16,d=null;break e}I=29,s=Error(o(130,n===null?"null":typeof n,"")),d=null}return a=Ur(I,s,a,m),a.elementType=n,a.type=d,a.lanes=w,a}function Ji(n,a,s,d){return n=Ur(7,n,d,a),n.lanes=s,n}function pp(n,a,s){return n=Ur(6,n,null,a),n.lanes=s,n}function S1(n){var a=Ur(18,null,null,0);return a.stateNode=n,a}function gp(n,a,s){return a=Ur(4,n.children!==null?n.children:[],n.key,a),a.lanes=s,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var A1=new WeakMap;function da(n,a){if(typeof n=="object"&&n!==null){var s=A1.get(n);return s!==void 0?s:(a={value:n,source:a,stack:Le(a)},A1.set(n,a),a)}return{value:n,source:a,stack:Le(a)}}var Hs=[],$s=0,fd=null,yc=0,fa=[],ha=0,ei=null,Va=1,Za="";function xo(n,a){Hs[$s++]=yc,Hs[$s++]=fd,fd=n,yc=a}function E1(n,a,s){fa[ha++]=Va,fa[ha++]=Za,fa[ha++]=ei,ei=n;var d=Va;n=Za;var m=32-Je(d)-1;d&=~(1<<m),s+=1;var w=32-Je(a)+m;if(30<w){var I=m-m%5;w=(d&(1<<I)-1).toString(32),d>>=I,m-=I,Va=1<<32-Je(a)+m|s<<m|d,Za=w+n}else Va=1<<w|s<<m|d,Za=n}function mp(n){n.return!==null&&(xo(n,1),E1(n,1,0))}function yp(n){for(;n===fd;)fd=Hs[--$s],Hs[$s]=null,yc=Hs[--$s],Hs[$s]=null;for(;n===ei;)ei=fa[--ha],fa[ha]=null,Za=fa[--ha],fa[ha]=null,Va=fa[--ha],fa[ha]=null}function M1(n,a){fa[ha++]=Va,fa[ha++]=Za,fa[ha++]=ei,Va=a.id,Za=a.overflow,ei=n}var tr=null,un=null,Pt=!1,ti=null,pa=!1,bp=Error(o(519));function ni(n){var a=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bc(da(a,n)),bp}function _1(n){var a=n.stateNode,s=n.type,d=n.memoizedProps;switch(a[en]=n,a[tn]=d,s){case"dialog":_t("cancel",a),_t("close",a);break;case"iframe":case"object":case"embed":_t("load",a);break;case"video":case"audio":for(s=0;s<Hc.length;s++)_t(Hc[s],a);break;case"source":_t("error",a);break;case"img":case"image":case"link":_t("error",a),_t("load",a);break;case"details":_t("toggle",a);break;case"input":_t("invalid",a),Is(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":_t("invalid",a);break;case"textarea":_t("invalid",a),Er(a,d.value,d.defaultValue,d.children)}s=d.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||d.suppressHydrationWarning===!0||UC(a.textContent,s)?(d.popover!=null&&(_t("beforetoggle",a),_t("toggle",a)),d.onScroll!=null&&_t("scroll",a),d.onScrollEnd!=null&&_t("scrollend",a),d.onClick!=null&&(a.onclick=cn),a=!0):a=!1,a||ni(n,!0)}function R1(n){for(tr=n.return;tr;)switch(tr.tag){case 5:case 31:case 13:pa=!1;return;case 27:case 3:pa=!0;return;default:tr=tr.return}}function Fs(n){if(n!==tr)return!1;if(!Pt)return R1(n),Pt=!0,!1;var a=n.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Bg(n.type,n.memoizedProps)),s=!s),s&&un&&ni(n),R1(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));un=JC(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));un=JC(n)}else a===27?(a=un,mi(n.type)?(n=$g,$g=null,un=n):un=a):un=tr?ma(n.stateNode.nextSibling):null;return!0}function es(){un=tr=null,Pt=!1}function vp(){var n=ti;return n!==null&&(Tr===null?Tr=n:Tr.push.apply(Tr,n),ti=null),n}function bc(n){ti===null?ti=[n]:ti.push(n)}var xp=D(null),ts=null,wo=null;function ri(n,a,s){X(xp,a._currentValue),a._currentValue=s}function Co(n){n._currentValue=xp.current,F(xp)}function wp(n,a,s){for(;n!==null;){var d=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),n===s)break;n=n.return}}function Cp(n,a,s,d){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var w=m.dependencies;if(w!==null){var I=m.child;w=w.firstContext;e:for(;w!==null;){var B=w;w=m;for(var K=0;K<a.length;K++)if(B.context===a[K]){w.lanes|=s,B=w.alternate,B!==null&&(B.lanes|=s),wp(w.return,s,n),d||(I=null);break e}w=B.next}}else if(m.tag===18){if(I=m.return,I===null)throw Error(o(341));I.lanes|=s,w=I.alternate,w!==null&&(w.lanes|=s),wp(I,s,n),I=null}else I=m.child;if(I!==null)I.return=m;else for(I=m;I!==null;){if(I===n){I=null;break}if(m=I.sibling,m!==null){m.return=I.return,I=m;break}I=I.return}m=I}}function Ys(n,a,s,d){n=null;for(var m=a,w=!1;m!==null;){if(!w){if((m.flags&524288)!==0)w=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var I=m.alternate;if(I===null)throw Error(o(387));if(I=I.memoizedProps,I!==null){var B=m.type;Yr(m.pendingProps.value,I.value)||(n!==null?n.push(B):n=[B])}}else if(m===te.current){if(I=m.alternate,I===null)throw Error(o(387));I.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(qc):n=[qc])}m=m.return}n!==null&&Cp(a,n,s,d),a.flags|=262144}function hd(n){for(n=n.firstContext;n!==null;){if(!Yr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ns(n){ts=n,wo=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nr(n){return T1(ts,n)}function pd(n,a){return ts===null&&ns(n),T1(n,a)}function T1(n,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},wo===null){if(n===null)throw Error(o(308));wo=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else wo=wo.next=a;return s}var c5=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(s,d){n.push(d)}};this.abort=function(){a.aborted=!0,n.forEach(function(s){return s()})}},u5=e.unstable_scheduleCallback,d5=e.unstable_NormalPriority,Pn={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sp(){return{controller:new c5,data:new Map,refCount:0}}function vc(n){n.refCount--,n.refCount===0&&u5(d5,function(){n.controller.abort()})}var xc=null,Ap=0,Us=0,qs=null;function f5(n,a){if(xc===null){var s=xc=[];Ap=0,Us=_g(),qs={status:"pending",value:void 0,then:function(d){s.push(d)}}}return Ap++,a.then(k1,k1),a}function k1(){if(--Ap===0&&xc!==null){qs!==null&&(qs.status="fulfilled");var n=xc;xc=null,Us=0,qs=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function h5(n,a){var s=[],d={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return n.then(function(){d.status="fulfilled",d.value=a;for(var m=0;m<s.length;m++)(0,s[m])(a)},function(m){for(d.status="rejected",d.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),d}var O1=P.S;P.S=function(n,a){pC=Fe(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&f5(n,a),O1!==null&&O1(n,a)};var rs=D(null);function Ep(){var n=rs.current;return n!==null?n:an.pooledCache}function gd(n,a){a===null?X(rs,rs.current):X(rs,a.pool)}function I1(){var n=Ep();return n===null?null:{parent:Pn._currentValue,pool:n}}var Xs=Error(o(460)),Mp=Error(o(474)),md=Error(o(542)),yd={then:function(){}};function P1(n){return n=n.status,n==="fulfilled"||n==="rejected"}function j1(n,a,s){switch(s=n[s],s===void 0?n.push(a):s!==a&&(a.then(cn,cn),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,B1(n),n;default:if(typeof a.status=="string")a.then(cn,cn);else{if(n=an,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=a,n.status="pending",n.then(function(d){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=d}},function(d){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,B1(n),n}throw os=a,Xs}}function as(n){try{var a=n._init;return a(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(os=s,Xs):s}}var os=null;function D1(){if(os===null)throw Error(o(459));var n=os;return os=null,n}function B1(n){if(n===Xs||n===md)throw Error(o(483))}var Gs=null,wc=0;function bd(n){var a=wc;return wc+=1,Gs===null&&(Gs=[]),j1(Gs,n,a)}function Cc(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function vd(n,a){throw a.$$typeof===y?Error(o(525)):(n=Object.prototype.toString.call(a),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function z1(n){function a(oe,ne){if(n){var le=oe.deletions;le===null?(oe.deletions=[ne],oe.flags|=16):le.push(ne)}}function s(oe,ne){if(!n)return null;for(;ne!==null;)a(oe,ne),ne=ne.sibling;return null}function d(oe){for(var ne=new Map;oe!==null;)oe.key!==null?ne.set(oe.key,oe):ne.set(oe.index,oe),oe=oe.sibling;return ne}function m(oe,ne){return oe=vo(oe,ne),oe.index=0,oe.sibling=null,oe}function w(oe,ne,le){return oe.index=le,n?(le=oe.alternate,le!==null?(le=le.index,le<ne?(oe.flags|=67108866,ne):le):(oe.flags|=67108866,ne)):(oe.flags|=1048576,ne)}function I(oe){return n&&oe.alternate===null&&(oe.flags|=67108866),oe}function B(oe,ne,le,xe){return ne===null||ne.tag!==6?(ne=pp(le,oe.mode,xe),ne.return=oe,ne):(ne=m(ne,le),ne.return=oe,ne)}function K(oe,ne,le,xe){var Ze=le.type;return Ze===C?me(oe,ne,le.props.children,xe,le.key):ne!==null&&(ne.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===j&&as(Ze)===ne.type)?(ne=m(ne,le.props),Cc(ne,le),ne.return=oe,ne):(ne=dd(le.type,le.key,le.props,null,oe.mode,xe),Cc(ne,le),ne.return=oe,ne)}function ue(oe,ne,le,xe){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==le.containerInfo||ne.stateNode.implementation!==le.implementation?(ne=gp(le,oe.mode,xe),ne.return=oe,ne):(ne=m(ne,le.children||[]),ne.return=oe,ne)}function me(oe,ne,le,xe,Ze){return ne===null||ne.tag!==7?(ne=Ji(le,oe.mode,xe,Ze),ne.return=oe,ne):(ne=m(ne,le),ne.return=oe,ne)}function we(oe,ne,le){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=pp(""+ne,oe.mode,le),ne.return=oe,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return le=dd(ne.type,ne.key,ne.props,null,oe.mode,le),Cc(le,ne),le.return=oe,le;case x:return ne=gp(ne,oe.mode,le),ne.return=oe,ne;case j:return ne=as(ne),we(oe,ne,le)}if(Z(ne)||Q(ne))return ne=Ji(ne,oe.mode,le,null),ne.return=oe,ne;if(typeof ne.then=="function")return we(oe,bd(ne),le);if(ne.$$typeof===_)return we(oe,pd(oe,ne),le);vd(oe,ne)}return null}function de(oe,ne,le,xe){var Ze=ne!==null?ne.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ze!==null?null:B(oe,ne,""+le,xe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return le.key===Ze?K(oe,ne,le,xe):null;case x:return le.key===Ze?ue(oe,ne,le,xe):null;case j:return le=as(le),de(oe,ne,le,xe)}if(Z(le)||Q(le))return Ze!==null?null:me(oe,ne,le,xe,null);if(typeof le.then=="function")return de(oe,ne,bd(le),xe);if(le.$$typeof===_)return de(oe,ne,pd(oe,le),xe);vd(oe,le)}return null}function he(oe,ne,le,xe,Ze){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return oe=oe.get(le)||null,B(ne,oe,""+xe,Ze);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return oe=oe.get(xe.key===null?le:xe.key)||null,K(ne,oe,xe,Ze);case x:return oe=oe.get(xe.key===null?le:xe.key)||null,ue(ne,oe,xe,Ze);case j:return xe=as(xe),he(oe,ne,le,xe,Ze)}if(Z(xe)||Q(xe))return oe=oe.get(le)||null,me(ne,oe,xe,Ze,null);if(typeof xe.then=="function")return he(oe,ne,le,bd(xe),Ze);if(xe.$$typeof===_)return he(oe,ne,le,pd(ne,xe),Ze);vd(ne,xe)}return null}function Ye(oe,ne,le,xe){for(var Ze=null,Lt=null,Ue=ne,xt=ne=0,kt=null;Ue!==null&&xt<le.length;xt++){Ue.index>xt?(kt=Ue,Ue=null):kt=Ue.sibling;var Ht=de(oe,Ue,le[xt],xe);if(Ht===null){Ue===null&&(Ue=kt);break}n&&Ue&&Ht.alternate===null&&a(oe,Ue),ne=w(Ht,ne,xt),Lt===null?Ze=Ht:Lt.sibling=Ht,Lt=Ht,Ue=kt}if(xt===le.length)return s(oe,Ue),Pt&&xo(oe,xt),Ze;if(Ue===null){for(;xt<le.length;xt++)Ue=we(oe,le[xt],xe),Ue!==null&&(ne=w(Ue,ne,xt),Lt===null?Ze=Ue:Lt.sibling=Ue,Lt=Ue);return Pt&&xo(oe,xt),Ze}for(Ue=d(Ue);xt<le.length;xt++)kt=he(Ue,oe,xt,le[xt],xe),kt!==null&&(n&&kt.alternate!==null&&Ue.delete(kt.key===null?xt:kt.key),ne=w(kt,ne,xt),Lt===null?Ze=kt:Lt.sibling=kt,Lt=kt);return n&&Ue.forEach(function(wi){return a(oe,wi)}),Pt&&xo(oe,xt),Ze}function it(oe,ne,le,xe){if(le==null)throw Error(o(151));for(var Ze=null,Lt=null,Ue=ne,xt=ne=0,kt=null,Ht=le.next();Ue!==null&&!Ht.done;xt++,Ht=le.next()){Ue.index>xt?(kt=Ue,Ue=null):kt=Ue.sibling;var wi=de(oe,Ue,Ht.value,xe);if(wi===null){Ue===null&&(Ue=kt);break}n&&Ue&&wi.alternate===null&&a(oe,Ue),ne=w(wi,ne,xt),Lt===null?Ze=wi:Lt.sibling=wi,Lt=wi,Ue=kt}if(Ht.done)return s(oe,Ue),Pt&&xo(oe,xt),Ze;if(Ue===null){for(;!Ht.done;xt++,Ht=le.next())Ht=we(oe,Ht.value,xe),Ht!==null&&(ne=w(Ht,ne,xt),Lt===null?Ze=Ht:Lt.sibling=Ht,Lt=Ht);return Pt&&xo(oe,xt),Ze}for(Ue=d(Ue);!Ht.done;xt++,Ht=le.next())Ht=he(Ue,oe,xt,Ht.value,xe),Ht!==null&&(n&&Ht.alternate!==null&&Ue.delete(Ht.key===null?xt:Ht.key),ne=w(Ht,ne,xt),Lt===null?Ze=Ht:Lt.sibling=Ht,Lt=Ht);return n&&Ue.forEach(function(AP){return a(oe,AP)}),Pt&&xo(oe,xt),Ze}function Vt(oe,ne,le,xe){if(typeof le=="object"&&le!==null&&le.type===C&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case b:e:{for(var Ze=le.key;ne!==null;){if(ne.key===Ze){if(Ze=le.type,Ze===C){if(ne.tag===7){s(oe,ne.sibling),xe=m(ne,le.props.children),xe.return=oe,oe=xe;break e}}else if(ne.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===j&&as(Ze)===ne.type){s(oe,ne.sibling),xe=m(ne,le.props),Cc(xe,le),xe.return=oe,oe=xe;break e}s(oe,ne);break}else a(oe,ne);ne=ne.sibling}le.type===C?(xe=Ji(le.props.children,oe.mode,xe,le.key),xe.return=oe,oe=xe):(xe=dd(le.type,le.key,le.props,null,oe.mode,xe),Cc(xe,le),xe.return=oe,oe=xe)}return I(oe);case x:e:{for(Ze=le.key;ne!==null;){if(ne.key===Ze)if(ne.tag===4&&ne.stateNode.containerInfo===le.containerInfo&&ne.stateNode.implementation===le.implementation){s(oe,ne.sibling),xe=m(ne,le.children||[]),xe.return=oe,oe=xe;break e}else{s(oe,ne);break}else a(oe,ne);ne=ne.sibling}xe=gp(le,oe.mode,xe),xe.return=oe,oe=xe}return I(oe);case j:return le=as(le),Vt(oe,ne,le,xe)}if(Z(le))return Ye(oe,ne,le,xe);if(Q(le)){if(Ze=Q(le),typeof Ze!="function")throw Error(o(150));return le=Ze.call(le),it(oe,ne,le,xe)}if(typeof le.then=="function")return Vt(oe,ne,bd(le),xe);if(le.$$typeof===_)return Vt(oe,ne,pd(oe,le),xe);vd(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,ne!==null&&ne.tag===6?(s(oe,ne.sibling),xe=m(ne,le),xe.return=oe,oe=xe):(s(oe,ne),xe=pp(le,oe.mode,xe),xe.return=oe,oe=xe),I(oe)):s(oe,ne)}return function(oe,ne,le,xe){try{wc=0;var Ze=Vt(oe,ne,le,xe);return Gs=null,Ze}catch(Ue){if(Ue===Xs||Ue===md)throw Ue;var Lt=Ur(29,Ue,null,oe.mode);return Lt.lanes=xe,Lt.return=oe,Lt}finally{}}}var is=z1(!0),N1=z1(!1),ai=!1;function _p(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rp(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function oi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ii(n,a,s){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(Yt&2)!==0){var m=d.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),d.pending=a,a=ud(n),w1(n,null,s),a}return cd(n,d,a,s),ud(n)}function Sc(n,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var d=a.lanes;d&=n.pendingLanes,s|=d,a.lanes=s,pr(n,s)}}function Tp(n,a){var s=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,s===d)){var m=null,w=null;if(s=s.firstBaseUpdate,s!==null){do{var I={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};w===null?m=w=I:w=w.next=I,s=s.next}while(s!==null);w===null?m=w=a:w=w.next=a}else m=w=a;s={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:d.shared,callbacks:d.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=a:n.next=a,s.lastBaseUpdate=a}var kp=!1;function Ac(){if(kp){var n=qs;if(n!==null)throw n}}function Ec(n,a,s,d){kp=!1;var m=n.updateQueue;ai=!1;var w=m.firstBaseUpdate,I=m.lastBaseUpdate,B=m.shared.pending;if(B!==null){m.shared.pending=null;var K=B,ue=K.next;K.next=null,I===null?w=ue:I.next=ue,I=K;var me=n.alternate;me!==null&&(me=me.updateQueue,B=me.lastBaseUpdate,B!==I&&(B===null?me.firstBaseUpdate=ue:B.next=ue,me.lastBaseUpdate=K))}if(w!==null){var we=m.baseState;I=0,me=ue=K=null,B=w;do{var de=B.lane&-536870913,he=de!==B.lane;if(he?(Tt&de)===de:(d&de)===de){de!==0&&de===Us&&(kp=!0),me!==null&&(me=me.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Ye=n,it=B;de=a;var Vt=s;switch(it.tag){case 1:if(Ye=it.payload,typeof Ye=="function"){we=Ye.call(Vt,we,de);break e}we=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=it.payload,de=typeof Ye=="function"?Ye.call(Vt,we,de):Ye,de==null)break e;we=g({},we,de);break e;case 2:ai=!0}}de=B.callback,de!==null&&(n.flags|=64,he&&(n.flags|=8192),he=m.callbacks,he===null?m.callbacks=[de]:he.push(de))}else he={lane:de,tag:B.tag,payload:B.payload,callback:B.callback,next:null},me===null?(ue=me=he,K=we):me=me.next=he,I|=de;if(B=B.next,B===null){if(B=m.shared.pending,B===null)break;he=B,B=he.next,he.next=null,m.lastBaseUpdate=he,m.shared.pending=null}}while(!0);me===null&&(K=we),m.baseState=K,m.firstBaseUpdate=ue,m.lastBaseUpdate=me,w===null&&(m.shared.lanes=0),di|=I,n.lanes=I,n.memoizedState=we}}function L1(n,a){if(typeof n!="function")throw Error(o(191,n));n.call(a)}function H1(n,a){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)L1(s[n],a)}var Ws=D(null),xd=D(0);function $1(n,a){n=Oo,X(xd,n),X(Ws,a),Oo=n|a.baseLanes}function Op(){X(xd,Oo),X(Ws,Ws.current)}function Ip(){Oo=xd.current,F(Ws),F(xd)}var qr=D(null),ga=null;function si(n){var a=n.alternate;X(Rn,Rn.current&1),X(qr,n),ga===null&&(a===null||Ws.current!==null||a.memoizedState!==null)&&(ga=n)}function Pp(n){X(Rn,Rn.current),X(qr,n),ga===null&&(ga=n)}function F1(n){n.tag===22?(X(Rn,Rn.current),X(qr,n),ga===null&&(ga=n)):li()}function li(){X(Rn,Rn.current),X(qr,qr.current)}function Xr(n){F(qr),ga===n&&(ga=null),F(Rn)}var Rn=D(0);function wd(n){for(var a=n;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Lg(s)||Hg(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var So=0,vt=null,Qt=null,jn=null,Cd=!1,Qs=!1,ss=!1,Sd=0,Mc=0,Ks=null,p5=0;function Mn(){throw Error(o(321))}function jp(n,a){if(a===null)return!1;for(var s=0;s<a.length&&s<n.length;s++)if(!Yr(n[s],a[s]))return!1;return!0}function Dp(n,a,s,d,m,w){return So=w,vt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=n===null||n.memoizedState===null?Ew:Kp,ss=!1,w=s(d,m),ss=!1,Qs&&(w=U1(a,s,d,m)),Y1(n),w}function Y1(n){P.H=Tc;var a=Qt!==null&&Qt.next!==null;if(So=0,jn=Qt=vt=null,Cd=!1,Mc=0,Ks=null,a)throw Error(o(300));n===null||Dn||(n=n.dependencies,n!==null&&hd(n)&&(Dn=!0))}function U1(n,a,s,d){vt=n;var m=0;do{if(Qs&&(Ks=null),Mc=0,Qs=!1,25<=m)throw Error(o(301));if(m+=1,jn=Qt=null,n.updateQueue!=null){var w=n.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}P.H=Mw,w=a(s,d)}while(Qs);return w}function g5(){var n=P.H,a=n.useState()[0];return a=typeof a.then=="function"?_c(a):a,n=n.useState()[0],(Qt!==null?Qt.memoizedState:null)!==n&&(vt.flags|=1024),a}function Bp(){var n=Sd!==0;return Sd=0,n}function zp(n,a,s){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~s}function Np(n){if(Cd){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Cd=!1}So=0,jn=Qt=vt=null,Qs=!1,Mc=Sd=0,Ks=null}function yr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?vt.memoizedState=jn=n:jn=jn.next=n,jn}function Tn(){if(Qt===null){var n=vt.alternate;n=n!==null?n.memoizedState:null}else n=Qt.next;var a=jn===null?vt.memoizedState:jn.next;if(a!==null)jn=a,Qt=n;else{if(n===null)throw vt.alternate===null?Error(o(467)):Error(o(310));Qt=n,n={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},jn===null?vt.memoizedState=jn=n:jn=jn.next=n}return jn}function Ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _c(n){var a=Mc;return Mc+=1,Ks===null&&(Ks=[]),n=j1(Ks,n,a),a=vt,(jn===null?a.memoizedState:jn.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?Ew:Kp),n}function Ed(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return _c(n);if(n.$$typeof===_)return nr(n)}throw Error(o(438,String(n)))}function Lp(n){var a=null,s=vt.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var d=vt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Ad(),vt.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(n),d=0;d<n;d++)s[d]=U;return a.index++,s}function Ao(n,a){return typeof a=="function"?a(n):a}function Md(n){var a=Tn();return Hp(a,Qt,n)}function Hp(n,a,s){var d=n.queue;if(d===null)throw Error(o(311));d.lastRenderedReducer=s;var m=n.baseQueue,w=d.pending;if(w!==null){if(m!==null){var I=m.next;m.next=w.next,w.next=I}a.baseQueue=m=w,d.pending=null}if(w=n.baseState,m===null)n.memoizedState=w;else{a=m.next;var B=I=null,K=null,ue=a,me=!1;do{var we=ue.lane&-536870913;if(we!==ue.lane?(Tt&we)===we:(So&we)===we){var de=ue.revertLane;if(de===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),we===Us&&(me=!0);else if((So&de)===de){ue=ue.next,de===Us&&(me=!0);continue}else we={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},K===null?(B=K=we,I=w):K=K.next=we,vt.lanes|=de,di|=de;we=ue.action,ss&&s(w,we),w=ue.hasEagerState?ue.eagerState:s(w,we)}else de={lane:we,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},K===null?(B=K=de,I=w):K=K.next=de,vt.lanes|=we,di|=we;ue=ue.next}while(ue!==null&&ue!==a);if(K===null?I=w:K.next=B,!Yr(w,n.memoizedState)&&(Dn=!0,me&&(s=qs,s!==null)))throw s;n.memoizedState=w,n.baseState=I,n.baseQueue=K,d.lastRenderedState=w}return m===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function $p(n){var a=Tn(),s=a.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var d=s.dispatch,m=s.pending,w=a.memoizedState;if(m!==null){s.pending=null;var I=m=m.next;do w=n(w,I.action),I=I.next;while(I!==m);Yr(w,a.memoizedState)||(Dn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),s.lastRenderedState=w}return[w,d]}function q1(n,a,s){var d=vt,m=Tn(),w=Pt;if(w){if(s===void 0)throw Error(o(407));s=s()}else s=a();var I=!Yr((Qt||m).memoizedState,s);if(I&&(m.memoizedState=s,Dn=!0),m=m.queue,Up(W1.bind(null,d,m,n),[n]),m.getSnapshot!==a||I||jn!==null&&jn.memoizedState.tag&1){if(d.flags|=2048,Vs(9,{destroy:void 0},G1.bind(null,d,m,s,a),null),an===null)throw Error(o(349));w||(So&127)!==0||X1(d,a,s)}return s}function X1(n,a,s){n.flags|=16384,n={getSnapshot:a,value:s},a=vt.updateQueue,a===null?(a=Ad(),vt.updateQueue=a,a.stores=[n]):(s=a.stores,s===null?a.stores=[n]:s.push(n))}function G1(n,a,s,d){a.value=s,a.getSnapshot=d,Q1(a)&&K1(n)}function W1(n,a,s){return s(function(){Q1(a)&&K1(n)})}function Q1(n){var a=n.getSnapshot;n=n.value;try{var s=a();return!Yr(n,s)}catch{return!0}}function K1(n){var a=Zi(n,2);a!==null&&kr(a,n,2)}function Fp(n){var a=yr();if(typeof n=="function"){var s=n;if(n=s(),ss){Ve(!0);try{s()}finally{Ve(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:n},a}function V1(n,a,s,d){return n.baseState=s,Hp(n,Qt,typeof d=="function"?d:Ao)}function m5(n,a,s,d,m){if(Td(n))throw Error(o(485));if(n=a.action,n!==null){var w={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){w.listeners.push(I)}};P.T!==null?s(!0):w.isTransition=!1,d(w),s=a.pending,s===null?(w.next=a.pending=w,Z1(a,w)):(w.next=s.next,a.pending=s.next=w)}}function Z1(n,a){var s=a.action,d=a.payload,m=n.state;if(a.isTransition){var w=P.T,I={};P.T=I;try{var B=s(m,d),K=P.S;K!==null&&K(I,B),J1(n,a,B)}catch(ue){Yp(n,a,ue)}finally{w!==null&&I.types!==null&&(w.types=I.types),P.T=w}}else try{w=s(m,d),J1(n,a,w)}catch(ue){Yp(n,a,ue)}}function J1(n,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(d){ew(n,a,d)},function(d){return Yp(n,a,d)}):ew(n,a,s)}function ew(n,a,s){a.status="fulfilled",a.value=s,tw(a),n.state=s,a=n.pending,a!==null&&(s=a.next,s===a?n.pending=null:(s=s.next,a.next=s,Z1(n,s)))}function Yp(n,a,s){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=s,tw(a),a=a.next;while(a!==d)}n.action=null}function tw(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function nw(n,a){return a}function rw(n,a){if(Pt){var s=an.formState;if(s!==null){e:{var d=vt;if(Pt){if(un){t:{for(var m=un,w=pa;m.nodeType!==8;){if(!w){m=null;break t}if(m=ma(m.nextSibling),m===null){m=null;break t}}w=m.data,m=w==="F!"||w==="F"?m:null}if(m){un=ma(m.nextSibling),d=m.data==="F!";break e}}ni(d)}d=!1}d&&(a=s[0])}}return s=yr(),s.memoizedState=s.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nw,lastRenderedState:a},s.queue=d,s=Cw.bind(null,vt,d),d.dispatch=s,d=Fp(!1),w=Qp.bind(null,vt,!1,d.queue),d=yr(),m={state:a,dispatch:null,action:n,pending:null},d.queue=m,s=m5.bind(null,vt,m,w,s),m.dispatch=s,d.memoizedState=n,[a,s,!1]}function aw(n){var a=Tn();return ow(a,Qt,n)}function ow(n,a,s){if(a=Hp(n,a,nw)[0],n=Md(Ao)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=_c(a)}catch(I){throw I===Xs?md:I}else d=a;a=Tn();var m=a.queue,w=m.dispatch;return s!==a.memoizedState&&(vt.flags|=2048,Vs(9,{destroy:void 0},y5.bind(null,m,s),null)),[d,w,n]}function y5(n,a){n.action=a}function iw(n){var a=Tn(),s=Qt;if(s!==null)return ow(a,s,n);Tn(),a=a.memoizedState,s=Tn();var d=s.queue.dispatch;return s.memoizedState=n,[a,d,!1]}function Vs(n,a,s,d){return n={tag:n,create:s,deps:d,inst:a,next:null},a=vt.updateQueue,a===null&&(a=Ad(),vt.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=n.next=n:(d=s.next,s.next=n,n.next=d,a.lastEffect=n),n}function sw(){return Tn().memoizedState}function _d(n,a,s,d){var m=yr();vt.flags|=n,m.memoizedState=Vs(1|a,{destroy:void 0},s,d===void 0?null:d)}function Rd(n,a,s,d){var m=Tn();d=d===void 0?null:d;var w=m.memoizedState.inst;Qt!==null&&d!==null&&jp(d,Qt.memoizedState.deps)?m.memoizedState=Vs(a,w,s,d):(vt.flags|=n,m.memoizedState=Vs(1|a,w,s,d))}function lw(n,a){_d(8390656,8,n,a)}function Up(n,a){Rd(2048,8,n,a)}function b5(n){vt.flags|=4;var a=vt.updateQueue;if(a===null)a=Ad(),vt.updateQueue=a,a.events=[n];else{var s=a.events;s===null?a.events=[n]:s.push(n)}}function cw(n){var a=Tn().memoizedState;return b5({ref:a,nextImpl:n}),function(){if((Yt&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}function uw(n,a){return Rd(4,2,n,a)}function dw(n,a){return Rd(4,4,n,a)}function fw(n,a){if(typeof a=="function"){n=n();var s=a(n);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function hw(n,a,s){s=s!=null?s.concat([n]):null,Rd(4,4,fw.bind(null,a,n),s)}function qp(){}function pw(n,a){var s=Tn();a=a===void 0?null:a;var d=s.memoizedState;return a!==null&&jp(a,d[1])?d[0]:(s.memoizedState=[n,a],n)}function gw(n,a){var s=Tn();a=a===void 0?null:a;var d=s.memoizedState;if(a!==null&&jp(a,d[1]))return d[0];if(d=n(),ss){Ve(!0);try{n()}finally{Ve(!1)}}return s.memoizedState=[d,a],d}function Xp(n,a,s){return s===void 0||(So&1073741824)!==0&&(Tt&261930)===0?n.memoizedState=a:(n.memoizedState=s,n=mC(),vt.lanes|=n,di|=n,s)}function mw(n,a,s,d){return Yr(s,a)?s:Ws.current!==null?(n=Xp(n,s,d),Yr(n,a)||(Dn=!0),n):(So&42)===0||(So&1073741824)!==0&&(Tt&261930)===0?(Dn=!0,n.memoizedState=s):(n=mC(),vt.lanes|=n,di|=n,a)}function yw(n,a,s,d,m){var w=L.p;L.p=w!==0&&8>w?w:8;var I=P.T,B={};P.T=B,Qp(n,!1,a,s);try{var K=m(),ue=P.S;if(ue!==null&&ue(B,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var me=h5(K,d);Rc(n,a,me,Qr(n))}else Rc(n,a,d,Qr(n))}catch(we){Rc(n,a,{then:function(){},status:"rejected",reason:we},Qr())}finally{L.p=w,I!==null&&B.types!==null&&(I.types=B.types),P.T=I}}function v5(){}function Gp(n,a,s,d){if(n.tag!==5)throw Error(o(476));var m=bw(n).queue;yw(n,m,a,N,s===null?v5:function(){return vw(n),s(d)})}function bw(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:N},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:s},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function vw(n){var a=bw(n);a.next===null&&(a=n.alternate.memoizedState),Rc(n,a.next.queue,{},Qr())}function Wp(){return nr(qc)}function xw(){return Tn().memoizedState}function ww(){return Tn().memoizedState}function x5(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var s=Qr();n=oi(s);var d=ii(a,n,s);d!==null&&(kr(d,a,s),Sc(d,a,s)),a={cache:Sp()},n.payload=a;return}a=a.return}}function w5(n,a,s){var d=Qr();s={lane:d,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Td(n)?Sw(a,s):(s=fp(n,a,s,d),s!==null&&(kr(s,n,d),Aw(s,a,d)))}function Cw(n,a,s){var d=Qr();Rc(n,a,s,d)}function Rc(n,a,s,d){var m={lane:d,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Td(n))Sw(a,m);else{var w=n.alternate;if(n.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var I=a.lastRenderedState,B=w(I,s);if(m.hasEagerState=!0,m.eagerState=B,Yr(B,I))return cd(n,a,m,0),an===null&&ld(),!1}catch{}finally{}if(s=fp(n,a,m,d),s!==null)return kr(s,n,d),Aw(s,a,d),!0}return!1}function Qp(n,a,s,d){if(d={lane:2,revertLane:_g(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Td(n)){if(a)throw Error(o(479))}else a=fp(n,s,d,2),a!==null&&kr(a,n,2)}function Td(n){var a=n.alternate;return n===vt||a!==null&&a===vt}function Sw(n,a){Qs=Cd=!0;var s=n.pending;s===null?a.next=a:(a.next=s.next,s.next=a),n.pending=a}function Aw(n,a,s){if((s&4194048)!==0){var d=a.lanes;d&=n.pendingLanes,s|=d,a.lanes=s,pr(n,s)}}var Tc={readContext:nr,use:Ed,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn};Tc.useEffectEvent=Mn;var Ew={readContext:nr,use:Ed,useCallback:function(n,a){return yr().memoizedState=[n,a===void 0?null:a],n},useContext:nr,useEffect:lw,useImperativeHandle:function(n,a,s){s=s!=null?s.concat([n]):null,_d(4194308,4,fw.bind(null,a,n),s)},useLayoutEffect:function(n,a){return _d(4194308,4,n,a)},useInsertionEffect:function(n,a){_d(4,2,n,a)},useMemo:function(n,a){var s=yr();a=a===void 0?null:a;var d=n();if(ss){Ve(!0);try{n()}finally{Ve(!1)}}return s.memoizedState=[d,a],d},useReducer:function(n,a,s){var d=yr();if(s!==void 0){var m=s(a);if(ss){Ve(!0);try{s(a)}finally{Ve(!1)}}}else m=a;return d.memoizedState=d.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},d.queue=n,n=n.dispatch=w5.bind(null,vt,n),[d.memoizedState,n]},useRef:function(n){var a=yr();return n={current:n},a.memoizedState=n},useState:function(n){n=Fp(n);var a=n.queue,s=Cw.bind(null,vt,a);return a.dispatch=s,[n.memoizedState,s]},useDebugValue:qp,useDeferredValue:function(n,a){var s=yr();return Xp(s,n,a)},useTransition:function(){var n=Fp(!1);return n=yw.bind(null,vt,n.queue,!0,!1),yr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,s){var d=vt,m=yr();if(Pt){if(s===void 0)throw Error(o(407));s=s()}else{if(s=a(),an===null)throw Error(o(349));(Tt&127)!==0||X1(d,a,s)}m.memoizedState=s;var w={value:s,getSnapshot:a};return m.queue=w,lw(W1.bind(null,d,w,n),[n]),d.flags|=2048,Vs(9,{destroy:void 0},G1.bind(null,d,w,s,a),null),s},useId:function(){var n=yr(),a=an.identifierPrefix;if(Pt){var s=Za,d=Va;s=(d&~(1<<32-Je(d)-1)).toString(32)+s,a="_"+a+"R_"+s,s=Sd++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=p5++,a="_"+a+"r_"+s.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:Wp,useFormState:rw,useActionState:rw,useOptimistic:function(n){var a=yr();a.memoizedState=a.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Qp.bind(null,vt,!0,s),s.dispatch=a,[n,a]},useMemoCache:Lp,useCacheRefresh:function(){return yr().memoizedState=x5.bind(null,vt)},useEffectEvent:function(n){var a=yr(),s={impl:n};return a.memoizedState=s,function(){if((Yt&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},Kp={readContext:nr,use:Ed,useCallback:pw,useContext:nr,useEffect:Up,useImperativeHandle:hw,useInsertionEffect:uw,useLayoutEffect:dw,useMemo:gw,useReducer:Md,useRef:sw,useState:function(){return Md(Ao)},useDebugValue:qp,useDeferredValue:function(n,a){var s=Tn();return mw(s,Qt.memoizedState,n,a)},useTransition:function(){var n=Md(Ao)[0],a=Tn().memoizedState;return[typeof n=="boolean"?n:_c(n),a]},useSyncExternalStore:q1,useId:xw,useHostTransitionStatus:Wp,useFormState:aw,useActionState:aw,useOptimistic:function(n,a){var s=Tn();return V1(s,Qt,n,a)},useMemoCache:Lp,useCacheRefresh:ww};Kp.useEffectEvent=cw;var Mw={readContext:nr,use:Ed,useCallback:pw,useContext:nr,useEffect:Up,useImperativeHandle:hw,useInsertionEffect:uw,useLayoutEffect:dw,useMemo:gw,useReducer:$p,useRef:sw,useState:function(){return $p(Ao)},useDebugValue:qp,useDeferredValue:function(n,a){var s=Tn();return Qt===null?Xp(s,n,a):mw(s,Qt.memoizedState,n,a)},useTransition:function(){var n=$p(Ao)[0],a=Tn().memoizedState;return[typeof n=="boolean"?n:_c(n),a]},useSyncExternalStore:q1,useId:xw,useHostTransitionStatus:Wp,useFormState:iw,useActionState:iw,useOptimistic:function(n,a){var s=Tn();return Qt!==null?V1(s,Qt,n,a):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Lp,useCacheRefresh:ww};Mw.useEffectEvent=cw;function Vp(n,a,s,d){a=n.memoizedState,s=s(d,a),s=s==null?a:g({},a,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Zp={enqueueSetState:function(n,a,s){n=n._reactInternals;var d=Qr(),m=oi(d);m.payload=a,s!=null&&(m.callback=s),a=ii(n,m,d),a!==null&&(kr(a,n,d),Sc(a,n,d))},enqueueReplaceState:function(n,a,s){n=n._reactInternals;var d=Qr(),m=oi(d);m.tag=1,m.payload=a,s!=null&&(m.callback=s),a=ii(n,m,d),a!==null&&(kr(a,n,d),Sc(a,n,d))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var s=Qr(),d=oi(s);d.tag=2,a!=null&&(d.callback=a),a=ii(n,d,s),a!==null&&(kr(a,n,s),Sc(a,n,s))}};function _w(n,a,s,d,m,w,I){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,w,I):a.prototype&&a.prototype.isPureReactComponent?!gc(s,d)||!gc(m,w):!0}function Rw(n,a,s,d){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,d),a.state!==n&&Zp.enqueueReplaceState(a,a.state,null)}function ls(n,a){var s=a;if("ref"in a){s={};for(var d in a)d!=="ref"&&(s[d]=a[d])}if(n=n.defaultProps){s===a&&(s=g({},s));for(var m in n)s[m]===void 0&&(s[m]=n[m])}return s}function Tw(n){sd(n)}function kw(n){console.error(n)}function Ow(n){sd(n)}function kd(n,a){try{var s=n.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function Iw(n,a,s){try{var d=n.onCaughtError;d(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Jp(n,a,s){return s=oi(s),s.tag=3,s.payload={element:null},s.callback=function(){kd(n,a)},s}function Pw(n){return n=oi(n),n.tag=3,n}function jw(n,a,s,d){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var w=d.value;n.payload=function(){return m(w)},n.callback=function(){Iw(a,s,d)}}var I=s.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(n.callback=function(){Iw(a,s,d),typeof m!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var B=d.stack;this.componentDidCatch(d.value,{componentStack:B!==null?B:""})})}function C5(n,a,s,d,m){if(s.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=s.alternate,a!==null&&Ys(a,s,m,!0),s=qr.current,s!==null){switch(s.tag){case 31:case 13:return ga===null?Fd():s.alternate===null&&_n===0&&(_n=3),s.flags&=-257,s.flags|=65536,s.lanes=m,d===yd?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([d]):a.add(d),Ag(n,d,m)),!1;case 22:return s.flags|=65536,d===yd?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([d]):s.add(d)),Ag(n,d,m)),!1}throw Error(o(435,s.tag))}return Ag(n,d,m),Fd(),!1}if(Pt)return a=qr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,d!==bp&&(n=Error(o(422),{cause:d}),bc(da(n,s)))):(d!==bp&&(a=Error(o(423),{cause:d}),bc(da(a,s))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,d=da(d,s),m=Jp(n.stateNode,d,m),Tp(n,m),_n!==4&&(_n=2)),!1;var w=Error(o(520),{cause:d});if(w=da(w,s),zc===null?zc=[w]:zc.push(w),_n!==4&&(_n=2),a===null)return!0;d=da(d,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,n=m&-m,s.lanes|=n,n=Jp(s.stateNode,d,n),Tp(s,n),!1;case 1:if(a=s.type,w=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fi===null||!fi.has(w))))return s.flags|=65536,m&=-m,s.lanes|=m,m=Pw(m),jw(m,n,s,d),Tp(s,m),!1}s=s.return}while(s!==null);return!1}var eg=Error(o(461)),Dn=!1;function rr(n,a,s,d){a.child=n===null?N1(a,null,s,d):is(a,n.child,s,d)}function Dw(n,a,s,d,m){s=s.render;var w=a.ref;if("ref"in d){var I={};for(var B in d)B!=="ref"&&(I[B]=d[B])}else I=d;return ns(a),d=Dp(n,a,s,I,w,m),B=Bp(),n!==null&&!Dn?(zp(n,a,m),Eo(n,a,m)):(Pt&&B&&mp(a),a.flags|=1,rr(n,a,d,m),a.child)}function Bw(n,a,s,d,m){if(n===null){var w=s.type;return typeof w=="function"&&!hp(w)&&w.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=w,zw(n,a,w,d,m)):(n=dd(s.type,null,d,a,a.mode,m),n.ref=a.ref,n.return=a,a.child=n)}if(w=n.child,!lg(n,m)){var I=w.memoizedProps;if(s=s.compare,s=s!==null?s:gc,s(I,d)&&n.ref===a.ref)return Eo(n,a,m)}return a.flags|=1,n=vo(w,d),n.ref=a.ref,n.return=a,a.child=n}function zw(n,a,s,d,m){if(n!==null){var w=n.memoizedProps;if(gc(w,d)&&n.ref===a.ref)if(Dn=!1,a.pendingProps=d=w,lg(n,m))(n.flags&131072)!==0&&(Dn=!0);else return a.lanes=n.lanes,Eo(n,a,m)}return tg(n,a,s,d,m)}function Nw(n,a,s,d){var m=d.children,w=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(w=w!==null?w.baseLanes|s:s,n!==null){for(d=a.child=n.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;d=m&~w}else d=0,a.child=null;return Lw(n,a,w,s,d)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&gd(a,w!==null?w.cachePool:null),w!==null?$1(a,w):Op(),F1(a);else return d=a.lanes=536870912,Lw(n,a,w!==null?w.baseLanes|s:s,s,d)}else w!==null?(gd(a,w.cachePool),$1(a,w),li(),a.memoizedState=null):(n!==null&&gd(a,null),Op(),li());return rr(n,a,m,s),a.child}function kc(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Lw(n,a,s,d,m){var w=Ep();return w=w===null?null:{parent:Pn._currentValue,pool:w},a.memoizedState={baseLanes:s,cachePool:w},n!==null&&gd(a,null),Op(),F1(a),n!==null&&Ys(n,a,d,!0),a.childLanes=m,null}function Od(n,a){return a=Pd({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function Hw(n,a,s){return is(a,n.child,null,s),n=Od(a,a.pendingProps),n.flags|=2,Xr(a),a.memoizedState=null,n}function S5(n,a,s){var d=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(Pt){if(d.mode==="hidden")return n=Od(a,d),a.lanes=536870912,kc(null,n);if(Pp(a),(n=un)?(n=ZC(n,pa),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:ei!==null?{id:Va,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},s=S1(n),s.return=a,a.child=s,tr=a,un=null)):n=null,n===null)throw ni(a);return a.lanes=536870912,null}return Od(a,d)}var w=n.memoizedState;if(w!==null){var I=w.dehydrated;if(Pp(a),m)if(a.flags&256)a.flags&=-257,a=Hw(n,a,s);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(o(558));else if(Dn||Ys(n,a,s,!1),m=(s&n.childLanes)!==0,Dn||m){if(d=an,d!==null&&(I=We(d,s),I!==0&&I!==w.retryLane))throw w.retryLane=I,Zi(n,I),kr(d,n,I),eg;Fd(),a=Hw(n,a,s)}else n=w.treeContext,un=ma(I.nextSibling),tr=a,Pt=!0,ti=null,pa=!1,n!==null&&M1(a,n),a=Od(a,d),a.flags|=4096;return a}return n=vo(n.child,{mode:d.mode,children:d.children}),n.ref=a.ref,a.child=n,n.return=a,n}function Id(n,a){var s=a.ref;if(s===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(n===null||n.ref!==s)&&(a.flags|=4194816)}}function tg(n,a,s,d,m){return ns(a),s=Dp(n,a,s,d,void 0,m),d=Bp(),n!==null&&!Dn?(zp(n,a,m),Eo(n,a,m)):(Pt&&d&&mp(a),a.flags|=1,rr(n,a,s,m),a.child)}function $w(n,a,s,d,m,w){return ns(a),a.updateQueue=null,s=U1(a,d,s,m),Y1(n),d=Bp(),n!==null&&!Dn?(zp(n,a,w),Eo(n,a,w)):(Pt&&d&&mp(a),a.flags|=1,rr(n,a,s,w),a.child)}function Fw(n,a,s,d,m){if(ns(a),a.stateNode===null){var w=Ls,I=s.contextType;typeof I=="object"&&I!==null&&(w=nr(I)),w=new s(d,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Zp,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=d,w.state=a.memoizedState,w.refs={},_p(a),I=s.contextType,w.context=typeof I=="object"&&I!==null?nr(I):Ls,w.state=a.memoizedState,I=s.getDerivedStateFromProps,typeof I=="function"&&(Vp(a,s,I,d),w.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(I=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),I!==w.state&&Zp.enqueueReplaceState(w,w.state,null),Ec(a,d,w,m),Ac(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(n===null){w=a.stateNode;var B=a.memoizedProps,K=ls(s,B);w.props=K;var ue=w.context,me=s.contextType;I=Ls,typeof me=="object"&&me!==null&&(I=nr(me));var we=s.getDerivedStateFromProps;me=typeof we=="function"||typeof w.getSnapshotBeforeUpdate=="function",B=a.pendingProps!==B,me||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(B||ue!==I)&&Rw(a,w,d,I),ai=!1;var de=a.memoizedState;w.state=de,Ec(a,d,w,m),Ac(),ue=a.memoizedState,B||de!==ue||ai?(typeof we=="function"&&(Vp(a,s,we,d),ue=a.memoizedState),(K=ai||_w(a,s,K,d,de,ue,I))?(me||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=ue),w.props=d,w.state=ue,w.context=I,d=K):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{w=a.stateNode,Rp(n,a),I=a.memoizedProps,me=ls(s,I),w.props=me,we=a.pendingProps,de=w.context,ue=s.contextType,K=Ls,typeof ue=="object"&&ue!==null&&(K=nr(ue)),B=s.getDerivedStateFromProps,(ue=typeof B=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==we||de!==K)&&Rw(a,w,d,K),ai=!1,de=a.memoizedState,w.state=de,Ec(a,d,w,m),Ac();var he=a.memoizedState;I!==we||de!==he||ai||n!==null&&n.dependencies!==null&&hd(n.dependencies)?(typeof B=="function"&&(Vp(a,s,B,d),he=a.memoizedState),(me=ai||_w(a,s,me,d,de,he,K)||n!==null&&n.dependencies!==null&&hd(n.dependencies))?(ue||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,he,K),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,he,K)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===n.memoizedProps&&de===n.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&de===n.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=he),w.props=d,w.state=he,w.context=K,d=me):(typeof w.componentDidUpdate!="function"||I===n.memoizedProps&&de===n.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&de===n.memoizedState||(a.flags|=1024),d=!1)}return w=d,Id(n,a),d=(a.flags&128)!==0,w||d?(w=a.stateNode,s=d&&typeof s.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,n!==null&&d?(a.child=is(a,n.child,null,m),a.child=is(a,null,s,m)):rr(n,a,s,m),a.memoizedState=w.state,n=a.child):n=Eo(n,a,m),n}function Yw(n,a,s,d){return es(),a.flags|=256,rr(n,a,s,d),a.child}var ng={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rg(n){return{baseLanes:n,cachePool:I1()}}function ag(n,a,s){return n=n!==null?n.childLanes&~s:0,a&&(n|=Wr),n}function Uw(n,a,s){var d=a.pendingProps,m=!1,w=(a.flags&128)!==0,I;if((I=w)||(I=n!==null&&n.memoizedState===null?!1:(Rn.current&2)!==0),I&&(m=!0,a.flags&=-129),I=(a.flags&32)!==0,a.flags&=-33,n===null){if(Pt){if(m?si(a):li(),(n=un)?(n=ZC(n,pa),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:ei!==null?{id:Va,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},s=S1(n),s.return=a,a.child=s,tr=a,un=null)):n=null,n===null)throw ni(a);return Hg(n)?a.lanes=32:a.lanes=536870912,null}var B=d.children;return d=d.fallback,m?(li(),m=a.mode,B=Pd({mode:"hidden",children:B},m),d=Ji(d,m,s,null),B.return=a,d.return=a,B.sibling=d,a.child=B,d=a.child,d.memoizedState=rg(s),d.childLanes=ag(n,I,s),a.memoizedState=ng,kc(null,d)):(si(a),og(a,B))}var K=n.memoizedState;if(K!==null&&(B=K.dehydrated,B!==null)){if(w)a.flags&256?(si(a),a.flags&=-257,a=ig(n,a,s)):a.memoizedState!==null?(li(),a.child=n.child,a.flags|=128,a=null):(li(),B=d.fallback,m=a.mode,d=Pd({mode:"visible",children:d.children},m),B=Ji(B,m,s,null),B.flags|=2,d.return=a,B.return=a,d.sibling=B,a.child=d,is(a,n.child,null,s),d=a.child,d.memoizedState=rg(s),d.childLanes=ag(n,I,s),a.memoizedState=ng,a=kc(null,d));else if(si(a),Hg(B)){if(I=B.nextSibling&&B.nextSibling.dataset,I)var ue=I.dgst;I=ue,d=Error(o(419)),d.stack="",d.digest=I,bc({value:d,source:null,stack:null}),a=ig(n,a,s)}else if(Dn||Ys(n,a,s,!1),I=(s&n.childLanes)!==0,Dn||I){if(I=an,I!==null&&(d=We(I,s),d!==0&&d!==K.retryLane))throw K.retryLane=d,Zi(n,d),kr(I,n,d),eg;Lg(B)||Fd(),a=ig(n,a,s)}else Lg(B)?(a.flags|=192,a.child=n.child,a=null):(n=K.treeContext,un=ma(B.nextSibling),tr=a,Pt=!0,ti=null,pa=!1,n!==null&&M1(a,n),a=og(a,d.children),a.flags|=4096);return a}return m?(li(),B=d.fallback,m=a.mode,K=n.child,ue=K.sibling,d=vo(K,{mode:"hidden",children:d.children}),d.subtreeFlags=K.subtreeFlags&65011712,ue!==null?B=vo(ue,B):(B=Ji(B,m,s,null),B.flags|=2),B.return=a,d.return=a,d.sibling=B,a.child=d,kc(null,d),d=a.child,B=n.child.memoizedState,B===null?B=rg(s):(m=B.cachePool,m!==null?(K=Pn._currentValue,m=m.parent!==K?{parent:K,pool:K}:m):m=I1(),B={baseLanes:B.baseLanes|s,cachePool:m}),d.memoizedState=B,d.childLanes=ag(n,I,s),a.memoizedState=ng,kc(n.child,d)):(si(a),s=n.child,n=s.sibling,s=vo(s,{mode:"visible",children:d.children}),s.return=a,s.sibling=null,n!==null&&(I=a.deletions,I===null?(a.deletions=[n],a.flags|=16):I.push(n)),a.child=s,a.memoizedState=null,s)}function og(n,a){return a=Pd({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function Pd(n,a){return n=Ur(22,n,null,a),n.lanes=0,n}function ig(n,a,s){return is(a,n.child,null,s),n=og(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function qw(n,a,s){n.lanes|=a;var d=n.alternate;d!==null&&(d.lanes|=a),wp(n.return,a,s)}function sg(n,a,s,d,m,w){var I=n.memoizedState;I===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:s,tailMode:m,treeForkCount:w}:(I.isBackwards=a,I.rendering=null,I.renderingStartTime=0,I.last=d,I.tail=s,I.tailMode=m,I.treeForkCount=w)}function Xw(n,a,s){var d=a.pendingProps,m=d.revealOrder,w=d.tail;d=d.children;var I=Rn.current,B=(I&2)!==0;if(B?(I=I&1|2,a.flags|=128):I&=1,X(Rn,I),rr(n,a,d,s),d=Pt?yc:0,!B&&n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qw(n,s,a);else if(n.tag===19)qw(n,s,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(s=a.child,m=null;s!==null;)n=s.alternate,n!==null&&wd(n)===null&&(m=s),s=s.sibling;s=m,s===null?(m=a.child,a.child=null):(m=s.sibling,s.sibling=null),sg(a,!1,m,s,w,d);break;case"backwards":case"unstable_legacy-backwards":for(s=null,m=a.child,a.child=null;m!==null;){if(n=m.alternate,n!==null&&wd(n)===null){a.child=m;break}n=m.sibling,m.sibling=s,s=m,m=n}sg(a,!0,s,null,w,d);break;case"together":sg(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function Eo(n,a,s){if(n!==null&&(a.dependencies=n.dependencies),di|=a.lanes,(s&a.childLanes)===0)if(n!==null){if(Ys(n,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(o(153));if(a.child!==null){for(n=a.child,s=vo(n,n.pendingProps),a.child=s,s.return=a;n.sibling!==null;)n=n.sibling,s=s.sibling=vo(n,n.pendingProps),s.return=a;s.sibling=null}return a.child}function lg(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&hd(n)))}function A5(n,a,s){switch(a.tag){case 3:J(a,a.stateNode.containerInfo),ri(a,Pn,n.memoizedState.cache),es();break;case 27:case 5:be(a);break;case 4:J(a,a.stateNode.containerInfo);break;case 10:ri(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Pp(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(si(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Uw(n,a,s):(si(a),n=Eo(n,a,s),n!==null?n.sibling:null);si(a);break;case 19:var m=(n.flags&128)!==0;if(d=(s&a.childLanes)!==0,d||(Ys(n,a,s,!1),d=(s&a.childLanes)!==0),m){if(d)return Xw(n,a,s);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),X(Rn,Rn.current),d)break;return null;case 22:return a.lanes=0,Nw(n,a,s,a.pendingProps);case 24:ri(a,Pn,n.memoizedState.cache)}return Eo(n,a,s)}function Gw(n,a,s){if(n!==null)if(n.memoizedProps!==a.pendingProps)Dn=!0;else{if(!lg(n,s)&&(a.flags&128)===0)return Dn=!1,A5(n,a,s);Dn=(n.flags&131072)!==0}else Dn=!1,Pt&&(a.flags&1048576)!==0&&E1(a,yc,a.index);switch(a.lanes=0,a.tag){case 16:e:{var d=a.pendingProps;if(n=as(a.elementType),a.type=n,typeof n=="function")hp(n)?(d=ls(n,d),a.tag=1,a=Fw(null,a,n,d,s)):(a.tag=0,a=tg(null,a,n,d,s));else{if(n!=null){var m=n.$$typeof;if(m===T){a.tag=11,a=Dw(null,a,n,d,s);break e}else if(m===M){a.tag=14,a=Bw(null,a,n,d,s);break e}}throw a=ae(n)||n,Error(o(306,a,""))}}return a;case 0:return tg(n,a,a.type,a.pendingProps,s);case 1:return d=a.type,m=ls(d,a.pendingProps),Fw(n,a,d,m,s);case 3:e:{if(J(a,a.stateNode.containerInfo),n===null)throw Error(o(387));d=a.pendingProps;var w=a.memoizedState;m=w.element,Rp(n,a),Ec(a,d,null,s);var I=a.memoizedState;if(d=I.cache,ri(a,Pn,d),d!==w.cache&&Cp(a,[Pn],s,!0),Ac(),d=I.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:I.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=Yw(n,a,d,s);break e}else if(d!==m){m=da(Error(o(424)),a),bc(m),a=Yw(n,a,d,s);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(un=ma(n.firstChild),tr=a,Pt=!0,ti=null,pa=!0,s=N1(a,null,d,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(es(),d===m){a=Eo(n,a,s);break e}rr(n,a,d,s)}a=a.child}return a;case 26:return Id(n,a),n===null?(s=aS(a.type,null,a.pendingProps,null))?a.memoizedState=s:Pt||(s=a.type,n=a.pendingProps,d=Qd(ee.current).createElement(s),d[en]=a,d[tn]=n,ar(d,s,n),An(d),a.stateNode=d):a.memoizedState=aS(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return be(a),n===null&&Pt&&(d=a.stateNode=tS(a.type,a.pendingProps,ee.current),tr=a,pa=!0,m=un,mi(a.type)?($g=m,un=ma(d.firstChild)):un=m),rr(n,a,a.pendingProps.children,s),Id(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Pt&&((m=d=un)&&(d=eP(d,a.type,a.pendingProps,pa),d!==null?(a.stateNode=d,tr=a,un=ma(d.firstChild),pa=!1,m=!0):m=!1),m||ni(a)),be(a),m=a.type,w=a.pendingProps,I=n!==null?n.memoizedProps:null,d=w.children,Bg(m,w)?d=null:I!==null&&Bg(m,I)&&(a.flags|=32),a.memoizedState!==null&&(m=Dp(n,a,g5,null,null,s),qc._currentValue=m),Id(n,a),rr(n,a,d,s),a.child;case 6:return n===null&&Pt&&((n=s=un)&&(s=tP(s,a.pendingProps,pa),s!==null?(a.stateNode=s,tr=a,un=null,n=!0):n=!1),n||ni(a)),null;case 13:return Uw(n,a,s);case 4:return J(a,a.stateNode.containerInfo),d=a.pendingProps,n===null?a.child=is(a,null,d,s):rr(n,a,d,s),a.child;case 11:return Dw(n,a,a.type,a.pendingProps,s);case 7:return rr(n,a,a.pendingProps,s),a.child;case 8:return rr(n,a,a.pendingProps.children,s),a.child;case 12:return rr(n,a,a.pendingProps.children,s),a.child;case 10:return d=a.pendingProps,ri(a,a.type,d.value),rr(n,a,d.children,s),a.child;case 9:return m=a.type._context,d=a.pendingProps.children,ns(a),m=nr(m),d=d(m),a.flags|=1,rr(n,a,d,s),a.child;case 14:return Bw(n,a,a.type,a.pendingProps,s);case 15:return zw(n,a,a.type,a.pendingProps,s);case 19:return Xw(n,a,s);case 31:return S5(n,a,s);case 22:return Nw(n,a,s,a.pendingProps);case 24:return ns(a),d=nr(Pn),n===null?(m=Ep(),m===null&&(m=an,w=Sp(),m.pooledCache=w,w.refCount++,w!==null&&(m.pooledCacheLanes|=s),m=w),a.memoizedState={parent:d,cache:m},_p(a),ri(a,Pn,m)):((n.lanes&s)!==0&&(Rp(n,a),Ec(a,null,null,s),Ac()),m=n.memoizedState,w=a.memoizedState,m.parent!==d?(m={parent:d,cache:d},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ri(a,Pn,d)):(d=w.cache,ri(a,Pn,d),d!==m.cache&&Cp(a,[Pn],s,!0))),rr(n,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(o(156,a.tag))}function Mo(n){n.flags|=4}function cg(n,a,s,d,m){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(xC())n.flags|=8192;else throw os=yd,Mp}else n.flags&=-16777217}function Ww(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!cS(a))if(xC())n.flags|=8192;else throw os=yd,Mp}function jd(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?xr():536870912,n.lanes|=a,tl|=a)}function Oc(n,a){if(!Pt)switch(n.tailMode){case"hidden":a=n.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function dn(n){var a=n.alternate!==null&&n.alternate.child===n.child,s=0,d=0;if(a)for(var m=n.child;m!==null;)s|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)s|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=d,n.childLanes=s,a}function E5(n,a,s){var d=a.pendingProps;switch(yp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(a),null;case 1:return dn(a),null;case 3:return s=a.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Co(Pn),ie(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Fs(a)?Mo(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,vp())),dn(a),null;case 26:var m=a.type,w=a.memoizedState;return n===null?(Mo(a),w!==null?(dn(a),Ww(a,w)):(dn(a),cg(a,m,null,d,s))):w?w!==n.memoizedState?(Mo(a),dn(a),Ww(a,w)):(dn(a),a.flags&=-16777217):(n=n.memoizedProps,n!==d&&Mo(a),dn(a),cg(a,m,n,d,s)),null;case 27:if(ge(a),s=ee.current,m=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==d&&Mo(a);else{if(!d){if(a.stateNode===null)throw Error(o(166));return dn(a),null}n=re.current,Fs(a)?_1(a):(n=tS(m,d,s),a.stateNode=n,Mo(a))}return dn(a),null;case 5:if(ge(a),m=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==d&&Mo(a);else{if(!d){if(a.stateNode===null)throw Error(o(166));return dn(a),null}if(w=re.current,Fs(a))_1(a);else{var I=Qd(ee.current);switch(w){case 1:w=I.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:w=I.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":w=I.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":w=I.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":w=I.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof d.is=="string"?I.createElement("select",{is:d.is}):I.createElement("select"),d.multiple?w.multiple=!0:d.size&&(w.size=d.size);break;default:w=typeof d.is=="string"?I.createElement(m,{is:d.is}):I.createElement(m)}}w[en]=a,w[tn]=d;e:for(I=a.child;I!==null;){if(I.tag===5||I.tag===6)w.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===a)break e;for(;I.sibling===null;){if(I.return===null||I.return===a)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}a.stateNode=w;e:switch(ar(w,m,d),m){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Mo(a)}}return dn(a),cg(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,s),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==d&&Mo(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(o(166));if(n=ee.current,Fs(a)){if(n=a.stateNode,s=a.memoizedProps,d=null,m=tr,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}n[en]=a,n=!!(n.nodeValue===s||d!==null&&d.suppressHydrationWarning===!0||UC(n.nodeValue,s)),n||ni(a,!0)}else n=Qd(n).createTextNode(d),n[en]=a,a.stateNode=n}return dn(a),null;case 31:if(s=a.memoizedState,n===null||n.memoizedState!==null){if(d=Fs(a),s!==null){if(n===null){if(!d)throw Error(o(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));n[en]=a}else es(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dn(a),n=!1}else s=vp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return a.flags&256?(Xr(a),a):(Xr(a),null);if((a.flags&128)!==0)throw Error(o(558))}return dn(a),null;case 13:if(d=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Fs(a),d!==null&&d.dehydrated!==null){if(n===null){if(!m)throw Error(o(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[en]=a}else es(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dn(a),m=!1}else m=vp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Xr(a),a):(Xr(a),null)}return Xr(a),(a.flags&128)!==0?(a.lanes=s,a):(s=d!==null,n=n!==null&&n.memoizedState!==null,s&&(d=a.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool),w=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(w=d.memoizedState.cachePool.pool),w!==m&&(d.flags|=2048)),s!==n&&s&&(a.child.flags|=8192),jd(a,a.updateQueue),dn(a),null);case 4:return ie(),n===null&&Og(a.stateNode.containerInfo),dn(a),null;case 10:return Co(a.type),dn(a),null;case 19:if(F(Rn),d=a.memoizedState,d===null)return dn(a),null;if(m=(a.flags&128)!==0,w=d.rendering,w===null)if(m)Oc(d,!1);else{if(_n!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(w=wd(n),w!==null){for(a.flags|=128,Oc(d,!1),n=w.updateQueue,a.updateQueue=n,jd(a,n),a.subtreeFlags=0,n=s,s=a.child;s!==null;)C1(s,n),s=s.sibling;return X(Rn,Rn.current&1|2),Pt&&xo(a,d.treeForkCount),a.child}n=n.sibling}d.tail!==null&&Fe()>Ld&&(a.flags|=128,m=!0,Oc(d,!1),a.lanes=4194304)}else{if(!m)if(n=wd(w),n!==null){if(a.flags|=128,m=!0,n=n.updateQueue,a.updateQueue=n,jd(a,n),Oc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!w.alternate&&!Pt)return dn(a),null}else 2*Fe()-d.renderingStartTime>Ld&&s!==536870912&&(a.flags|=128,m=!0,Oc(d,!1),a.lanes=4194304);d.isBackwards?(w.sibling=a.child,a.child=w):(n=d.last,n!==null?n.sibling=w:a.child=w,d.last=w)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Fe(),n.sibling=null,s=Rn.current,X(Rn,m?s&1|2:s&1),Pt&&xo(a,d.treeForkCount),n):(dn(a),null);case 22:case 23:return Xr(a),Ip(),d=a.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(s&536870912)!==0&&(a.flags&128)===0&&(dn(a),a.subtreeFlags&6&&(a.flags|=8192)):dn(a),s=a.updateQueue,s!==null&&jd(a,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==s&&(a.flags|=2048),n!==null&&F(rs),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Co(Pn),dn(a),null;case 25:return null;case 30:return null}throw Error(o(156,a.tag))}function M5(n,a){switch(yp(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Co(Pn),ie(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return ge(a),null;case 31:if(a.memoizedState!==null){if(Xr(a),a.alternate===null)throw Error(o(340));es()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(Xr(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(o(340));es()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return F(Rn),null;case 4:return ie(),null;case 10:return Co(a.type),null;case 22:case 23:return Xr(a),Ip(),n!==null&&F(rs),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Co(Pn),null;case 25:return null;default:return null}}function Qw(n,a){switch(yp(a),a.tag){case 3:Co(Pn),ie();break;case 26:case 27:case 5:ge(a);break;case 4:ie();break;case 31:a.memoizedState!==null&&Xr(a);break;case 13:Xr(a);break;case 19:F(Rn);break;case 10:Co(a.type);break;case 22:case 23:Xr(a),Ip(),n!==null&&F(rs);break;case 24:Co(Pn)}}function Ic(n,a){try{var s=a.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&n)===n){d=void 0;var w=s.create,I=s.inst;d=w(),I.destroy=d}s=s.next}while(s!==m)}}catch(B){Gt(a,a.return,B)}}function ci(n,a,s){try{var d=a.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var w=m.next;d=w;do{if((d.tag&n)===n){var I=d.inst,B=I.destroy;if(B!==void 0){I.destroy=void 0,m=a;var K=s,ue=B;try{ue()}catch(me){Gt(m,K,me)}}}d=d.next}while(d!==w)}}catch(me){Gt(a,a.return,me)}}function Kw(n){var a=n.updateQueue;if(a!==null){var s=n.stateNode;try{H1(a,s)}catch(d){Gt(n,n.return,d)}}}function Vw(n,a,s){s.props=ls(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(d){Gt(n,a,d)}}function Pc(n,a){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof s=="function"?n.refCleanup=s(d):s.current=d}}catch(m){Gt(n,a,m)}}function Ja(n,a){var s=n.ref,d=n.refCleanup;if(s!==null)if(typeof d=="function")try{d()}catch(m){Gt(n,a,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){Gt(n,a,m)}else s.current=null}function Zw(n){var a=n.type,s=n.memoizedProps,d=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&d.focus();break e;case"img":s.src?d.src=s.src:s.srcSet&&(d.srcset=s.srcSet)}}catch(m){Gt(n,n.return,m)}}function ug(n,a,s){try{var d=n.stateNode;W5(d,n.type,s,a),d[tn]=a}catch(m){Gt(n,n.return,m)}}function Jw(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&mi(n.type)||n.tag===4}function dg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Jw(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&mi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function fg(n,a,s){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(n),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=cn));else if(d!==4&&(d===27&&mi(n.type)&&(s=n.stateNode,a=null),n=n.child,n!==null))for(fg(n,a,s),n=n.sibling;n!==null;)fg(n,a,s),n=n.sibling}function Dd(n,a,s){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?s.insertBefore(n,a):s.appendChild(n);else if(d!==4&&(d===27&&mi(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Dd(n,a,s),n=n.sibling;n!==null;)Dd(n,a,s),n=n.sibling}function eC(n){var a=n.stateNode,s=n.memoizedProps;try{for(var d=n.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);ar(a,d,s),a[en]=n,a[tn]=s}catch(w){Gt(n,n.return,w)}}var _o=!1,Bn=!1,hg=!1,tC=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function _5(n,a){if(n=n.containerInfo,jg=nf,n=h1(n),ip(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var d=s.getSelection&&s.getSelection();if(d&&d.rangeCount!==0){s=d.anchorNode;var m=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{s.nodeType,w.nodeType}catch{s=null;break e}var I=0,B=-1,K=-1,ue=0,me=0,we=n,de=null;t:for(;;){for(var he;we!==s||m!==0&&we.nodeType!==3||(B=I+m),we!==w||d!==0&&we.nodeType!==3||(K=I+d),we.nodeType===3&&(I+=we.nodeValue.length),(he=we.firstChild)!==null;)de=we,we=he;for(;;){if(we===n)break t;if(de===s&&++ue===m&&(B=I),de===w&&++me===d&&(K=I),(he=we.nextSibling)!==null)break;we=de,de=we.parentNode}we=he}s=B===-1||K===-1?null:{start:B,end:K}}else s=null}s=s||{start:0,end:0}}else s=null;for(Dg={focusedElem:n,selectionRange:s},nf=!1,Vn=a;Vn!==null;)if(a=Vn,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Vn=n;else for(;Vn!==null;){switch(a=Vn,w=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)m=n[s],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&w!==null){n=void 0,s=a,m=w.memoizedProps,w=w.memoizedState,d=s.stateNode;try{var Ye=ls(s.type,m);n=d.getSnapshotBeforeUpdate(Ye,w),d.__reactInternalSnapshotBeforeUpdate=n}catch(it){Gt(s,s.return,it)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,s=n.nodeType,s===9)Ng(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ng(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=a.sibling,n!==null){n.return=a.return,Vn=n;break}Vn=a.return}}function nC(n,a,s){var d=s.flags;switch(s.tag){case 0:case 11:case 15:To(n,s),d&4&&Ic(5,s);break;case 1:if(To(n,s),d&4)if(n=s.stateNode,a===null)try{n.componentDidMount()}catch(I){Gt(s,s.return,I)}else{var m=ls(s.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(m,a,n.__reactInternalSnapshotBeforeUpdate)}catch(I){Gt(s,s.return,I)}}d&64&&Kw(s),d&512&&Pc(s,s.return);break;case 3:if(To(n,s),d&64&&(n=s.updateQueue,n!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{H1(n,a)}catch(I){Gt(s,s.return,I)}}break;case 27:a===null&&d&4&&eC(s);case 26:case 5:To(n,s),a===null&&d&4&&Zw(s),d&512&&Pc(s,s.return);break;case 12:To(n,s);break;case 31:To(n,s),d&4&&oC(n,s);break;case 13:To(n,s),d&4&&iC(n,s),d&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=B5.bind(null,s),nP(n,s))));break;case 22:if(d=s.memoizedState!==null||_o,!d){a=a!==null&&a.memoizedState!==null||Bn,m=_o;var w=Bn;_o=d,(Bn=a)&&!w?ko(n,s,(s.subtreeFlags&8772)!==0):To(n,s),_o=m,Bn=w}break;case 30:break;default:To(n,s)}}function rC(n){var a=n.alternate;a!==null&&(n.alternate=null,rC(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&ir(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var gn=null,Mr=!1;function Ro(n,a,s){for(s=s.child;s!==null;)aC(n,a,s),s=s.sibling}function aC(n,a,s){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(_e,s)}catch{}switch(s.tag){case 26:Bn||Ja(s,a),Ro(n,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Bn||Ja(s,a);var d=gn,m=Mr;mi(s.type)&&(gn=s.stateNode,Mr=!1),Ro(n,a,s),Fc(s.stateNode),gn=d,Mr=m;break;case 5:Bn||Ja(s,a);case 6:if(d=gn,m=Mr,gn=null,Ro(n,a,s),gn=d,Mr=m,gn!==null)if(Mr)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(s.stateNode)}catch(w){Gt(s,a,w)}else try{gn.removeChild(s.stateNode)}catch(w){Gt(s,a,w)}break;case 18:gn!==null&&(Mr?(n=gn,KC(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),cl(n)):KC(gn,s.stateNode));break;case 4:d=gn,m=Mr,gn=s.stateNode.containerInfo,Mr=!0,Ro(n,a,s),gn=d,Mr=m;break;case 0:case 11:case 14:case 15:ci(2,s,a),Bn||ci(4,s,a),Ro(n,a,s);break;case 1:Bn||(Ja(s,a),d=s.stateNode,typeof d.componentWillUnmount=="function"&&Vw(s,a,d)),Ro(n,a,s);break;case 21:Ro(n,a,s);break;case 22:Bn=(d=Bn)||s.memoizedState!==null,Ro(n,a,s),Bn=d;break;default:Ro(n,a,s)}}function oC(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{cl(n)}catch(s){Gt(a,a.return,s)}}}function iC(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{cl(n)}catch(s){Gt(a,a.return,s)}}function R5(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new tC),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new tC),a;default:throw Error(o(435,n.tag))}}function Bd(n,a){var s=R5(n);a.forEach(function(d){if(!s.has(d)){s.add(d);var m=z5.bind(null,n,d);d.then(m,m)}})}function _r(n,a){var s=a.deletions;if(s!==null)for(var d=0;d<s.length;d++){var m=s[d],w=n,I=a,B=I;e:for(;B!==null;){switch(B.tag){case 27:if(mi(B.type)){gn=B.stateNode,Mr=!1;break e}break;case 5:gn=B.stateNode,Mr=!1;break e;case 3:case 4:gn=B.stateNode.containerInfo,Mr=!0;break e}B=B.return}if(gn===null)throw Error(o(160));aC(w,I,m),gn=null,Mr=!1,w=m.alternate,w!==null&&(w.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)sC(a,n),a=a.sibling}var Ba=null;function sC(n,a){var s=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_r(a,n),Rr(n),d&4&&(ci(3,n,n.return),Ic(3,n),ci(5,n,n.return));break;case 1:_r(a,n),Rr(n),d&512&&(Bn||s===null||Ja(s,s.return)),d&64&&_o&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?d:s.concat(d))));break;case 26:var m=Ba;if(_r(a,n),Rr(n),d&512&&(Bn||s===null||Ja(s,s.return)),d&4){var w=s!==null?s.memoizedState:null;if(d=n.memoizedState,s===null)if(d===null)if(n.stateNode===null){e:{d=n.type,s=n.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":w=m.getElementsByTagName("title")[0],(!w||w[xn]||w[en]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=m.createElement(d),m.head.insertBefore(w,m.querySelector("head > title"))),ar(w,d,s),w[en]=n,An(w),d=w;break e;case"link":var I=sS("link","href",m).get(d+(s.href||""));if(I){for(var B=0;B<I.length;B++)if(w=I[B],w.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&w.getAttribute("rel")===(s.rel==null?null:s.rel)&&w.getAttribute("title")===(s.title==null?null:s.title)&&w.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){I.splice(B,1);break t}}w=m.createElement(d),ar(w,d,s),m.head.appendChild(w);break;case"meta":if(I=sS("meta","content",m).get(d+(s.content||""))){for(B=0;B<I.length;B++)if(w=I[B],w.getAttribute("content")===(s.content==null?null:""+s.content)&&w.getAttribute("name")===(s.name==null?null:s.name)&&w.getAttribute("property")===(s.property==null?null:s.property)&&w.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&w.getAttribute("charset")===(s.charSet==null?null:s.charSet)){I.splice(B,1);break t}}w=m.createElement(d),ar(w,d,s),m.head.appendChild(w);break;default:throw Error(o(468,d))}w[en]=n,An(w),d=w}n.stateNode=d}else lS(m,n.type,n.stateNode);else n.stateNode=iS(m,d,n.memoizedProps);else w!==d?(w===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):w.count--,d===null?lS(m,n.type,n.stateNode):iS(m,d,n.memoizedProps)):d===null&&n.stateNode!==null&&ug(n,n.memoizedProps,s.memoizedProps)}break;case 27:_r(a,n),Rr(n),d&512&&(Bn||s===null||Ja(s,s.return)),s!==null&&d&4&&ug(n,n.memoizedProps,s.memoizedProps);break;case 5:if(_r(a,n),Rr(n),d&512&&(Bn||s===null||Ja(s,s.return)),n.flags&32){m=n.stateNode;try{fe(m,"")}catch(Ye){Gt(n,n.return,Ye)}}d&4&&n.stateNode!=null&&(m=n.memoizedProps,ug(n,m,s!==null?s.memoizedProps:m)),d&1024&&(hg=!0);break;case 6:if(_r(a,n),Rr(n),d&4){if(n.stateNode===null)throw Error(o(162));d=n.memoizedProps,s=n.stateNode;try{s.nodeValue=d}catch(Ye){Gt(n,n.return,Ye)}}break;case 3:if(Zd=null,m=Ba,Ba=Kd(a.containerInfo),_r(a,n),Ba=m,Rr(n),d&4&&s!==null&&s.memoizedState.isDehydrated)try{cl(a.containerInfo)}catch(Ye){Gt(n,n.return,Ye)}hg&&(hg=!1,lC(n));break;case 4:d=Ba,Ba=Kd(n.stateNode.containerInfo),_r(a,n),Rr(n),Ba=d;break;case 12:_r(a,n),Rr(n);break;case 31:_r(a,n),Rr(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Bd(n,d)));break;case 13:_r(a,n),Rr(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Nd=Fe()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Bd(n,d)));break;case 22:m=n.memoizedState!==null;var K=s!==null&&s.memoizedState!==null,ue=_o,me=Bn;if(_o=ue||m,Bn=me||K,_r(a,n),Bn=me,_o=ue,Rr(n),d&8192)e:for(a=n.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(s===null||K||_o||Bn||cs(n)),s=null,a=n;;){if(a.tag===5||a.tag===26){if(s===null){K=s=a;try{if(w=K.stateNode,m)I=w.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{B=K.stateNode;var we=K.memoizedProps.style,de=we!=null&&we.hasOwnProperty("display")?we.display:null;B.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Ye){Gt(K,K.return,Ye)}}}else if(a.tag===6){if(s===null){K=a;try{K.stateNode.nodeValue=m?"":K.memoizedProps}catch(Ye){Gt(K,K.return,Ye)}}}else if(a.tag===18){if(s===null){K=a;try{var he=K.stateNode;m?VC(he,!0):VC(K.stateNode,!1)}catch(Ye){Gt(K,K.return,Ye)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=n.updateQueue,d!==null&&(s=d.retryQueue,s!==null&&(d.retryQueue=null,Bd(n,s))));break;case 19:_r(a,n),Rr(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Bd(n,d)));break;case 30:break;case 21:break;default:_r(a,n),Rr(n)}}function Rr(n){var a=n.flags;if(a&2){try{for(var s,d=n.return;d!==null;){if(Jw(d)){s=d;break}d=d.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var m=s.stateNode,w=dg(n);Dd(n,w,m);break;case 5:var I=s.stateNode;s.flags&32&&(fe(I,""),s.flags&=-33);var B=dg(n);Dd(n,B,I);break;case 3:case 4:var K=s.stateNode.containerInfo,ue=dg(n);fg(n,ue,K);break;default:throw Error(o(161))}}catch(me){Gt(n,n.return,me)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function lC(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;lC(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function To(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)nC(n,a.alternate,a),a=a.sibling}function cs(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:ci(4,a,a.return),cs(a);break;case 1:Ja(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Vw(a,a.return,s),cs(a);break;case 27:Fc(a.stateNode);case 26:case 5:Ja(a,a.return),cs(a);break;case 22:a.memoizedState===null&&cs(a);break;case 30:cs(a);break;default:cs(a)}n=n.sibling}}function ko(n,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,m=n,w=a,I=w.flags;switch(w.tag){case 0:case 11:case 15:ko(m,w,s),Ic(4,w);break;case 1:if(ko(m,w,s),d=w,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ue){Gt(d,d.return,ue)}if(d=w,m=d.updateQueue,m!==null){var B=d.stateNode;try{var K=m.shared.hiddenCallbacks;if(K!==null)for(m.shared.hiddenCallbacks=null,m=0;m<K.length;m++)L1(K[m],B)}catch(ue){Gt(d,d.return,ue)}}s&&I&64&&Kw(w),Pc(w,w.return);break;case 27:eC(w);case 26:case 5:ko(m,w,s),s&&d===null&&I&4&&Zw(w),Pc(w,w.return);break;case 12:ko(m,w,s);break;case 31:ko(m,w,s),s&&I&4&&oC(m,w);break;case 13:ko(m,w,s),s&&I&4&&iC(m,w);break;case 22:w.memoizedState===null&&ko(m,w,s),Pc(w,w.return);break;case 30:break;default:ko(m,w,s)}a=a.sibling}}function pg(n,a){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&vc(s))}function gg(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&vc(n))}function za(n,a,s,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)cC(n,a,s,d),a=a.sibling}function cC(n,a,s,d){var m=a.flags;switch(a.tag){case 0:case 11:case 15:za(n,a,s,d),m&2048&&Ic(9,a);break;case 1:za(n,a,s,d);break;case 3:za(n,a,s,d),m&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&vc(n)));break;case 12:if(m&2048){za(n,a,s,d),n=a.stateNode;try{var w=a.memoizedProps,I=w.id,B=w.onPostCommit;typeof B=="function"&&B(I,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(K){Gt(a,a.return,K)}}else za(n,a,s,d);break;case 31:za(n,a,s,d);break;case 13:za(n,a,s,d);break;case 23:break;case 22:w=a.stateNode,I=a.alternate,a.memoizedState!==null?w._visibility&2?za(n,a,s,d):jc(n,a):w._visibility&2?za(n,a,s,d):(w._visibility|=2,Zs(n,a,s,d,(a.subtreeFlags&10256)!==0||!1)),m&2048&&pg(I,a);break;case 24:za(n,a,s,d),m&2048&&gg(a.alternate,a);break;default:za(n,a,s,d)}}function Zs(n,a,s,d,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var w=n,I=a,B=s,K=d,ue=I.flags;switch(I.tag){case 0:case 11:case 15:Zs(w,I,B,K,m),Ic(8,I);break;case 23:break;case 22:var me=I.stateNode;I.memoizedState!==null?me._visibility&2?Zs(w,I,B,K,m):jc(w,I):(me._visibility|=2,Zs(w,I,B,K,m)),m&&ue&2048&&pg(I.alternate,I);break;case 24:Zs(w,I,B,K,m),m&&ue&2048&&gg(I.alternate,I);break;default:Zs(w,I,B,K,m)}a=a.sibling}}function jc(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=n,d=a,m=d.flags;switch(d.tag){case 22:jc(s,d),m&2048&&pg(d.alternate,d);break;case 24:jc(s,d),m&2048&&gg(d.alternate,d);break;default:jc(s,d)}a=a.sibling}}var Dc=8192;function Js(n,a,s){if(n.subtreeFlags&Dc)for(n=n.child;n!==null;)uC(n,a,s),n=n.sibling}function uC(n,a,s){switch(n.tag){case 26:Js(n,a,s),n.flags&Dc&&n.memoizedState!==null&&pP(s,Ba,n.memoizedState,n.memoizedProps);break;case 5:Js(n,a,s);break;case 3:case 4:var d=Ba;Ba=Kd(n.stateNode.containerInfo),Js(n,a,s),Ba=d;break;case 22:n.memoizedState===null&&(d=n.alternate,d!==null&&d.memoizedState!==null?(d=Dc,Dc=16777216,Js(n,a,s),Dc=d):Js(n,a,s));break;default:Js(n,a,s)}}function dC(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Bc(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var d=a[s];Vn=d,hC(d,n)}dC(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fC(n),n=n.sibling}function fC(n){switch(n.tag){case 0:case 11:case 15:Bc(n),n.flags&2048&&ci(9,n,n.return);break;case 3:Bc(n);break;case 12:Bc(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,zd(n)):Bc(n);break;default:Bc(n)}}function zd(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var d=a[s];Vn=d,hC(d,n)}dC(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:ci(8,a,a.return),zd(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,zd(a));break;default:zd(a)}n=n.sibling}}function hC(n,a){for(;Vn!==null;){var s=Vn;switch(s.tag){case 0:case 11:case 15:ci(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var d=s.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:vc(s.memoizedState.cache)}if(d=s.child,d!==null)d.return=s,Vn=d;else e:for(s=n;Vn!==null;){d=Vn;var m=d.sibling,w=d.return;if(rC(d),d===s){Vn=null;break e}if(m!==null){m.return=w,Vn=m;break e}Vn=w}}}var T5={getCacheForType:function(n){var a=nr(Pn),s=a.data.get(n);return s===void 0&&(s=n(),a.data.set(n,s)),s},cacheSignal:function(){return nr(Pn).controller.signal}},k5=typeof WeakMap=="function"?WeakMap:Map,Yt=0,an=null,Mt=null,Tt=0,Xt=0,Gr=null,ui=!1,el=!1,mg=!1,Oo=0,_n=0,di=0,us=0,yg=0,Wr=0,tl=0,zc=null,Tr=null,bg=!1,Nd=0,pC=0,Ld=1/0,Hd=null,fi=null,Yn=0,hi=null,nl=null,Io=0,vg=0,xg=null,gC=null,Nc=0,wg=null;function Qr(){return(Yt&2)!==0&&Tt!==0?Tt&-Tt:P.T!==null?_g():kn()}function mC(){if(Wr===0)if((Tt&536870912)===0||Pt){var n=Jt;Jt<<=1,(Jt&3932160)===0&&(Jt=262144),Wr=n}else Wr=536870912;return n=qr.current,n!==null&&(n.flags|=32),Wr}function kr(n,a,s){(n===an&&(Xt===2||Xt===9)||n.cancelPendingCommit!==null)&&(rl(n,0),pi(n,Tt,Wr,!1)),Wt(n,s),((Yt&2)===0||n!==an)&&(n===an&&((Yt&2)===0&&(us|=s),_n===4&&pi(n,Tt,Wr,!1)),eo(n))}function yC(n,a,s){if((Yt&6)!==0)throw Error(o(327));var d=!s&&(a&127)===0&&(a&n.expiredLanes)===0||Ln(n,a),m=d?P5(n,a):Sg(n,a,!0),w=d;do{if(m===0){el&&!d&&pi(n,a,0,!1);break}else{if(s=n.current.alternate,w&&!O5(s)){m=Sg(n,a,!1),w=!1;continue}if(m===2){if(w=a,n.errorRecoveryDisabledLanes&w)var I=0;else I=n.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){a=I;e:{var B=n;m=zc;var K=B.current.memoizedState.isDehydrated;if(K&&(rl(B,I).flags|=256),I=Sg(B,I,!1),I!==2){if(mg&&!K){B.errorRecoveryDisabledLanes|=w,us|=w,m=4;break e}w=Tr,Tr=m,w!==null&&(Tr===null?Tr=w:Tr.push.apply(Tr,w))}m=I}if(w=!1,m!==2)continue}}if(m===1){rl(n,0),pi(n,a,0,!0);break}e:{switch(d=n,w=m,w){case 0:case 1:throw Error(o(345));case 4:if((a&4194048)!==a)break;case 6:pi(d,a,Wr,!ui);break e;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(o(329))}if((a&62914560)===a&&(m=Nd+300-Fe(),10<m)){if(pi(d,a,Wr,!ui),vn(d,0,!0)!==0)break e;Io=a,d.timeoutHandle=WC(bC.bind(null,d,s,Tr,Hd,bg,a,Wr,us,tl,ui,w,"Throttled",-0,0),m);break e}bC(d,s,Tr,Hd,bg,a,Wr,us,tl,ui,w,null,-0,0)}}break}while(!0);eo(n)}function bC(n,a,s,d,m,w,I,B,K,ue,me,we,de,he){if(n.timeoutHandle=-1,we=a.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cn},uC(a,w,we);var Ye=(w&62914560)===w?Nd-Fe():(w&4194048)===w?pC-Fe():0;if(Ye=gP(we,Ye),Ye!==null){Io=w,n.cancelPendingCommit=Ye(MC.bind(null,n,a,w,s,d,m,I,B,K,me,we,null,de,he)),pi(n,w,I,!ue);return}}MC(n,a,w,s,d,m,I,B,K)}function O5(n){for(var a=n;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var d=0;d<s.length;d++){var m=s[d],w=m.getSnapshot;m=m.value;try{if(!Yr(w(),m))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function pi(n,a,s,d){a&=~yg,a&=~us,n.suspendedLanes|=a,n.pingedLanes&=~a,d&&(n.warmLanes|=a),d=n.expirationTimes;for(var m=a;0<m;){var w=31-Je(m),I=1<<w;d[w]=-1,m&=~I}s!==0&&Xn(n,s,a)}function $d(){return(Yt&6)===0?(Lc(0),!1):!0}function Cg(){if(Mt!==null){if(Xt===0)var n=Mt.return;else n=Mt,wo=ts=null,Np(n),Gs=null,wc=0,n=Mt;for(;n!==null;)Qw(n.alternate,n),n=n.return;Mt=null}}function rl(n,a){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,V5(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Io=0,Cg(),an=n,Mt=s=vo(n.current,null),Tt=a,Xt=0,Gr=null,ui=!1,el=Ln(n,a),mg=!1,tl=Wr=yg=us=di=_n=0,Tr=zc=null,bg=!1,(a&8)!==0&&(a|=a&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=a;0<d;){var m=31-Je(d),w=1<<m;a|=n[m],d&=~w}return Oo=a,ld(),s}function vC(n,a){vt=null,P.H=Tc,a===Xs||a===md?(a=D1(),Xt=3):a===Mp?(a=D1(),Xt=4):Xt=a===eg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Gr=a,Mt===null&&(_n=1,kd(n,da(a,n.current)))}function xC(){var n=qr.current;return n===null?!0:(Tt&4194048)===Tt?ga===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?n===ga:!1}function wC(){var n=P.H;return P.H=Tc,n===null?Tc:n}function CC(){var n=P.A;return P.A=T5,n}function Fd(){_n=4,ui||(Tt&4194048)!==Tt&&qr.current!==null||(el=!0),(di&134217727)===0&&(us&134217727)===0||an===null||pi(an,Tt,Wr,!1)}function Sg(n,a,s){var d=Yt;Yt|=2;var m=wC(),w=CC();(an!==n||Tt!==a)&&(Hd=null,rl(n,a)),a=!1;var I=_n;e:do try{if(Xt!==0&&Mt!==null){var B=Mt,K=Gr;switch(Xt){case 8:Cg(),I=6;break e;case 3:case 2:case 9:case 6:qr.current===null&&(a=!0);var ue=Xt;if(Xt=0,Gr=null,al(n,B,K,ue),s&&el){I=0;break e}break;default:ue=Xt,Xt=0,Gr=null,al(n,B,K,ue)}}I5(),I=_n;break}catch(me){vC(n,me)}while(!0);return a&&n.shellSuspendCounter++,wo=ts=null,Yt=d,P.H=m,P.A=w,Mt===null&&(an=null,Tt=0,ld()),I}function I5(){for(;Mt!==null;)SC(Mt)}function P5(n,a){var s=Yt;Yt|=2;var d=wC(),m=CC();an!==n||Tt!==a?(Hd=null,Ld=Fe()+500,rl(n,a)):el=Ln(n,a);e:do try{if(Xt!==0&&Mt!==null){a=Mt;var w=Gr;t:switch(Xt){case 1:Xt=0,Gr=null,al(n,a,w,1);break;case 2:case 9:if(P1(w)){Xt=0,Gr=null,AC(a);break}a=function(){Xt!==2&&Xt!==9||an!==n||(Xt=7),eo(n)},w.then(a,a);break e;case 3:Xt=7;break e;case 4:Xt=5;break e;case 7:P1(w)?(Xt=0,Gr=null,AC(a)):(Xt=0,Gr=null,al(n,a,w,7));break;case 5:var I=null;switch(Mt.tag){case 26:I=Mt.memoizedState;case 5:case 27:var B=Mt;if(I?cS(I):B.stateNode.complete){Xt=0,Gr=null;var K=B.sibling;if(K!==null)Mt=K;else{var ue=B.return;ue!==null?(Mt=ue,Yd(ue)):Mt=null}break t}}Xt=0,Gr=null,al(n,a,w,5);break;case 6:Xt=0,Gr=null,al(n,a,w,6);break;case 8:Cg(),_n=6;break e;default:throw Error(o(462))}}j5();break}catch(me){vC(n,me)}while(!0);return wo=ts=null,P.H=d,P.A=m,Yt=s,Mt!==null?0:(an=null,Tt=0,ld(),_n)}function j5(){for(;Mt!==null&&!tt();)SC(Mt)}function SC(n){var a=Gw(n.alternate,n,Oo);n.memoizedProps=n.pendingProps,a===null?Yd(n):Mt=a}function AC(n){var a=n,s=a.alternate;switch(a.tag){case 15:case 0:a=$w(s,a,a.pendingProps,a.type,void 0,Tt);break;case 11:a=$w(s,a,a.pendingProps,a.type.render,a.ref,Tt);break;case 5:Np(a);default:Qw(s,a),a=Mt=C1(a,Oo),a=Gw(s,a,Oo)}n.memoizedProps=n.pendingProps,a===null?Yd(n):Mt=a}function al(n,a,s,d){wo=ts=null,Np(a),Gs=null,wc=0;var m=a.return;try{if(C5(n,m,a,s,Tt)){_n=1,kd(n,da(s,n.current)),Mt=null;return}}catch(w){if(m!==null)throw Mt=m,w;_n=1,kd(n,da(s,n.current)),Mt=null;return}a.flags&32768?(Pt||d===1?n=!0:el||(Tt&536870912)!==0?n=!1:(ui=n=!0,(d===2||d===9||d===3||d===6)&&(d=qr.current,d!==null&&d.tag===13&&(d.flags|=16384))),EC(a,n)):Yd(a)}function Yd(n){var a=n;do{if((a.flags&32768)!==0){EC(a,ui);return}n=a.return;var s=E5(a.alternate,a,Oo);if(s!==null){Mt=s;return}if(a=a.sibling,a!==null){Mt=a;return}Mt=a=n}while(a!==null);_n===0&&(_n=5)}function EC(n,a){do{var s=M5(n.alternate,n);if(s!==null){s.flags&=32767,Mt=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(n=n.sibling,n!==null)){Mt=n;return}Mt=n=s}while(n!==null);_n=6,Mt=null}function MC(n,a,s,d,m,w,I,B,K){n.cancelPendingCommit=null;do Ud();while(Yn!==0);if((Yt&6)!==0)throw Error(o(327));if(a!==null){if(a===n.current)throw Error(o(177));if(w=a.lanes|a.childLanes,w|=dp,qn(n,s,w,I,B,K),n===an&&(Mt=an=null,Tt=0),nl=a,hi=n,Io=s,vg=w,xg=m,gC=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,N5(ft,function(){return OC(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=P.T,P.T=null,m=L.p,L.p=2,I=Yt,Yt|=4;try{_5(n,a,s)}finally{Yt=I,L.p=m,P.T=d}}Yn=1,_C(),RC(),TC()}}function _C(){if(Yn===1){Yn=0;var n=hi,a=nl,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var d=L.p;L.p=2;var m=Yt;Yt|=4;try{sC(a,n);var w=Dg,I=h1(n.containerInfo),B=w.focusedElem,K=w.selectionRange;if(I!==B&&B&&B.ownerDocument&&f1(B.ownerDocument.documentElement,B)){if(K!==null&&ip(B)){var ue=K.start,me=K.end;if(me===void 0&&(me=ue),"selectionStart"in B)B.selectionStart=ue,B.selectionEnd=Math.min(me,B.value.length);else{var we=B.ownerDocument||document,de=we&&we.defaultView||window;if(de.getSelection){var he=de.getSelection(),Ye=B.textContent.length,it=Math.min(K.start,Ye),Vt=K.end===void 0?it:Math.min(K.end,Ye);!he.extend&&it>Vt&&(I=Vt,Vt=it,it=I);var oe=d1(B,it),ne=d1(B,Vt);if(oe&&ne&&(he.rangeCount!==1||he.anchorNode!==oe.node||he.anchorOffset!==oe.offset||he.focusNode!==ne.node||he.focusOffset!==ne.offset)){var le=we.createRange();le.setStart(oe.node,oe.offset),he.removeAllRanges(),it>Vt?(he.addRange(le),he.extend(ne.node,ne.offset)):(le.setEnd(ne.node,ne.offset),he.addRange(le))}}}}for(we=[],he=B;he=he.parentNode;)he.nodeType===1&&we.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<we.length;B++){var xe=we[B];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}nf=!!jg,Dg=jg=null}finally{Yt=m,L.p=d,P.T=s}}n.current=a,Yn=2}}function RC(){if(Yn===2){Yn=0;var n=hi,a=nl,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var d=L.p;L.p=2;var m=Yt;Yt|=4;try{nC(n,a.alternate,a)}finally{Yt=m,L.p=d,P.T=s}}Yn=3}}function TC(){if(Yn===4||Yn===3){Yn=0,$e();var n=hi,a=nl,s=Io,d=gC;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Yn=5:(Yn=0,nl=hi=null,kC(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(fi=null),et(s),a=a.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(_e,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=P.T,m=L.p,L.p=2,P.T=null;try{for(var w=n.onRecoverableError,I=0;I<d.length;I++){var B=d[I];w(B.value,{componentStack:B.stack})}}finally{P.T=a,L.p=m}}(Io&3)!==0&&Ud(),eo(n),m=n.pendingLanes,(s&261930)!==0&&(m&42)!==0?n===wg?Nc++:(Nc=0,wg=n):Nc=0,Lc(0)}}function kC(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,vc(a)))}function Ud(){return _C(),RC(),TC(),OC()}function OC(){if(Yn!==5)return!1;var n=hi,a=vg;vg=0;var s=et(Io),d=P.T,m=L.p;try{L.p=32>s?32:s,P.T=null,s=xg,xg=null;var w=hi,I=Io;if(Yn=0,nl=hi=null,Io=0,(Yt&6)!==0)throw Error(o(331));var B=Yt;if(Yt|=4,fC(w.current),cC(w,w.current,I,s),Yt=B,Lc(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(_e,w)}catch{}return!0}finally{L.p=m,P.T=d,kC(n,a)}}function IC(n,a,s){a=da(s,a),a=Jp(n.stateNode,a,2),n=ii(n,a,2),n!==null&&(Wt(n,2),eo(n))}function Gt(n,a,s){if(n.tag===3)IC(n,n,s);else for(;a!==null;){if(a.tag===3){IC(a,n,s);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(fi===null||!fi.has(d))){n=da(s,n),s=Pw(2),d=ii(a,s,2),d!==null&&(jw(s,d,a,n),Wt(d,2),eo(d));break}}a=a.return}}function Ag(n,a,s){var d=n.pingCache;if(d===null){d=n.pingCache=new k5;var m=new Set;d.set(a,m)}else m=d.get(a),m===void 0&&(m=new Set,d.set(a,m));m.has(s)||(mg=!0,m.add(s),n=D5.bind(null,n,a,s),a.then(n,n))}function D5(n,a,s){var d=n.pingCache;d!==null&&d.delete(a),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,an===n&&(Tt&s)===s&&(_n===4||_n===3&&(Tt&62914560)===Tt&&300>Fe()-Nd?(Yt&2)===0&&rl(n,0):yg|=s,tl===Tt&&(tl=0)),eo(n)}function PC(n,a){a===0&&(a=xr()),n=Zi(n,a),n!==null&&(Wt(n,a),eo(n))}function B5(n){var a=n.memoizedState,s=0;a!==null&&(s=a.retryLane),PC(n,s)}function z5(n,a){var s=0;switch(n.tag){case 31:case 13:var d=n.stateNode,m=n.memoizedState;m!==null&&(s=m.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(o(314))}d!==null&&d.delete(a),PC(n,s)}function N5(n,a){return dt(n,a)}var qd=null,ol=null,Eg=!1,Xd=!1,Mg=!1,gi=0;function eo(n){n!==ol&&n.next===null&&(ol===null?qd=ol=n:ol=ol.next=n),Xd=!0,Eg||(Eg=!0,H5())}function Lc(n,a){if(!Mg&&Xd){Mg=!0;do for(var s=!1,d=qd;d!==null;){if(n!==0){var m=d.pendingLanes;if(m===0)var w=0;else{var I=d.suspendedLanes,B=d.pingedLanes;w=(1<<31-Je(42|n)+1)-1,w&=m&~(I&~B),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(s=!0,zC(d,w))}else w=Tt,w=vn(d,d===an?w:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(w&3)===0||Ln(d,w)||(s=!0,zC(d,w));d=d.next}while(s);Mg=!1}}function L5(){jC()}function jC(){Xd=Eg=!1;var n=0;gi!==0&&K5()&&(n=gi);for(var a=Fe(),s=null,d=qd;d!==null;){var m=d.next,w=DC(d,a);w===0?(d.next=null,s===null?qd=m:s.next=m,m===null&&(ol=s)):(s=d,(n!==0||(w&3)!==0)&&(Xd=!0)),d=m}Yn!==0&&Yn!==5||Lc(n),gi!==0&&(gi=0)}function DC(n,a){for(var s=n.suspendedLanes,d=n.pingedLanes,m=n.expirationTimes,w=n.pendingLanes&-62914561;0<w;){var I=31-Je(w),B=1<<I,K=m[I];K===-1?((B&s)===0||(B&d)!==0)&&(m[I]=Cn(B,a)):K<=a&&(n.expiredLanes|=B),w&=~B}if(a=an,s=Tt,s=vn(n,n===a?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,s===0||n===a&&(Xt===2||Xt===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&Qe(d),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Ln(n,s)){if(a=s&-s,a===n.callbackPriority)return a;switch(d!==null&&Qe(d),et(s)){case 2:case 8:s=Ke;break;case 32:s=ft;break;case 268435456:s=Re;break;default:s=ft}return d=BC.bind(null,n),s=dt(s,d),n.callbackPriority=a,n.callbackNode=s,a}return d!==null&&d!==null&&Qe(d),n.callbackPriority=2,n.callbackNode=null,2}function BC(n,a){if(Yn!==0&&Yn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Ud()&&n.callbackNode!==s)return null;var d=Tt;return d=vn(n,n===an?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(yC(n,d,a),DC(n,Fe()),n.callbackNode!=null&&n.callbackNode===s?BC.bind(null,n):null)}function zC(n,a){if(Ud())return null;yC(n,a,!0)}function H5(){Z5(function(){(Yt&6)!==0?dt(rt,L5):jC()})}function _g(){if(gi===0){var n=Us;n===0&&(n=ct,ct<<=1,(ct&261888)===0&&(ct=256)),gi=n}return gi}function NC(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:lt(""+n)}function LC(n,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,n.id&&s.setAttribute("form",n.id),a.parentNode.insertBefore(s,a),n=new FormData(n),s.parentNode.removeChild(s),n}function $5(n,a,s,d,m){if(a==="submit"&&s&&s.stateNode===m){var w=NC((m[tn]||null).action),I=d.submitter;I&&(a=(a=I[tn]||null)?NC(a.formAction):I.getAttribute("formAction"),a!==null&&(w=a,I=null));var B=new Wi("action","action",null,d,m);n.push({event:B,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(gi!==0){var K=I?LC(m,I):new FormData(m);Gp(s,{pending:!0,data:K,method:m.method,action:w},null,K)}}else typeof w=="function"&&(B.preventDefault(),K=I?LC(m,I):new FormData(m),Gp(s,{pending:!0,data:K,method:m.method,action:w},w,K))},currentTarget:m}]})}}for(var Rg=0;Rg<up.length;Rg++){var Tg=up[Rg],F5=Tg.toLowerCase(),Y5=Tg[0].toUpperCase()+Tg.slice(1);Da(F5,"on"+Y5)}Da(m1,"onAnimationEnd"),Da(y1,"onAnimationIteration"),Da(b1,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(o5,"onTransitionRun"),Da(i5,"onTransitionStart"),Da(s5,"onTransitionCancel"),Da(v1,"onTransitionEnd"),Hr("onMouseEnter",["mouseout","mouseover"]),Hr("onMouseLeave",["mouseout","mouseover"]),Hr("onPointerEnter",["pointerout","pointerover"]),Hr("onPointerLeave",["pointerout","pointerover"]),Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hc));function HC(n,a){a=(a&4)!==0;for(var s=0;s<n.length;s++){var d=n[s],m=d.event;d=d.listeners;e:{var w=void 0;if(a)for(var I=d.length-1;0<=I;I--){var B=d[I],K=B.instance,ue=B.currentTarget;if(B=B.listener,K!==w&&m.isPropagationStopped())break e;w=B,m.currentTarget=ue;try{w(m)}catch(me){sd(me)}m.currentTarget=null,w=K}else for(I=0;I<d.length;I++){if(B=d[I],K=B.instance,ue=B.currentTarget,B=B.listener,K!==w&&m.isPropagationStopped())break e;w=B,m.currentTarget=ue;try{w(m)}catch(me){sd(me)}m.currentTarget=null,w=K}}}}function _t(n,a){var s=a[Nr];s===void 0&&(s=a[Nr]=new Set);var d=n+"__bubble";s.has(d)||($C(a,n,2,!1),s.add(d))}function kg(n,a,s){var d=0;a&&(d|=4),$C(s,n,d,a)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function Og(n){if(!n[Gd]){n[Gd]=!0,qi.forEach(function(s){s!=="selectionchange"&&(U5.has(s)||kg(s,!1,n),kg(s,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Gd]||(a[Gd]=!0,kg("selectionchange",!1,a))}}function $C(n,a,s,d){switch(mS(a)){case 2:var m=bP;break;case 8:m=vP;break;default:m=Xg}s=m.bind(null,a,s,n),m=void 0,!Kn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),d?m!==void 0?n.addEventListener(a,s,{capture:!0,passive:m}):n.addEventListener(a,s,!0):m!==void 0?n.addEventListener(a,s,{passive:m}):n.addEventListener(a,s,!1)}function Ig(n,a,s,d,m){var w=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var I=d.tag;if(I===3||I===4){var B=d.stateNode.containerInfo;if(B===m)break;if(I===4)for(I=d.return;I!==null;){var K=I.tag;if((K===3||K===4)&&I.stateNode.containerInfo===m)return;I=I.return}for(;B!==null;){if(I=Lr(B),I===null)return;if(K=I.tag,K===5||K===6||K===26||K===27){d=w=I;continue e}B=B.parentNode}}d=d.return}st(function(){var ue=w,me=qt(s),we=[];e:{var de=x1.get(n);if(de!==void 0){var he=Wi,Ye=n;switch(n){case"keypress":if(On(s)===0)break e;case"keydown":case"keyup":he=Zh;break;case"focusin":Ye="focus",he=Ps;break;case"focusout":Ye="blur",he=Ps;break;case"beforeblur":case"afterblur":he=Ps;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=tp;break;case m1:case y1:case b1:he=Ku;break;case v1:he=js;break;case"scroll":case"scrollend":he=Qi;break;case"wheel":he=rp;break;case"copy":case"cut":case"paste":he=Zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=ad;break;case"toggle":case"beforetoggle":he=G}var it=(a&4)!==0,Vt=!it&&(n==="scroll"||n==="scrollend"),oe=it?de!==null?de+"Capture":null:de;it=[];for(var ne=ue,le;ne!==null;){var xe=ne;if(le=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||le===null||oe===null||(xe=St(ne,oe),xe!=null&&it.push($c(ne,xe,le))),Vt)break;ne=ne.return}0<it.length&&(de=new he(de,Ye,null,s,me),we.push({event:de,listeners:it}))}}if((a&7)===0){e:{if(de=n==="mouseover"||n==="pointerover",he=n==="mouseout"||n==="pointerout",de&&s!==wt&&(Ye=s.relatedTarget||s.fromElement)&&(Lr(Ye)||Ye[Gn]))break e;if((he||de)&&(de=me.window===me?me:(de=me.ownerDocument)?de.defaultView||de.parentWindow:window,he?(Ye=s.relatedTarget||s.toElement,he=ue,Ye=Ye?Lr(Ye):null,Ye!==null&&(Vt=l(Ye),it=Ye.tag,Ye!==Vt||it!==5&&it!==27&&it!==6)&&(Ye=null)):(he=null,Ye=ue),he!==Ye)){if(it=Zo,xe="onMouseLeave",oe="onMouseEnter",ne="mouse",(n==="pointerout"||n==="pointerover")&&(it=ad,xe="onPointerLeave",oe="onPointerEnter",ne="pointer"),Vt=he==null?de:nn(he),le=Ye==null?de:nn(Ye),de=new it(xe,ne+"leave",he,s,me),de.target=Vt,de.relatedTarget=le,xe=null,Lr(me)===ue&&(it=new it(oe,ne+"enter",Ye,s,me),it.target=le,it.relatedTarget=Vt,xe=it),Vt=xe,he&&Ye)t:{for(it=q5,oe=he,ne=Ye,le=0,xe=oe;xe;xe=it(xe))le++;xe=0;for(var Ze=ne;Ze;Ze=it(Ze))xe++;for(;0<le-xe;)oe=it(oe),le--;for(;0<xe-le;)ne=it(ne),xe--;for(;le--;){if(oe===ne||ne!==null&&oe===ne.alternate){it=oe;break t}oe=it(oe),ne=it(ne)}it=null}else it=null;he!==null&&FC(we,de,he,it,!1),Ye!==null&&Vt!==null&&FC(we,Vt,Ye,it,!0)}}e:{if(de=ue?nn(ue):window,he=de.nodeName&&de.nodeName.toLowerCase(),he==="select"||he==="input"&&de.type==="file")var Lt=o1;else if(r1(de))if(i1)Lt=n5;else{Lt=e5;var Ue=JI}else he=de.nodeName,!he||he.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ue&&Me(ue.elementType)&&(Lt=o1):Lt=t5;if(Lt&&(Lt=Lt(n,ue))){a1(we,Lt,s,me);break e}Ue&&Ue(n,de,ue),n==="focusout"&&ue&&de.type==="number"&&ue.memoizedProps.value!=null&&la(de,"number",de.value)}switch(Ue=ue?nn(ue):window,n){case"focusin":(r1(Ue)||Ue.contentEditable==="true")&&(Bs=Ue,sp=ue,mc=null);break;case"focusout":mc=sp=Bs=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,p1(we,s,me);break;case"selectionchange":if(a5)break;case"keydown":case"keyup":p1(we,s,me)}var xt;if(ve)e:{switch(n){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else Jo?In(n,s)&&(kt="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(kt="onCompositionStart");kt&&(Et&&s.locale!=="ko"&&(Jo||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Jo&&(xt=mr()):(gr=me,Ia="value"in gr?gr.value:gr.textContent,Jo=!0)),Ue=Wd(ue,kt),0<Ue.length&&(kt=new dc(kt,n,null,s,me),we.push({event:kt,listeners:Ue}),xt?kt.data=xt:(xt=Ds(s),xt!==null&&(kt.data=xt)))),(xt=ot?QI(n,s):KI(n,s))&&(kt=Wd(ue,"onBeforeInput"),0<kt.length&&(Ue=new dc("onBeforeInput","beforeinput",null,s,me),we.push({event:Ue,listeners:kt}),Ue.data=xt)),$5(we,n,ue,s,me)}HC(we,a)})}function $c(n,a,s){return{instance:n,listener:a,currentTarget:s}}function Wd(n,a){for(var s=a+"Capture",d=[];n!==null;){var m=n,w=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||w===null||(m=St(n,s),m!=null&&d.unshift($c(n,m,w)),m=St(n,a),m!=null&&d.push($c(n,m,w))),n.tag===3)return d;n=n.return}return[]}function q5(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function FC(n,a,s,d,m){for(var w=a._reactName,I=[];s!==null&&s!==d;){var B=s,K=B.alternate,ue=B.stateNode;if(B=B.tag,K!==null&&K===d)break;B!==5&&B!==26&&B!==27||ue===null||(K=ue,m?(ue=St(s,w),ue!=null&&I.unshift($c(s,ue,K))):m||(ue=St(s,w),ue!=null&&I.push($c(s,ue,K)))),s=s.return}I.length!==0&&n.push({event:a,listeners:I})}var X5=/\r\n?/g,G5=/\u0000|\uFFFD/g;function YC(n){return(typeof n=="string"?n:""+n).replace(X5,`
`).replace(G5,"")}function UC(n,a){return a=YC(a),YC(n)===a}function Kt(n,a,s,d,m,w){switch(s){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||fe(n,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&fe(n,""+d);break;case"className":Oa(n,"class",d);break;case"tabIndex":Oa(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Oa(n,s,d);break;case"style":nt(n,d,w);break;case"data":if(a!=="object"){Oa(n,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||s!=="href")){n.removeAttribute(s);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(s);break}d=lt(""+d),n.setAttribute(s,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(s==="formAction"?(a!=="input"&&Kt(n,a,"name",m.name,m,null),Kt(n,a,"formEncType",m.formEncType,m,null),Kt(n,a,"formMethod",m.formMethod,m,null),Kt(n,a,"formTarget",m.formTarget,m,null)):(Kt(n,a,"encType",m.encType,m,null),Kt(n,a,"method",m.method,m,null),Kt(n,a,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(s);break}d=lt(""+d),n.setAttribute(s,d);break;case"onClick":d!=null&&(n.onclick=cn);break;case"onScroll":d!=null&&_t("scroll",n);break;case"onScrollEnd":d!=null&&_t("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(o(61));if(s=d.__html,s!=null){if(m.children!=null)throw Error(o(60));n.innerHTML=s}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}s=lt(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(s,""+d):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":d===!0?n.setAttribute(s,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(s,d):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(s,d):n.removeAttribute(s);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(s):n.setAttribute(s,d);break;case"popover":_t("beforetoggle",n),_t("toggle",n),Sr(n,"popover",d);break;case"xlinkActuate":$r(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":$r(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":$r(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":$r(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":$r(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":$r(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":$r(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":$r(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":$r(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Sr(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=zt.get(s)||s,Sr(n,s,d))}}function Pg(n,a,s,d,m,w){switch(s){case"style":nt(n,d,w);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(o(61));if(s=d.__html,s!=null){if(m.children!=null)throw Error(o(60));n.innerHTML=s}}break;case"children":typeof d=="string"?fe(n,d):(typeof d=="number"||typeof d=="bigint")&&fe(n,""+d);break;case"onScroll":d!=null&&_t("scroll",n);break;case"onScrollEnd":d!=null&&_t("scrollend",n);break;case"onClick":d!=null&&(n.onclick=cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Os.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),a=s.slice(2,m?s.length-7:void 0),w=n[tn]||null,w=w!=null?w[s]:null,typeof w=="function"&&n.removeEventListener(a,w,m),typeof d=="function")){typeof w!="function"&&w!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(a,d,m);break e}s in n?n[s]=d:d===!0?n.setAttribute(s,""):Sr(n,s,d)}}}function ar(n,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",n),_t("load",n);var d=!1,m=!1,w;for(w in s)if(s.hasOwnProperty(w)){var I=s[w];if(I!=null)switch(w){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:Kt(n,a,w,I,s,null)}}m&&Kt(n,a,"srcSet",s.srcSet,s,null),d&&Kt(n,a,"src",s.src,s,null);return;case"input":_t("invalid",n);var B=w=I=m=null,K=null,ue=null;for(d in s)if(s.hasOwnProperty(d)){var me=s[d];if(me!=null)switch(d){case"name":m=me;break;case"type":I=me;break;case"checked":K=me;break;case"defaultChecked":ue=me;break;case"value":w=me;break;case"defaultValue":B=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(o(137,a));break;default:Kt(n,a,d,me,s,null)}}Is(n,w,B,K,ue,I,m,!1);return;case"select":_t("invalid",n),d=I=w=null;for(m in s)if(s.hasOwnProperty(m)&&(B=s[m],B!=null))switch(m){case"value":w=B;break;case"defaultValue":I=B;break;case"multiple":d=B;default:Kt(n,a,m,B,s,null)}a=w,s=I,n.multiple=!!d,a!=null?ca(n,!!d,a,!1):s!=null&&ca(n,!!d,s,!0);return;case"textarea":_t("invalid",n),w=m=d=null;for(I in s)if(s.hasOwnProperty(I)&&(B=s[I],B!=null))switch(I){case"value":d=B;break;case"defaultValue":m=B;break;case"children":w=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(91));break;default:Kt(n,a,I,B,s,null)}Er(n,d,m,w);return;case"option":for(K in s)if(s.hasOwnProperty(K)&&(d=s[K],d!=null))switch(K){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Kt(n,a,K,d,s,null)}return;case"dialog":_t("beforetoggle",n),_t("toggle",n),_t("cancel",n),_t("close",n);break;case"iframe":case"object":_t("load",n);break;case"video":case"audio":for(d=0;d<Hc.length;d++)_t(Hc[d],n);break;case"image":_t("error",n),_t("load",n);break;case"details":_t("toggle",n);break;case"embed":case"source":case"link":_t("error",n),_t("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in s)if(s.hasOwnProperty(ue)&&(d=s[ue],d!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:Kt(n,a,ue,d,s,null)}return;default:if(Me(a)){for(me in s)s.hasOwnProperty(me)&&(d=s[me],d!==void 0&&Pg(n,a,me,d,s,void 0));return}}for(B in s)s.hasOwnProperty(B)&&(d=s[B],d!=null&&Kt(n,a,B,d,s,null))}function W5(n,a,s,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,w=null,I=null,B=null,K=null,ue=null,me=null;for(he in s){var we=s[he];if(s.hasOwnProperty(he)&&we!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":K=we;default:d.hasOwnProperty(he)||Kt(n,a,he,null,d,we)}}for(var de in d){var he=d[de];if(we=s[de],d.hasOwnProperty(de)&&(he!=null||we!=null))switch(de){case"type":w=he;break;case"name":m=he;break;case"checked":ue=he;break;case"defaultChecked":me=he;break;case"value":I=he;break;case"defaultValue":B=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(o(137,a));break;default:he!==we&&Kt(n,a,de,he,d,we)}}Ar(n,I,B,K,ue,me,w,m);return;case"select":he=I=B=de=null;for(w in s)if(K=s[w],s.hasOwnProperty(w)&&K!=null)switch(w){case"value":break;case"multiple":he=K;default:d.hasOwnProperty(w)||Kt(n,a,w,null,d,K)}for(m in d)if(w=d[m],K=s[m],d.hasOwnProperty(m)&&(w!=null||K!=null))switch(m){case"value":de=w;break;case"defaultValue":B=w;break;case"multiple":I=w;default:w!==K&&Kt(n,a,m,w,d,K)}a=B,s=I,d=he,de!=null?ca(n,!!s,de,!1):!!d!=!!s&&(a!=null?ca(n,!!s,a,!0):ca(n,!!s,s?[]:"",!1));return;case"textarea":he=de=null;for(B in s)if(m=s[B],s.hasOwnProperty(B)&&m!=null&&!d.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Kt(n,a,B,null,d,m)}for(I in d)if(m=d[I],w=s[I],d.hasOwnProperty(I)&&(m!=null||w!=null))switch(I){case"value":de=m;break;case"defaultValue":he=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:m!==w&&Kt(n,a,I,m,d,w)}Xi(n,de,he);return;case"option":for(var Ye in s)if(de=s[Ye],s.hasOwnProperty(Ye)&&de!=null&&!d.hasOwnProperty(Ye))switch(Ye){case"selected":n.selected=!1;break;default:Kt(n,a,Ye,null,d,de)}for(K in d)if(de=d[K],he=s[K],d.hasOwnProperty(K)&&de!==he&&(de!=null||he!=null))switch(K){case"selected":n.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Kt(n,a,K,de,d,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in s)de=s[it],s.hasOwnProperty(it)&&de!=null&&!d.hasOwnProperty(it)&&Kt(n,a,it,null,d,de);for(ue in d)if(de=d[ue],he=s[ue],d.hasOwnProperty(ue)&&de!==he&&(de!=null||he!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(o(137,a));break;default:Kt(n,a,ue,de,d,he)}return;default:if(Me(a)){for(var Vt in s)de=s[Vt],s.hasOwnProperty(Vt)&&de!==void 0&&!d.hasOwnProperty(Vt)&&Pg(n,a,Vt,void 0,d,de);for(me in d)de=d[me],he=s[me],!d.hasOwnProperty(me)||de===he||de===void 0&&he===void 0||Pg(n,a,me,de,d,he);return}}for(var oe in s)de=s[oe],s.hasOwnProperty(oe)&&de!=null&&!d.hasOwnProperty(oe)&&Kt(n,a,oe,null,d,de);for(we in d)de=d[we],he=s[we],!d.hasOwnProperty(we)||de===he||de==null&&he==null||Kt(n,a,we,de,d,he)}function qC(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Q5(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,s=performance.getEntriesByType("resource"),d=0;d<s.length;d++){var m=s[d],w=m.transferSize,I=m.initiatorType,B=m.duration;if(w&&B&&qC(I)){for(I=0,B=m.responseEnd,d+=1;d<s.length;d++){var K=s[d],ue=K.startTime;if(ue>B)break;var me=K.transferSize,we=K.initiatorType;me&&qC(we)&&(K=K.responseEnd,I+=me*(K<B?1:(B-ue)/(K-ue)))}if(--d,a+=8*(w+I)/(m.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var jg=null,Dg=null;function Qd(n){return n.nodeType===9?n:n.ownerDocument}function XC(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GC(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Bg(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zg=null;function K5(){var n=window.event;return n&&n.type==="popstate"?n===zg?!1:(zg=n,!0):(zg=null,!1)}var WC=typeof setTimeout=="function"?setTimeout:void 0,V5=typeof clearTimeout=="function"?clearTimeout:void 0,QC=typeof Promise=="function"?Promise:void 0,Z5=typeof queueMicrotask=="function"?queueMicrotask:typeof QC<"u"?function(n){return QC.resolve(null).then(n).catch(J5)}:WC;function J5(n){setTimeout(function(){throw n})}function mi(n){return n==="head"}function KC(n,a){var s=a,d=0;do{var m=s.nextSibling;if(n.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"||s==="/&"){if(d===0){n.removeChild(m),cl(a);return}d--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")d++;else if(s==="html")Fc(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,Fc(s);for(var w=s.firstChild;w;){var I=w.nextSibling,B=w.nodeName;w[xn]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=I}}else s==="body"&&Fc(n.ownerDocument.body);s=m}while(s);cl(a)}function VC(n,a){var s=n;n=0;do{var d=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=d}while(s)}function Ng(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ng(s),ir(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function eP(n,a,s,d){for(;n.nodeType===1;){var m=s;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[xn])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(w=n.getAttribute("rel"),w==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(w!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(w=n.getAttribute("src"),(w!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&w&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var w=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===w)return n}else return n;if(n=ma(n.nextSibling),n===null)break}return null}function tP(n,a,s){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ma(n.nextSibling),n===null))return null;return n}function ZC(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ma(n.nextSibling),n===null))return null;return n}function Lg(n){return n.data==="$?"||n.data==="$~"}function Hg(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function nP(n,a){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||s.readyState!=="loading")a();else{var d=function(){a(),s.removeEventListener("DOMContentLoaded",d)};s.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function ma(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var $g=null;function JC(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(a===0)return ma(n.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}n=n.nextSibling}return null}function eS(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return n;a--}else s!=="/$"&&s!=="/&"||a++}n=n.previousSibling}return null}function tS(n,a,s){switch(a=Qd(s),n){case"html":if(n=a.documentElement,!n)throw Error(o(452));return n;case"head":if(n=a.head,!n)throw Error(o(453));return n;case"body":if(n=a.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function Fc(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);ir(n)}var ya=new Map,nS=new Set;function Kd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Po=L.d;L.d={f:rP,r:aP,D:oP,C:iP,L:sP,m:lP,X:uP,S:cP,M:dP};function rP(){var n=Po.f(),a=$d();return n||a}function aP(n){var a=Ga(n);a!==null&&a.tag===5&&a.type==="form"?vw(a):Po.r(n)}var il=typeof document>"u"?null:document;function rS(n,a,s){var d=il;if(d&&typeof a=="string"&&a){var m=Fn(a);m='link[rel="'+n+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),nS.has(m)||(nS.add(m),n={rel:n,crossOrigin:s,href:a},d.querySelector(m)===null&&(a=d.createElement("link"),ar(a,"link",n),An(a),d.head.appendChild(a)))}}function oP(n){Po.D(n),rS("dns-prefetch",n,null)}function iP(n,a){Po.C(n,a),rS("preconnect",n,a)}function sP(n,a,s){Po.L(n,a,s);var d=il;if(d&&n&&a){var m='link[rel="preload"][as="'+Fn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+Fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+Fn(s.imageSizes)+'"]')):m+='[href="'+Fn(n)+'"]';var w=m;switch(a){case"style":w=sl(n);break;case"script":w=ll(n)}ya.has(w)||(n=g({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:n,as:a},s),ya.set(w,n),d.querySelector(m)!==null||a==="style"&&d.querySelector(Yc(w))||a==="script"&&d.querySelector(Uc(w))||(a=d.createElement("link"),ar(a,"link",n),An(a),d.head.appendChild(a)))}}function lP(n,a){Po.m(n,a);var s=il;if(s&&n){var d=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Fn(d)+'"][href="'+Fn(n)+'"]',w=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=ll(n)}if(!ya.has(w)&&(n=g({rel:"modulepreload",href:n},a),ya.set(w,n),s.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Uc(w)))return}d=s.createElement("link"),ar(d,"link",n),An(d),s.head.appendChild(d)}}}function cP(n,a,s){Po.S(n,a,s);var d=il;if(d&&n){var m=wr(d).hoistableStyles,w=sl(n);a=a||"default";var I=m.get(w);if(!I){var B={loading:0,preload:null};if(I=d.querySelector(Yc(w)))B.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":a},s),(s=ya.get(w))&&Fg(n,s);var K=I=d.createElement("link");An(K),ar(K,"link",n),K._p=new Promise(function(ue,me){K.onload=ue,K.onerror=me}),K.addEventListener("load",function(){B.loading|=1}),K.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Vd(I,a,d)}I={type:"stylesheet",instance:I,count:1,state:B},m.set(w,I)}}}function uP(n,a){Po.X(n,a);var s=il;if(s&&n){var d=wr(s).hoistableScripts,m=ll(n),w=d.get(m);w||(w=s.querySelector(Uc(m)),w||(n=g({src:n,async:!0},a),(a=ya.get(m))&&Yg(n,a),w=s.createElement("script"),An(w),ar(w,"link",n),s.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(m,w))}}function dP(n,a){Po.M(n,a);var s=il;if(s&&n){var d=wr(s).hoistableScripts,m=ll(n),w=d.get(m);w||(w=s.querySelector(Uc(m)),w||(n=g({src:n,async:!0,type:"module"},a),(a=ya.get(m))&&Yg(n,a),w=s.createElement("script"),An(w),ar(w,"link",n),s.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(m,w))}}function aS(n,a,s,d){var m=(m=ee.current)?Kd(m):null;if(!m)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=sl(s.href),s=wr(m).hoistableStyles,d=s.get(a),d||(d={type:"style",instance:null,count:0,state:null},s.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=sl(s.href);var w=wr(m).hoistableStyles,I=w.get(n);if(I||(m=m.ownerDocument||m,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(n,I),(w=m.querySelector(Yc(n)))&&!w._p&&(I.instance=w,I.state.loading=5),ya.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ya.set(n,s),w||fP(m,n,s,I.state))),a&&d===null)throw Error(o(528,""));return I}if(a&&d!==null)throw Error(o(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ll(s),s=wr(m).hoistableScripts,d=s.get(a),d||(d={type:"script",instance:null,count:0,state:null},s.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function sl(n){return'href="'+Fn(n)+'"'}function Yc(n){return'link[rel="stylesheet"]['+n+"]"}function oS(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function fP(n,a,s,d){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=n.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),ar(a,"link",s),An(a),n.head.appendChild(a))}function ll(n){return'[src="'+Fn(n)+'"]'}function Uc(n){return"script[async]"+n}function iS(n,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var d=n.querySelector('style[data-href~="'+Fn(s.href)+'"]');if(d)return a.instance=d,An(d),d;var m=g({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),An(d),ar(d,"style",m),Vd(d,s.precedence,n),a.instance=d;case"stylesheet":m=sl(s.href);var w=n.querySelector(Yc(m));if(w)return a.state.loading|=4,a.instance=w,An(w),w;d=oS(s),(m=ya.get(m))&&Fg(d,m),w=(n.ownerDocument||n).createElement("link"),An(w);var I=w;return I._p=new Promise(function(B,K){I.onload=B,I.onerror=K}),ar(w,"link",d),a.state.loading|=4,Vd(w,s.precedence,n),a.instance=w;case"script":return w=ll(s.src),(m=n.querySelector(Uc(w)))?(a.instance=m,An(m),m):(d=s,(m=ya.get(w))&&(d=g({},s),Yg(d,m)),n=n.ownerDocument||n,m=n.createElement("script"),An(m),ar(m,"link",d),n.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(o(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Vd(d,s.precedence,n));return a.instance}function Vd(n,a,s){for(var d=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,w=m,I=0;I<d.length;I++){var B=d[I];if(B.dataset.precedence===a)w=B;else if(w!==m)break}w?w.parentNode.insertBefore(n,w.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(n,a.firstChild))}function Fg(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Yg(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Zd=null;function sS(n,a,s){if(Zd===null){var d=new Map,m=Zd=new Map;m.set(s,d)}else m=Zd,d=m.get(s),d||(d=new Map,m.set(s,d));if(d.has(n))return d;for(d.set(n,null),s=s.getElementsByTagName(n),m=0;m<s.length;m++){var w=s[m];if(!(w[xn]||w[en]||n==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var I=w.getAttribute(a)||"";I=n+I;var B=d.get(I);B?B.push(w):d.set(I,[w])}}return d}function lS(n,a,s){n=n.ownerDocument||n,n.head.insertBefore(s,a==="title"?n.querySelector("head > title"):null)}function hP(n,a,s){if(s===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function cS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function pP(n,a,s,d){if(s.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=sl(d.href),w=a.querySelector(Yc(m));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=Jd.bind(n),a.then(n,n)),s.state.loading|=4,s.instance=w,An(w);return}w=a.ownerDocument||a,d=oS(d),(m=ya.get(m))&&Fg(d,m),w=w.createElement("link"),An(w);var I=w;I._p=new Promise(function(B,K){I.onload=B,I.onerror=K}),ar(w,"link",d),s.instance=w}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=Jd.bind(n),a.addEventListener("load",s),a.addEventListener("error",s))}}var Ug=0;function gP(n,a){return n.stylesheets&&n.count===0&&tf(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var d=setTimeout(function(){if(n.stylesheets&&tf(n,n.stylesheets),n.unsuspend){var w=n.unsuspend;n.unsuspend=null,w()}},6e4+a);0<n.imgBytes&&Ug===0&&(Ug=62500*Q5());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&tf(n,n.stylesheets),n.unsuspend)){var w=n.unsuspend;n.unsuspend=null,w()}},(n.imgBytes>Ug?50:800)+a);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(d),clearTimeout(m)}}:null}function Jd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ef=null;function tf(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ef=new Map,a.forEach(mP,n),ef=null,Jd.call(n))}function mP(n,a){if(!(a.state.loading&4)){var s=ef.get(n);if(s)var d=s.get(null);else{s=new Map,ef.set(n,s);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<m.length;w++){var I=m[w];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(s.set(I.dataset.precedence,I),d=I)}d&&s.set(null,d)}m=a.instance,I=m.getAttribute("data-precedence"),w=s.get(I)||d,w===d&&s.set(null,m),s.set(I,m),this.count++,d=Jd.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),w?w.parentNode.insertBefore(m,w.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),a.state.loading|=4}}var qc={$$typeof:_,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function yP(n,a,s,d,m,w,I,B,K){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=w,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function uS(n,a,s,d,m,w,I,B,K,ue,me,we){return n=new yP(n,a,s,I,K,ue,me,we,B),a=1,w===!0&&(a|=24),w=Ur(3,null,null,a),n.current=w,w.stateNode=n,a=Sp(),a.refCount++,n.pooledCache=a,a.refCount++,w.memoizedState={element:d,isDehydrated:s,cache:a},_p(w),n}function dS(n){return n?(n=Ls,n):Ls}function fS(n,a,s,d,m,w){m=dS(m),d.context===null?d.context=m:d.pendingContext=m,d=oi(a),d.payload={element:s},w=w===void 0?null:w,w!==null&&(d.callback=w),s=ii(n,d,a),s!==null&&(kr(s,n,a),Sc(s,n,a))}function hS(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<a?s:a}}function qg(n,a){hS(n,a),(n=n.alternate)&&hS(n,a)}function pS(n){if(n.tag===13||n.tag===31){var a=Zi(n,67108864);a!==null&&kr(a,n,67108864),qg(n,67108864)}}function gS(n){if(n.tag===13||n.tag===31){var a=Qr();a=ht(a);var s=Zi(n,a);s!==null&&kr(s,n,a),qg(n,a)}}var nf=!0;function bP(n,a,s,d){var m=P.T;P.T=null;var w=L.p;try{L.p=2,Xg(n,a,s,d)}finally{L.p=w,P.T=m}}function vP(n,a,s,d){var m=P.T;P.T=null;var w=L.p;try{L.p=8,Xg(n,a,s,d)}finally{L.p=w,P.T=m}}function Xg(n,a,s,d){if(nf){var m=Gg(d);if(m===null)Ig(n,a,d,rf,s),yS(n,d);else if(wP(m,n,a,s,d))d.stopPropagation();else if(yS(n,d),a&4&&-1<xP.indexOf(n)){for(;m!==null;){var w=Ga(m);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var I=at(w.pendingLanes);if(I!==0){var B=w;for(B.pendingLanes|=2,B.entangledLanes|=2;I;){var K=1<<31-Je(I);B.entanglements[1]|=K,I&=~K}eo(w),(Yt&6)===0&&(Ld=Fe()+500,Lc(0))}}break;case 31:case 13:B=Zi(w,2),B!==null&&kr(B,w,2),$d(),qg(w,2)}if(w=Gg(d),w===null&&Ig(n,a,d,rf,s),w===m)break;m=w}m!==null&&d.stopPropagation()}else Ig(n,a,d,null,s)}}function Gg(n){return n=qt(n),Wg(n)}var rf=null;function Wg(n){if(rf=null,n=Lr(n),n!==null){var a=l(n);if(a===null)n=null;else{var s=a.tag;if(s===13){if(n=c(a),n!==null)return n;n=null}else if(s===31){if(n=u(a),n!==null)return n;n=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return rf=n,null}function mS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ze()){case rt:return 2;case Ke:return 8;case ft:case $t:return 32;case Re:return 268435456;default:return 32}default:return 32}}var Qg=!1,yi=null,bi=null,vi=null,Xc=new Map,Gc=new Map,xi=[],xP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yS(n,a){switch(n){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Xc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(a.pointerId)}}function Wc(n,a,s,d,m,w){return n===null||n.nativeEvent!==w?(n={blockedOn:a,domEventName:s,eventSystemFlags:d,nativeEvent:w,targetContainers:[m]},a!==null&&(a=Ga(a),a!==null&&pS(a)),n):(n.eventSystemFlags|=d,a=n.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),n)}function wP(n,a,s,d,m){switch(a){case"focusin":return yi=Wc(yi,n,a,s,d,m),!0;case"dragenter":return bi=Wc(bi,n,a,s,d,m),!0;case"mouseover":return vi=Wc(vi,n,a,s,d,m),!0;case"pointerover":var w=m.pointerId;return Xc.set(w,Wc(Xc.get(w)||null,n,a,s,d,m)),!0;case"gotpointercapture":return w=m.pointerId,Gc.set(w,Wc(Gc.get(w)||null,n,a,s,d,m)),!0}return!1}function bS(n){var a=Lr(n.target);if(a!==null){var s=l(a);if(s!==null){if(a=s.tag,a===13){if(a=c(s),a!==null){n.blockedOn=a,zr(n.priority,function(){gS(s)});return}}else if(a===31){if(a=u(s),a!==null){n.blockedOn=a,zr(n.priority,function(){gS(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function af(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var s=Gg(n.nativeEvent);if(s===null){s=n.nativeEvent;var d=new s.constructor(s.type,s);wt=d,s.target.dispatchEvent(d),wt=null}else return a=Ga(s),a!==null&&pS(a),n.blockedOn=s,!1;a.shift()}return!0}function vS(n,a,s){af(n)&&s.delete(a)}function CP(){Qg=!1,yi!==null&&af(yi)&&(yi=null),bi!==null&&af(bi)&&(bi=null),vi!==null&&af(vi)&&(vi=null),Xc.forEach(vS),Gc.forEach(vS)}function of(n,a){n.blockedOn===a&&(n.blockedOn=null,Qg||(Qg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,CP)))}var sf=null;function xS(n){sf!==n&&(sf=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){sf===n&&(sf=null);for(var a=0;a<n.length;a+=3){var s=n[a],d=n[a+1],m=n[a+2];if(typeof d!="function"){if(Wg(d||s)===null)continue;break}var w=Ga(s);w!==null&&(n.splice(a,3),a-=3,Gp(w,{pending:!0,data:m,method:s.method,action:d},d,m))}}))}function cl(n){function a(K){return of(K,n)}yi!==null&&of(yi,n),bi!==null&&of(bi,n),vi!==null&&of(vi,n),Xc.forEach(a),Gc.forEach(a);for(var s=0;s<xi.length;s++){var d=xi[s];d.blockedOn===n&&(d.blockedOn=null)}for(;0<xi.length&&(s=xi[0],s.blockedOn===null);)bS(s),s.blockedOn===null&&xi.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(d=0;d<s.length;d+=3){var m=s[d],w=s[d+1],I=m[tn]||null;if(typeof w=="function")I||xS(s);else if(I){var B=null;if(w&&w.hasAttribute("formAction")){if(m=w,I=w[tn]||null)B=I.formAction;else if(Wg(m)!==null)continue}else B=I.action;typeof B=="function"?s[d+1]=B:(s.splice(d,3),d-=3),xS(s)}}}function wS(){function n(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(I){return m=I})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),d||setTimeout(s,20)}function s(){if(!d&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){d=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function Kg(n){this._internalRoot=n}lf.prototype.render=Kg.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(o(409));var s=a.current,d=Qr();fS(s,d,n,a,null,null)},lf.prototype.unmount=Kg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;fS(n.current,2,null,n,null,null),$d(),a[Gn]=null}};function lf(n){this._internalRoot=n}lf.prototype.unstable_scheduleHydration=function(n){if(n){var a=kn();n={blockedOn:null,target:n,priority:a};for(var s=0;s<xi.length&&a!==0&&a<xi[s].priority;s++);xi.splice(s,0,n),s===0&&bS(n)}};var CS=t.version;if(CS!=="19.2.0")throw Error(o(527,CS,"19.2.0"));L.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=f(a),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var SP={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cf.isDisabled&&cf.supportsFiber)try{_e=cf.inject(SP),Ne=cf}catch{}}return Kc.createRoot=function(n,a){if(!i(n))throw Error(o(299));var s=!1,d="",m=Tw,w=kw,I=Ow;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError)),a=uS(n,1,!1,null,null,s,d,null,m,w,I,wS),n[Gn]=a.current,Og(n),new Kg(a)},Kc.hydrateRoot=function(n,a,s){if(!i(n))throw Error(o(299));var d=!1,m="",w=Tw,I=kw,B=Ow,K=null;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(w=s.onUncaughtError),s.onCaughtError!==void 0&&(I=s.onCaughtError),s.onRecoverableError!==void 0&&(B=s.onRecoverableError),s.formState!==void 0&&(K=s.formState)),a=uS(n,1,!0,a,s??null,d,m,K,w,I,B,wS),a.context=dS(null),s=a.current,d=Qr(),d=ht(d),m=oi(d),m.callback=null,ii(s,m,d),s=d,a.current.lanes=s,Wt(a,s),eo(a),n[Gn]=a.current,Og(n),new lf(a)},Kc.version="19.2.0",Kc}var IS;function jP(){if(IS)return Jg.exports;IS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Jg.exports=PP(),Jg.exports}var DP=jP();const BP=$i(DP);var Ta=OR();const zP=$i(Ta);var NP={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const Fi=(e,t,r,o)=>{const i=v.forwardRef(({color:l="currentColor",size:c=24,stroke:u=2,title:h,className:f,children:p,...g},y)=>v.createElement("svg",{ref:y,...NP[e],width:c,height:c,className:["tabler-icon",`tabler-icon-${t}`,f].join(" "),strokeWidth:u,stroke:l,...g},[h&&v.createElement("title",{key:"svg-title"},h),...o.map(([b,x])=>v.createElement(b,x)),...Array.isArray(p)?p:[p]]));return i.displayName=`${r}`,i};const LP=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],HP=Fi("outline","arrow-left","ArrowLeft",LP);const $P=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],FP=Fi("outline","arrow-right","ArrowRight",$P);const YP=[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h3m9 -9v-5a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M13 17v-1a1 1 0 0 1 1 -1h1m3 0h1a1 1 0 0 1 1 1v1m0 3v1a1 1 0 0 1 -1 1h-1m-3 0h-1a1 1 0 0 1 -1 -1v-1",key:"svg-1"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-2"}]],UP=Fi("outline","clipboard-copy","ClipboardCopy",YP);const qP=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],XP=Fi("outline","download","Download",qP);const GP=[["path",{d:"M17.5 15.5m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0 -7 0",key:"svg-0"}],["path",{d:"M3 19v-10.5a3.5 3.5 0 0 1 7 0v10.5",key:"svg-1"}],["path",{d:"M3 13h7",key:"svg-2"}],["path",{d:"M21 12v7",key:"svg-3"}]],WP=Fi("outline","letter-case","LetterCase",GP);const QP=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]],KP=Fi("outline","plus","Plus",QP);const VP=[["path",{d:"M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2",key:"svg-0"}],["path",{d:"M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4",key:"svg-1"}],["path",{d:"M7 13m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z",key:"svg-2"}]],ZP=Fi("outline","printer","Printer",VP);const JP=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]],ej=Fi("outline","trash","Trash",JP),PS="print-preview-modal-root",jS=200,tj=()=>{if(typeof document>"u")return null;let e=document.getElementById(PS);return e||(e=document.createElement("div"),e.setAttribute("id",PS),document.body.appendChild(e)),e},nj=({isOpen:e,imageSrc:t,onClose:r,onPrint:o,onSave:i,onCopy:l,isGenerating:c})=>{const u=tj(),[h,f]=v.useState(!1),[p,g]=v.useState("idle"),y=v.useRef(null),b=v.useCallback(()=>{y.current!==null&&(window.clearTimeout(y.current),y.current=null)},[]);v.useEffect(()=>{e||(f(!1),g("idle"),b())},[e,b]),v.useEffect(()=>{if(!e)return;const S=E=>{E.key==="Escape"&&(E.preventDefault(),r())};return window.addEventListener("keydown",S),()=>{window.removeEventListener("keydown",S)}},[e,r]);const x=v.useCallback(async()=>{if(!(!t||c||h)){f(!0);try{await i()}finally{f(!1)}}},[t,c,h,i]),C=v.useCallback(async()=>{if(!(!t||c))try{await l(),g("copied"),b(),y.current=window.setTimeout(()=>{g("idle"),y.current=null},2e3)}catch{g("idle")}},[t,c,l,b]);return v.useEffect(()=>{t||(g("idle"),b())},[t,b]),v.useEffect(()=>b,[b]),!e||!u?null:Ta.createPortal(A.jsx("div",{role:"dialog","aria-modal":"true","data-print-preview-modal":"true",style:rj,children:A.jsxs("div",{style:aj,children:[A.jsxs("header",{style:oj,children:[A.jsx("h2",{style:{margin:0,fontSize:"1.1rem"},children:"Print Preview"}),A.jsx("button",{type:"button",onClick:r,style:ij,"aria-label":"Close",children:""})]}),A.jsx("section",{style:sj,children:c?A.jsx("div",{style:DS,children:"Generating preview"}):t?A.jsx("img",{src:t,alt:"Print preview",style:lj,"data-print-preview-image":!0}):A.jsx("div",{style:DS,children:"Preview unavailable"})}),A.jsxs("footer",{style:cj,children:[A.jsxs("button",{type:"button",onClick:o,disabled:!t||c,style:{...rm,...t&&!c?uj:am},children:[A.jsx(ZP,{size:18,stroke:1.8,"aria-hidden":"true"}),A.jsx("span",{children:"Print"})]}),A.jsxs("button",{type:"button",onClick:C,disabled:!t||c,style:{...rm,...t&&!c?BS:am,width:`${jS}px`,flex:`0 0 ${jS}px`},children:[A.jsx(UP,{size:18,stroke:1.8,"aria-hidden":"true"}),A.jsx("span",{children:p==="copied"?"Copied":"Copy to clipboard"})]}),A.jsxs("button",{type:"button",onClick:x,disabled:!t||c||h,"aria-busy":h,style:{...rm,...t&&!c?BS:am,...h?dj:{}},children:[A.jsx(XP,{size:18,stroke:1.8,"aria-hidden":"true"}),A.jsx("span",{children:h?"Saving":"Save as PNG"})]})]})]})}),u)},rj={position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"24px"},aj={background:"#ffffff",borderRadius:"8px",boxShadow:"0 12px 40px rgba(15, 23, 42, 0.2)",width:"80vw",height:"80vh",maxWidth:"1280px",maxHeight:"80vh",display:"flex",flexDirection:"column"},oj={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",borderBottom:"1px solid #e5e7eb"},ij={background:"transparent",border:"none",color:"#475569",fontSize:"1.4rem",cursor:"pointer"},sj={flex:1,padding:"24px",background:"#f8fafc",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},lj={maxWidth:"100%",maxHeight:"100%",border:"1px solid #e2e8f0",borderRadius:"4px",background:"#ffffff"},DS={display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",color:"#6b7280",fontSize:"0.95rem"},cj={padding:"12px 20px",borderTop:"1px solid #e5e7eb",display:"flex",gap:"12px",justifyContent:"flex-end"},rm={display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"10px 18px",borderRadius:"8px",border:"none",fontWeight:600,fontSize:"0.9rem",lineHeight:1.2,minWidth:"140px",cursor:"pointer",transition:"background 0.18s ease, box-shadow 0.18s ease"},uj={background:"#2563eb",color:"#ffffff"},BS={background:"#f3f4f6",color:"#1f2937",boxShadow:"none"},am={background:"#e2e8f0",color:"#94a3b8",border:"none",cursor:"not-allowed",boxShadow:"none"},dj={background:"#1d4ed8",color:"#ffffff",cursor:"progress"},or=[];for(let e=0;e<256;++e)or.push((e+256).toString(16).slice(1));function fj(e,t=0){return(or[e[t+0]]+or[e[t+1]]+or[e[t+2]]+or[e[t+3]]+"-"+or[e[t+4]]+or[e[t+5]]+"-"+or[e[t+6]]+or[e[t+7]]+"-"+or[e[t+8]]+or[e[t+9]]+"-"+or[e[t+10]]+or[e[t+11]]+or[e[t+12]]+or[e[t+13]]+or[e[t+14]]+or[e[t+15]]).toLowerCase()}let om;const hj=new Uint8Array(16);function pj(){if(!om){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");om=crypto.getRandomValues.bind(crypto)}return om(hj)}const gj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zS={randomUUID:gj};function mj(e,t,r){e=e||{};const o=e.random??e.rng?.()??pj();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,fj(o)}function jr(e,t,r){return zS.randomUUID&&!e?zS.randomUUID():mj(e)}var Pr=function(){return Pr=Object.assign||function(t){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Pr.apply(this,arguments)};function qf(e,t,r){if(r||arguments.length===2)for(var o=0,i=t.length,l;o<i;o++)(l||!(o in t))&&(l||(l=Array.prototype.slice.call(t,0,o)),l[o]=t[o]);return e.concat(l||Array.prototype.slice.call(t))}var fn="-ms-",mu="-moz-",Ut="-webkit-",IR="comm",vh="rule",Tv="decl",yj="@import",PR="@keyframes",bj="@layer",jR=Math.abs,kv=String.fromCharCode,Ub=Object.assign;function vj(e,t){return er(e,0)^45?(((t<<2^er(e,0))<<2^er(e,1))<<2^er(e,2))<<2^er(e,3):0}function DR(e){return e.trim()}function No(e,t){return(e=t.exec(e))?e[0]:e}function Ct(e,t,r){return e.replace(t,r)}function Df(e,t,r){return e.indexOf(t,r)}function er(e,t){return e.charCodeAt(t)|0}function Gl(e,t,r){return e.slice(t,r)}function no(e){return e.length}function BR(e){return e.length}function iu(e,t){return t.push(e),e}function xj(e,t){return e.map(t).join("")}function NS(e,t){return e.filter(function(r){return!No(r,t)})}var xh=1,Wl=1,zR=0,_a=0,zn=0,ec="";function wh(e,t,r,o,i,l,c,u){return{value:e,root:t,parent:r,type:o,props:i,children:l,line:xh,column:Wl,length:c,return:"",siblings:u}}function Ei(e,t){return Ub(wh("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function ul(e){for(;e.root;)e=Ei(e.root,{children:[e]});iu(e,e.siblings)}function wj(){return zn}function Cj(){return zn=_a>0?er(ec,--_a):0,Wl--,zn===10&&(Wl=1,xh--),zn}function $a(){return zn=_a<zR?er(ec,_a++):0,Wl++,zn===10&&(Wl=1,xh++),zn}function gs(){return er(ec,_a)}function Bf(){return _a}function Ch(e,t){return Gl(ec,e,t)}function qb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Sj(e){return xh=Wl=1,zR=no(ec=e),_a=0,[]}function Aj(e){return ec="",e}function im(e){return DR(Ch(_a-1,Xb(e===91?e+2:e===40?e+1:e)))}function Ej(e){for(;(zn=gs())&&zn<33;)$a();return qb(e)>2||qb(zn)>3?"":" "}function Mj(e,t){for(;--t&&$a()&&!(zn<48||zn>102||zn>57&&zn<65||zn>70&&zn<97););return Ch(e,Bf()+(t<6&&gs()==32&&$a()==32))}function Xb(e){for(;$a();)switch(zn){case e:return _a;case 34:case 39:e!==34&&e!==39&&Xb(zn);break;case 40:e===41&&Xb(e);break;case 92:$a();break}return _a}function _j(e,t){for(;$a()&&e+zn!==57;)if(e+zn===84&&gs()===47)break;return"/*"+Ch(t,_a-1)+"*"+kv(e===47?e:$a())}function Rj(e){for(;!qb(gs());)$a();return Ch(e,_a)}function Tj(e){return Aj(zf("",null,null,null,[""],e=Sj(e),0,[0],e))}function zf(e,t,r,o,i,l,c,u,h){for(var f=0,p=0,g=c,y=0,b=0,x=0,C=1,S=1,E=1,R=0,_="",T=i,k=l,O=o,M=_;S;)switch(x=R,R=$a()){case 40:if(x!=108&&er(M,g-1)==58){Df(M+=Ct(im(R),"&","&\f"),"&\f",jR(f?u[f-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:M+=im(R);break;case 9:case 10:case 13:case 32:M+=Ej(x);break;case 92:M+=Mj(Bf()-1,7);continue;case 47:switch(gs()){case 42:case 47:iu(kj(_j($a(),Bf()),t,r,h),h);break;default:M+="/"}break;case 123*C:u[f++]=no(M)*E;case 125*C:case 59:case 0:switch(R){case 0:case 125:S=0;case 59+p:E==-1&&(M=Ct(M,/\f/g,"")),b>0&&no(M)-g&&iu(b>32?HS(M+";",o,r,g-1,h):HS(Ct(M," ","")+";",o,r,g-2,h),h);break;case 59:M+=";";default:if(iu(O=LS(M,t,r,f,p,i,u,_,T=[],k=[],g,l),l),R===123)if(p===0)zf(M,t,O,O,T,l,g,u,k);else switch(y===99&&er(M,3)===110?100:y){case 100:case 108:case 109:case 115:zf(e,O,O,o&&iu(LS(e,O,O,0,0,i,u,_,i,T=[],g,k),k),i,k,g,u,o?T:k);break;default:zf(M,O,O,O,[""],k,0,u,k)}}f=p=b=0,C=E=1,_=M="",g=c;break;case 58:g=1+no(M),b=x;default:if(C<1){if(R==123)--C;else if(R==125&&C++==0&&Cj()==125)continue}switch(M+=kv(R),R*C){case 38:E=p>0?1:(M+="\f",-1);break;case 44:u[f++]=(no(M)-1)*E,E=1;break;case 64:gs()===45&&(M+=im($a())),y=gs(),p=g=no(_=M+=Rj(Bf())),R++;break;case 45:x===45&&no(M)==2&&(C=0)}}return l}function LS(e,t,r,o,i,l,c,u,h,f,p,g){for(var y=i-1,b=i===0?l:[""],x=BR(b),C=0,S=0,E=0;C<o;++C)for(var R=0,_=Gl(e,y+1,y=jR(S=c[C])),T=e;R<x;++R)(T=DR(S>0?b[R]+" "+_:Ct(_,/&\f/g,b[R])))&&(h[E++]=T);return wh(e,t,r,i===0?vh:u,h,f,p,g)}function kj(e,t,r,o){return wh(e,t,r,IR,kv(wj()),Gl(e,2,-2),0,o)}function HS(e,t,r,o,i){return wh(e,t,r,Tv,Gl(e,0,o),Gl(e,o+1,-1),o,i)}function NR(e,t,r){switch(vj(e,t)){case 5103:return Ut+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ut+e+e;case 4789:return mu+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ut+e+mu+e+fn+e+e;case 5936:switch(er(e,t+11)){case 114:return Ut+e+fn+Ct(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ut+e+fn+Ct(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ut+e+fn+Ct(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Ut+e+fn+e+e;case 6165:return Ut+e+fn+"flex-"+e+e;case 5187:return Ut+e+Ct(e,/(\w+).+(:[^]+)/,Ut+"box-$1$2"+fn+"flex-$1$2")+e;case 5443:return Ut+e+fn+"flex-item-"+Ct(e,/flex-|-self/g,"")+(No(e,/flex-|baseline/)?"":fn+"grid-row-"+Ct(e,/flex-|-self/g,""))+e;case 4675:return Ut+e+fn+"flex-line-pack"+Ct(e,/align-content|flex-|-self/g,"")+e;case 5548:return Ut+e+fn+Ct(e,"shrink","negative")+e;case 5292:return Ut+e+fn+Ct(e,"basis","preferred-size")+e;case 6060:return Ut+"box-"+Ct(e,"-grow","")+Ut+e+fn+Ct(e,"grow","positive")+e;case 4554:return Ut+Ct(e,/([^-])(transform)/g,"$1"+Ut+"$2")+e;case 6187:return Ct(Ct(Ct(e,/(zoom-|grab)/,Ut+"$1"),/(image-set)/,Ut+"$1"),e,"")+e;case 5495:case 3959:return Ct(e,/(image-set\([^]*)/,Ut+"$1$`$1");case 4968:return Ct(Ct(e,/(.+:)(flex-)?(.*)/,Ut+"box-pack:$3"+fn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ut+e+e;case 4200:if(!No(e,/flex-|baseline/))return fn+"grid-column-align"+Gl(e,t)+e;break;case 2592:case 3360:return fn+Ct(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(o,i){return t=i,No(o.props,/grid-\w+-end/)})?~Df(e+(r=r[t].value),"span",0)?e:fn+Ct(e,"-start","")+e+fn+"grid-row-span:"+(~Df(r,"span",0)?No(r,/\d+/):+No(r,/\d+/)-+No(e,/\d+/))+";":fn+Ct(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(o){return No(o.props,/grid-\w+-start/)})?e:fn+Ct(Ct(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Ct(e,/(.+)-inline(.+)/,Ut+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(no(e)-1-t>6)switch(er(e,t+1)){case 109:if(er(e,t+4)!==45)break;case 102:return Ct(e,/(.+:)(.+)-([^]+)/,"$1"+Ut+"$2-$3$1"+mu+(er(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Df(e,"stretch",0)?NR(Ct(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return Ct(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(o,i,l,c,u,h,f){return fn+i+":"+l+f+(c?fn+i+"-span:"+(u?h:+h-+l)+f:"")+e});case 4949:if(er(e,t+6)===121)return Ct(e,":",":"+Ut)+e;break;case 6444:switch(er(e,er(e,14)===45?18:11)){case 120:return Ct(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ut+(er(e,14)===45?"inline-":"")+"box$3$1"+Ut+"$2$3$1"+fn+"$2box$3")+e;case 100:return Ct(e,":",":"+fn)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ct(e,"scroll-","scroll-snap-")+e}return e}function Xf(e,t){for(var r="",o=0;o<e.length;o++)r+=t(e[o],o,e,t)||"";return r}function Oj(e,t,r,o){switch(e.type){case bj:if(e.children.length)break;case yj:case Tv:return e.return=e.return||e.value;case IR:return"";case PR:return e.return=e.value+"{"+Xf(e.children,o)+"}";case vh:if(!no(e.value=e.props.join(",")))return""}return no(r=Xf(e.children,o))?e.return=e.value+"{"+r+"}":""}function Ij(e){var t=BR(e);return function(r,o,i,l){for(var c="",u=0;u<t;u++)c+=e[u](r,o,i,l)||"";return c}}function Pj(e){return function(t){t.root||(t=t.return)&&e(t)}}function jj(e,t,r,o){if(e.length>-1&&!e.return)switch(e.type){case Tv:e.return=NR(e.value,e.length,r);return;case PR:return Xf([Ei(e,{value:Ct(e.value,"@","@"+Ut)})],o);case vh:if(e.length)return xj(r=e.props,function(i){switch(No(i,o=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ul(Ei(e,{props:[Ct(i,/:(read-\w+)/,":"+mu+"$1")]})),ul(Ei(e,{props:[i]})),Ub(e,{props:NS(r,o)});break;case"::placeholder":ul(Ei(e,{props:[Ct(i,/:(plac\w+)/,":"+Ut+"input-$1")]})),ul(Ei(e,{props:[Ct(i,/:(plac\w+)/,":"+mu+"$1")]})),ul(Ei(e,{props:[Ct(i,/:(plac\w+)/,fn+"input-$1")]})),ul(Ei(e,{props:[i]})),Ub(e,{props:NS(r,o)});break}return""})}}var Dj={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Vr={},Ql=typeof process<"u"&&Vr!==void 0&&(Vr.REACT_APP_SC_ATTR||Vr.SC_ATTR)||"data-styled",LR="active",HR="data-styled-version",Sh="6.1.19",Ov=`/*!sc*/
`,Gf=typeof window<"u"&&typeof document<"u",Bj=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Vr!==void 0&&Vr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Vr.REACT_APP_SC_DISABLE_SPEEDY!==""?Vr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Vr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Vr!==void 0&&Vr.SC_DISABLE_SPEEDY!==void 0&&Vr.SC_DISABLE_SPEEDY!==""&&Vr.SC_DISABLE_SPEEDY!=="false"&&Vr.SC_DISABLE_SPEEDY),Ah=Object.freeze([]),Kl=Object.freeze({});function zj(e,t,r){return r===void 0&&(r=Kl),e.theme!==r.theme&&e.theme||t||r.theme}var $R=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Nj=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Lj=/(^-|-$)/g;function $S(e){return e.replace(Nj,"-").replace(Lj,"")}var Hj=/(a)(d)/gi,df=52,FS=function(e){return String.fromCharCode(e+(e>25?39:97))};function Gb(e){var t,r="";for(t=Math.abs(e);t>df;t=t/df|0)r=FS(t%df)+r;return(FS(t%df)+r).replace(Hj,"$1-$2")}var sm,FR=5381,Yl=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},YR=function(e){return Yl(FR,e)};function $j(e){return Gb(YR(e)>>>0)}function Fj(e){return e.displayName||e.name||"Component"}function lm(e){return typeof e=="string"&&!0}var UR=typeof Symbol=="function"&&Symbol.for,qR=UR?Symbol.for("react.memo"):60115,Yj=UR?Symbol.for("react.forward_ref"):60112,Uj={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},qj={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},XR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Xj=((sm={})[Yj]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},sm[qR]=XR,sm);function YS(e){return("type"in(t=e)&&t.type.$$typeof)===qR?XR:"$$typeof"in e?Xj[e.$$typeof]:Uj;var t}var Gj=Object.defineProperty,Wj=Object.getOwnPropertyNames,US=Object.getOwnPropertySymbols,Qj=Object.getOwnPropertyDescriptor,Kj=Object.getPrototypeOf,qS=Object.prototype;function GR(e,t,r){if(typeof t!="string"){if(qS){var o=Kj(t);o&&o!==qS&&GR(e,o,r)}var i=Wj(t);US&&(i=i.concat(US(t)));for(var l=YS(e),c=YS(t),u=0;u<i.length;++u){var h=i[u];if(!(h in qj||r&&r[h]||c&&h in c||l&&h in l)){var f=Qj(t,h);try{Gj(e,h,f)}catch{}}}}return e}function Vl(e){return typeof e=="function"}function Iv(e){return typeof e=="object"&&"styledComponentId"in e}function ps(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function XS(e,t){if(e.length===0)return"";for(var r=e[0],o=1;o<e.length;o++)r+=e[o];return r}function Cu(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Wb(e,t,r){if(r===void 0&&(r=!1),!r&&!Cu(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var o=0;o<t.length;o++)e[o]=Wb(e[o],t[o]);else if(Cu(t))for(var o in t)e[o]=Wb(e[o],t[o]);return e}function Pv(e,t){Object.defineProperty(e,"toString",{value:t})}function Ou(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Vj=(function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var r=0,o=0;o<t;o++)r+=this.groupSizes[o];return r},e.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var o=this.groupSizes,i=o.length,l=i;t>=l;)if((l<<=1)<0)throw Ou(16,"".concat(t));this.groupSizes=new Uint32Array(l),this.groupSizes.set(o),this.length=l;for(var c=i;c<l;c++)this.groupSizes[c]=0}for(var u=this.indexOfGroup(t+1),h=(c=0,r.length);c<h;c++)this.tag.insertRule(u,r[c])&&(this.groupSizes[t]++,u++)},e.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],o=this.indexOfGroup(t),i=o+r;this.groupSizes[t]=0;for(var l=o;l<i;l++)this.tag.deleteRule(o)}},e.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var o=this.groupSizes[t],i=this.indexOfGroup(t),l=i+o,c=i;c<l;c++)r+="".concat(this.tag.getRule(c)).concat(Ov);return r},e})(),Nf=new Map,Wf=new Map,Lf=1,ff=function(e){if(Nf.has(e))return Nf.get(e);for(;Wf.has(Lf);)Lf++;var t=Lf++;return Nf.set(e,t),Wf.set(t,e),t},Zj=function(e,t){Lf=t+1,Nf.set(e,t),Wf.set(t,e)},Jj="style[".concat(Ql,"][").concat(HR,'="').concat(Sh,'"]'),eD=new RegExp("^".concat(Ql,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),tD=function(e,t,r){for(var o,i=r.split(","),l=0,c=i.length;l<c;l++)(o=i[l])&&e.registerName(t,o)},nD=function(e,t){for(var r,o=((r=t.textContent)!==null&&r!==void 0?r:"").split(Ov),i=[],l=0,c=o.length;l<c;l++){var u=o[l].trim();if(u){var h=u.match(eD);if(h){var f=0|parseInt(h[1],10),p=h[2];f!==0&&(Zj(p,f),tD(e,p,h[3]),e.getTag().insertRules(f,i)),i.length=0}else i.push(u)}}},GS=function(e){for(var t=document.querySelectorAll(Jj),r=0,o=t.length;r<o;r++){var i=t[r];i&&i.getAttribute(Ql)!==LR&&(nD(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function rD(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var WR=function(e){var t=document.head,r=e||t,o=document.createElement("style"),i=(function(u){var h=Array.from(u.querySelectorAll("style[".concat(Ql,"]")));return h[h.length-1]})(r),l=i!==void 0?i.nextSibling:null;o.setAttribute(Ql,LR),o.setAttribute(HR,Sh);var c=rD();return c&&o.setAttribute("nonce",c),r.insertBefore(o,l),o},aD=(function(){function e(t){this.element=WR(t),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var o=document.styleSheets,i=0,l=o.length;i<l;i++){var c=o[i];if(c.ownerNode===r)return c}throw Ou(17)})(this.element),this.length=0}return e.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},e})(),oD=(function(){function e(t){this.element=WR(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var o=document.createTextNode(r);return this.element.insertBefore(o,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e})(),iD=(function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e})(),WS=Gf,sD={isServer:!Gf,useCSSOMInjection:!Bj},QR=(function(){function e(t,r,o){t===void 0&&(t=Kl),r===void 0&&(r={});var i=this;this.options=Pr(Pr({},sD),t),this.gs=r,this.names=new Map(o),this.server=!!t.isServer,!this.server&&Gf&&WS&&(WS=!1,GS(this)),Pv(this,function(){return(function(l){for(var c=l.getTag(),u=c.length,h="",f=function(g){var y=(function(E){return Wf.get(E)})(g);if(y===void 0)return"continue";var b=l.names.get(y),x=c.getGroup(g);if(b===void 0||!b.size||x.length===0)return"continue";var C="".concat(Ql,".g").concat(g,'[id="').concat(y,'"]'),S="";b!==void 0&&b.forEach(function(E){E.length>0&&(S+="".concat(E,","))}),h+="".concat(x).concat(C,'{content:"').concat(S,'"}').concat(Ov)},p=0;p<u;p++)f(p);return h})(i)})}return e.registerId=function(t){return ff(t)},e.prototype.rehydrate=function(){!this.server&&Gf&&GS(this)},e.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new e(Pr(Pr({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=(function(r){var o=r.useCSSOMInjection,i=r.target;return r.isServer?new iD(i):o?new aD(i):new oD(i)})(this.options),new Vj(t)));var t},e.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.prototype.registerName=function(t,r){if(ff(t),this.names.has(t))this.names.get(t).add(r);else{var o=new Set;o.add(r),this.names.set(t,o)}},e.prototype.insertRules=function(t,r,o){this.registerName(t,r),this.getTag().insertRules(ff(t),o)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(ff(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e})(),lD=/&/g,cD=/^\s*\/\/.*$/gm;function KR(e,t){return e.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(o){return"".concat(t," ").concat(o)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=KR(r.children,t)),r})}function uD(e){var t,r,o,i=Kl,l=i.options,c=l===void 0?Kl:l,u=i.plugins,h=u===void 0?Ah:u,f=function(y,b,x){return x.startsWith(r)&&x.endsWith(r)&&x.replaceAll(r,"").length>0?".".concat(t):y},p=h.slice();p.push(function(y){y.type===vh&&y.value.includes("&")&&(y.props[0]=y.props[0].replace(lD,r).replace(o,f))}),c.prefix&&p.push(jj),p.push(Oj);var g=function(y,b,x,C){b===void 0&&(b=""),x===void 0&&(x=""),C===void 0&&(C="&"),t=C,r=b,o=new RegExp("\\".concat(r,"\\b"),"g");var S=y.replace(cD,""),E=Tj(x||b?"".concat(x," ").concat(b," { ").concat(S," }"):S);c.namespace&&(E=KR(E,c.namespace));var R=[];return Xf(E,Ij(p.concat(Pj(function(_){return R.push(_)})))),R};return g.hash=h.length?h.reduce(function(y,b){return b.name||Ou(15),Yl(y,b.name)},FR).toString():"",g}var dD=new QR,Qb=uD(),VR=z.createContext({shouldForwardProp:void 0,styleSheet:dD,stylis:Qb});VR.Consumer;z.createContext(void 0);function QS(){return v.useContext(VR)}var fD=(function(){function e(t,r){var o=this;this.inject=function(i,l){l===void 0&&(l=Qb);var c=o.name+l.hash;i.hasNameForId(o.id,c)||i.insertRules(o.id,c,l(o.rules,c,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,Pv(this,function(){throw Ou(12,String(o.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Qb),this.name+t.hash},e})(),hD=function(e){return e>="A"&&e<="Z"};function KS(e){for(var t="",r=0;r<e.length;r++){var o=e[r];if(r===1&&o==="-"&&e[0]==="-")return e;hD(o)?t+="-"+o.toLowerCase():t+=o}return t.startsWith("ms-")?"-"+t:t}var ZR=function(e){return e==null||e===!1||e===""},JR=function(e){var t,r,o=[];for(var i in e){var l=e[i];e.hasOwnProperty(i)&&!ZR(l)&&(Array.isArray(l)&&l.isCss||Vl(l)?o.push("".concat(KS(i),":"),l,";"):Cu(l)?o.push.apply(o,qf(qf(["".concat(i," {")],JR(l),!1),["}"],!1)):o.push("".concat(KS(i),": ").concat((t=i,(r=l)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in Dj||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return o};function ms(e,t,r,o){if(ZR(e))return[];if(Iv(e))return[".".concat(e.styledComponentId)];if(Vl(e)){if(!Vl(l=e)||l.prototype&&l.prototype.isReactComponent||!t)return[e];var i=e(t);return ms(i,t,r,o)}var l;return e instanceof fD?r?(e.inject(r,o),[e.getName(o)]):[e]:Cu(e)?JR(e):Array.isArray(e)?Array.prototype.concat.apply(Ah,e.map(function(c){return ms(c,t,r,o)})):[e.toString()]}function pD(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(Vl(r)&&!Iv(r))return!1}return!0}var gD=YR(Sh),mD=(function(){function e(t,r,o){this.rules=t,this.staticRulesId="",this.isStatic=(o===void 0||o.isStatic)&&pD(t),this.componentId=r,this.baseHash=Yl(gD,r),this.baseStyle=o,QR.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,o){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,o):"";if(this.isStatic&&!o.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=ps(i,this.staticRulesId);else{var l=XS(ms(this.rules,t,r,o)),c=Gb(Yl(this.baseHash,l)>>>0);if(!r.hasNameForId(this.componentId,c)){var u=o(l,".".concat(c),void 0,this.componentId);r.insertRules(this.componentId,c,u)}i=ps(i,c),this.staticRulesId=c}else{for(var h=Yl(this.baseHash,o.hash),f="",p=0;p<this.rules.length;p++){var g=this.rules[p];if(typeof g=="string")f+=g;else if(g){var y=XS(ms(g,t,r,o));h=Yl(h,y+p),f+=y}}if(f){var b=Gb(h>>>0);r.hasNameForId(this.componentId,b)||r.insertRules(this.componentId,b,o(f,".".concat(b),void 0,this.componentId)),i=ps(i,b)}}return i},e})(),eT=z.createContext(void 0);eT.Consumer;var cm={};function yD(e,t,r){var o=Iv(e),i=e,l=!lm(e),c=t.attrs,u=c===void 0?Ah:c,h=t.componentId,f=h===void 0?(function(T,k){var O=typeof T!="string"?"sc":$S(T);cm[O]=(cm[O]||0)+1;var M="".concat(O,"-").concat($j(Sh+O+cm[O]));return k?"".concat(k,"-").concat(M):M})(t.displayName,t.parentComponentId):h,p=t.displayName,g=p===void 0?(function(T){return lm(T)?"styled.".concat(T):"Styled(".concat(Fj(T),")")})(e):p,y=t.displayName&&t.componentId?"".concat($S(t.displayName),"-").concat(t.componentId):t.componentId||f,b=o&&i.attrs?i.attrs.concat(u).filter(Boolean):u,x=t.shouldForwardProp;if(o&&i.shouldForwardProp){var C=i.shouldForwardProp;if(t.shouldForwardProp){var S=t.shouldForwardProp;x=function(T,k){return C(T,k)&&S(T,k)}}else x=C}var E=new mD(r,y,o?i.componentStyle:void 0);function R(T,k){return(function(O,M,j){var H=O.attrs,U=O.componentStyle,Y=O.defaultProps,Q=O.foldedComponentIds,W=O.styledComponentId,ae=O.target,Z=z.useContext(eT),P=QS(),L=O.shouldForwardProp||P.shouldForwardProp,N=zj(M,Z,Y)||Kl,q=(function(V,ee,te){for(var J,ie=Pr(Pr({},ee),{className:void 0,theme:te}),be=0;be<V.length;be+=1){var ge=Vl(J=V[be])?J(ie):J;for(var Ee in ge)ie[Ee]=Ee==="className"?ps(ie[Ee],ge[Ee]):Ee==="style"?Pr(Pr({},ie[Ee]),ge[Ee]):ge[Ee]}return ee.className&&(ie.className=ps(ie.className,ee.className)),ie})(H,M,N),$=q.as||ae,D={};for(var F in q)q[F]===void 0||F[0]==="$"||F==="as"||F==="theme"&&q.theme===N||(F==="forwardedAs"?D.as=q.forwardedAs:L&&!L(F,$)||(D[F]=q[F]));var X=(function(V,ee){var te=QS(),J=V.generateAndInjectStyles(ee,te.styleSheet,te.stylis);return J})(U,q),re=ps(Q,W);return X&&(re+=" "+X),q.className&&(re+=" "+q.className),D[lm($)&&!$R.has($)?"class":"className"]=re,j&&(D.ref=j),v.createElement($,D)})(_,T,k)}R.displayName=g;var _=z.forwardRef(R);return _.attrs=b,_.componentStyle=E,_.displayName=g,_.shouldForwardProp=x,_.foldedComponentIds=o?ps(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=y,_.target=o?i.target:e,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(T){this._foldedDefaultProps=o?(function(k){for(var O=[],M=1;M<arguments.length;M++)O[M-1]=arguments[M];for(var j=0,H=O;j<H.length;j++)Wb(k,H[j],!0);return k})({},i.defaultProps,T):T}}),Pv(_,function(){return".".concat(_.styledComponentId)}),l&&GR(_,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function VS(e,t){for(var r=[e[0]],o=0,i=t.length;o<i;o+=1)r.push(t[o],e[o+1]);return r}var ZS=function(e){return Object.assign(e,{isCss:!0})};function Fa(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Vl(e)||Cu(e))return ZS(ms(VS(Ah,qf([e],t,!0))));var o=e;return t.length===0&&o.length===1&&typeof o[0]=="string"?ms(o):ZS(ms(VS(o,t)))}function Kb(e,t,r){if(r===void 0&&(r=Kl),!t)throw Ou(1,t);var o=function(i){for(var l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];return e(t,r,Fa.apply(void 0,qf([i],l,!1)))};return o.attrs=function(i){return Kb(e,t,Pr(Pr({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},o.withConfig=function(i){return Kb(e,t,Pr(Pr({},r),i))},o}var tT=function(e){return Kb(yD,e)},se=tT;$R.forEach(function(e){se[e]=tT(e)});const bD=se.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  background: #f8f9fa;
`,vD=se.div.attrs(e=>({style:{marginLeft:`${e.$libraryWidth}px`,width:`calc(100vw - ${e.$libraryWidth}px)`}}))`
  margin-top: 60px;
  height: calc(100vh - 60px - 34px);
  position: relative;
  overflow: hidden;
`,xD=se.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 60px;
  background: white;
  border-bottom: 1px solid #e1e5e9;
  z-index: 1000;
  display: flex;
  align-items: center;
  padding: 6px 12px 6px 20px;
  gap: 15px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`,wD=se.div`
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 0;
`,CD=se.img`
  width: 48px;
  height: 48px;
  flex-shrink: 0;
`,SD=se.div`
  display: flex;
  grid-column: 1;
  grid-row: 2;
  justify-self: stretch;
  min-width: 0;
  width: 100%;
`,AD=se.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
  flex: 1;
  min-width: 0;
`,ED=se.div`
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  width: 100%;
  grid-column: 1;
  grid-row: 1;
`,MD=se.div`
  display: flex;
  align-items: center;
  min-width: 0;
  width: 220px;
  justify-content: space-between;
  gap: 8px;
  grid-column: 1;
  grid-row: 1;
`,_D=se.button`
  border: none;
  background: none;
  font-size: 16px;
  font-weight: 600;
  color: #2c3e50;
  cursor: pointer;
  padding: 4px 6px;
  border-radius: 6px;
  width: 220px;
  text-align: left;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;

  &:hover {
    background: rgba(33, 37, 41, 0.05);
  }
`,RD=se.input`
  font-size: 16px;
  font-weight: 600;
  color: #2c3e50;
  border: 1px solid rgba(108, 117, 125, 0.35);
  border-radius: 6px;
  padding: 4px 6px;
  width: 100%;
  max-width: 220px;
  outline: none;
  text-align: left;

  &:focus {
    border-color: #1d6ff2;
    box-shadow: 0 0 0 2px rgba(29, 111, 242, 0.2);
  }
`,TD=se.div`
  display: inline-grid;
  grid-template-columns: minmax(200px, max-content);
  grid-auto-rows: auto;
  row-gap: 0;
  align-items: center;
`,kD=se.div`
  position: ${e=>e.$visible?"absolute":"static"};
  right: 20px;
  top: 50%;
  transform: ${e=>e.$visible?"translateY(-50%)":"none"};
  display: ${e=>e.$visible?"flex":"none"};
  align-items: center;
  justify-content: flex-end;
  pointer-events: none;
  gap: 12px;
  z-index: 1;

  > * {
    pointer-events: auto;
  }
`,OD=se.div`
  margin-left: auto;
  padding-left: ${e=>e.$hasDocked?"32px":"0"};
  display: flex;
  align-items: center;
  gap: 12px;
  flex-shrink: 0;
`,ID=se.div`
  font-size: 12px;
  color: rgba(108, 117, 125, 0.55);
  text-align: left;
  white-space: nowrap;
  min-height: 18px;
  flex-shrink: 0;
  align-self: baseline;
`;function Iu(e,t=[]){let r=[];function o(l,c){const u=v.createContext(c),h=r.length;r=[...r,c];const f=g=>{const{scope:y,children:b,...x}=g,C=y?.[e]?.[h]||u,S=v.useMemo(()=>x,Object.values(x));return A.jsx(C.Provider,{value:S,children:b})};f.displayName=l+"Provider";function p(g,y){const b=y?.[e]?.[h]||u,x=v.useContext(b);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[f,p]}const i=()=>{const l=r.map(c=>v.createContext(c));return function(u){const h=u?.[e]||l;return v.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return i.scopeName=e,[o,PD(i,...t)]}function PD(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const o=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=o.reduce((u,{useScope:h,scopeName:f})=>{const g=h(l)[`__scope${f}`];return{...u,...g}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function JS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jv(...e){return t=>{let r=!1;const o=e.map(i=>{const l=JS(i,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let i=0;i<o.length;i++){const l=o[i];typeof l=="function"?l():JS(e[i],null)}}}}function vr(...e){return v.useCallback(jv(...e),e)}function Qf(e){const t=jD(e),r=v.forwardRef((o,i)=>{const{children:l,...c}=o,u=v.Children.toArray(l),h=u.find(BD);if(h){const f=h.props.children,p=u.map(g=>g===h?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:g);return A.jsx(t,{...c,ref:i,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return A.jsx(t,{...c,ref:i,children:l})});return r.displayName=`${e}.Slot`,r}function jD(e){const t=v.forwardRef((r,o)=>{const{children:i,...l}=r;if(v.isValidElement(i)){const c=ND(i),u=zD(l,i.props);return i.type!==v.Fragment&&(u.ref=o?jv(o,c):c),v.cloneElement(i,u)}return v.Children.count(i)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var DD=Symbol("radix.slottable");function BD(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===DD}function zD(e,t){const r={...t};for(const o in t){const i=e[o],l=t[o];/^on[A-Z]/.test(o)?i&&l?r[o]=(...u)=>{const h=l(...u);return i(...u),h}:i&&(r[o]=i):o==="style"?r[o]={...i,...l}:o==="className"&&(r[o]=[i,l].filter(Boolean).join(" "))}return{...e,...r}}function ND(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Dv(e){const t=e+"CollectionProvider",[r,o]=Iu(t),[i,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=C=>{const{scope:S,children:E}=C,R=z.useRef(null),_=z.useRef(new Map).current;return A.jsx(i,{scope:S,itemMap:_,collectionRef:R,children:E})};c.displayName=t;const u=e+"CollectionSlot",h=Qf(u),f=z.forwardRef((C,S)=>{const{scope:E,children:R}=C,_=l(u,E),T=vr(S,_.collectionRef);return A.jsx(h,{ref:T,children:R})});f.displayName=u;const p=e+"CollectionItemSlot",g="data-radix-collection-item",y=Qf(p),b=z.forwardRef((C,S)=>{const{scope:E,children:R,..._}=C,T=z.useRef(null),k=vr(S,T),O=l(p,E);return z.useEffect(()=>(O.itemMap.set(T,{ref:T,..._}),()=>void O.itemMap.delete(T))),A.jsx(y,{[g]:"",ref:k,children:R})});b.displayName=p;function x(C){const S=l(e+"CollectionConsumer",C);return z.useCallback(()=>{const R=S.collectionRef.current;if(!R)return[];const _=Array.from(R.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((O,M)=>_.indexOf(O.ref.current)-_.indexOf(M.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:f,ItemSlot:b},x,o]}var LD=v.createContext(void 0);function Bv(e){const t=v.useContext(LD);return e||t||"ltr"}function At(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var Bi=globalThis?.document?v.useLayoutEffect:()=>{},HD=kR[" useId ".trim().toString()]||(()=>{}),$D=0;function Ul(e){const[t,r]=v.useState(HD());return Bi(()=>{r(o=>o??String($D++))},[e]),t?`radix-${t}`:""}var FD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fr=FD.reduce((e,t)=>{const r=Qf(`Primitive.${t}`),o=v.forwardRef((i,l)=>{const{asChild:c,...u}=i,h=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(h,{...u,ref:l})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function nT(e,t){e&&Ta.flushSync(()=>e.dispatchEvent(t))}function lo(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>t.current?.(...r),[])}function YD(e,t=globalThis?.document){const r=lo(e);v.useEffect(()=>{const o=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[r,t])}var UD="DismissableLayer",Vb="dismissableLayer.update",qD="dismissableLayer.pointerDownOutside",XD="dismissableLayer.focusOutside",eA,rT=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),aT=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...h}=e,f=v.useContext(rT),[p,g]=v.useState(null),y=p?.ownerDocument??globalThis?.document,[,b]=v.useState({}),x=vr(t,M=>g(M)),C=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=C.indexOf(S),R=p?C.indexOf(p):-1,_=f.layersWithOutsidePointerEventsDisabled.size>0,T=R>=E,k=QD(M=>{const j=M.target,H=[...f.branches].some(U=>U.contains(j));!T||H||(i?.(M),c?.(M),M.defaultPrevented||u?.())},y),O=KD(M=>{const j=M.target;[...f.branches].some(U=>U.contains(j))||(l?.(M),c?.(M),M.defaultPrevented||u?.())},y);return YD(M=>{R===f.layers.size-1&&(o?.(M),!M.defaultPrevented&&u&&(M.preventDefault(),u()))},y),v.useEffect(()=>{if(p)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(eA=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),tA(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=eA)}},[p,y,r,f]),v.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),tA())},[p,f]),v.useEffect(()=>{const M=()=>b({});return document.addEventListener(Vb,M),()=>document.removeEventListener(Vb,M)},[]),A.jsx(fr.div,{...h,ref:x,style:{pointerEvents:_?T?"auto":"none":void 0,...e.style},onFocusCapture:At(e.onFocusCapture,O.onFocusCapture),onBlurCapture:At(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:At(e.onPointerDownCapture,k.onPointerDownCapture)})});aT.displayName=UD;var GD="DismissableLayerBranch",WD=v.forwardRef((e,t)=>{const r=v.useContext(rT),o=v.useRef(null),i=vr(t,o);return v.useEffect(()=>{const l=o.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),A.jsx(fr.div,{...e,ref:i})});WD.displayName=GD;function QD(e,t=globalThis?.document){const r=lo(e),o=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const l=u=>{if(u.target&&!o.current){let h=function(){oT(qD,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);o.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>o.current=!0}}function KD(e,t=globalThis?.document){const r=lo(e),o=v.useRef(!1);return v.useEffect(()=>{const i=l=>{l.target&&!o.current&&oT(XD,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function tA(){const e=new CustomEvent(Vb);document.dispatchEvent(e)}function oT(e,t,r,{discrete:o}){const i=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),o?nT(i,l):i.dispatchEvent(l)}var um=0;function VD(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nA()),document.body.insertAdjacentElement("beforeend",e[1]??nA()),um++,()=>{um===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),um--}},[])}function nA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var dm="focusScope.autoFocusOnMount",fm="focusScope.autoFocusOnUnmount",rA={bubbles:!1,cancelable:!0},ZD="FocusScope",iT=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...c}=e,[u,h]=v.useState(null),f=lo(i),p=lo(l),g=v.useRef(null),y=vr(t,C=>h(C)),b=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(o){let C=function(_){if(b.paused||!u)return;const T=_.target;u.contains(T)?g.current=T:Mi(g.current,{select:!0})},S=function(_){if(b.paused||!u)return;const T=_.relatedTarget;T!==null&&(u.contains(T)||Mi(g.current,{select:!0}))},E=function(_){if(document.activeElement===document.body)for(const k of _)k.removedNodes.length>0&&Mi(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",S);const R=new MutationObserver(E);return u&&R.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",S),R.disconnect()}}},[o,u,b.paused]),v.useEffect(()=>{if(u){oA.add(b);const C=document.activeElement;if(!u.contains(C)){const E=new CustomEvent(dm,rA);u.addEventListener(dm,f),u.dispatchEvent(E),E.defaultPrevented||(JD(a3(sT(u)),{select:!0}),document.activeElement===C&&Mi(u))}return()=>{u.removeEventListener(dm,f),setTimeout(()=>{const E=new CustomEvent(fm,rA);u.addEventListener(fm,p),u.dispatchEvent(E),E.defaultPrevented||Mi(C??document.body,{select:!0}),u.removeEventListener(fm,p),oA.remove(b)},0)}}},[u,f,p,b]);const x=v.useCallback(C=>{if(!r&&!o||b.paused)return;const S=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,E=document.activeElement;if(S&&E){const R=C.currentTarget,[_,T]=e3(R);_&&T?!C.shiftKey&&E===T?(C.preventDefault(),r&&Mi(_,{select:!0})):C.shiftKey&&E===_&&(C.preventDefault(),r&&Mi(T,{select:!0})):E===R&&C.preventDefault()}},[r,o,b.paused]);return A.jsx(fr.div,{tabIndex:-1,...c,ref:y,onKeyDown:x})});iT.displayName=ZD;function JD(e,{select:t=!1}={}){const r=document.activeElement;for(const o of e)if(Mi(o,{select:t}),document.activeElement!==r)return}function e3(e){const t=sT(e),r=aA(t,e),o=aA(t.reverse(),e);return[r,o]}function sT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function aA(e,t){for(const r of e)if(!t3(r,{upTo:t}))return r}function t3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function n3(e){return e instanceof HTMLInputElement&&"select"in e}function Mi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&n3(e)&&t&&e.select()}}var oA=r3();function r3(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=iA(e,t),e.unshift(t)},remove(t){e=iA(e,t),e[0]?.resume()}}}function iA(e,t){const r=[...e],o=r.indexOf(t);return o!==-1&&r.splice(o,1),r}function a3(e){return e.filter(t=>t.tagName!=="A")}const o3=["top","right","bottom","left"],zi=Math.min,Jr=Math.max,Kf=Math.round,hf=Math.floor,io=e=>({x:e,y:e}),i3={left:"right",right:"left",bottom:"top",top:"bottom"},s3={start:"end",end:"start"};function Zb(e,t,r){return Jr(e,zi(t,r))}function Uo(e,t){return typeof e=="function"?e(t):e}function qo(e){return e.split("-")[0]}function tc(e){return e.split("-")[1]}function zv(e){return e==="x"?"y":"x"}function Nv(e){return e==="y"?"height":"width"}const l3=new Set(["top","bottom"]);function oo(e){return l3.has(qo(e))?"y":"x"}function Lv(e){return zv(oo(e))}function c3(e,t,r){r===void 0&&(r=!1);const o=tc(e),i=Lv(e),l=Nv(i);let c=i==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=Vf(c)),[c,Vf(c)]}function u3(e){const t=Vf(e);return[Jb(e),t,Jb(t)]}function Jb(e){return e.replace(/start|end/g,t=>s3[t])}const sA=["left","right"],lA=["right","left"],d3=["top","bottom"],f3=["bottom","top"];function h3(e,t,r){switch(e){case"top":case"bottom":return r?t?lA:sA:t?sA:lA;case"left":case"right":return t?d3:f3;default:return[]}}function p3(e,t,r,o){const i=tc(e);let l=h3(qo(e),r==="start",o);return i&&(l=l.map(c=>c+"-"+i),t&&(l=l.concat(l.map(Jb)))),l}function Vf(e){return e.replace(/left|right|bottom|top/g,t=>i3[t])}function g3(e){return{top:0,right:0,bottom:0,left:0,...e}}function lT(e){return typeof e!="number"?g3(e):{top:e,right:e,bottom:e,left:e}}function Zf(e){const{x:t,y:r,width:o,height:i}=e;return{width:o,height:i,top:r,left:t,right:t+o,bottom:r+i,x:t,y:r}}function cA(e,t,r){let{reference:o,floating:i}=e;const l=oo(t),c=Lv(t),u=Nv(c),h=qo(t),f=l==="y",p=o.x+o.width/2-i.width/2,g=o.y+o.height/2-i.height/2,y=o[u]/2-i[u]/2;let b;switch(h){case"top":b={x:p,y:o.y-i.height};break;case"bottom":b={x:p,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y:g};break;case"left":b={x:o.x-i.width,y:g};break;default:b={x:o.x,y:o.y}}switch(tc(t)){case"start":b[c]-=y*(r&&f?-1:1);break;case"end":b[c]+=y*(r&&f?-1:1);break}return b}const m3=async(e,t,r)=>{const{placement:o="bottom",strategy:i="absolute",middleware:l=[],platform:c}=r,u=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:g}=cA(f,o,h),y=o,b={},x=0;for(let C=0;C<u.length;C++){const{name:S,fn:E}=u[C],{x:R,y:_,data:T,reset:k}=await E({x:p,y:g,initialPlacement:o,placement:y,strategy:i,middlewareData:b,rects:f,platform:c,elements:{reference:e,floating:t}});p=R??p,g=_??g,b={...b,[S]:{...b[S],...T}},k&&x<=50&&(x++,typeof k=="object"&&(k.placement&&(y=k.placement),k.rects&&(f=k.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):k.rects),{x:p,y:g}=cA(f,y,h)),C=-1)}return{x:p,y:g,placement:y,strategy:i,middlewareData:b}};async function Su(e,t){var r;t===void 0&&(t={});const{x:o,y:i,platform:l,rects:c,elements:u,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:y=!1,padding:b=0}=Uo(t,e),x=lT(b),S=u[y?g==="floating"?"reference":"floating":g],E=Zf(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(S)))==null||r?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:h})),R=g==="floating"?{x:o,y:i,width:c.floating.width,height:c.floating.height}:c.reference,_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),T=await(l.isElement==null?void 0:l.isElement(_))?await(l.getScale==null?void 0:l.getScale(_))||{x:1,y:1}:{x:1,y:1},k=Zf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:R,offsetParent:_,strategy:h}):R);return{top:(E.top-k.top+x.top)/T.y,bottom:(k.bottom-E.bottom+x.bottom)/T.y,left:(E.left-k.left+x.left)/T.x,right:(k.right-E.right+x.right)/T.x}}const y3=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:o,placement:i,rects:l,platform:c,elements:u,middlewareData:h}=t,{element:f,padding:p=0}=Uo(e,t)||{};if(f==null)return{};const g=lT(p),y={x:r,y:o},b=Lv(i),x=Nv(b),C=await c.getDimensions(f),S=b==="y",E=S?"top":"left",R=S?"bottom":"right",_=S?"clientHeight":"clientWidth",T=l.reference[x]+l.reference[b]-y[b]-l.floating[x],k=y[b]-l.reference[b],O=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let M=O?O[_]:0;(!M||!await(c.isElement==null?void 0:c.isElement(O)))&&(M=u.floating[_]||l.floating[x]);const j=T/2-k/2,H=M/2-C[x]/2-1,U=zi(g[E],H),Y=zi(g[R],H),Q=U,W=M-C[x]-Y,ae=M/2-C[x]/2+j,Z=Zb(Q,ae,W),P=!h.arrow&&tc(i)!=null&&ae!==Z&&l.reference[x]/2-(ae<Q?U:Y)-C[x]/2<0,L=P?ae<Q?ae-Q:ae-W:0;return{[b]:y[b]+L,data:{[b]:Z,centerOffset:ae-Z-L,...P&&{alignmentOffset:L}},reset:P}}}),b3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,o;const{placement:i,middlewareData:l,rects:c,initialPlacement:u,platform:h,elements:f}=t,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:C=!0,...S}=Uo(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const E=qo(i),R=oo(u),_=qo(u)===u,T=await(h.isRTL==null?void 0:h.isRTL(f.floating)),k=y||(_||!C?[Vf(u)]:u3(u)),O=x!=="none";!y&&O&&k.push(...p3(u,C,x,T));const M=[u,...k],j=await Su(t,S),H=[];let U=((o=l.flip)==null?void 0:o.overflows)||[];if(p&&H.push(j[E]),g){const ae=c3(i,c,T);H.push(j[ae[0]],j[ae[1]])}if(U=[...U,{placement:i,overflows:H}],!H.every(ae=>ae<=0)){var Y,Q;const ae=(((Y=l.flip)==null?void 0:Y.index)||0)+1,Z=M[ae];if(Z&&(!(g==="alignment"?R!==oo(Z):!1)||U.every(N=>oo(N.placement)===R?N.overflows[0]>0:!0)))return{data:{index:ae,overflows:U},reset:{placement:Z}};let P=(Q=U.filter(L=>L.overflows[0]<=0).sort((L,N)=>L.overflows[1]-N.overflows[1])[0])==null?void 0:Q.placement;if(!P)switch(b){case"bestFit":{var W;const L=(W=U.filter(N=>{if(O){const q=oo(N.placement);return q===R||q==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(q=>q>0).reduce((q,$)=>q+$,0)]).sort((N,q)=>N[1]-q[1])[0])==null?void 0:W[0];L&&(P=L);break}case"initialPlacement":P=u;break}if(i!==P)return{reset:{placement:P}}}return{}}}};function uA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dA(e){return o3.some(t=>e[t]>=0)}const v3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:o="referenceHidden",...i}=Uo(e,t);switch(o){case"referenceHidden":{const l=await Su(t,{...i,elementContext:"reference"}),c=uA(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:dA(c)}}}case"escaped":{const l=await Su(t,{...i,altBoundary:!0}),c=uA(l,r.floating);return{data:{escapedOffsets:c,escaped:dA(c)}}}default:return{}}}}},cT=new Set(["left","top"]);async function x3(e,t){const{placement:r,platform:o,elements:i}=e,l=await(o.isRTL==null?void 0:o.isRTL(i.floating)),c=qo(r),u=tc(r),h=oo(r)==="y",f=cT.has(c)?-1:1,p=l&&h?-1:1,g=Uo(t,e);let{mainAxis:y,crossAxis:b,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof x=="number"&&(b=u==="end"?x*-1:x),h?{x:b*p,y:y*f}:{x:y*f,y:b*p}}const w3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,o;const{x:i,y:l,placement:c,middlewareData:u}=t,h=await x3(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(o=u.arrow)!=null&&o.alignmentOffset?{}:{x:i+h.x,y:l+h.y,data:{...h,placement:c}}}}},C3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:o,placement:i}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:S=>{let{x:E,y:R}=S;return{x:E,y:R}}},...h}=Uo(e,t),f={x:r,y:o},p=await Su(t,h),g=oo(qo(i)),y=zv(g);let b=f[y],x=f[g];if(l){const S=y==="y"?"top":"left",E=y==="y"?"bottom":"right",R=b+p[S],_=b-p[E];b=Zb(R,b,_)}if(c){const S=g==="y"?"top":"left",E=g==="y"?"bottom":"right",R=x+p[S],_=x-p[E];x=Zb(R,x,_)}const C=u.fn({...t,[y]:b,[g]:x});return{...C,data:{x:C.x-r,y:C.y-o,enabled:{[y]:l,[g]:c}}}}}},S3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:o,placement:i,rects:l,middlewareData:c}=t,{offset:u=0,mainAxis:h=!0,crossAxis:f=!0}=Uo(e,t),p={x:r,y:o},g=oo(i),y=zv(g);let b=p[y],x=p[g];const C=Uo(u,t),S=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(h){const _=y==="y"?"height":"width",T=l.reference[y]-l.floating[_]+S.mainAxis,k=l.reference[y]+l.reference[_]-S.mainAxis;b<T?b=T:b>k&&(b=k)}if(f){var E,R;const _=y==="y"?"width":"height",T=cT.has(qo(i)),k=l.reference[g]-l.floating[_]+(T&&((E=c.offset)==null?void 0:E[g])||0)+(T?0:S.crossAxis),O=l.reference[g]+l.reference[_]+(T?0:((R=c.offset)==null?void 0:R[g])||0)-(T?S.crossAxis:0);x<k?x=k:x>O&&(x=O)}return{[y]:b,[g]:x}}}},A3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,o;const{placement:i,rects:l,platform:c,elements:u}=t,{apply:h=()=>{},...f}=Uo(e,t),p=await Su(t,f),g=qo(i),y=tc(i),b=oo(i)==="y",{width:x,height:C}=l.floating;let S,E;g==="top"||g==="bottom"?(S=g,E=y===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(E=g,S=y==="end"?"top":"bottom");const R=C-p.top-p.bottom,_=x-p.left-p.right,T=zi(C-p[S],R),k=zi(x-p[E],_),O=!t.middlewareData.shift;let M=T,j=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=_),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(M=R),O&&!y){const U=Jr(p.left,0),Y=Jr(p.right,0),Q=Jr(p.top,0),W=Jr(p.bottom,0);b?j=x-2*(U!==0||Y!==0?U+Y:Jr(p.left,p.right)):M=C-2*(Q!==0||W!==0?Q+W:Jr(p.top,p.bottom))}await h({...t,availableWidth:j,availableHeight:M});const H=await c.getDimensions(u.floating);return x!==H.width||C!==H.height?{reset:{rects:!0}}:{}}}};function Eh(){return typeof window<"u"}function nc(e){return uT(e)?(e.nodeName||"").toLowerCase():"#document"}function na(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ho(e){var t;return(t=(uT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uT(e){return Eh()?e instanceof Node||e instanceof na(e).Node:!1}function Ya(e){return Eh()?e instanceof Element||e instanceof na(e).Element:!1}function co(e){return Eh()?e instanceof HTMLElement||e instanceof na(e).HTMLElement:!1}function fA(e){return!Eh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof na(e).ShadowRoot}const E3=new Set(["inline","contents"]);function Pu(e){const{overflow:t,overflowX:r,overflowY:o,display:i}=Ua(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+r)&&!E3.has(i)}const M3=new Set(["table","td","th"]);function _3(e){return M3.has(nc(e))}const R3=[":popover-open",":modal"];function Mh(e){return R3.some(t=>{try{return e.matches(t)}catch{return!1}})}const T3=["transform","translate","scale","rotate","perspective"],k3=["transform","translate","scale","rotate","perspective","filter"],O3=["paint","layout","strict","content"];function Hv(e){const t=$v(),r=Ya(e)?Ua(e):e;return T3.some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||k3.some(o=>(r.willChange||"").includes(o))||O3.some(o=>(r.contain||"").includes(o))}function I3(e){let t=Ni(e);for(;co(t)&&!Zl(t);){if(Hv(t))return t;if(Mh(t))return null;t=Ni(t)}return null}function $v(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const P3=new Set(["html","body","#document"]);function Zl(e){return P3.has(nc(e))}function Ua(e){return na(e).getComputedStyle(e)}function _h(e){return Ya(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ni(e){if(nc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fA(e)&&e.host||ho(e);return fA(t)?t.host:t}function dT(e){const t=Ni(e);return Zl(t)?e.ownerDocument?e.ownerDocument.body:e.body:co(t)&&Pu(t)?t:dT(t)}function Au(e,t,r){var o;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=dT(e),l=i===((o=e.ownerDocument)==null?void 0:o.body),c=na(i);if(l){const u=ev(c);return t.concat(c,c.visualViewport||[],Pu(i)?i:[],u&&r?Au(u):[])}return t.concat(i,Au(i,[],r))}function ev(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function fT(e){const t=Ua(e);let r=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=co(e),l=i?e.offsetWidth:r,c=i?e.offsetHeight:o,u=Kf(r)!==l||Kf(o)!==c;return u&&(r=l,o=c),{width:r,height:o,$:u}}function Fv(e){return Ya(e)?e:e.contextElement}function ql(e){const t=Fv(e);if(!co(t))return io(1);const r=t.getBoundingClientRect(),{width:o,height:i,$:l}=fT(t);let c=(l?Kf(r.width):r.width)/o,u=(l?Kf(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const j3=io(0);function hT(e){const t=na(e);return!$v()||!t.visualViewport?j3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function D3(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==na(e)?!1:t}function ys(e,t,r,o){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),l=Fv(e);let c=io(1);t&&(o?Ya(o)&&(c=ql(o)):c=ql(e));const u=D3(l,r,o)?hT(l):io(0);let h=(i.left+u.x)/c.x,f=(i.top+u.y)/c.y,p=i.width/c.x,g=i.height/c.y;if(l){const y=na(l),b=o&&Ya(o)?na(o):o;let x=y,C=ev(x);for(;C&&o&&b!==x;){const S=ql(C),E=C.getBoundingClientRect(),R=Ua(C),_=E.left+(C.clientLeft+parseFloat(R.paddingLeft))*S.x,T=E.top+(C.clientTop+parseFloat(R.paddingTop))*S.y;h*=S.x,f*=S.y,p*=S.x,g*=S.y,h+=_,f+=T,x=na(C),C=ev(x)}}return Zf({width:p,height:g,x:h,y:f})}function Rh(e,t){const r=_h(e).scrollLeft;return t?t.left+r:ys(ho(e)).left+r}function pT(e,t){const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-Rh(e,r),i=r.top+t.scrollTop;return{x:o,y:i}}function B3(e){let{elements:t,rect:r,offsetParent:o,strategy:i}=e;const l=i==="fixed",c=ho(o),u=t?Mh(t.floating):!1;if(o===c||u&&l)return r;let h={scrollLeft:0,scrollTop:0},f=io(1);const p=io(0),g=co(o);if((g||!g&&!l)&&((nc(o)!=="body"||Pu(c))&&(h=_h(o)),co(o))){const b=ys(o);f=ql(o),p.x=b.x+o.clientLeft,p.y=b.y+o.clientTop}const y=c&&!g&&!l?pT(c,h):io(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-h.scrollLeft*f.x+p.x+y.x,y:r.y*f.y-h.scrollTop*f.y+p.y+y.y}}function z3(e){return Array.from(e.getClientRects())}function N3(e){const t=ho(e),r=_h(e),o=e.ownerDocument.body,i=Jr(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),l=Jr(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let c=-r.scrollLeft+Rh(e);const u=-r.scrollTop;return Ua(o).direction==="rtl"&&(c+=Jr(t.clientWidth,o.clientWidth)-i),{width:i,height:l,x:c,y:u}}const hA=25;function L3(e,t){const r=na(e),o=ho(e),i=r.visualViewport;let l=o.clientWidth,c=o.clientHeight,u=0,h=0;if(i){l=i.width,c=i.height;const p=$v();(!p||p&&t==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}const f=Rh(o);if(f<=0){const p=o.ownerDocument,g=p.body,y=getComputedStyle(g),b=p.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,x=Math.abs(o.clientWidth-g.clientWidth-b);x<=hA&&(l-=x)}else f<=hA&&(l+=f);return{width:l,height:c,x:u,y:h}}const H3=new Set(["absolute","fixed"]);function $3(e,t){const r=ys(e,!0,t==="fixed"),o=r.top+e.clientTop,i=r.left+e.clientLeft,l=co(e)?ql(e):io(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,h=i*l.x,f=o*l.y;return{width:c,height:u,x:h,y:f}}function pA(e,t,r){let o;if(t==="viewport")o=L3(e,r);else if(t==="document")o=N3(ho(e));else if(Ya(t))o=$3(t,r);else{const i=hT(e);o={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Zf(o)}function gT(e,t){const r=Ni(e);return r===t||!Ya(r)||Zl(r)?!1:Ua(r).position==="fixed"||gT(r,t)}function F3(e,t){const r=t.get(e);if(r)return r;let o=Au(e,[],!1).filter(u=>Ya(u)&&nc(u)!=="body"),i=null;const l=Ua(e).position==="fixed";let c=l?Ni(e):e;for(;Ya(c)&&!Zl(c);){const u=Ua(c),h=Hv(c);!h&&u.position==="fixed"&&(i=null),(l?!h&&!i:!h&&u.position==="static"&&!!i&&H3.has(i.position)||Pu(c)&&!h&&gT(e,c))?o=o.filter(p=>p!==c):i=u,c=Ni(c)}return t.set(e,o),o}function Y3(e){let{element:t,boundary:r,rootBoundary:o,strategy:i}=e;const c=[...r==="clippingAncestors"?Mh(t)?[]:F3(t,this._c):[].concat(r),o],u=c[0],h=c.reduce((f,p)=>{const g=pA(t,p,i);return f.top=Jr(g.top,f.top),f.right=zi(g.right,f.right),f.bottom=zi(g.bottom,f.bottom),f.left=Jr(g.left,f.left),f},pA(t,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function U3(e){const{width:t,height:r}=fT(e);return{width:t,height:r}}function q3(e,t,r){const o=co(t),i=ho(t),l=r==="fixed",c=ys(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const h=io(0);function f(){h.x=Rh(i)}if(o||!o&&!l)if((nc(t)!=="body"||Pu(i))&&(u=_h(t)),o){const b=ys(t,!0,l,t);h.x=b.x+t.clientLeft,h.y=b.y+t.clientTop}else i&&f();l&&!o&&i&&f();const p=i&&!o&&!l?pT(i,u):io(0),g=c.left+u.scrollLeft-h.x-p.x,y=c.top+u.scrollTop-h.y-p.y;return{x:g,y,width:c.width,height:c.height}}function hm(e){return Ua(e).position==="static"}function gA(e,t){if(!co(e)||Ua(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ho(e)===r&&(r=r.ownerDocument.body),r}function mT(e,t){const r=na(e);if(Mh(e))return r;if(!co(e)){let i=Ni(e);for(;i&&!Zl(i);){if(Ya(i)&&!hm(i))return i;i=Ni(i)}return r}let o=gA(e,t);for(;o&&_3(o)&&hm(o);)o=gA(o,t);return o&&Zl(o)&&hm(o)&&!Hv(o)?r:o||I3(e)||r}const X3=async function(e){const t=this.getOffsetParent||mT,r=this.getDimensions,o=await r(e.floating);return{reference:q3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function G3(e){return Ua(e).direction==="rtl"}const W3={convertOffsetParentRelativeRectToViewportRelativeRect:B3,getDocumentElement:ho,getClippingRect:Y3,getOffsetParent:mT,getElementRects:X3,getClientRects:z3,getDimensions:U3,getScale:ql,isElement:Ya,isRTL:G3};function yT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Q3(e,t){let r=null,o;const i=ho(e);function l(){var u;clearTimeout(o),(u=r)==null||u.disconnect(),r=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),l();const f=e.getBoundingClientRect(),{left:p,top:g,width:y,height:b}=f;if(u||t(),!y||!b)return;const x=hf(g),C=hf(i.clientWidth-(p+y)),S=hf(i.clientHeight-(g+b)),E=hf(p),_={rootMargin:-x+"px "+-C+"px "+-S+"px "+-E+"px",threshold:Jr(0,zi(1,h))||1};let T=!0;function k(O){const M=O[0].intersectionRatio;if(M!==h){if(!T)return c();M?c(!1,M):o=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!yT(f,e.getBoundingClientRect())&&c(),T=!1}try{r=new IntersectionObserver(k,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(k,_)}r.observe(e)}return c(!0),l}function K3(e,t,r,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=o,f=Fv(e),p=i||l?[...f?Au(f):[],...Au(t)]:[];p.forEach(E=>{i&&E.addEventListener("scroll",r,{passive:!0}),l&&E.addEventListener("resize",r)});const g=f&&u?Q3(f,r):null;let y=-1,b=null;c&&(b=new ResizeObserver(E=>{let[R]=E;R&&R.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var _;(_=b)==null||_.observe(t)})),r()}),f&&!h&&b.observe(f),b.observe(t));let x,C=h?ys(e):null;h&&S();function S(){const E=ys(e);C&&!yT(C,E)&&r(),C=E,x=requestAnimationFrame(S)}return r(),()=>{var E;p.forEach(R=>{i&&R.removeEventListener("scroll",r),l&&R.removeEventListener("resize",r)}),g?.(),(E=b)==null||E.disconnect(),b=null,h&&cancelAnimationFrame(x)}}const V3=w3,Z3=C3,J3=b3,e4=A3,t4=v3,mA=y3,n4=S3,r4=(e,t,r)=>{const o=new Map,i={platform:W3,...r},l={...i.platform,_c:o};return m3(e,t,{...i,platform:l})};var a4=typeof document<"u",o4=function(){},Hf=a4?v.useLayoutEffect:o4;function Jf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,o,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(o=r;o--!==0;)if(!Jf(e[o],t[o]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(t,i[o]))return!1;for(o=r;o--!==0;){const l=i[o];if(!(l==="_owner"&&e.$$typeof)&&!Jf(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function bT(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yA(e,t){const r=bT(e);return Math.round(t*r)/r}function pm(e){const t=v.useRef(e);return Hf(()=>{t.current=e}),t}function i4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:o=[],platform:i,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:h,open:f}=e,[p,g]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,b]=v.useState(o);Jf(y,o)||b(o);const[x,C]=v.useState(null),[S,E]=v.useState(null),R=v.useCallback(N=>{N!==O.current&&(O.current=N,C(N))},[]),_=v.useCallback(N=>{N!==M.current&&(M.current=N,E(N))},[]),T=l||x,k=c||S,O=v.useRef(null),M=v.useRef(null),j=v.useRef(p),H=h!=null,U=pm(h),Y=pm(i),Q=pm(f),W=v.useCallback(()=>{if(!O.current||!M.current)return;const N={placement:t,strategy:r,middleware:y};Y.current&&(N.platform=Y.current),r4(O.current,M.current,N).then(q=>{const $={...q,isPositioned:Q.current!==!1};ae.current&&!Jf(j.current,$)&&(j.current=$,Ta.flushSync(()=>{g($)}))})},[y,t,r,Y,Q]);Hf(()=>{f===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,g(N=>({...N,isPositioned:!1})))},[f]);const ae=v.useRef(!1);Hf(()=>(ae.current=!0,()=>{ae.current=!1}),[]),Hf(()=>{if(T&&(O.current=T),k&&(M.current=k),T&&k){if(U.current)return U.current(T,k,W);W()}},[T,k,W,U,H]);const Z=v.useMemo(()=>({reference:O,floating:M,setReference:R,setFloating:_}),[R,_]),P=v.useMemo(()=>({reference:T,floating:k}),[T,k]),L=v.useMemo(()=>{const N={position:r,left:0,top:0};if(!P.floating)return N;const q=yA(P.floating,p.x),$=yA(P.floating,p.y);return u?{...N,transform:"translate("+q+"px, "+$+"px)",...bT(P.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:$}},[r,u,P.floating,p.x,p.y]);return v.useMemo(()=>({...p,update:W,refs:Z,elements:P,floatingStyles:L}),[p,W,Z,P,L])}const s4=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:o,padding:i}=typeof e=="function"?e(r):e;return o&&t(o)?o.current!=null?mA({element:o.current,padding:i}).fn(r):{}:o?mA({element:o,padding:i}).fn(r):{}}}},l4=(e,t)=>({...V3(e),options:[e,t]}),c4=(e,t)=>({...Z3(e),options:[e,t]}),u4=(e,t)=>({...n4(e),options:[e,t]}),d4=(e,t)=>({...J3(e),options:[e,t]}),f4=(e,t)=>({...e4(e),options:[e,t]}),h4=(e,t)=>({...t4(e),options:[e,t]}),p4=(e,t)=>({...s4(e),options:[e,t]});var g4="Arrow",vT=v.forwardRef((e,t)=>{const{children:r,width:o=10,height:i=5,...l}=e;return A.jsx(fr.svg,{...l,ref:t,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:A.jsx("polygon",{points:"0,0 30,0 15,10"})})});vT.displayName=g4;var m4=vT;function y4(e){const[t,r]=v.useState(void 0);return Bi(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let c,u;if("borderBoxSize"in l){const h=l.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,u=f.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else r(void 0)},[e]),t}var Yv="Popper",[xT,wT]=Iu(Yv),[b4,CT]=xT(Yv),ST=e=>{const{__scopePopper:t,children:r}=e,[o,i]=v.useState(null);return A.jsx(b4,{scope:t,anchor:o,onAnchorChange:i,children:r})};ST.displayName=Yv;var AT="PopperAnchor",ET=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:o,...i}=e,l=CT(AT,r),c=v.useRef(null),u=vr(t,c),h=v.useRef(null);return v.useEffect(()=>{const f=h.current;h.current=o?.current||c.current,f!==h.current&&l.onAnchorChange(h.current)}),o?null:A.jsx(fr.div,{...i,ref:u})});ET.displayName=AT;var Uv="PopperContent",[v4,x4]=xT(Uv),MT=v.forwardRef((e,t)=>{const{__scopePopper:r,side:o="bottom",sideOffset:i=0,align:l="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:x,...C}=e,S=CT(Uv,r),[E,R]=v.useState(null),_=vr(t,te=>R(te)),[T,k]=v.useState(null),O=y4(T),M=O?.width??0,j=O?.height??0,H=o+(l!=="center"?"-"+l:""),U=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},Y=Array.isArray(f)?f:[f],Q=Y.length>0,W={padding:U,boundary:Y.filter(C4),altBoundary:Q},{refs:ae,floatingStyles:Z,placement:P,isPositioned:L,middlewareData:N}=i4({strategy:"fixed",placement:H,whileElementsMounted:(...te)=>K3(...te,{animationFrame:b==="always"}),elements:{reference:S.anchor},middleware:[l4({mainAxis:i+j,alignmentAxis:c}),h&&c4({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?u4():void 0,...W}),h&&d4({...W}),f4({...W,apply:({elements:te,rects:J,availableWidth:ie,availableHeight:be})=>{const{width:ge,height:Ee}=J.reference,Te=te.floating.style;Te.setProperty("--radix-popper-available-width",`${ie}px`),Te.setProperty("--radix-popper-available-height",`${be}px`),Te.setProperty("--radix-popper-anchor-width",`${ge}px`),Te.setProperty("--radix-popper-anchor-height",`${Ee}px`)}}),T&&p4({element:T,padding:u}),S4({arrowWidth:M,arrowHeight:j}),y&&h4({strategy:"referenceHidden",...W})]}),[q,$]=TT(P),D=lo(x);Bi(()=>{L&&D?.()},[L,D]);const F=N.arrow?.x,X=N.arrow?.y,re=N.arrow?.centerOffset!==0,[V,ee]=v.useState();return Bi(()=>{E&&ee(window.getComputedStyle(E).zIndex)},[E]),A.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:L?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[N.transformOrigin?.x,N.transformOrigin?.y].join(" "),...N.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:A.jsx(v4,{scope:r,placedSide:q,onArrowChange:k,arrowX:F,arrowY:X,shouldHideArrow:re,children:A.jsx(fr.div,{"data-side":q,"data-align":$,...C,ref:_,style:{...C.style,animation:L?void 0:"none"}})})})});MT.displayName=Uv;var _T="PopperArrow",w4={top:"bottom",right:"left",bottom:"top",left:"right"},RT=v.forwardRef(function(t,r){const{__scopePopper:o,...i}=t,l=x4(_T,o),c=w4[l.placedSide];return A.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:A.jsx(m4,{...i,ref:r,style:{...i.style,display:"block"}})})});RT.displayName=_T;function C4(e){return e!==null}var S4=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:o,middlewareData:i}=t,c=i.arrow?.centerOffset!==0,u=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[f,p]=TT(r),g={start:"0%",center:"50%",end:"100%"}[p],y=(i.arrow?.x??0)+u/2,b=(i.arrow?.y??0)+h/2;let x="",C="";return f==="bottom"?(x=c?g:`${y}px`,C=`${-h}px`):f==="top"?(x=c?g:`${y}px`,C=`${o.floating.height+h}px`):f==="right"?(x=`${-h}px`,C=c?g:`${b}px`):f==="left"&&(x=`${o.floating.width+h}px`,C=c?g:`${b}px`),{data:{x,y:C}}}});function TT(e){const[t,r="center"]=e.split("-");return[t,r]}var kT=ST,A4=ET,E4=MT,M4=RT,_4="Portal",OT=v.forwardRef((e,t)=>{const{container:r,...o}=e,[i,l]=v.useState(!1);Bi(()=>l(!0),[]);const c=r||i&&globalThis?.document?.body;return c?zP.createPortal(A.jsx(fr.div,{...o,ref:t}),c):null});OT.displayName=_4;function R4(e,t){return v.useReducer((r,o)=>t[r][o]??r,e)}var ju=e=>{const{present:t,children:r}=e,o=T4(t),i=typeof r=="function"?r({present:o.isPresent}):v.Children.only(r),l=vr(o.ref,k4(i));return typeof r=="function"||o.isPresent?v.cloneElement(i,{ref:l}):null};ju.displayName="Presence";function T4(e){const[t,r]=v.useState(),o=v.useRef(null),i=v.useRef(e),l=v.useRef("none"),c=e?"mounted":"unmounted",[u,h]=R4(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const f=pf(o.current);l.current=u==="mounted"?f:"none"},[u]),Bi(()=>{const f=o.current,p=i.current;if(p!==e){const y=l.current,b=pf(f);e?h("MOUNT"):b==="none"||f?.display==="none"?h("UNMOUNT"):h(p&&y!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),Bi(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,g=b=>{const C=pf(o.current).includes(CSS.escape(b.animationName));if(b.target===t&&C&&(h("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=b=>{b.target===t&&(l.current=pf(o.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:v.useCallback(f=>{o.current=f?getComputedStyle(f):null,r(f)},[])}}function pf(e){return e?.animationName||"none"}function k4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var O4=kR[" useInsertionEffect ".trim().toString()]||Bi;function qv({prop:e,defaultProp:t,onChange:r=()=>{},caller:o}){const[i,l,c]=I4({defaultProp:t,onChange:r}),u=e!==void 0,h=u?e:i;{const p=v.useRef(e!==void 0);v.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${o} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,o])}const f=v.useCallback(p=>{if(u){const g=P4(p)?p(e):p;g!==e&&c.current?.(g)}else l(p)},[u,e,l,c]);return[h,f]}function I4({defaultProp:e,onChange:t}){const[r,o]=v.useState(e),i=v.useRef(r),l=v.useRef(t);return O4(()=>{l.current=t},[t]),v.useEffect(()=>{i.current!==r&&(l.current?.(r),i.current=r)},[r,i]),[r,o,l]}function P4(e){return typeof e=="function"}var gm="rovingFocusGroup.onEntryFocus",j4={bubbles:!1,cancelable:!0},Du="RovingFocusGroup",[tv,IT,D4]=Dv(Du),[B4,Th]=Iu(Du,[D4]),[z4,N4]=B4(Du),PT=v.forwardRef((e,t)=>A.jsx(tv.Provider,{scope:e.__scopeRovingFocusGroup,children:A.jsx(tv.Slot,{scope:e.__scopeRovingFocusGroup,children:A.jsx(L4,{...e,ref:t})})}));PT.displayName=Du;var L4=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:i=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...g}=e,y=v.useRef(null),b=vr(t,y),x=Bv(l),[C,S]=qv({prop:c,defaultProp:u??null,onChange:h,caller:Du}),[E,R]=v.useState(!1),_=lo(f),T=IT(r),k=v.useRef(!1),[O,M]=v.useState(0);return v.useEffect(()=>{const j=y.current;if(j)return j.addEventListener(gm,_),()=>j.removeEventListener(gm,_)},[_]),A.jsx(z4,{scope:r,orientation:o,dir:x,loop:i,currentTabStopId:C,onItemFocus:v.useCallback(j=>S(j),[S]),onItemShiftTab:v.useCallback(()=>R(!0),[]),onFocusableItemAdd:v.useCallback(()=>M(j=>j+1),[]),onFocusableItemRemove:v.useCallback(()=>M(j=>j-1),[]),children:A.jsx(fr.div,{tabIndex:E||O===0?-1:0,"data-orientation":o,...g,ref:b,style:{outline:"none",...e.style},onMouseDown:At(e.onMouseDown,()=>{k.current=!0}),onFocus:At(e.onFocus,j=>{const H=!k.current;if(j.target===j.currentTarget&&H&&!E){const U=new CustomEvent(gm,j4);if(j.currentTarget.dispatchEvent(U),!U.defaultPrevented){const Y=T().filter(P=>P.focusable),Q=Y.find(P=>P.active),W=Y.find(P=>P.id===C),Z=[Q,W,...Y].filter(Boolean).map(P=>P.ref.current);BT(Z,p)}}k.current=!1}),onBlur:At(e.onBlur,()=>R(!1))})})}),jT="RovingFocusGroupItem",DT=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:i=!1,tabStopId:l,children:c,...u}=e,h=Ul(),f=l||h,p=N4(jT,r),g=p.currentTabStopId===f,y=IT(r),{onFocusableItemAdd:b,onFocusableItemRemove:x,currentTabStopId:C}=p;return v.useEffect(()=>{if(o)return b(),()=>x()},[o,b,x]),A.jsx(tv.ItemSlot,{scope:r,id:f,focusable:o,active:i,children:A.jsx(fr.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:At(e.onMouseDown,S=>{o?p.onItemFocus(f):S.preventDefault()}),onFocus:At(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:At(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const E=F4(S,p.orientation,p.dir);if(E!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let _=y().filter(T=>T.focusable).map(T=>T.ref.current);if(E==="last")_.reverse();else if(E==="prev"||E==="next"){E==="prev"&&_.reverse();const T=_.indexOf(S.currentTarget);_=p.loop?Y4(_,T+1):_.slice(T+1)}setTimeout(()=>BT(_))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:C!=null}):c})})});DT.displayName=jT;var H4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function F4(e,t,r){const o=$4(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return H4[o]}function BT(e,t=!1){const r=document.activeElement;for(const o of e)if(o===r||(o.focus({preventScroll:t}),document.activeElement!==r))return}function Y4(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var zT=PT,NT=DT,U4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},dl=new WeakMap,gf=new WeakMap,mf={},mm=0,LT=function(e){return e&&(e.host||LT(e.parentNode))},q4=function(e,t){return t.map(function(r){if(e.contains(r))return r;var o=LT(r);return o&&e.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},X4=function(e,t,r,o){var i=q4(t,Array.isArray(e)?e:[e]);mf[r]||(mf[r]=new WeakMap);var l=mf[r],c=[],u=new Set,h=new Set(i),f=function(g){!g||u.has(g)||(u.add(g),f(g.parentNode))};i.forEach(f);var p=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(y){if(u.has(y))p(y);else try{var b=y.getAttribute(o),x=b!==null&&b!=="false",C=(dl.get(y)||0)+1,S=(l.get(y)||0)+1;dl.set(y,C),l.set(y,S),c.push(y),C===1&&x&&gf.set(y,!0),S===1&&y.setAttribute(r,"true"),x||y.setAttribute(o,"true")}catch(E){console.error("aria-hidden: cannot operate on ",y,E)}})};return p(t),u.clear(),mm++,function(){c.forEach(function(g){var y=dl.get(g)-1,b=l.get(g)-1;dl.set(g,y),l.set(g,b),y||(gf.has(g)||g.removeAttribute(o),gf.delete(g)),b||g.removeAttribute(r)}),mm--,mm||(dl=new WeakMap,dl=new WeakMap,gf=new WeakMap,mf={})}},G4=function(e,t,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),i=U4(e);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live], script"))),X4(o,i,r,"aria-hidden")):function(){return null}},ao=function(){return ao=Object.assign||function(t){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},ao.apply(this,arguments)};function HT(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(r[o[i]]=e[o[i]]);return r}function W4(e,t,r){if(r||arguments.length===2)for(var o=0,i=t.length,l;o<i;o++)(l||!(o in t))&&(l||(l=Array.prototype.slice.call(t,0,o)),l[o]=t[o]);return e.concat(l||Array.prototype.slice.call(t))}var $f="right-scroll-bar-position",Ff="width-before-scroll-bar",Q4="with-scroll-bars-hidden",K4="--removed-body-scroll-bar-size";function ym(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function V4(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(o){var i=r.value;i!==o&&(r.value=o,r.callback(o,i))}}}})[0];return r.callback=t,r.facade}var Z4=typeof window<"u"?v.useLayoutEffect:v.useEffect,bA=new WeakMap;function J4(e,t){var r=V4(null,function(o){return e.forEach(function(i){return ym(i,o)})});return Z4(function(){var o=bA.get(r);if(o){var i=new Set(o),l=new Set(e),c=r.current;i.forEach(function(u){l.has(u)||ym(u,null)}),l.forEach(function(u){i.has(u)||ym(u,c)})}bA.set(r,e)},[e]),r}function e6(e){return e}function t6(e,t){t===void 0&&(t=e6);var r=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var c=t(l,o);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(o=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(u){return l(u)},filter:function(){return r}}},assignMedium:function(l){o=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(l),c=r}var h=function(){var p=c;c=[],p.forEach(l)},f=function(){return Promise.resolve().then(h)};f(),r={push:function(p){c.push(p),f()},filter:function(p){return c=c.filter(p),r}}}};return i}function n6(e){e===void 0&&(e={});var t=t6(null);return t.options=ao({async:!0,ssr:!1},e),t}var $T=function(e){var t=e.sideCar,r=HT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return v.createElement(o,ao({},r))};$T.isSideCarExport=!0;function r6(e,t){return e.useMedium(t),$T}var FT=n6(),bm=function(){},kh=v.forwardRef(function(e,t){var r=v.useRef(null),o=v.useState({onScrollCapture:bm,onWheelCapture:bm,onTouchMoveCapture:bm}),i=o[0],l=o[1],c=e.forwardProps,u=e.children,h=e.className,f=e.removeScrollBar,p=e.enabled,g=e.shards,y=e.sideCar,b=e.noRelative,x=e.noIsolation,C=e.inert,S=e.allowPinchZoom,E=e.as,R=E===void 0?"div":E,_=e.gapMode,T=HT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=y,O=J4([r,t]),M=ao(ao({},T),i);return v.createElement(v.Fragment,null,p&&v.createElement(k,{sideCar:FT,removeScrollBar:f,shards:g,noRelative:b,noIsolation:x,inert:C,setCallbacks:l,allowPinchZoom:!!S,lockRef:r,gapMode:_}),c?v.cloneElement(v.Children.only(u),ao(ao({},M),{ref:O})):v.createElement(R,ao({},M,{className:h,ref:O}),u))});kh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kh.classNames={fullWidth:Ff,zeroRight:$f};var a6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=a6();return t&&e.setAttribute("nonce",t),e}function i6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function s6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var l6=function(){var e=0,t=null;return{add:function(r){e==0&&(t=o6())&&(i6(t,r),s6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},c6=function(){var e=l6();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},YT=function(){var e=c6(),t=function(r){var o=r.styles,i=r.dynamic;return e(o,i),null};return t},u6={left:0,top:0,right:0,gap:0},vm=function(e){return parseInt(e||"",10)||0},d6=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[vm(r),vm(o),vm(i)]},f6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return u6;var t=d6(e),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-r+t[2]-t[0])}},h6=YT(),Xl="data-scroll-locked",p6=function(e,t,r,o){var i=e.left,l=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Q4,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(u,"px ").concat(o,`;
  }
  body[`).concat(Xl,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($f,` {
    right: `).concat(u,"px ").concat(o,`;
  }
  
  .`).concat(Ff,` {
    margin-right: `).concat(u,"px ").concat(o,`;
  }
  
  .`).concat($f," .").concat($f,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Ff," .").concat(Ff,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Xl,`] {
    `).concat(K4,": ").concat(u,`px;
  }
`)},vA=function(){var e=parseInt(document.body.getAttribute(Xl)||"0",10);return isFinite(e)?e:0},g6=function(){v.useEffect(function(){return document.body.setAttribute(Xl,(vA()+1).toString()),function(){var e=vA()-1;e<=0?document.body.removeAttribute(Xl):document.body.setAttribute(Xl,e.toString())}},[])},m6=function(e){var t=e.noRelative,r=e.noImportant,o=e.gapMode,i=o===void 0?"margin":o;g6();var l=v.useMemo(function(){return f6(i)},[i]);return v.createElement(h6,{styles:p6(l,!t,i,r?"":"!important")})},nv=!1;if(typeof window<"u")try{var yf=Object.defineProperty({},"passive",{get:function(){return nv=!0,!0}});window.addEventListener("test",yf,yf),window.removeEventListener("test",yf,yf)}catch{nv=!1}var fl=nv?{passive:!1}:!1,y6=function(e){return e.tagName==="TEXTAREA"},UT=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!y6(e)&&r[t]==="visible")},b6=function(e){return UT(e,"overflowY")},v6=function(e){return UT(e,"overflowX")},xA=function(e,t){var r=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=qT(e,o);if(i){var l=XT(e,o),c=l[1],u=l[2];if(c>u)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},x6=function(e){var t=e.scrollTop,r=e.scrollHeight,o=e.clientHeight;return[t,r,o]},w6=function(e){var t=e.scrollLeft,r=e.scrollWidth,o=e.clientWidth;return[t,r,o]},qT=function(e,t){return e==="v"?b6(t):v6(t)},XT=function(e,t){return e==="v"?x6(t):w6(t)},C6=function(e,t){return e==="h"&&t==="rtl"?-1:1},S6=function(e,t,r,o,i){var l=C6(e,window.getComputedStyle(t).direction),c=l*o,u=r.target,h=t.contains(u),f=!1,p=c>0,g=0,y=0;do{if(!u)break;var b=XT(e,u),x=b[0],C=b[1],S=b[2],E=C-S-l*x;(x||E)&&qT(e,u)&&(g+=E,y+=x);var R=u.parentNode;u=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!h&&u!==document.body||h&&(t.contains(u)||t===u));return(p&&Math.abs(g)<1||!p&&Math.abs(y)<1)&&(f=!0),f},bf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wA=function(e){return[e.deltaX,e.deltaY]},CA=function(e){return e&&"current"in e?e.current:e},A6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},E6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},M6=0,hl=[];function _6(e){var t=v.useRef([]),r=v.useRef([0,0]),o=v.useRef(),i=v.useState(M6++)[0],l=v.useState(YT)[0],c=v.useRef(e);v.useEffect(function(){c.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var C=W4([e.lockRef.current],(e.shards||[]).map(CA),!0).filter(Boolean);return C.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=v.useCallback(function(C,S){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!c.current.allowPinchZoom;var E=bf(C),R=r.current,_="deltaX"in C?C.deltaX:R[0]-E[0],T="deltaY"in C?C.deltaY:R[1]-E[1],k,O=C.target,M=Math.abs(_)>Math.abs(T)?"h":"v";if("touches"in C&&M==="h"&&O.type==="range")return!1;var j=xA(M,O);if(!j)return!0;if(j?k=M:(k=M==="v"?"h":"v",j=xA(M,O)),!j)return!1;if(!o.current&&"changedTouches"in C&&(_||T)&&(o.current=k),!k)return!0;var H=o.current||k;return S6(H,S,C,H==="h"?_:T)},[]),h=v.useCallback(function(C){var S=C;if(!(!hl.length||hl[hl.length-1]!==l)){var E="deltaY"in S?wA(S):bf(S),R=t.current.filter(function(k){return k.name===S.type&&(k.target===S.target||S.target===k.shadowParent)&&A6(k.delta,E)})[0];if(R&&R.should){S.cancelable&&S.preventDefault();return}if(!R){var _=(c.current.shards||[]).map(CA).filter(Boolean).filter(function(k){return k.contains(S.target)}),T=_.length>0?u(S,_[0]):!c.current.noIsolation;T&&S.cancelable&&S.preventDefault()}}},[]),f=v.useCallback(function(C,S,E,R){var _={name:C,delta:S,target:E,should:R,shadowParent:R6(E)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(T){return T!==_})},1)},[]),p=v.useCallback(function(C){r.current=bf(C),o.current=void 0},[]),g=v.useCallback(function(C){f(C.type,wA(C),C.target,u(C,e.lockRef.current))},[]),y=v.useCallback(function(C){f(C.type,bf(C),C.target,u(C,e.lockRef.current))},[]);v.useEffect(function(){return hl.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",h,fl),document.addEventListener("touchmove",h,fl),document.addEventListener("touchstart",p,fl),function(){hl=hl.filter(function(C){return C!==l}),document.removeEventListener("wheel",h,fl),document.removeEventListener("touchmove",h,fl),document.removeEventListener("touchstart",p,fl)}},[]);var b=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(l,{styles:E6(i)}):null,b?v.createElement(m6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function R6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const T6=r6(FT,_6);var GT=v.forwardRef(function(e,t){return v.createElement(kh,ao({},e,{ref:t,sideCar:T6}))});GT.classNames=kh.classNames;var rv=["Enter"," "],k6=["ArrowDown","PageUp","Home"],WT=["ArrowUp","PageDown","End"],O6=[...k6,...WT],I6={ltr:[...rv,"ArrowRight"],rtl:[...rv,"ArrowLeft"]},P6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bu="Menu",[Eu,j6,D6]=Dv(Bu),[ws,B6]=Iu(Bu,[D6,wT,Th]),zu=wT(),QT=Th(),[KT,Yi]=ws(Bu),[z6,Nu]=ws(Bu),VT=e=>{const{__scopeMenu:t,open:r=!1,children:o,dir:i,onOpenChange:l,modal:c=!0}=e,u=zu(t),[h,f]=v.useState(null),p=v.useRef(!1),g=lo(l),y=Bv(i);return v.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),A.jsx(kT,{...u,children:A.jsx(KT,{scope:t,open:r,onOpenChange:g,content:h,onContentChange:f,children:A.jsx(z6,{scope:t,onClose:v.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:y,modal:c,children:o})})})};VT.displayName=Bu;var N6="MenuAnchor",Xv=v.forwardRef((e,t)=>{const{__scopeMenu:r,...o}=e,i=zu(r);return A.jsx(A4,{...i,...o,ref:t})});Xv.displayName=N6;var Gv="MenuPortal",[L6,ZT]=ws(Gv,{forceMount:void 0}),JT=e=>{const{__scopeMenu:t,forceMount:r,children:o,container:i}=e,l=Yi(Gv,t);return A.jsx(L6,{scope:t,forceMount:r,children:A.jsx(ju,{present:r||l.open,children:A.jsx(OT,{asChild:!0,container:i,children:o})})})};JT.displayName=Gv;var Aa="MenuContent",[H6,Wv]=ws(Aa),ek=v.forwardRef((e,t)=>{const r=ZT(Aa,e.__scopeMenu),{forceMount:o=r.forceMount,...i}=e,l=Yi(Aa,e.__scopeMenu),c=Nu(Aa,e.__scopeMenu);return A.jsx(Eu.Provider,{scope:e.__scopeMenu,children:A.jsx(ju,{present:o||l.open,children:A.jsx(Eu.Slot,{scope:e.__scopeMenu,children:c.modal?A.jsx($6,{...i,ref:t}):A.jsx(F6,{...i,ref:t})})})})}),$6=v.forwardRef((e,t)=>{const r=Yi(Aa,e.__scopeMenu),o=v.useRef(null),i=vr(t,o);return v.useEffect(()=>{const l=o.current;if(l)return G4(l)},[]),A.jsx(Qv,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:At(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),F6=v.forwardRef((e,t)=>{const r=Yi(Aa,e.__scopeMenu);return A.jsx(Qv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Y6=Qf("MenuContent.ScrollLock"),Qv=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:o=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:y,onDismiss:b,disableOutsideScroll:x,...C}=e,S=Yi(Aa,r),E=Nu(Aa,r),R=zu(r),_=QT(r),T=j6(r),[k,O]=v.useState(null),M=v.useRef(null),j=vr(t,M,S.onContentChange),H=v.useRef(0),U=v.useRef(""),Y=v.useRef(0),Q=v.useRef(null),W=v.useRef("right"),ae=v.useRef(0),Z=x?GT:v.Fragment,P=x?{as:Y6,allowPinchZoom:!0}:void 0,L=q=>{const $=U.current+q,D=T().filter(te=>!te.disabled),F=document.activeElement,X=D.find(te=>te.ref.current===F)?.textValue,re=D.map(te=>te.textValue),V=tB(re,$,X),ee=D.find(te=>te.textValue===V)?.ref.current;(function te(J){U.current=J,window.clearTimeout(H.current),J!==""&&(H.current=window.setTimeout(()=>te(""),1e3))})($),ee&&setTimeout(()=>ee.focus())};v.useEffect(()=>()=>window.clearTimeout(H.current),[]),VD();const N=v.useCallback(q=>W.current===Q.current?.side&&rB(q,Q.current?.area),[]);return A.jsx(H6,{scope:r,searchRef:U,onItemEnter:v.useCallback(q=>{N(q)&&q.preventDefault()},[N]),onItemLeave:v.useCallback(q=>{N(q)||(M.current?.focus(),O(null))},[N]),onTriggerLeave:v.useCallback(q=>{N(q)&&q.preventDefault()},[N]),pointerGraceTimerRef:Y,onPointerGraceIntentChange:v.useCallback(q=>{Q.current=q},[]),children:A.jsx(Z,{...P,children:A.jsx(iT,{asChild:!0,trapped:i,onMountAutoFocus:At(l,q=>{q.preventDefault(),M.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:A.jsx(aT,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:y,onDismiss:b,children:A.jsx(zT,{asChild:!0,..._,dir:E.dir,orientation:"vertical",loop:o,currentTabStopId:k,onCurrentTabStopIdChange:O,onEntryFocus:At(h,q=>{E.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:A.jsx(E4,{role:"menu","aria-orientation":"vertical","data-state":yk(S.open),"data-radix-menu-content":"",dir:E.dir,...R,...C,ref:j,style:{outline:"none",...C.style},onKeyDown:At(C.onKeyDown,q=>{const D=q.target.closest("[data-radix-menu-content]")===q.currentTarget,F=q.ctrlKey||q.altKey||q.metaKey,X=q.key.length===1;D&&(q.key==="Tab"&&q.preventDefault(),!F&&X&&L(q.key));const re=M.current;if(q.target!==re||!O6.includes(q.key))return;q.preventDefault();const ee=T().filter(te=>!te.disabled).map(te=>te.ref.current);WT.includes(q.key)&&ee.reverse(),J6(ee)}),onBlur:At(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(H.current),U.current="")}),onPointerMove:At(e.onPointerMove,Mu(q=>{const $=q.target,D=ae.current!==q.clientX;if(q.currentTarget.contains($)&&D){const F=q.clientX>ae.current?"right":"left";W.current=F,ae.current=q.clientX}}))})})})})})})});ek.displayName=Aa;var U6="MenuGroup",Kv=v.forwardRef((e,t)=>{const{__scopeMenu:r,...o}=e;return A.jsx(fr.div,{role:"group",...o,ref:t})});Kv.displayName=U6;var q6="MenuLabel",tk=v.forwardRef((e,t)=>{const{__scopeMenu:r,...o}=e;return A.jsx(fr.div,{...o,ref:t})});tk.displayName=q6;var eh="MenuItem",SA="menu.itemSelect",Oh=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:o,...i}=e,l=v.useRef(null),c=Nu(eh,e.__scopeMenu),u=Wv(eh,e.__scopeMenu),h=vr(t,l),f=v.useRef(!1),p=()=>{const g=l.current;if(!r&&g){const y=new CustomEvent(SA,{bubbles:!0,cancelable:!0});g.addEventListener(SA,b=>o?.(b),{once:!0}),nT(g,y),y.defaultPrevented?f.current=!1:c.onClose()}};return A.jsx(nk,{...i,ref:h,disabled:r,onClick:At(e.onClick,p),onPointerDown:g=>{e.onPointerDown?.(g),f.current=!0},onPointerUp:At(e.onPointerUp,g=>{f.current||g.currentTarget?.click()}),onKeyDown:At(e.onKeyDown,g=>{const y=u.searchRef.current!=="";r||y&&g.key===" "||rv.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Oh.displayName=eh;var nk=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:o=!1,textValue:i,...l}=e,c=Wv(eh,r),u=QT(r),h=v.useRef(null),f=vr(t,h),[p,g]=v.useState(!1),[y,b]=v.useState("");return v.useEffect(()=>{const x=h.current;x&&b((x.textContent??"").trim())},[l.children]),A.jsx(Eu.ItemSlot,{scope:r,disabled:o,textValue:i??y,children:A.jsx(NT,{asChild:!0,...u,focusable:!o,children:A.jsx(fr.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...l,ref:f,onPointerMove:At(e.onPointerMove,Mu(x=>{o?c.onItemLeave(x):(c.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:At(e.onPointerLeave,Mu(x=>c.onItemLeave(x))),onFocus:At(e.onFocus,()=>g(!0)),onBlur:At(e.onBlur,()=>g(!1))})})})}),X6="MenuCheckboxItem",rk=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:o,...i}=e;return A.jsx(lk,{scope:e.__scopeMenu,checked:r,children:A.jsx(Oh,{role:"menuitemcheckbox","aria-checked":th(r)?"mixed":r,...i,ref:t,"data-state":Jv(r),onSelect:At(i.onSelect,()=>o?.(th(r)?!0:!r),{checkForDefaultPrevented:!1})})})});rk.displayName=X6;var ak="MenuRadioGroup",[G6,W6]=ws(ak,{value:void 0,onValueChange:()=>{}}),ok=v.forwardRef((e,t)=>{const{value:r,onValueChange:o,...i}=e,l=lo(o);return A.jsx(G6,{scope:e.__scopeMenu,value:r,onValueChange:l,children:A.jsx(Kv,{...i,ref:t})})});ok.displayName=ak;var ik="MenuRadioItem",sk=v.forwardRef((e,t)=>{const{value:r,...o}=e,i=W6(ik,e.__scopeMenu),l=r===i.value;return A.jsx(lk,{scope:e.__scopeMenu,checked:l,children:A.jsx(Oh,{role:"menuitemradio","aria-checked":l,...o,ref:t,"data-state":Jv(l),onSelect:At(o.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});sk.displayName=ik;var Vv="MenuItemIndicator",[lk,Q6]=ws(Vv,{checked:!1}),ck=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:o,...i}=e,l=Q6(Vv,r);return A.jsx(ju,{present:o||th(l.checked)||l.checked===!0,children:A.jsx(fr.span,{...i,ref:t,"data-state":Jv(l.checked)})})});ck.displayName=Vv;var K6="MenuSeparator",uk=v.forwardRef((e,t)=>{const{__scopeMenu:r,...o}=e;return A.jsx(fr.div,{role:"separator","aria-orientation":"horizontal",...o,ref:t})});uk.displayName=K6;var V6="MenuArrow",dk=v.forwardRef((e,t)=>{const{__scopeMenu:r,...o}=e,i=zu(r);return A.jsx(M4,{...i,...o,ref:t})});dk.displayName=V6;var Zv="MenuSub",[Z6,fk]=ws(Zv),hk=e=>{const{__scopeMenu:t,children:r,open:o=!1,onOpenChange:i}=e,l=Yi(Zv,t),c=zu(t),[u,h]=v.useState(null),[f,p]=v.useState(null),g=lo(i);return v.useEffect(()=>(l.open===!1&&g(!1),()=>g(!1)),[l.open,g]),A.jsx(kT,{...c,children:A.jsx(KT,{scope:t,open:o,onOpenChange:g,content:f,onContentChange:p,children:A.jsx(Z6,{scope:t,contentId:Ul(),triggerId:Ul(),trigger:u,onTriggerChange:h,children:r})})})};hk.displayName=Zv;var su="MenuSubTrigger",pk=v.forwardRef((e,t)=>{const r=Yi(su,e.__scopeMenu),o=Nu(su,e.__scopeMenu),i=fk(su,e.__scopeMenu),l=Wv(su,e.__scopeMenu),c=v.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=l,f={__scopeMenu:e.__scopeMenu},p=v.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return v.useEffect(()=>p,[p]),v.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),h(null)}},[u,h]),A.jsx(Xv,{asChild:!0,...f,children:A.jsx(nk,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":yk(r.open),...e,ref:jv(t,i.onTriggerChange),onClick:g=>{e.onClick?.(g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:At(e.onPointerMove,Mu(g=>{l.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!r.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:At(e.onPointerLeave,Mu(g=>{p();const y=r.content?.getBoundingClientRect();if(y){const b=r.content?.dataset.side,x=b==="right",C=x?-5:5,S=y[x?"left":"right"],E=y[x?"right":"left"];l.onPointerGraceIntentChange({area:[{x:g.clientX+C,y:g.clientY},{x:S,y:y.top},{x:E,y:y.top},{x:E,y:y.bottom},{x:S,y:y.bottom}],side:b}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(g),g.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:At(e.onKeyDown,g=>{const y=l.searchRef.current!=="";e.disabled||y&&g.key===" "||I6[o.dir].includes(g.key)&&(r.onOpenChange(!0),r.content?.focus(),g.preventDefault())})})})});pk.displayName=su;var gk="MenuSubContent",mk=v.forwardRef((e,t)=>{const r=ZT(Aa,e.__scopeMenu),{forceMount:o=r.forceMount,...i}=e,l=Yi(Aa,e.__scopeMenu),c=Nu(Aa,e.__scopeMenu),u=fk(gk,e.__scopeMenu),h=v.useRef(null),f=vr(t,h);return A.jsx(Eu.Provider,{scope:e.__scopeMenu,children:A.jsx(ju,{present:o||l.open,children:A.jsx(Eu.Slot,{scope:e.__scopeMenu,children:A.jsx(Qv,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:f,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{c.isUsingKeyboardRef.current&&h.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:At(e.onFocusOutside,p=>{p.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:At(e.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:At(e.onKeyDown,p=>{const g=p.currentTarget.contains(p.target),y=P6[c.dir].includes(p.key);g&&y&&(l.onOpenChange(!1),u.trigger?.focus(),p.preventDefault())})})})})})});mk.displayName=gk;function yk(e){return e?"open":"closed"}function th(e){return e==="indeterminate"}function Jv(e){return th(e)?"indeterminate":e?"checked":"unchecked"}function J6(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function eB(e,t){return e.map((r,o)=>e[(t+o)%e.length])}function tB(e,t,r){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=eB(e,Math.max(l,0));i.length===1&&(c=c.filter(f=>f!==r));const h=c.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return h!==r?h:void 0}function nB(e,t){const{x:r,y:o}=e;let i=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const u=t[l],h=t[c],f=u.x,p=u.y,g=h.x,y=h.y;p>o!=y>o&&r<(g-f)*(o-p)/(y-p)+f&&(i=!i)}return i}function rB(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return nB(r,t)}function Mu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var aB=VT,oB=Xv,iB=JT,sB=ek,lB=Kv,cB=tk,uB=Oh,dB=rk,fB=ok,hB=sk,pB=ck,gB=uk,mB=dk,yB=hk,bB=pk,vB=mk,Lu="Menubar",[av,xB,wB]=Dv(Lu),[bk]=Iu(Lu,[wB,Th]),hr=B6(),vk=Th(),[CB,ex]=bk(Lu),xk=v.forwardRef((e,t)=>{const{__scopeMenubar:r,value:o,onValueChange:i,defaultValue:l,loop:c=!0,dir:u,...h}=e,f=Bv(u),p=vk(r),[g,y]=qv({prop:o,onChange:i,defaultProp:l??"",caller:Lu}),[b,x]=v.useState(null);return A.jsx(CB,{scope:r,value:g,onMenuOpen:v.useCallback(C=>{y(C),x(C)},[y]),onMenuClose:v.useCallback(()=>y(""),[y]),onMenuToggle:v.useCallback(C=>{y(S=>S?"":C),x(C)},[y]),dir:f,loop:c,children:A.jsx(av.Provider,{scope:r,children:A.jsx(av.Slot,{scope:r,children:A.jsx(zT,{asChild:!0,...p,orientation:"horizontal",loop:c,dir:f,currentTabStopId:b,onCurrentTabStopIdChange:x,children:A.jsx(fr.div,{role:"menubar",...h,ref:t})})})})})});xk.displayName=Lu;var tx="MenubarMenu",[SB,wk]=bk(tx),Ck=e=>{const{__scopeMenubar:t,value:r,...o}=e,i=Ul(),l=r||i||"LEGACY_REACT_AUTO_VALUE",c=ex(tx,t),u=hr(t),h=v.useRef(null),f=v.useRef(!1),p=c.value===l;return v.useEffect(()=>{p||(f.current=!1)},[p]),A.jsx(SB,{scope:t,value:l,triggerId:Ul(),triggerRef:h,contentId:Ul(),wasKeyboardTriggerOpenRef:f,children:A.jsx(aB,{...u,open:p,onOpenChange:g=>{g||c.onMenuClose()},modal:!1,dir:c.dir,...o})})};Ck.displayName=tx;var ov="MenubarTrigger",Sk=v.forwardRef((e,t)=>{const{__scopeMenubar:r,disabled:o=!1,...i}=e,l=vk(r),c=hr(r),u=ex(ov,r),h=wk(ov,r),f=v.useRef(null),p=vr(t,f,h.triggerRef),[g,y]=v.useState(!1),b=u.value===h.value;return A.jsx(av.ItemSlot,{scope:r,value:h.value,disabled:o,children:A.jsx(NT,{asChild:!0,...l,focusable:!o,tabStopId:h.value,children:A.jsx(oB,{asChild:!0,...c,children:A.jsx(fr.button,{type:"button",role:"menuitem",id:h.triggerId,"aria-haspopup":"menu","aria-expanded":b,"aria-controls":b?h.contentId:void 0,"data-highlighted":g?"":void 0,"data-state":b?"open":"closed","data-disabled":o?"":void 0,disabled:o,...i,ref:p,onPointerDown:At(e.onPointerDown,x=>{!o&&x.button===0&&x.ctrlKey===!1&&(u.onMenuOpen(h.value),b||x.preventDefault())}),onPointerEnter:At(e.onPointerEnter,()=>{!!u.value&&!b&&(u.onMenuOpen(h.value),f.current?.focus())}),onKeyDown:At(e.onKeyDown,x=>{o||(["Enter"," "].includes(x.key)&&u.onMenuToggle(h.value),x.key==="ArrowDown"&&u.onMenuOpen(h.value),["Enter"," ","ArrowDown"].includes(x.key)&&(h.wasKeyboardTriggerOpenRef.current=!0,x.preventDefault()))}),onFocus:At(e.onFocus,()=>y(!0)),onBlur:At(e.onBlur,()=>y(!1))})})})})});Sk.displayName=ov;var AB="MenubarPortal",Ak=e=>{const{__scopeMenubar:t,...r}=e,o=hr(t);return A.jsx(iB,{...o,...r})};Ak.displayName=AB;var iv="MenubarContent",Ek=v.forwardRef((e,t)=>{const{__scopeMenubar:r,align:o="start",...i}=e,l=hr(r),c=ex(iv,r),u=wk(iv,r),h=xB(r),f=v.useRef(!1);return A.jsx(sB,{id:u.contentId,"aria-labelledby":u.triggerId,"data-radix-menubar-content":"",...l,...i,ref:t,align:o,onCloseAutoFocus:At(e.onCloseAutoFocus,p=>{!!!c.value&&!f.current&&u.triggerRef.current?.focus(),f.current=!1,p.preventDefault()}),onFocusOutside:At(e.onFocusOutside,p=>{const g=p.target;h().some(b=>b.ref.current?.contains(g))&&p.preventDefault()}),onInteractOutside:At(e.onInteractOutside,()=>{f.current=!0}),onEntryFocus:p=>{u.wasKeyboardTriggerOpenRef.current||p.preventDefault()},onKeyDown:At(e.onKeyDown,p=>{if(["ArrowRight","ArrowLeft"].includes(p.key)){const g=p.target,y=g.hasAttribute("data-radix-menubar-subtrigger"),b=g.closest("[data-radix-menubar-content]")!==p.currentTarget,C=(c.dir==="rtl"?"ArrowRight":"ArrowLeft")===p.key;if(!C&&y||b&&C)return;let R=h().filter(k=>!k.disabled).map(k=>k.value);C&&R.reverse();const _=R.indexOf(u.value);R=c.loop?$B(R,_+1):R.slice(_+1);const[T]=R;T&&c.onMenuOpen(T)}},{checkForDefaultPrevented:!1}),style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});Ek.displayName=iv;var EB="MenubarGroup",MB=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...o}=e,i=hr(r);return A.jsx(lB,{...i,...o,ref:t})});MB.displayName=EB;var _B="MenubarLabel",RB=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...o}=e,i=hr(r);return A.jsx(cB,{...i,...o,ref:t})});RB.displayName=_B;var TB="MenubarItem",Mk=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...o}=e,i=hr(r);return A.jsx(uB,{...i,...o,ref:t})});Mk.displayName=TB;var kB="MenubarCheckboxItem",_k=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...o}=e,i=hr(r);return A.jsx(dB,{...i,...o,ref:t})});_k.displayName=kB;var OB="MenubarRadioGroup",IB=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...o}=e,i=hr(r);return A.jsx(fB,{...i,...o,ref:t})});IB.displayName=OB;var PB="MenubarRadioItem",jB=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...o}=e,i=hr(r);return A.jsx(hB,{...i,...o,ref:t})});jB.displayName=PB;var DB="MenubarItemIndicator",Rk=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...o}=e,i=hr(r);return A.jsx(pB,{...i,...o,ref:t})});Rk.displayName=DB;var BB="MenubarSeparator",Tk=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...o}=e,i=hr(r);return A.jsx(gB,{...i,...o,ref:t})});Tk.displayName=BB;var zB="MenubarArrow",NB=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...o}=e,i=hr(r);return A.jsx(mB,{...i,...o,ref:t})});NB.displayName=zB;var kk="MenubarSub",Ok=e=>{const{__scopeMenubar:t,children:r,open:o,onOpenChange:i,defaultOpen:l}=e,c=hr(t),[u,h]=qv({prop:o,defaultProp:l??!1,onChange:i,caller:kk});return A.jsx(yB,{...c,open:u,onOpenChange:h,children:r})};Ok.displayName=kk;var LB="MenubarSubTrigger",Ik=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...o}=e,i=hr(r);return A.jsx(bB,{"data-radix-menubar-subtrigger":"",...i,...o,ref:t})});Ik.displayName=LB;var HB="MenubarSubContent",Pk=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...o}=e,i=hr(r);return A.jsx(vB,{...i,"data-radix-menubar-content":"",...o,ref:t,style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});Pk.displayName=HB;function $B(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var FB=xk,YB=Ck,UB=Sk,qB=Ak,XB=Ek,GB=Mk,WB=_k,QB=Rk,KB=Tk,VB=Ok,ZB=Ik,JB=Pk;const ez=se(FB)`
  display: flex;
  background-color: white;
  padding: 0;
  border-radius: 4px;
`,pl=YB,gl=se(UB)`
  padding: 6px 10px 6px 6px;
  outline: none;
  user-select: none;
  font-size: 12px;
  line-height: 1;
  border-radius: 4px;
  color: #2c3e50;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  background: transparent;
  border: none;
  cursor: pointer;
  font-family: inherit;

  &:hover {
    background-color: #f5f5f5;
  }

  &[data-state='open'] {
    background-color: #f5f5f5;
  }

  &[data-disabled] {
    color: #94a3b8;
    cursor: not-allowed;
    pointer-events: none;
  }
`,jo=qB,ml=se(XB)`
  min-width: 200px;
  background-color: white;
  border-radius: 6px;
  padding: 4px;
  box-shadow: 0px 10px 38px -10px rgba(22, 23, 24, 0.35), 0px 10px 20px -15px rgba(22, 23, 24, 0.2);
  border: 1px solid #e1e5e9;
  z-index: 1500;
  animation-duration: 400ms;
  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
  will-change: transform, opacity;

  &[data-side='top'] {
    animation-name: slideDownAndFade;
  }
  &[data-side='right'] {
    animation-name: slideLeftAndFade;
  }
  &[data-side='bottom'] {
    animation-name: slideUpAndFade;
  }
  &[data-side='left'] {
    animation-name: slideRightAndFade;
  }

  @keyframes slideUpAndFade {
    from {
      opacity: 0;
      transform: translateY(2px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideRightAndFade {
    from {
      opacity: 0;
      transform: translateX(-2px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slideDownAndFade {
    from {
      opacity: 0;
      transform: translateY(-2px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideLeftAndFade {
    from {
      opacity: 0;
      transform: translateX(2px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
`,jk=Fa`
  all: unset;
  font-size: 12px;
  line-height: 1;
  color: #2c3e50;
  border-radius: 4px;
  display: flex;
  align-items: center;
  height: 28px;
  position: relative;
  user-select: none;
  cursor: pointer;

  &[data-disabled] {
    color: #94a3b8;
    pointer-events: none;
  }

  &[data-highlighted] {
    background-color: #f5f5f5;
    color: #2c3e50;
  }
`,mn=se(GB)`
  ${jk};
  padding: 0 8px;
`,vf=se(WB)`
  ${jk};
  padding: 0 8px 0 28px;
`,xf=se(QB)`
  position: absolute;
  left: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 14px;
  height: 14px;
  color: #2c3e50;
`,Ci=se(KB)`
  height: 1px;
  background-color: #e1e5e9;
  margin: 4px;
`,xm=VB,wm=se(ZB)`
  all: unset;
  font-size: 12px;
  line-height: 1;
  color: #2c3e50;
  border-radius: 4px;
  display: flex;
  align-items: center;
  height: 28px;
  padding: 0 8px;
  position: relative;
  user-select: none;
  cursor: pointer;

  &[data-state='open'] {
    background-color: #f5f5f5;
  }

  &[data-highlighted] {
    background-color: #f5f5f5;
    color: #2c3e50;
  }

  &[data-disabled] {
    color: #94a3b8;
    pointer-events: none;
  }
`,Cm=se(JB)`
  min-width: 200px;
  background-color: white;
  border-radius: 6px;
  padding: 4px;
  box-shadow: 0px 10px 38px -10px rgba(22, 23, 24, 0.35), 0px 10px 20px -15px rgba(22, 23, 24, 0.2);
  border: 1px solid #e1e5e9;
  z-index: 1500;
  animation-duration: 400ms;
  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
  will-change: transform, opacity;
`,ur=se.div`
  margin-left: auto;
  padding-left: 20px;
  color: #6c757d;
  font-size: 12px;

  :where([data-highlighted]) & {
    color: #2c3e50;
  }

  :where([data-disabled]) & {
    color: #94a3b8;
  }
`,Sm=se.span`
  margin-left: auto;
  padding-left: 12px;
  color: #6c757d;
`,wf=()=>A.jsx("svg",{width:"14.4",height:"14.4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:A.jsx("path",{d:"M5 12.5L9.5 17L19 7.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})});function tz({onNew:e,onExportPNG:t,onExportSelectedPNG:r,onExportPageJSON:o,onImportPageJSON:i,onExportProjectJSON:l,onImportProjectJSON:c,onToggleHistory:u,onToggleSidebar:h,onToggleRulers:f,onToggleGrid:p,onPrintPreview:g,onOpenBugReport:y,onOpenAbout:b,onSelectionClear:x,onSelectAll:C,onSelectArea:S,onDuplicatePage:E,onDeletePage:R,onUndo:_,onRedo:T,onBringToFront:k,onSendToBack:O,onBringForward:M,onSendBackward:j,onGroup:H,onUngroup:U,onSnapToGrid:Y,canGroup:Q,canUngroup:W,canSnapToGrid:ae,hasSelection:Z,isHistoryOpen:P,isSidebarExpanded:L,areRulersVisible:N,isGridVisible:q,canDuplicatePage:$,canDeletePage:D}){const F=navigator.platform.toUpperCase().indexOf("MAC")>=0,X=F?"":"Ctrl",re=F?"":"Alt";return A.jsxs(ez,{children:[A.jsxs(pl,{children:[A.jsx(gl,{children:"Project"}),A.jsx(jo,{children:A.jsxs(ml,{align:"start",sideOffset:5,children:[A.jsx(mn,{onSelect:e,children:"New"}),A.jsx(Ci,{}),A.jsxs(xm,{children:[A.jsxs(wm,{children:["Export",A.jsx(Sm,{children:""})]}),A.jsx(jo,{children:A.jsx(Cm,{alignOffset:-5,children:A.jsxs(mn,{onSelect:l,children:["JSON",A.jsxs(ur,{children:[X,"+S"]})]})})})]}),A.jsxs(mn,{onSelect:c,children:["Import JSON",A.jsxs(ur,{children:[X,"+O"]})]})]})})]}),A.jsxs(pl,{children:[A.jsx(gl,{children:"Page"}),A.jsx(jo,{children:A.jsxs(ml,{align:"start",sideOffset:5,children:[A.jsxs(xm,{children:[A.jsxs(wm,{children:["Export",A.jsx(Sm,{children:""})]}),A.jsx(jo,{children:A.jsxs(Cm,{alignOffset:-5,children:[A.jsx(mn,{onSelect:t,children:"PNG"}),A.jsx(mn,{onSelect:o,children:"JSON"})]})})]}),A.jsx(Ci,{}),A.jsxs(mn,{onSelect:g,children:["Print preview",A.jsxs(ur,{children:[X,"+P"]})]}),A.jsx(Ci,{}),A.jsx(mn,{onSelect:i,children:"Import JSON"}),A.jsx(Ci,{}),A.jsx(mn,{onSelect:E,disabled:!$,children:"Duplicate"}),A.jsx(mn,{onSelect:R,disabled:!D,children:"Delete"})]})})]}),A.jsxs(pl,{children:[A.jsx(gl,{disabled:!Z,children:"Selection"}),A.jsx(jo,{children:A.jsxs(ml,{align:"start",sideOffset:5,children:[A.jsx(mn,{onSelect:r,children:"Export as PNG"}),A.jsxs(mn,{onSelect:x,children:["Clear",A.jsx(ur,{children:"Esc"})]})]})})]}),A.jsxs(pl,{children:[A.jsx(gl,{"data-menubar-trigger":"edit",children:"Edit"}),A.jsx(jo,{children:A.jsxs(ml,{align:"start",sideOffset:5,children:[A.jsxs(mn,{onSelect:_,children:["Undo",A.jsxs(ur,{children:[X,"+Z"]})]}),A.jsxs(mn,{onSelect:T,children:["Redo",A.jsxs(ur,{children:[X,"+Shift+Z"]})]}),A.jsx(Ci,{}),A.jsxs(mn,{onSelect:S,children:["Select area",A.jsx(ur,{children:"S"})]}),A.jsxs(mn,{onSelect:C,children:["Select all",A.jsxs(ur,{children:[X,"+A"]})]}),A.jsx(Ci,{}),A.jsxs(xm,{children:[A.jsxs(wm,{"data-menubar-submenu":"arrange",children:["Arrange",A.jsx(Sm,{children:""})]}),A.jsx(jo,{children:A.jsxs(Cm,{alignOffset:-5,children:[A.jsxs(mn,{disabled:!Z,onSelect:k,children:["Bring to front",A.jsxs(ur,{children:[X,"+Shift+J"]})]}),A.jsxs(mn,{disabled:!Z,onSelect:M,children:["Bring forward",A.jsxs(ur,{children:[X,"+J"]})]}),A.jsxs(mn,{disabled:!Z,onSelect:j,children:["Send backward",A.jsxs(ur,{children:[X,"+K"]})]}),A.jsxs(mn,{disabled:!Z,onSelect:O,children:["Send to back",A.jsxs(ur,{children:[X,"+Shift+K"]})]}),A.jsx(Ci,{}),A.jsxs(mn,{"data-menu-item":"snap-to-grid",disabled:!ae,onSelect:Y,children:["Snap to grid",A.jsxs(ur,{children:[X,"+G"]})]}),A.jsx(Ci,{}),A.jsxs(mn,{disabled:!Q,onSelect:H,children:["Group",A.jsxs(ur,{children:[X,"+",re,"+G"]})]}),A.jsxs(mn,{disabled:!W,onSelect:U,children:["Ungroup",A.jsxs(ur,{children:[X,"+Shift+G"]})]})]})})]})]})})]}),A.jsxs(pl,{children:[A.jsx(gl,{children:"View"}),A.jsx(jo,{children:A.jsxs(ml,{align:"start",sideOffset:5,children:[A.jsxs(vf,{checked:L,onCheckedChange:()=>h(),children:[A.jsx(xf,{children:A.jsx(wf,{})}),"Sidebar"]}),A.jsxs(vf,{checked:N,onCheckedChange:()=>f(),children:[A.jsx(xf,{children:A.jsx(wf,{})}),"Rulers"]}),A.jsxs(vf,{checked:q,onCheckedChange:()=>p(),children:[A.jsx(xf,{children:A.jsx(wf,{})}),"Grid"]}),A.jsxs(vf,{checked:P,onCheckedChange:()=>u(),children:[A.jsx(xf,{children:A.jsx(wf,{})}),"History",A.jsxs(ur,{children:[X,"+H"]})]})]})})]}),A.jsxs(pl,{children:[A.jsx(gl,{children:"Help"}),A.jsx(jo,{children:A.jsxs(ml,{align:"start",sideOffset:5,children:[A.jsx(mn,{onSelect:b,children:"About"}),A.jsx(mn,{onSelect:y,children:"Submit bug report"})]})})]})]})}const nz="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20viewBox='-3%20-3%20126%20126'%20version='1.1'%20id='svg11'%20sodipodi:docname='wiremesh-mark.svg'%20inkscape:version='1.4.2%20(ebf0e940,%202025-05-08)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs11'%20/%3e%3csodipodi:namedview%20id='namedview11'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:showpageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20showgrid='false'%20inkscape:zoom='4.7161164'%20inkscape:cx='93.615163'%20inkscape:cy='71.881178'%20inkscape:window-width='1712'%20inkscape:window-height='991'%20inkscape:window-x='970'%20inkscape:window-y='134'%20inkscape:window-maximized='0'%20inkscape:current-layer='svg11'%20/%3e%3cpath%20style='opacity:0.45;fill:none;stroke:%233a3a3a;stroke-width:2.507;stroke-dasharray:none;stroke-opacity:1'%20d='m%2021.194645,33.426505%2039.707427,7.844991%2042.290018,-9.00245%20v%20-0.257212'%20id='path1'%20/%3e%3cpath%20d='m%2019.008152,32.272233%2018,52%2024,-45.044883%2024,45.044883%2017.999998,-52'%20style='fill:none;stroke:%233e3e3e;stroke-width:8.1;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1'%20id='path2'%20/%3e%3cline%20x1='37.008152'%20y1='84.272232'%20x2='85.008148'%20y2='84.272232'%20style='opacity:0.45;stroke:%233a3a3a;stroke-width:2.5;stroke-linecap:round;stroke-dasharray:none;stroke-opacity:1'%20id='line2'%20/%3e%3ccircle%20cx='19.667637'%20cy='34.198151'%20r='7.5822606'%20style='fill:%23111111;fill-opacity:1;stroke:%23ffffff;stroke-width:1.93381;stroke-dasharray:none;stroke-opacity:1'%20id='circle2'%20/%3e%3ccircle%20cx='61.0956'%20cy='40.98053'%20r='9.4874649'%20style='fill:%23111111;fill-opacity:1;stroke:%23ffffff;stroke-width:2.41972;stroke-dasharray:none;stroke-opacity:1'%20id='circle7'%20/%3e%3ccircle%20cx='102.8'%20cy='32.74707'%20r='7.5822606'%20style='fill:%23111111;fill-opacity:1;stroke:%23ffffff;stroke-width:1.93381;stroke-dasharray:none;stroke-opacity:1'%20id='circle8'%20/%3e%3ccircle%20cx='37.31707'%20cy='82.888725'%20r='7.5822606'%20style='fill:%23111111;fill-opacity:1;stroke:%23ffffff;stroke-width:1.93381;stroke-dasharray:none;stroke-opacity:1'%20id='circle9'%20/%3e%3ccircle%20cx='84.621346'%20cy='82.063026'%20r='7.5822606'%20style='fill:%23111111;fill-opacity:1;stroke:%23ffffff;stroke-width:1.93381;stroke-dasharray:none;stroke-opacity:1'%20id='circle10'%20/%3e%3c/svg%3e";function rz({onNew:e,onExportPNG:t,onExportSelectedPNG:r,onExportPageJSON:o,onImportPageJSON:i,onExportProjectJSON:l,onImportProjectJSON:c,onPrintPreview:u,onToggleHistory:h,onToggleSidebar:f,onToggleRulers:p,onToggleGrid:g,onOpenBugReport:y,onClearSelection:b,onSelectAll:x,onSelectArea:C,projectName:S,onProjectNameChange:E,onOpenAbout:R,onDuplicatePage:_,onDeletePage:T,onUndo:k,onRedo:O,onBringToFront:M,onSendToBack:j,onBringForward:H,onSendBackward:U,onGroup:Y,onUngroup:Q,onSnapToGrid:W,canGroup:ae,canUngroup:Z,canSnapToGrid:P,lastSaved:L,hasSelection:N,isHistoryOpen:q,isSidebarExpanded:$,areRulersVisible:D,isGridVisible:F,dockedToolbar:X,canDuplicatePage:re,canDeletePage:V}){const ee=v.useRef(null),te=v.useRef(null),[J,ie]=v.useState(!1),[be,ge]=v.useState(S),Ee=v.useRef(null),[Te,Se]=v.useState(null);v.useEffect(()=>{J||ge(S)},[S,J]),v.useEffect(()=>{J&&Ee.current&&(Ee.current.focus(),Ee.current.select())},[J]);const ce=v.useCallback(()=>{E(be),ie(!1)},[be,E]),Oe=v.useCallback(()=>{ge(S),ie(!1)},[S]);return v.useLayoutEffect(()=>{const Ce=te.current;if(!Ce)return;const Le=()=>{const Qe=(Ce.querySelector('[role="menubar"]')??Ce).getBoundingClientRect().width,tt=Math.max(200,Math.round(Qe));Se($e=>$e===tt?$e:tt)};if(Le(),typeof ResizeObserver<"u"){const He=new ResizeObserver(()=>{Le()});return He.observe(Ce),()=>He.disconnect()}return window.addEventListener("resize",Le),()=>{window.removeEventListener("resize",Le)}},[]),A.jsxs(xD,{"data-testid":"app-toolbar",ref:ee,children:[A.jsx(wD,{children:A.jsx(CD,{src:nz,alt:"Wiremesh logo"})}),A.jsx(AD,{children:A.jsxs(TD,{children:[A.jsxs(ED,{style:Te?{minWidth:`${Te}px`}:void 0,children:[A.jsx(MD,{children:J?A.jsx(RD,{ref:Ee,value:be,onChange:Ce=>ge(Ce.target.value),onBlur:ce,onKeyDown:Ce=>{Ce.key==="Enter"?(Ce.preventDefault(),ce()):Ce.key==="Escape"&&(Ce.preventDefault(),Oe())},"data-project-name-input":"true"}):A.jsx(_D,{type:"button",onClick:()=>ie(!0),title:"Rename project","data-project-name-display":"true",children:S})}),A.jsx(ID,{"data-save-timestamp":"true",children:L?`auto-saved at ${L.toLocaleTimeString()}`:null})]}),A.jsx(SD,{ref:te,style:Te?{width:`${Te}px`}:void 0,children:A.jsx(tz,{onNew:e,onExportPNG:t,onExportSelectedPNG:r,onExportPageJSON:o,onImportPageJSON:i,onExportProjectJSON:l,onImportProjectJSON:c,onPrintPreview:u,onToggleHistory:h,onToggleSidebar:f,onToggleRulers:p,onToggleGrid:g,onOpenBugReport:y,onSelectionClear:b,onSelectAll:x,onSelectArea:C,onOpenAbout:R,onDuplicatePage:_,onDeletePage:T,onUndo:k,onRedo:O,onBringToFront:M,onSendToBack:j,onBringForward:H,onSendBackward:U,onGroup:Y,onUngroup:Q,onSnapToGrid:W,canGroup:ae,canUngroup:Z,canSnapToGrid:P,hasSelection:N,isHistoryOpen:q,isSidebarExpanded:$,areRulersVisible:D,isGridVisible:F,canDuplicatePage:re,canDeletePage:V})})]})}),A.jsx(kD,{$visible:!!X,children:X}),A.jsx(OD,{$hasDocked:!!X})]})}const uo="Wiremesh",az=uo,nx="1.4.0",Hu=uo.toLowerCase().replace(/\s+/g,""),Dk=`${Hu}-`,Zt=e=>`${Dk}${e}`,_u=`__${Hu}TestHooks`,sv=Zt("reset-notice"),Ru=`${Hu}:reset-notice`,Bk=`__${Hu}ResetLock`,oz=`${Hu}-export`,AA=Zt("last-project-export-info"),zk=Zt("last-project-import-info"),Jn=10,iz=133,sz=se.div`
  position: fixed;
  inset: 0;
  background: rgba(15, 22, 36, 0.35);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2200;
`,lz=se.div`
  background: white;
  border-radius: 12px;
  box-shadow: 0 18px 50px rgba(15, 22, 36, 0.18);
  padding: 28px 32px;
  max-width: 420px;
  width: 90%;
  display: flex;
  flex-direction: column;
  gap: 18px;
`,cz=se.h2`
  margin: 0;
  font-size: 22px;
  color: #233044;
`,uz=se.p`
  margin: 0;
  font-size: 15px;
  line-height: 1.6;
  color: #465162;
`,dz=se.span`
  font-size: 13px;
  color: rgba(70, 81, 98, 0.75);
`,fz=se.button`
  align-self: flex-end;
  border: none;
  background: #1d6ff2;
  color: white;
  padding: 8px 16px;
  border-radius: 6px;
  font-size: 14px;
  cursor: pointer;

  &:hover {
    background: #1457c7;
  }
`,hz=({onClose:e})=>A.jsx(sz,{role:"presentation",onClick:e,children:A.jsxs(lz,{role:"dialog","aria-modal":"true","aria-labelledby":"about-title",onClick:t=>t.stopPropagation(),children:[A.jsxs(cz,{id:"about-title",children:["About ",uo]}),A.jsx(uz,{children:"Simple and elegant wireframing."}),A.jsxs(dz,{children:["Version ",nx]}),A.jsx(fz,{type:"button",onClick:e,children:"Close"})]})}),pz=se.div`
  position: fixed;
  inset: 0;
  background: rgba(15, 22, 36, 0.35);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2200;
`,gz=se.div`
  background: white;
  border-radius: 12px;
  box-shadow: 0 18px 50px rgba(15, 22, 36, 0.18);
  padding: 28px 32px;
  max-width: 420px;
  width: 90%;
  display: flex;
  flex-direction: column;
  gap: 18px;
`,mz=se.h2`
  margin: 0;
  font-size: 22px;
  color: #233044;
`,yz=se.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,bz=se.label`
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 14px;
  color: #465162;
  cursor: pointer;
  user-select: none;
`,vz=se.input`
  width: 18px;
  height: 18px;
  cursor: pointer;
`,xz=se.div`
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 10px;
`,wz=se.button`
  border: none;
  background: #1d6ff2;
  color: white;
  padding: 8px 16px;
  border-radius: 6px;
  font-size: 14px;
  cursor: pointer;

  &:hover {
    background: #1457c7;
  }
`,Cz=({showAnchoringPerimeter:e,onToggleAnchoringPerimeter:t,onClose:r})=>A.jsx(pz,{role:"presentation",onClick:r,children:A.jsxs(gz,{role:"dialog","aria-modal":"true","aria-labelledby":"debug-options-title",onClick:o=>o.stopPropagation(),children:[A.jsx(mz,{id:"debug-options-title",children:"Debug Options"}),A.jsx(yz,{children:A.jsxs(bz,{children:[A.jsx(vz,{type:"checkbox",checked:e,onChange:o=>t(o.target.checked)}),"Show anchoring perimeter"]})}),A.jsx(xz,{children:A.jsx(wz,{type:"button",onClick:r,children:"Close"})})]})}),Sz=se.div`
  display: ${e=>e.$isOpen?"flex":"none"};
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  align-items: center;
  justify-content: center;
  z-index: 2000;
`,Az=se.div`
  background: white;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  max-width: 500px;
  width: 90%;
  max-height: 90vh;
  overflow-y: auto;
  animation: slideIn 0.2s ease-out;

  @keyframes slideIn {
    from {
      transform: translateY(-20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`,rc=se.h3`
  margin: 0;
  padding: 20px;
  border-bottom: 1px solid #e1e5e9;
  font-size: 18px;
  color: #2c3e50;
`,ac=se.div`
  padding: 20px;
  color: #6c757d;
  line-height: 1.6;

  > p {
    margin: 0 0 18px;
  }
`,rx=se.p`
  margin: 12px 0 0;
  color: #e74c3c;
  font-weight: 500;
`,oc=se.div`
  padding: 20px;
  border-top: 1px solid #e1e5e9;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
`,Ez=se.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`,Mz=se.label`
  font-size: 13px;
  font-weight: 600;
  color: #2c3e50;
`,_z=se.select`
  padding: 10px 12px;
  border-radius: 6px;
  border: 1px solid #d0d7de;
  font-size: 14px;
  color: #2c3e50;
  background: #fff;
  appearance: none;
  background-image:
    linear-gradient(45deg, transparent 50%, #6c757d 50%),
    linear-gradient(135deg, #6c757d 50%, transparent 50%),
    linear-gradient(to right, #f8f9fa, #f8f9fa);
  background-position:
    calc(100% - 18px) calc(50% - 2px),
    calc(100% - 12px) calc(50% - 2px),
    calc(100% - 36px) 50%;
  background-size: 6px 6px, 6px 6px, 1px 70%;
  background-repeat: no-repeat;

  &:focus {
    outline: none;
    border-color: #3498db;
    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
  }
`,ra=se.button`
  padding: 10px 20px;
  border: 1px solid ${e=>e.$variant==="primary"?"#3498db":e.$variant==="danger"?"#e74c3c":"#ddd"};
  background: ${e=>e.$variant==="primary"?"#3498db":e.$variant==="danger"?"#e74c3c":"white"};
  color: ${e=>e.$variant==="primary"||e.$variant==="danger"?"white":"#6c757d"};
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s;

  &:hover {
    background: ${e=>e.$variant==="primary"?"#2980b9":e.$variant==="danger"?"#cf4334":"#f5f5f5"};
    border-color: ${e=>e.$variant==="primary"?"#2980b9":e.$variant==="danger"?"#c43d2f":"#bbb"};
  }

  &:active {
    transform: translateY(1px);
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    pointer-events: none;
  }
`,ic=({isOpen:e,onClose:t,role:r="dialog",ariaLabelledBy:o,closeOnOverlayClick:i=!0,dataAttributes:l,overlayAttributes:c,portalTarget:u,children:h})=>{const f=v.useRef(null);v.useEffect(()=>{if(!e)return;const b=x=>{x.key==="Escape"&&t&&t()};return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[e,t]);const p=v.useCallback(b=>{!i||!t||b.target===b.currentTarget&&t()},[i,t]);if(!e)return null;const g=u??(typeof document<"u"?document.body:null),y=A.jsx(Sz,{$isOpen:e,onMouseDown:p,...c??{},children:A.jsx(Az,{role:r,"aria-modal":"true","aria-labelledby":o,ref:f,...l??{},children:h})});return g?Ta.createPortal(y,g):y},EA="new-projectConfirm-modal-title",Rz=({isOpen:e,onConfirm:t,onCancel:r})=>A.jsxs(ic,{isOpen:e,onClose:r,ariaLabelledBy:EA,dataAttributes:{"data-new-project-modal":"true"},closeOnOverlayClick:!1,children:[A.jsxs(rc,{id:EA,children:["Start a New ",uo," Project?"]}),A.jsxs(ac,{children:[A.jsxs("p",{children:["You have unsaved changes. Starting a new ",uo," project will discard the current canvas and project history."]}),A.jsx(rx,{role:"note",children:"This action cannot be undone."})]}),A.jsxs(oc,{children:[A.jsx(ra,{onClick:r,children:"Cancel"}),A.jsx(ra,{$variant:"danger",onClick:t,children:"Start New Project"})]})]}),Tz=se.div`
  position: fixed;
  left: 0;
  top: 60px;
  bottom: 0;
  width: ${e=>e.$isCollapsed?"0px":"280px"};
  background: white;
  border-right: ${e=>e.$isCollapsed?"none":"1px solid #e1e5e9"};
  z-index: 900;
  transition: width 0.3s ease;
  overflow: hidden;
`,kz=se.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
`,Oz=se.div`
  flex: 1 1 0%;
  min-height: 0;
  overflow-y: auto;
  padding: 20px;
`,Iz=se.div`
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 6px;
`,Pz=se.div`
  position: relative;
  width: 100%;
  height: 14px;
  cursor: row-resize;
  flex-shrink: 0;
  background: transparent;

  &:before {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    top: 50%;
    height: 1px;
    background: ${e=>e.$isDragging?"#3498db":"#e1e5e9"};
    transform: translateY(-50%);
  }
`,jz=se.div`
  flex: 1 1 0%;
  min-height: 170px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
`,Dz=se.div`
  flex: 1 1 0%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
`,Bz=se.div`
  flex: 1 1 0%;
  display: flex;
  flex-direction: column;
  min-height: 0;
  box-sizing: border-box;
  padding: 8px;
  gap: 10px;
`,zz=se.div`
  padding: 8px;
  border: none;
  border-radius: 12px;
  cursor: ${e=>e.$isDragging?"grabbing":"grab"};
  text-align: center;
  background: transparent;
  transition: all 0.2s;
  user-select: none;
  opacity: ${e=>e.$isDragging?.5:1};

  &:hover {
    box-shadow: 0 4px 12px rgba(76, 86, 103, 0.18);
    transform: translateY(-2px);
  }
`,Nz=se.div`
  width: 52px;
  height: 40px;
  margin: 0 auto 6px;
  border-radius: 8px;
  background: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
`,Lz=se.svg`
  width: 48px;
  height: 32px;
`,Hz=se.div`
  font-size: 10px;
  font-weight: 500;
  color: #2c3e50;
`,$z=se.div.attrs(e=>({style:{left:`${e.$x}px`,top:`${e.$y}px`,opacity:e.$visible?.8:0}}))`
  position: fixed;
  pointer-events: none;
  z-index: 10000;
  transform: translate(-50%, -50%);
  background: white;
  border: 2px solid #3498db;
  border-radius: 4px;
  padding: 8px 12px;
  font-size: 12px;
  font-weight: 500;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  transition: opacity 0.2s;
`,Fz=({element:e,onDragStart:t,onDragMove:r,onDragEnd:o,onClick:i})=>{const[l,c]=v.useState(!1),[u,h]=v.useState({x:0,y:0}),f=v.useRef({x:0,y:0}),p=v.useCallback(y=>{if(y.button!==0)return;const b={x:y.clientX,y:y.clientY};f.current=b,c(!0),h(b),t(e,b);let x=!1;const C=E=>{const R={x:E.clientX,y:E.clientY},_=Math.abs(R.x-b.x),T=Math.abs(R.y-b.y);(_>3||T>3)&&(x=!0),h(R),r(R)},S=E=>{const R={x:E.clientX,y:E.clientY};if(c(!1),o(R),!x&&i){const _=Math.abs(R.x-b.x),T=Math.abs(R.y-b.y);_<=1&&T<=1&&i(e)}document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",S)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",S),y.preventDefault()},[e,t,r,o,i]),g=({type:y})=>{const b="#4c5667",x="#e7eaef";switch(y){case"button":return A.jsxs(A.Fragment,{children:[A.jsx("rect",{x:"8",y:"14",width:"64",height:"28",rx:"6",fill:x,stroke:b,strokeWidth:"2"}),A.jsx("rect",{x:"22",y:"26",width:"36",height:"6",rx:"3",fill:b})]});case"container":return A.jsxs(A.Fragment,{children:[A.jsx("rect",{x:"6",y:"10",width:"68",height:"36",rx:"6",fill:"#ffffff",stroke:b,strokeWidth:"2",strokeDasharray:"5 4"}),A.jsx("rect",{x:"12",y:"18",width:"20",height:"6",rx:"3",fill:b,opacity:"0.4"}),A.jsx("rect",{x:"12",y:"28",width:"44",height:"6",rx:"3",fill:b,opacity:"0.2"})]});case"input":return A.jsxs(A.Fragment,{children:[A.jsx("rect",{x:"6",y:"14",width:"68",height:"24",rx:"4",fill:"#ffffff",stroke:b,strokeWidth:"2"}),A.jsx("rect",{x:"12",y:"22",width:"26",height:"4",rx:"2",fill:b,opacity:"0.6"})]});case"textarea":return A.jsxs(A.Fragment,{children:[A.jsx("rect",{x:"6",y:"10",width:"68",height:"36",rx:"4",fill:"#ffffff",stroke:b,strokeWidth:"2"}),A.jsx("rect",{x:"12",y:"18",width:"44",height:"4",rx:"2",fill:b,opacity:"0.6"}),A.jsx("rect",{x:"12",y:"24",width:"40",height:"4",rx:"2",fill:b,opacity:"0.4"}),A.jsx("rect",{x:"12",y:"30",width:"36",height:"4",rx:"2",fill:b,opacity:"0.3"})]});case"checkbox":return A.jsxs(A.Fragment,{children:[A.jsx("rect",{x:"28",y:"16",width:"20",height:"20",rx:"4",fill:"#ffffff",stroke:b,strokeWidth:"3"}),A.jsx("polyline",{points:"31,26 36,32 45,20",fill:"none",stroke:b,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]});case"radio":return A.jsxs(A.Fragment,{children:[A.jsx("circle",{cx:"38",cy:"28",r:"10",fill:"#ffffff",stroke:b,strokeWidth:"3"}),A.jsx("circle",{cx:"38",cy:"28",r:"4",fill:b})]});case"dropdown":return A.jsxs(A.Fragment,{children:[A.jsx("rect",{x:"6",y:"14",width:"68",height:"24",rx:"4",fill:"#ffffff",stroke:b,strokeWidth:"2"}),A.jsx("rect",{x:"12",y:"22",width:"30",height:"4",rx:"2",fill:b,opacity:"0.6"}),A.jsx("polygon",{points:"62,26 58,22 66,22",fill:b})]});case"slider":return A.jsxs(A.Fragment,{children:[A.jsx("rect",{x:"10",y:"24",width:"60",height:"4",rx:"2",fill:"#cfd4dc"}),A.jsx("rect",{x:"10",y:"24",width:"32",height:"4",rx:"2",fill:b,opacity:"0.35"}),A.jsx("circle",{cx:"44",cy:"26",r:"7",fill:"#ffffff",stroke:b,strokeWidth:"2"})]});case"range":return A.jsxs(A.Fragment,{children:[A.jsx("rect",{x:"8",y:"24",width:"64",height:"4",rx:"2",fill:"#cfd4dc"}),A.jsx("rect",{x:"22",y:"24",width:"36",height:"4",rx:"2",fill:b,opacity:"0.4"}),A.jsx("circle",{cx:"24",cy:"26",r:"6",fill:"#ffffff",stroke:b,strokeWidth:"2"}),A.jsx("circle",{cx:"58",cy:"26",r:"6",fill:"#ffffff",stroke:b,strokeWidth:"2"})]});case"toggle":return A.jsxs(A.Fragment,{children:[A.jsx("rect",{x:"16",y:"22",width:"40",height:"14",rx:"7",fill:"#c5ced6"}),A.jsx("circle",{cx:"48",cy:"29",r:"11",fill:"#5b6b7c"})]});case"image":return A.jsxs(A.Fragment,{children:[A.jsx("rect",{x:"6",y:"10",width:"68",height:"36",rx:"4",fill:"#ffffff",stroke:b,strokeWidth:"2"}),A.jsx("circle",{cx:"52",cy:"22",r:"4",fill:b,opacity:"0.5"}),A.jsx("polyline",{points:"14,40 28,28 36,36 44,30 60,40",fill:"none",stroke:b,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]});default:return A.jsxs(A.Fragment,{children:[A.jsx("rect",{x:"8",y:"12",width:"60",height:"32",rx:"6",fill:x,stroke:b,strokeWidth:"2"}),A.jsx("rect",{x:"18",y:"24",width:"40",height:"6",rx:"3",fill:b,opacity:"0.6"})]})}};return A.jsxs(A.Fragment,{children:[A.jsxs(zz,{"data-library-element-type":e.type,"data-library-element-label":e.label,$isDragging:l,onMouseDown:p,children:[A.jsx(Nz,{children:A.jsx(Lz,{viewBox:"0 0 80 56",role:"presentation","aria-hidden":"true",children:A.jsx(g,{type:e.type})})}),A.jsx(Hz,{children:e.label})]}),A.jsx($z,{$x:u.x,$y:u.y,$visible:l,children:e.label})]})},Yz={type:"text",label:"Text",defaultProps:{width:120,height:24,text:"Some text",style:{textAlign:"left",borderColor:"#e0e0e0"},properties:{lineWidth:0}},constraints:{minWidth:20,minHeight:20}},ax=[{type:"button",label:"Button",defaultProps:{width:100,height:36,text:"Button",style:{backgroundColor:"#e9ecef",borderColor:"#6c757d",textAlign:"center"}},constraints:{minWidth:10,minHeight:10}},{type:"container",label:"Container",defaultProps:{width:300,height:200,text:"",style:{backgroundColor:"#f8f9fa",borderColor:"#dee2e6"}},constraints:{minWidth:10,minHeight:10}},{type:"input",label:"Text Input",defaultProps:{width:130,height:30,text:"Input field",style:{backgroundColor:"white",borderColor:"#ced4da"}},constraints:{minWidth:10,minHeight:10}},{type:"textarea",label:"Text Area",defaultProps:{width:250,height:120,text:"Text area",style:{backgroundColor:"white",borderColor:"#ced4da"}},constraints:{minWidth:100,minHeight:20}},{type:"slider",label:"Slider",defaultProps:{width:100,height:20,text:"",style:{backgroundColor:"#f8f9fa",borderColor:"#ced4da"},properties:{value:.5}},constraints:{minWidth:80,minHeight:20}},{type:"range",label:"Range",defaultProps:{width:140,height:20,text:"",style:{backgroundColor:"#f8f9fa",borderColor:"#ced4da"},properties:{minValue:.25,maxValue:.75}},constraints:{minWidth:100,minHeight:20}},{type:"toggle",label:"Toggle",defaultProps:{width:35,height:20,text:"",style:{backgroundColor:"#f8f9fa",borderColor:"#ced4da"},properties:{isChecked:!1}},constraints:{minWidth:35,minHeight:20}},{type:"checkbox",label:"Checkbox",defaultProps:{width:20,height:20,text:"",style:{backgroundColor:"white",borderColor:"#6c757d"}},constraints:{minWidth:10,minHeight:10}},{type:"radio",label:"Radio",defaultProps:{width:20,height:20,text:"",style:{backgroundColor:"white",borderColor:"#6c757d"}},constraints:{minWidth:10,minHeight:10}},{type:"dropdown",label:"Dropdown",defaultProps:{width:130,height:30,text:"Select option",style:{backgroundColor:"white",borderColor:"#ced4da"}},constraints:{minWidth:10,minHeight:10}},{type:"image",label:"Image",defaultProps:{width:200,height:150,text:"",imageSrc:"",style:{backgroundColor:"#ffffff",borderColor:"#dee2e6"}},constraints:{minWidth:10,minHeight:10}}],lv=ax.reduce((e,t)=>(t.constraints&&(e[t.type]=t.constraints),e),{}),Nk=[{type:"rectangle",label:"Rectangle",defaultProps:{width:160,height:120,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"rectangle",label:"Square",defaultProps:{width:140,height:140,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"},properties:{constrainRatio:!0}}},{type:"oval",label:"Oval",defaultProps:{width:160,height:120,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"oval",label:"Circle",defaultProps:{width:140,height:140,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"},properties:{constrainRatio:!0}}},{type:"rhombus",label:"Rhombus",defaultProps:{width:160,height:120,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"triangle",label:"Triangle",defaultProps:{width:160,height:140,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"cylinder",label:"Cylinder",defaultProps:{width:160,height:180,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"pipe",label:"Pipe",defaultProps:{width:160,height:160,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"parallelogram",label:"Parallelogram",defaultProps:{width:180,height:120,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"hexagon",label:"Hexagon",defaultProps:{width:200,height:173,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"card",label:"Card",defaultProps:{width:200,height:140,text:"Card",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"},properties:{textAlign:"left"}}},{type:"note",label:"Note",defaultProps:{width:200,height:200,text:"Note",style:{backgroundColor:"#f7dd72",borderColor:"#c7a744",textAlign:"left"},properties:{textAlign:"left",fontFamily:'"Comic Sans MS", "Comic Sans", cursive',shadow:!0,shadowColour:"rgba(0,0,0,0.18)",shadowOpacity:.35,shadowBlurRadius:16,opacity:1}}},{type:"actor",label:"Actor",defaultProps:{width:100,height:220,text:"actor",style:{backgroundColor:"transparent",borderColor:"#2c3e50",textAlign:"center"},properties:{lineWidth:4,textAlign:"center",textColour:"#2c3e50",fontSize:16,fontFamily:'"Comic Sans MS", "Comic Sans", cursive'}}}];Object.assign(lv,{rectangle:{minWidth:10,minHeight:10},oval:{minWidth:10,minHeight:10},rhombus:{minWidth:10,minHeight:10},triangle:{minWidth:10,minHeight:10},cylinder:{minWidth:10,minHeight:10},pipe:{minWidth:10,minHeight:10},parallelogram:{minWidth:10,minHeight:10},hexagon:{minWidth:10,minHeight:10},card:{minWidth:10,minHeight:10},note:{minWidth:10,minHeight:10},actor:{minWidth:10,minHeight:10}});const MA=new Set([Zt("project-v2"),Zt("current-project"),Zt("history-panel-open"),Zt("floating-toolbar-position"),Zt("library-properties-split"),Zt("project")]);function Uz(){const e=[];for(let t=0;t<window.localStorage.length;t+=1){const r=window.localStorage.key(t);r&&(r.startsWith(Dk)||MA.has(r))&&e.push(r)}return Array.from(new Set([...e,...MA]))}function qz(){try{Uz().forEach(t=>{window.localStorage.removeItem(t)})}catch(e){console.error("Failed to reset local state:",e)}}function Xz(){typeof window>"u"||(window[Bk]=!0)}function Ir(){return typeof window>"u"?!1:!!window[Bk]}const Gz=se.div`
  display: flex;
  flex-direction: column;
  flex: 0 1 auto;
  min-height: 0;
  gap: 10px;
  padding: 0;
`,Wz=se.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 0;
`,Qz=se.h4`
  margin: 0 0 0 5px;
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: #6c757d;
`,Kz=se.div`
  display: flex;
  gap: 1px;
`,Am=se.button`
  border: none;
  background: transparent;
  color: #2c3e50;
  width: 30px;
  height: 26px;
  border-radius: 6px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: background 0.15s ease, color 0.15s ease, transform 0.15s ease;

  &:disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }

  &:hover:not(:disabled) {
    background: #f4f6f8;
    transform: translateY(-1px);
  }
`,Em=se.span`
  display: inline-flex;
  width: 14px;
  height: 14px;
  align-items: center;
  justify-content: center;

  svg {
    width: 14px;
    height: 14px;
    display: block;
  }
`,Vz=se.div`
  border: 1px solid #e1e5e9;
  border-radius: 6px;
  overflow: hidden;
  background: #ffffff;
  display: flex;
  flex-direction: column;
  flex: 0 1 auto;
  max-height: 100%;
  width: 100%;
  align-self: stretch;
`,Zz=se.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  background: #f8f9fa;
  padding: 6px 10px;
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: #6c757d;
  flex-shrink: 0;
  column-gap: 12px;

  > div:last-child {
    text-align: center;
  }
`,Jz=se.div`
  overflow-y: auto;
  flex: 1 1 0%;
  min-height: 0;
  width: 100%;
  align-self: stretch;
`,e8=se.div`
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  padding: 6px 10px;
  font-size: 12px;
  color: #2c3e50;
  border-top: 1px solid #eef1f4;

  &:nth-child(even) {
    background: #fbfcfd;
  }
`,_A=se.div`
  display: flex;
  align-items: center;
  justify-content: ${e=>e.$align==="right"?"flex-end":"flex-start"};
  gap: 4px;
  max-width: 100%;
`,t8=se.div`
  padding: 14px 16px;
  font-size: 12px;
  color: #6c757d;
  border: 1px dashed #d6dbe1;
  border-radius: 6px;
  text-align: center;
  background: #f9fbff;
`,n8=se.div`
  display: inline-flex;
  align-items: center;
  border: 1px solid #d4d9de;
  border-radius: 4px;
  overflow: hidden;
  background: #ffffff;
`,RA=se.button`
  background: #f1f3f5;
  border: none;
  padding: 4px 6px;
  font-size: 12px;
  cursor: pointer;
  color: #2c3e50;

  &:hover:not(:disabled) {
    background: #e2e6ea;
  }

  &:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }
`,r8=se.input`
  width: 54px;
  border: none;
  text-align: center;
  font-size: 12px;
  padding: 4px;
  outline: none;
  color: #2c3e50;
  background: #ffffff;

  &::-webkit-outer-spin-button,
  &::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  &[type='number'] {
    -moz-appearance: textfield;
  }
`;se.input`
  padding: 0;
  width: 30px;
  height: 24px;
  border: none;
  background: transparent;
`;se.input`
  width: 86px;
  border: 1px solid #d4d9de;
  border-radius: 4px;
  padding: 4px 6px;
  font-size: 12px;
  color: #2c3e50;
  background: #ffffff;
  outline: none;
`;const Mm=se.div`
  font-size: 12px;
  color: #88909b;
  max-width: 100%;
  text-align: right;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,a8=se.select`
  border: 1px solid #d4d9de;
  border-radius: 4px;
  padding: 4px 6px;
  font-size: 12px;
  color: #2c3e50;
  background: #ffffff;
  display: block;
  ${e=>e.$width?`width: ${e.$width}px; max-width: ${e.$width}px;`:""}
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,o8=se.button`
  border: 1px solid #d4d9de;
  border-radius: 4px;
  padding: 4px 12px;
  font-size: 12px;
  color: #2c3e50;
  background: #ffffff;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 6px;

  &:hover {
    background: #f8f9fa;
    border-color: #1d6ff2;
  }
`,aa='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',i8=[{label:"System Default",value:aa},{label:"Arial",value:'Arial, "Helvetica Neue", Helvetica, sans-serif'},{label:"Georgia",value:'Georgia, "Times New Roman", Times, serif'},{label:"Courier New",value:'"Courier New", Courier, monospace'},{label:"Verdana",value:"Verdana, Geneva, sans-serif"},{label:"Comic Sans",value:'"Comic Sans MS", "Comic Sans", cursive'}],Ea="#000000",Cs=.36,fo=6,Lo=0,Ho=2,Lk=/^#([0-9a-fA-F]{6})$/,_m=e=>typeof e=="string"&&Lk.test(e)?e.toLowerCase():Ea,TA=e=>typeof e=="number"&&Number.isFinite(e)?Math.min(1,Math.max(0,e)):Cs,kA=e=>typeof e=="number"&&Number.isFinite(e)?Math.max(0,e):fo,s8=e=>{const t=Lk.exec(e);if(!t)return{red:0,green:0,blue:0};const r=parseInt(t[1],16),o=r>>16&255,i=r>>8&255,l=r&255;return{red:o,green:i,blue:l}},Hk=(e,t)=>{const{red:r,green:o,blue:i}=s8(e),l=Math.min(1,Math.max(0,t));return`rgba(${r}, ${o}, ${i}, ${l})`},l8=()=>{const e={},t=r=>{const o=r.defaultProps.properties,i=r.defaultProps.style;!o&&!i||(e[r.type]={properties:o?{...o}:void 0,style:i?{...i}:void 0})};return[...ax,...Nk].forEach(t),e},c8=l8(),dr=(e,t,r={})=>({id:e,type:"number",group:t,min:r.min,max:r.max,step:r.step,defaultValue:r.defaultValue,label:r.label,description:r.description,isReadOnly:r.isReadOnly??!1}),yu=(e,t,r={})=>({id:e,type:"boolean",group:t,defaultValue:r.defaultValue,label:r.label,description:r.description,isReadOnly:r.isReadOnly??!1}),$k=(e,t,r={})=>({id:e,type:"color",group:t,defaultValue:r.defaultValue,label:r.label,description:r.description,isReadOnly:r.isReadOnly??!1}),OA=(e,t,r={})=>({id:e,type:"string",group:t,defaultValue:r.defaultValue,label:r.label,description:r.description,isReadOnly:r.isReadOnly??!1}),Ih=(e,t,r)=>({id:e,type:"select",group:t,options:r.options,defaultValue:r.defaultValue,label:r.label,description:r.description,isReadOnly:r.isReadOnly??!1}),_i=(e=aa)=>Ih("fontFamily","custom",{options:i8,defaultValue:e}),u8=[{label:"Normal",value:"normal"},{label:"Bold",value:"bold"}],d8=[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],Ri=e=>dr("lineWidth","custom",{defaultValue:e,min:0,max:99,step:1}),Na=()=>Ih("lineStyle","custom",{options:[{label:"Solid",value:"Solid"},{label:"Dashed",value:"Dashed"},{label:"Dotted",value:"Dotted"}],defaultValue:"Solid"}),f8=()=>dr("lineRounding","custom",{defaultValue:0,min:0,max:100,step:1}),Ti=e=>dr("fontSize","custom",{defaultValue:e,min:8,max:144,step:1}),ki=(e="normal")=>Ih("fontWeight","custom",{options:u8,defaultValue:e}),Oi=e=>Ih("textAlign","custom",{options:d8,defaultValue:e}),Ot=(e,t)=>$k(e,"custom",{defaultValue:t}),to=(e,t=!0)=>{const r=[Ri(e.lineWidth??2),Na()];return t&&r.push(f8()),r.push(Ot("lineColour",e.lineColour)),e.backgroundColour&&r.push(Ot("backgroundColour",e.backgroundColour)),e.textColour&&r.push(Ot("textColour",e.textColour)),r.push(Ti(e.fontSize)),r.push(ki(e.fontWeight)),r.push(_i(e.fontFamily)),r.push(Oi(e.textAlign)),r},h8=[dr("posX","common",{step:1}),dr("posY","common",{step:1}),dr("width","common",{min:1,max:4e3,step:1}),dr("height","common",{min:1,max:4e3,step:1}),yu("shadow","common",{defaultValue:!1}),$k("shadowColour","common",{defaultValue:Ea}),dr("shadowOpacity","common",{defaultValue:Cs,min:0,max:1,step:.05}),dr("shadowBlurRadius","common",{defaultValue:fo,min:0,max:64,step:.5}),yu("constrainRatio","common",{defaultValue:!1,label:"constrainRatio"}),dr("opacity","common",{defaultValue:1,min:0,max:1,step:.05})],ox=[OA("id","immutable",{isReadOnly:!0}),OA("type","immutable",{isReadOnly:!0})],p8={button:[...to({lineColour:"#6c757d",backgroundColour:"#e9ecef",textColour:"#2c3e50",fontSize:14,textAlign:"center"},!1)],text:[...to({lineWidth:1,lineColour:"#e0e0e0",backgroundColour:"transparent",textColour:"#2c3e50",fontSize:14,textAlign:"left"},!1)],input:[...to({lineColour:"#ced4da",backgroundColour:"#ffffff",textColour:"#2c3e50",fontSize:14,textAlign:"left"},!1)],textarea:[...to({lineColour:"#ced4da",backgroundColour:"#ffffff",textColour:"#2c3e50",fontSize:14,textAlign:"left"},!1)],slider:[Ot("lineColour","#6c757d"),Ot("backgroundColour","#f8f9fa"),dr("value","custom",{defaultValue:.5,min:0,max:1,step:.01,label:"value"})],range:[Ot("lineColour","#6c757d"),Ot("backgroundColour","#f8f9fa"),dr("minValue","custom",{defaultValue:.25,min:0,max:1,step:.01,label:"minValue"}),dr("maxValue","custom",{defaultValue:.75,min:0,max:1,step:.01,label:"maxValue"})],toggle:[yu("isChecked","custom",{defaultValue:!1,label:"isChecked"}),Ot("lineColour","#3498db"),Ot("backgroundColour","#dfe6f1")],container:[...to({lineColour:"#dee2e6",backgroundColour:"#f8f9fa",textColour:"#2c3e50",fontSize:16,textAlign:"left"},!1)],rectangle:[...to({lineColour:"#6c757d",backgroundColour:"#ffffff",textColour:"#2c3e50",fontSize:18,textAlign:"center"})],oval:[...to({lineColour:"#6c757d",backgroundColour:"#ffffff",textColour:"#2c3e50",fontSize:18,textAlign:"center"},!1)],rhombus:[...to({lineColour:"#6c757d",backgroundColour:"#ffffff",textColour:"#2c3e50",fontSize:18,textAlign:"center"},!1)],triangle:[...to({lineColour:"#6c757d",backgroundColour:"#ffffff",textColour:"#2c3e50",fontSize:18,textAlign:"center"},!1)],cylinder:[...to({lineColour:"#6c757d",backgroundColour:"#ffffff",textColour:"#2c3e50",fontSize:18,textAlign:"center"},!1)],pipe:[Ri(2),Na(),Ot("lineColour","#6c757d"),Ot("backgroundColour","#ffffff"),Ot("textColour","#2c3e50"),Ti(18),ki(),_i(),Oi("center")],parallelogram:[Ri(2),Na(),Ot("lineColour","#6c757d"),Ot("backgroundColour","#ffffff"),Ot("textColour","#2c3e50"),Ti(18),ki(),_i(),Oi("center")],hexagon:[Ri(2),Na(),Ot("lineColour","#6c757d"),Ot("backgroundColour","#ffffff"),Ot("textColour","#2c3e50"),Ti(18),ki(),_i(),Oi("center")],card:[Ri(2),Na(),Ot("lineColour","#6c757d"),Ot("backgroundColour","#ffffff"),Ot("textColour","#2c3e50"),Ti(18),ki(),_i(),Oi("left")],note:[Ri(2),Na(),Ot("lineColour","#c7a744"),Ot("backgroundColour","#f7dd72"),Ot("textColour","#40320d"),Ti(14),ki(),Oi("left"),_i('"Comic Sans MS", "Comic Sans", cursive')],actor:[dr("lineWidth","custom",{defaultValue:4,min:1,max:99,step:1}),Na(),Ot("lineColour","#2c3e50"),Ot("backgroundColour","transparent"),Ot("textColour","#2c3e50"),Ti(16),ki(),_i('"Comic Sans MS", "Comic Sans", cursive'),Oi("center")],image:[Ri(0),Na(),Ot("lineColour","#dee2e6"),Ot("backgroundColour","#ffffff")],checkbox:[yu("isChecked","custom",{defaultValue:!1}),dr("lineWidth","custom",{defaultValue:2,min:0,max:10,step:1}),Na(),Ot("lineColour","#6c757d"),Ot("fillColour","#ffffff")],radio:[yu("isChecked","custom",{defaultValue:!1}),dr("lineWidth","custom",{defaultValue:2,min:0,max:10,step:1}),Na(),Ot("lineColour","#6c757d"),Ot("fillColour","#ffffff")],dropdown:[Ri(2),Na(),Ot("lineColour","#ced4da"),Ot("backgroundColour","#ffffff"),Ot("textColour","#2c3e50"),Ti(14),ki(),Oi("left"),_i()]},cv=new Set(["posX","posY","width","height"]),Fk=new Set(ox.map(e=>e.id));function Ss(e){return[...h8,...p8[e]??[],...ox]}function g8(e){return Ss(e).reduce((r,o)=>(o.defaultValue!==void 0&&(r[o.id]=o.defaultValue),r),{})}function m8(e,t){return{...g8(e),...t??{}}}const Fo=e=>typeof e=="number"&&Number.isFinite(e),ba=e=>typeof e=="string",IA=e=>typeof e=="boolean",y8=/^#[0-9a-fA-F]{6}$/,Yk=(e,t)=>{if(!ba(e))return t;const r=e.startsWith("#")?e:`#${e}`;return y8.test(r)?r.toLowerCase():t};function bs(e,t){const r={...m8(e.type,t)};Ss(e.type).forEach(h=>{h.type==="select"&&(r[h.id]=qk(h,r[h.id]))}),typeof t?.constrainProportions=="boolean"&&r.constrainRatio===void 0&&(r.constrainRatio=!!t.constrainProportions),Object.prototype.hasOwnProperty.call(r,"constrainProportions")&&delete r.constrainProportions;const i=t;r.shadow===void 0&&typeof i?.dropShadow=="boolean"&&(r.shadow=i.dropShadow),Object.prototype.hasOwnProperty.call(r,"dropShadow")&&delete r.dropShadow,Object.prototype.hasOwnProperty.call(r,"imageSrc")&&delete r.imageSrc;const l=Yk(r.shadowColour??Ea,Ea);r.shadowColour=l;const c=Fo(r.shadowOpacity)?Math.min(1,Math.max(0,r.shadowOpacity)):Cs;r.shadowOpacity=c;const u=Fo(r.shadowBlurRadius)?Math.max(0,r.shadowBlurRadius):fo;return r.shadowBlurRadius=u,r.id=e.id,r.type=e.type,r.posX=e.x,r.posY=e.y,r.width=e.width,r.height=e.height,r.shadow=IA(r.shadow)?r.shadow:!1,r.constrainRatio=IA(r.constrainRatio)?r.constrainRatio:!1,r.opacity=Fo(r.opacity)?r.opacity:1,r}function Uk(e,t){const r={};ba(t.lineColour)&&(r.borderColor=t.lineColour);const o=ba(t.backgroundColour)?t.backgroundColour:ba(t.fillColour)?t.fillColour:void 0;return o&&(r.backgroundColor=o),ba(t.textColour)&&(r.textColor=t.textColour),Fo(t.fontSize)&&(r.fontSize=t.fontSize),ba(t.fontWeight)&&(t.fontWeight==="normal"||t.fontWeight==="bold")&&(r.fontWeight=t.fontWeight),ba(t.textAlign)&&(t.textAlign==="left"||t.textAlign==="center"||t.textAlign==="right")&&(r.textAlign=t.textAlign),ba(t.fontFamily)?r.fontFamily=t.fontFamily:r.fontFamily=aa,(e==="checkbox"||e==="radio")&&!r.backgroundColor&&ba(t.fillColour)&&(r.backgroundColor=t.fillColour),r}function Jl(e){const t=bs(e,e.properties),r=Uk(e.type,t);let o=typeof e.imageSrc=="string"?e.imageSrc:void 0;const i=typeof e.properties?.imageSrc=="string"?e.properties.imageSrc:void 0;if(!o&&i&&(o=i),typeof t.imageSrc=="string"){const c=t.imageSrc;typeof c=="string"&&c.length>0&&(o=c),delete t.imageSrc}typeof o=="string"&&o.trim().length===0&&(o=void 0);const l={...t};return{...e,imageSrc:o,properties:l,style:{...e.style,...r}}}const b8=(e,t,r)=>{if(r==="width"){const o=t.constraints?.minWidth;typeof o=="number"&&(e=Math.max(e,o))}if(r==="height"){const o=t.constraints?.minHeight;typeof o=="number"&&(e=Math.max(e,o))}return e},v8=(e,t)=>{let r=e;return typeof t.min=="number"&&(r=Math.max(r,t.min)),typeof t.max=="number"&&(r=Math.min(r,t.max)),r},qk=(e,t)=>{const r=ba(t)?t:String(e.defaultValue??e.options[0]?.value??"");if(e.options.some(l=>l.value===r))return r;const i=e.defaultValue;return typeof i=="string"?i:String(e.options[0]?.value??"")};function uv(e,t,r){const i=Ss(e.type).find(g=>g.id===t);if(!i||Fk.has(i.id))return console.warn("updateElementWithProperty: missing schema or immutable",t,e.type),e;const l=bs(e,e.properties),c={...l};let u=r;if(i.type==="boolean")u=!!r;else if(i.type==="number"){const g=Fo(l[t])?l[t]:typeof i.defaultValue=="number"?i.defaultValue:0;let y=typeof r=="number"?r:Number(r);Number.isFinite(y)||(y=g),y=v8(y,i),y=b8(y,e,t),u=y}else if(i.type==="color"){const g=ba(l[t])?l[t]:typeof i.defaultValue=="string"?i.defaultValue:"#000000";u=Yk(r,g)}else i.type==="select"?u=qk(i,r):i.type==="string"&&(u=ba(r)?r:String(r??""));c[t]=u;const h={...e};t==="posX"&&Fo(u)&&(h.x=u),t==="posY"&&Fo(u)&&(h.y=u),t==="width"&&Fo(u)&&(h.width=u),t==="height"&&Fo(u)&&(h.height=u);const f=bs(h,c),p=Uk(h.type,f);return{...h,properties:f,style:{...h.style,...p}}}function Xk(e,t){return Object.entries(t).reduce((r,[o,i])=>i==null?uv(r,o,i??null):uv(r,o,i),e)}function x8(e){const t=bs(e,e.properties),r=Ss(e.type),o={...t};r.forEach(h=>{h.group==="immutable"||cv.has(h.id)||(h.defaultValue!==void 0?o[h.id]=h.defaultValue:delete o[h.id])});const i=c8[e.type];i?.properties&&Object.entries(i.properties).forEach(([h,f])=>{if(!(cv.has(h)||Fk.has(h))){if(f===void 0){delete o[h];return}o[h]=f}});const l={...e,style:i?.style?{...i.style}:void 0,properties:o},c=Jl(l),u=i?.style?{...i.style,...c.style}:c.style;return{...c,style:u}}function Gk(){return ox.map(e=>e.id)}function w8(){return Array.from(cv)}const C8=e=>e.type==="number",S8=e=>e.type==="select",Wk=(e,t)=>{const r=typeof t.min=="number"?t.min:-1/0,o=typeof t.max=="number"?t.max:1/0;return Math.min(o,Math.max(r,e))},PA=e=>typeof e=="boolean"?e?"true":"false":typeof e=="number"?Number.isFinite(e)?e.toString():"":typeof e=="string"?e:"",A8=[{id:"startX",type:"number",group:"common",label:"startX",defaultValue:0,min:-4e3,max:4e3,step:1},{id:"startY",type:"number",group:"common",label:"startY",defaultValue:0,min:-4e3,max:4e3,step:1},{id:"endX",type:"number",group:"common",label:"endX",defaultValue:0,min:-4e3,max:4e3,step:1},{id:"endY",type:"number",group:"common",label:"endY",defaultValue:0,min:-4e3,max:4e3,step:1},{id:"waypoints",type:"waypoints",group:"common",label:"waypoints"},{id:"lineColour",type:"color",group:"custom",label:"lineColour",defaultValue:"#6c757d"},{id:"lineWidth",type:"number",group:"custom",label:"lineWidth",defaultValue:2,min:.5,max:20,step:.5},{id:"lineStyle",type:"select",group:"custom",label:"lineStyle",defaultValue:"Solid",options:[{value:"Solid",label:"Solid"},{value:"Dashed",label:"Dashed"},{value:"Dotted",label:"Dotted"}]},{id:"lineRounding",type:"number",group:"custom",label:"lineRounding",defaultValue:0,min:0,max:100,step:1},{id:"startMark",type:"select",group:"custom",label:"startMark",defaultValue:"None",options:[{value:"None",label:"None"},{value:"HollowArrow",label:"HollowArrow"}]},{id:"endMark",type:"select",group:"custom",label:"endMark",defaultValue:"None",options:[{value:"None",label:"None"},{value:"HollowArrow",label:"HollowArrow"}]},{id:"opacity",type:"number",group:"custom",label:"opacity",defaultValue:1,min:0,max:1,step:.05},{id:"shadow",type:"boolean",group:"custom",label:"shadow",defaultValue:!1},{id:"shadowColour",type:"color",group:"custom",label:"shadowColour",defaultValue:Ea},{id:"shadowOpacity",type:"number",group:"custom",label:"shadowOpacity",defaultValue:Cs,min:0,max:1,step:.05},{id:"shadowBlurRadius",type:"number",group:"custom",label:"shadowBlurRadius",defaultValue:fo,min:0,max:64,step:.5},{id:"id",type:"string",group:"immutable",label:"id",isReadOnly:!0},{id:"type",type:"string",group:"immutable",label:"type",isReadOnly:!0}];var Or={},yl={},Rm,jA;function Qk(){if(jA)return Rm;jA=1;var e=typeof uf=="object"&&uf&&uf.Object===Object&&uf;return Rm=e,Rm}var Tm,DA;function po(){if(DA)return Tm;DA=1;var e=Qk(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Tm=r,Tm}var km,BA;function $u(){if(BA)return km;BA=1;var e=po(),t=e.Symbol;return km=t,km}var Om,zA;function E8(){if(zA)return Om;zA=1;var e=$u(),t=Object.prototype,r=t.hasOwnProperty,o=t.toString,i=e?e.toStringTag:void 0;function l(c){var u=r.call(c,i),h=c[i];try{c[i]=void 0;var f=!0}catch{}var p=o.call(c);return f&&(u?c[i]=h:delete c[i]),p}return Om=l,Om}var Im,NA;function M8(){if(NA)return Im;NA=1;var e=Object.prototype,t=e.toString;function r(o){return t.call(o)}return Im=r,Im}var Pm,LA;function As(){if(LA)return Pm;LA=1;var e=$u(),t=E8(),r=M8(),o="[object Null]",i="[object Undefined]",l=e?e.toStringTag:void 0;function c(u){return u==null?u===void 0?i:o:l&&l in Object(u)?t(u):r(u)}return Pm=c,Pm}var jm,HA;function qa(){if(HA)return jm;HA=1;var e=Array.isArray;return jm=e,jm}var Dm,$A;function Xo(){if($A)return Dm;$A=1;function e(t){return t!=null&&typeof t=="object"}return Dm=e,Dm}var Bm,FA;function _8(){if(FA)return Bm;FA=1;var e=As(),t=qa(),r=Xo(),o="[object String]";function i(l){return typeof l=="string"||!t(l)&&r(l)&&e(l)==o}return Bm=i,Bm}var zm,YA;function R8(){if(YA)return zm;YA=1;function e(t){return function(r,o,i){for(var l=-1,c=Object(r),u=i(r),h=u.length;h--;){var f=u[t?h:++l];if(o(c[f],f,c)===!1)break}return r}}return zm=e,zm}var Nm,UA;function T8(){if(UA)return Nm;UA=1;var e=R8(),t=e();return Nm=t,Nm}var Lm,qA;function k8(){if(qA)return Lm;qA=1;function e(t,r){for(var o=-1,i=Array(t);++o<t;)i[o]=r(o);return i}return Lm=e,Lm}var Hm,XA;function O8(){if(XA)return Hm;XA=1;var e=As(),t=Xo(),r="[object Arguments]";function o(i){return t(i)&&e(i)==r}return Hm=o,Hm}var $m,GA;function Kk(){if(GA)return $m;GA=1;var e=O8(),t=Xo(),r=Object.prototype,o=r.hasOwnProperty,i=r.propertyIsEnumerable,l=e((function(){return arguments})())?e:function(c){return t(c)&&o.call(c,"callee")&&!i.call(c,"callee")};return $m=l,$m}var lu={exports:{}},Fm,WA;function I8(){if(WA)return Fm;WA=1;function e(){return!1}return Fm=e,Fm}lu.exports;var QA;function ix(){return QA||(QA=1,(function(e,t){var r=po(),o=I8(),i=t&&!t.nodeType&&t,l=i&&!0&&e&&!e.nodeType&&e,c=l&&l.exports===i,u=c?r.Buffer:void 0,h=u?u.isBuffer:void 0,f=h||o;e.exports=f})(lu,lu.exports)),lu.exports}var Ym,KA;function Vk(){if(KA)return Ym;KA=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(o,i){var l=typeof o;return i=i??e,!!i&&(l=="number"||l!="symbol"&&t.test(o))&&o>-1&&o%1==0&&o<i}return Ym=r,Ym}var Um,VA;function sx(){if(VA)return Um;VA=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Um=t,Um}var qm,ZA;function P8(){if(ZA)return qm;ZA=1;var e=As(),t=sx(),r=Xo(),o="[object Arguments]",i="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",h="[object Function]",f="[object Map]",p="[object Number]",g="[object Object]",y="[object RegExp]",b="[object Set]",x="[object String]",C="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",R="[object Float32Array]",_="[object Float64Array]",T="[object Int8Array]",k="[object Int16Array]",O="[object Int32Array]",M="[object Uint8Array]",j="[object Uint8ClampedArray]",H="[object Uint16Array]",U="[object Uint32Array]",Y={};Y[R]=Y[_]=Y[T]=Y[k]=Y[O]=Y[M]=Y[j]=Y[H]=Y[U]=!0,Y[o]=Y[i]=Y[S]=Y[l]=Y[E]=Y[c]=Y[u]=Y[h]=Y[f]=Y[p]=Y[g]=Y[y]=Y[b]=Y[x]=Y[C]=!1;function Q(W){return r(W)&&t(W.length)&&!!Y[e(W)]}return qm=Q,qm}var Xm,JA;function lx(){if(JA)return Xm;JA=1;function e(t){return function(r){return t(r)}}return Xm=e,Xm}var cu={exports:{}};cu.exports;var eE;function cx(){return eE||(eE=1,(function(e,t){var r=Qk(),o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===o,c=l&&r.process,u=(function(){try{var h=i&&i.require&&i.require("util").types;return h||c&&c.binding&&c.binding("util")}catch{}})();e.exports=u})(cu,cu.exports)),cu.exports}var Gm,tE;function Zk(){if(tE)return Gm;tE=1;var e=P8(),t=lx(),r=cx(),o=r&&r.isTypedArray,i=o?t(o):e;return Gm=i,Gm}var Wm,nE;function Jk(){if(nE)return Wm;nE=1;var e=k8(),t=Kk(),r=qa(),o=ix(),i=Vk(),l=Zk(),c=Object.prototype,u=c.hasOwnProperty;function h(f,p){var g=r(f),y=!g&&t(f),b=!g&&!y&&o(f),x=!g&&!y&&!b&&l(f),C=g||y||b||x,S=C?e(f.length,String):[],E=S.length;for(var R in f)(p||u.call(f,R))&&!(C&&(R=="length"||b&&(R=="offset"||R=="parent")||x&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||i(R,E)))&&S.push(R);return S}return Wm=h,Wm}var Qm,rE;function ux(){if(rE)return Qm;rE=1;var e=Object.prototype;function t(r){var o=r&&r.constructor,i=typeof o=="function"&&o.prototype||e;return r===i}return Qm=t,Qm}var Km,aE;function eO(){if(aE)return Km;aE=1;function e(t,r){return function(o){return t(r(o))}}return Km=e,Km}var Vm,oE;function j8(){if(oE)return Vm;oE=1;var e=eO(),t=e(Object.keys,Object);return Vm=t,Vm}var Zm,iE;function D8(){if(iE)return Zm;iE=1;var e=ux(),t=j8(),r=Object.prototype,o=r.hasOwnProperty;function i(l){if(!e(l))return t(l);var c=[];for(var u in Object(l))o.call(l,u)&&u!="constructor"&&c.push(u);return c}return Zm=i,Zm}var Jm,sE;function sc(){if(sE)return Jm;sE=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Jm=e,Jm}var e0,lE;function tO(){if(lE)return e0;lE=1;var e=As(),t=sc(),r="[object AsyncFunction]",o="[object Function]",i="[object GeneratorFunction]",l="[object Proxy]";function c(u){if(!t(u))return!1;var h=e(u);return h==o||h==i||h==r||h==l}return e0=c,e0}var t0,cE;function Ph(){if(cE)return t0;cE=1;var e=tO(),t=sx();function r(o){return o!=null&&t(o.length)&&!e(o)}return t0=r,t0}var n0,uE;function Fu(){if(uE)return n0;uE=1;var e=Jk(),t=D8(),r=Ph();function o(i){return r(i)?e(i):t(i)}return n0=o,n0}var r0,dE;function nO(){if(dE)return r0;dE=1;var e=T8(),t=Fu();function r(o,i){return o&&e(o,i,t)}return r0=r,r0}var a0,fE;function rO(){if(fE)return a0;fE=1;function e(t){return t}return a0=e,a0}var o0,hE;function B8(){if(hE)return o0;hE=1;var e=rO();function t(r){return typeof r=="function"?r:e}return o0=t,o0}var i0,pE;function dx(){if(pE)return i0;pE=1;var e=nO(),t=B8();function r(o,i){return o&&e(o,t(i))}return i0=r,i0}var s0,gE;function fx(){if(gE)return s0;gE=1;var e=eO(),t=e(Object.getPrototypeOf,Object);return s0=t,s0}var l0,mE;function z8(){if(mE)return l0;mE=1;var e=As(),t=fx(),r=Xo(),o="[object Object]",i=Function.prototype,l=Object.prototype,c=i.toString,u=l.hasOwnProperty,h=c.call(Object);function f(p){if(!r(p)||e(p)!=o)return!1;var g=t(p);if(g===null)return!0;var y=u.call(g,"constructor")&&g.constructor;return typeof y=="function"&&y instanceof y&&c.call(y)==h}return l0=f,l0}var c0,yE;function aO(){if(yE)return c0;yE=1;function e(t,r){for(var o=-1,i=t==null?0:t.length,l=Array(i);++o<i;)l[o]=r(t[o],o,t);return l}return c0=e,c0}var u0,bE;function N8(){if(bE)return u0;bE=1;function e(){this.__data__=[],this.size=0}return u0=e,u0}var d0,vE;function hx(){if(vE)return d0;vE=1;function e(t,r){return t===r||t!==t&&r!==r}return d0=e,d0}var f0,xE;function jh(){if(xE)return f0;xE=1;var e=hx();function t(r,o){for(var i=r.length;i--;)if(e(r[i][0],o))return i;return-1}return f0=t,f0}var h0,wE;function L8(){if(wE)return h0;wE=1;var e=jh(),t=Array.prototype,r=t.splice;function o(i){var l=this.__data__,c=e(l,i);if(c<0)return!1;var u=l.length-1;return c==u?l.pop():r.call(l,c,1),--this.size,!0}return h0=o,h0}var p0,CE;function H8(){if(CE)return p0;CE=1;var e=jh();function t(r){var o=this.__data__,i=e(o,r);return i<0?void 0:o[i][1]}return p0=t,p0}var g0,SE;function $8(){if(SE)return g0;SE=1;var e=jh();function t(r){return e(this.__data__,r)>-1}return g0=t,g0}var m0,AE;function F8(){if(AE)return m0;AE=1;var e=jh();function t(r,o){var i=this.__data__,l=e(i,r);return l<0?(++this.size,i.push([r,o])):i[l][1]=o,this}return m0=t,m0}var y0,EE;function Dh(){if(EE)return y0;EE=1;var e=N8(),t=L8(),r=H8(),o=$8(),i=F8();function l(c){var u=-1,h=c==null?0:c.length;for(this.clear();++u<h;){var f=c[u];this.set(f[0],f[1])}}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=o,l.prototype.set=i,y0=l,y0}var b0,ME;function Y8(){if(ME)return b0;ME=1;var e=Dh();function t(){this.__data__=new e,this.size=0}return b0=t,b0}var v0,_E;function U8(){if(_E)return v0;_E=1;function e(t){var r=this.__data__,o=r.delete(t);return this.size=r.size,o}return v0=e,v0}var x0,RE;function q8(){if(RE)return x0;RE=1;function e(t){return this.__data__.get(t)}return x0=e,x0}var w0,TE;function X8(){if(TE)return w0;TE=1;function e(t){return this.__data__.has(t)}return w0=e,w0}var C0,kE;function G8(){if(kE)return C0;kE=1;var e=po(),t=e["__core-js_shared__"];return C0=t,C0}var S0,OE;function W8(){if(OE)return S0;OE=1;var e=G8(),t=(function(){var o=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""})();function r(o){return!!t&&t in o}return S0=r,S0}var A0,IE;function oO(){if(IE)return A0;IE=1;var e=Function.prototype,t=e.toString;function r(o){if(o!=null){try{return t.call(o)}catch{}try{return o+""}catch{}}return""}return A0=r,A0}var E0,PE;function Q8(){if(PE)return E0;PE=1;var e=tO(),t=W8(),r=sc(),o=oO(),i=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,h=c.toString,f=u.hasOwnProperty,p=RegExp("^"+h.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(y){if(!r(y)||t(y))return!1;var b=e(y)?p:l;return b.test(o(y))}return E0=g,E0}var M0,jE;function K8(){if(jE)return M0;jE=1;function e(t,r){return t?.[r]}return M0=e,M0}var _0,DE;function Es(){if(DE)return _0;DE=1;var e=Q8(),t=K8();function r(o,i){var l=t(o,i);return e(l)?l:void 0}return _0=r,_0}var R0,BE;function px(){if(BE)return R0;BE=1;var e=Es(),t=po(),r=e(t,"Map");return R0=r,R0}var T0,zE;function Bh(){if(zE)return T0;zE=1;var e=Es(),t=e(Object,"create");return T0=t,T0}var k0,NE;function V8(){if(NE)return k0;NE=1;var e=Bh();function t(){this.__data__=e?e(null):{},this.size=0}return k0=t,k0}var O0,LE;function Z8(){if(LE)return O0;LE=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return O0=e,O0}var I0,HE;function J8(){if(HE)return I0;HE=1;var e=Bh(),t="__lodash_hash_undefined__",r=Object.prototype,o=r.hasOwnProperty;function i(l){var c=this.__data__;if(e){var u=c[l];return u===t?void 0:u}return o.call(c,l)?c[l]:void 0}return I0=i,I0}var P0,$E;function eN(){if($E)return P0;$E=1;var e=Bh(),t=Object.prototype,r=t.hasOwnProperty;function o(i){var l=this.__data__;return e?l[i]!==void 0:r.call(l,i)}return P0=o,P0}var j0,FE;function tN(){if(FE)return j0;FE=1;var e=Bh(),t="__lodash_hash_undefined__";function r(o,i){var l=this.__data__;return this.size+=this.has(o)?0:1,l[o]=e&&i===void 0?t:i,this}return j0=r,j0}var D0,YE;function nN(){if(YE)return D0;YE=1;var e=V8(),t=Z8(),r=J8(),o=eN(),i=tN();function l(c){var u=-1,h=c==null?0:c.length;for(this.clear();++u<h;){var f=c[u];this.set(f[0],f[1])}}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=o,l.prototype.set=i,D0=l,D0}var B0,UE;function rN(){if(UE)return B0;UE=1;var e=nN(),t=Dh(),r=px();function o(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return B0=o,B0}var z0,qE;function aN(){if(qE)return z0;qE=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return z0=e,z0}var N0,XE;function zh(){if(XE)return N0;XE=1;var e=aN();function t(r,o){var i=r.__data__;return e(o)?i[typeof o=="string"?"string":"hash"]:i.map}return N0=t,N0}var L0,GE;function oN(){if(GE)return L0;GE=1;var e=zh();function t(r){var o=e(this,r).delete(r);return this.size-=o?1:0,o}return L0=t,L0}var H0,WE;function iN(){if(WE)return H0;WE=1;var e=zh();function t(r){return e(this,r).get(r)}return H0=t,H0}var $0,QE;function sN(){if(QE)return $0;QE=1;var e=zh();function t(r){return e(this,r).has(r)}return $0=t,$0}var F0,KE;function lN(){if(KE)return F0;KE=1;var e=zh();function t(r,o){var i=e(this,r),l=i.size;return i.set(r,o),this.size+=i.size==l?0:1,this}return F0=t,F0}var Y0,VE;function gx(){if(VE)return Y0;VE=1;var e=rN(),t=oN(),r=iN(),o=sN(),i=lN();function l(c){var u=-1,h=c==null?0:c.length;for(this.clear();++u<h;){var f=c[u];this.set(f[0],f[1])}}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=o,l.prototype.set=i,Y0=l,Y0}var U0,ZE;function cN(){if(ZE)return U0;ZE=1;var e=Dh(),t=px(),r=gx(),o=200;function i(l,c){var u=this.__data__;if(u instanceof e){var h=u.__data__;if(!t||h.length<o-1)return h.push([l,c]),this.size=++u.size,this;u=this.__data__=new r(h)}return u.set(l,c),this.size=u.size,this}return U0=i,U0}var q0,JE;function mx(){if(JE)return q0;JE=1;var e=Dh(),t=Y8(),r=U8(),o=q8(),i=X8(),l=cN();function c(u){var h=this.__data__=new e(u);this.size=h.size}return c.prototype.clear=t,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=i,c.prototype.set=l,q0=c,q0}var X0,e2;function uN(){if(e2)return X0;e2=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return X0=t,X0}var G0,t2;function dN(){if(t2)return G0;t2=1;function e(t){return this.__data__.has(t)}return G0=e,G0}var W0,n2;function fN(){if(n2)return W0;n2=1;var e=gx(),t=uN(),r=dN();function o(i){var l=-1,c=i==null?0:i.length;for(this.__data__=new e;++l<c;)this.add(i[l])}return o.prototype.add=o.prototype.push=t,o.prototype.has=r,W0=o,W0}var Q0,r2;function hN(){if(r2)return Q0;r2=1;function e(t,r){for(var o=-1,i=t==null?0:t.length;++o<i;)if(r(t[o],o,t))return!0;return!1}return Q0=e,Q0}var K0,a2;function pN(){if(a2)return K0;a2=1;function e(t,r){return t.has(r)}return K0=e,K0}var V0,o2;function iO(){if(o2)return V0;o2=1;var e=fN(),t=hN(),r=pN(),o=1,i=2;function l(c,u,h,f,p,g){var y=h&o,b=c.length,x=u.length;if(b!=x&&!(y&&x>b))return!1;var C=g.get(c),S=g.get(u);if(C&&S)return C==u&&S==c;var E=-1,R=!0,_=h&i?new e:void 0;for(g.set(c,u),g.set(u,c);++E<b;){var T=c[E],k=u[E];if(f)var O=y?f(k,T,E,u,c,g):f(T,k,E,c,u,g);if(O!==void 0){if(O)continue;R=!1;break}if(_){if(!t(u,function(M,j){if(!r(_,j)&&(T===M||p(T,M,h,f,g)))return _.push(j)})){R=!1;break}}else if(!(T===k||p(T,k,h,f,g))){R=!1;break}}return g.delete(c),g.delete(u),R}return V0=l,V0}var Z0,i2;function sO(){if(i2)return Z0;i2=1;var e=po(),t=e.Uint8Array;return Z0=t,Z0}var J0,s2;function gN(){if(s2)return J0;s2=1;function e(t){var r=-1,o=Array(t.size);return t.forEach(function(i,l){o[++r]=[l,i]}),o}return J0=e,J0}var ey,l2;function mN(){if(l2)return ey;l2=1;function e(t){var r=-1,o=Array(t.size);return t.forEach(function(i){o[++r]=i}),o}return ey=e,ey}var ty,c2;function yN(){if(c2)return ty;c2=1;var e=$u(),t=sO(),r=hx(),o=iO(),i=gN(),l=mN(),c=1,u=2,h="[object Boolean]",f="[object Date]",p="[object Error]",g="[object Map]",y="[object Number]",b="[object RegExp]",x="[object Set]",C="[object String]",S="[object Symbol]",E="[object ArrayBuffer]",R="[object DataView]",_=e?e.prototype:void 0,T=_?_.valueOf:void 0;function k(O,M,j,H,U,Y,Q){switch(j){case R:if(O.byteLength!=M.byteLength||O.byteOffset!=M.byteOffset)return!1;O=O.buffer,M=M.buffer;case E:return!(O.byteLength!=M.byteLength||!Y(new t(O),new t(M)));case h:case f:case y:return r(+O,+M);case p:return O.name==M.name&&O.message==M.message;case b:case C:return O==M+"";case g:var W=i;case x:var ae=H&c;if(W||(W=l),O.size!=M.size&&!ae)return!1;var Z=Q.get(O);if(Z)return Z==M;H|=u,Q.set(O,M);var P=o(W(O),W(M),H,U,Y,Q);return Q.delete(O),P;case S:if(T)return T.call(O)==T.call(M)}return!1}return ty=k,ty}var ny,u2;function lO(){if(u2)return ny;u2=1;function e(t,r){for(var o=-1,i=r.length,l=t.length;++o<i;)t[l+o]=r[o];return t}return ny=e,ny}var ry,d2;function cO(){if(d2)return ry;d2=1;var e=lO(),t=qa();function r(o,i,l){var c=i(o);return t(o)?c:e(c,l(o))}return ry=r,ry}var ay,f2;function bN(){if(f2)return ay;f2=1;function e(t,r){for(var o=-1,i=t==null?0:t.length,l=0,c=[];++o<i;){var u=t[o];r(u,o,t)&&(c[l++]=u)}return c}return ay=e,ay}var oy,h2;function uO(){if(h2)return oy;h2=1;function e(){return[]}return oy=e,oy}var iy,p2;function yx(){if(p2)return iy;p2=1;var e=bN(),t=uO(),r=Object.prototype,o=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,l=i?function(c){return c==null?[]:(c=Object(c),e(i(c),function(u){return o.call(c,u)}))}:t;return iy=l,iy}var sy,g2;function dO(){if(g2)return sy;g2=1;var e=cO(),t=yx(),r=Fu();function o(i){return e(i,r,t)}return sy=o,sy}var ly,m2;function vN(){if(m2)return ly;m2=1;var e=dO(),t=1,r=Object.prototype,o=r.hasOwnProperty;function i(l,c,u,h,f,p){var g=u&t,y=e(l),b=y.length,x=e(c),C=x.length;if(b!=C&&!g)return!1;for(var S=b;S--;){var E=y[S];if(!(g?E in c:o.call(c,E)))return!1}var R=p.get(l),_=p.get(c);if(R&&_)return R==c&&_==l;var T=!0;p.set(l,c),p.set(c,l);for(var k=g;++S<b;){E=y[S];var O=l[E],M=c[E];if(h)var j=g?h(M,O,E,c,l,p):h(O,M,E,l,c,p);if(!(j===void 0?O===M||f(O,M,u,h,p):j)){T=!1;break}k||(k=E=="constructor")}if(T&&!k){var H=l.constructor,U=c.constructor;H!=U&&"constructor"in l&&"constructor"in c&&!(typeof H=="function"&&H instanceof H&&typeof U=="function"&&U instanceof U)&&(T=!1)}return p.delete(l),p.delete(c),T}return ly=i,ly}var cy,y2;function xN(){if(y2)return cy;y2=1;var e=Es(),t=po(),r=e(t,"DataView");return cy=r,cy}var uy,b2;function wN(){if(b2)return uy;b2=1;var e=Es(),t=po(),r=e(t,"Promise");return uy=r,uy}var dy,v2;function CN(){if(v2)return dy;v2=1;var e=Es(),t=po(),r=e(t,"Set");return dy=r,dy}var fy,x2;function SN(){if(x2)return fy;x2=1;var e=Es(),t=po(),r=e(t,"WeakMap");return fy=r,fy}var hy,w2;function Nh(){if(w2)return hy;w2=1;var e=xN(),t=px(),r=wN(),o=CN(),i=SN(),l=As(),c=oO(),u="[object Map]",h="[object Object]",f="[object Promise]",p="[object Set]",g="[object WeakMap]",y="[object DataView]",b=c(e),x=c(t),C=c(r),S=c(o),E=c(i),R=l;return(e&&R(new e(new ArrayBuffer(1)))!=y||t&&R(new t)!=u||r&&R(r.resolve())!=f||o&&R(new o)!=p||i&&R(new i)!=g)&&(R=function(_){var T=l(_),k=T==h?_.constructor:void 0,O=k?c(k):"";if(O)switch(O){case b:return y;case x:return u;case C:return f;case S:return p;case E:return g}return T}),hy=R,hy}var py,C2;function AN(){if(C2)return py;C2=1;var e=mx(),t=iO(),r=yN(),o=vN(),i=Nh(),l=qa(),c=ix(),u=Zk(),h=1,f="[object Arguments]",p="[object Array]",g="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function x(C,S,E,R,_,T){var k=l(C),O=l(S),M=k?p:i(C),j=O?p:i(S);M=M==f?g:M,j=j==f?g:j;var H=M==g,U=j==g,Y=M==j;if(Y&&c(C)){if(!c(S))return!1;k=!0,H=!1}if(Y&&!H)return T||(T=new e),k||u(C)?t(C,S,E,R,_,T):r(C,S,M,E,R,_,T);if(!(E&h)){var Q=H&&b.call(C,"__wrapped__"),W=U&&b.call(S,"__wrapped__");if(Q||W){var ae=Q?C.value():C,Z=W?S.value():S;return T||(T=new e),_(ae,Z,E,R,T)}}return Y?(T||(T=new e),o(C,S,E,R,_,T)):!1}return py=x,py}var gy,S2;function fO(){if(S2)return gy;S2=1;var e=AN(),t=Xo();function r(o,i,l,c,u){return o===i?!0:o==null||i==null||!t(o)&&!t(i)?o!==o&&i!==i:e(o,i,l,c,r,u)}return gy=r,gy}var my,A2;function EN(){if(A2)return my;A2=1;var e=mx(),t=fO(),r=1,o=2;function i(l,c,u,h){var f=u.length,p=f,g=!h;if(l==null)return!p;for(l=Object(l);f--;){var y=u[f];if(g&&y[2]?y[1]!==l[y[0]]:!(y[0]in l))return!1}for(;++f<p;){y=u[f];var b=y[0],x=l[b],C=y[1];if(g&&y[2]){if(x===void 0&&!(b in l))return!1}else{var S=new e;if(h)var E=h(x,C,b,l,c,S);if(!(E===void 0?t(C,x,r|o,h,S):E))return!1}}return!0}return my=i,my}var yy,E2;function hO(){if(E2)return yy;E2=1;var e=sc();function t(r){return r===r&&!e(r)}return yy=t,yy}var by,M2;function MN(){if(M2)return by;M2=1;var e=hO(),t=Fu();function r(o){for(var i=t(o),l=i.length;l--;){var c=i[l],u=o[c];i[l]=[c,u,e(u)]}return i}return by=r,by}var vy,_2;function pO(){if(_2)return vy;_2=1;function e(t,r){return function(o){return o==null?!1:o[t]===r&&(r!==void 0||t in Object(o))}}return vy=e,vy}var xy,R2;function _N(){if(R2)return xy;R2=1;var e=EN(),t=MN(),r=pO();function o(i){var l=t(i);return l.length==1&&l[0][2]?r(l[0][0],l[0][1]):function(c){return c===i||e(c,i,l)}}return xy=o,xy}var wy,T2;function bx(){if(T2)return wy;T2=1;var e=As(),t=Xo(),r="[object Symbol]";function o(i){return typeof i=="symbol"||t(i)&&e(i)==r}return wy=o,wy}var Cy,k2;function vx(){if(k2)return Cy;k2=1;var e=qa(),t=bx(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function i(l,c){if(e(l))return!1;var u=typeof l;return u=="number"||u=="symbol"||u=="boolean"||l==null||t(l)?!0:o.test(l)||!r.test(l)||c!=null&&l in Object(c)}return Cy=i,Cy}var Sy,O2;function RN(){if(O2)return Sy;O2=1;var e=gx(),t="Expected a function";function r(o,i){if(typeof o!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var l=function(){var c=arguments,u=i?i.apply(this,c):c[0],h=l.cache;if(h.has(u))return h.get(u);var f=o.apply(this,c);return l.cache=h.set(u,f)||h,f};return l.cache=new(r.Cache||e),l}return r.Cache=e,Sy=r,Sy}var Ay,I2;function TN(){if(I2)return Ay;I2=1;var e=RN(),t=500;function r(o){var i=e(o,function(c){return l.size===t&&l.clear(),c}),l=i.cache;return i}return Ay=r,Ay}var Ey,P2;function kN(){if(P2)return Ey;P2=1;var e=TN(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,o=e(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(t,function(c,u,h,f){l.push(h?f.replace(r,"$1"):u||c)}),l});return Ey=o,Ey}var My,j2;function ON(){if(j2)return My;j2=1;var e=$u(),t=aO(),r=qa(),o=bx(),i=e?e.prototype:void 0,l=i?i.toString:void 0;function c(u){if(typeof u=="string")return u;if(r(u))return t(u,c)+"";if(o(u))return l?l.call(u):"";var h=u+"";return h=="0"&&1/u==-1/0?"-0":h}return My=c,My}var _y,D2;function IN(){if(D2)return _y;D2=1;var e=ON();function t(r){return r==null?"":e(r)}return _y=t,_y}var Ry,B2;function gO(){if(B2)return Ry;B2=1;var e=qa(),t=vx(),r=kN(),o=IN();function i(l,c){return e(l)?l:t(l,c)?[l]:r(o(l))}return Ry=i,Ry}var Ty,z2;function Lh(){if(z2)return Ty;z2=1;var e=bx();function t(r){if(typeof r=="string"||e(r))return r;var o=r+"";return o=="0"&&1/r==-1/0?"-0":o}return Ty=t,Ty}var ky,N2;function mO(){if(N2)return ky;N2=1;var e=gO(),t=Lh();function r(o,i){i=e(i,o);for(var l=0,c=i.length;o!=null&&l<c;)o=o[t(i[l++])];return l&&l==c?o:void 0}return ky=r,ky}var Oy,L2;function PN(){if(L2)return Oy;L2=1;var e=mO();function t(r,o,i){var l=r==null?void 0:e(r,o);return l===void 0?i:l}return Oy=t,Oy}var Iy,H2;function jN(){if(H2)return Iy;H2=1;function e(t,r){return t!=null&&r in Object(t)}return Iy=e,Iy}var Py,$2;function DN(){if($2)return Py;$2=1;var e=gO(),t=Kk(),r=qa(),o=Vk(),i=sx(),l=Lh();function c(u,h,f){h=e(h,u);for(var p=-1,g=h.length,y=!1;++p<g;){var b=l(h[p]);if(!(y=u!=null&&f(u,b)))break;u=u[b]}return y||++p!=g?y:(g=u==null?0:u.length,!!g&&i(g)&&o(b,g)&&(r(u)||t(u)))}return Py=c,Py}var jy,F2;function BN(){if(F2)return jy;F2=1;var e=jN(),t=DN();function r(o,i){return o!=null&&t(o,i,e)}return jy=r,jy}var Dy,Y2;function zN(){if(Y2)return Dy;Y2=1;var e=fO(),t=PN(),r=BN(),o=vx(),i=hO(),l=pO(),c=Lh(),u=1,h=2;function f(p,g){return o(p)&&i(g)?l(c(p),g):function(y){var b=t(y,p);return b===void 0&&b===g?r(y,p):e(g,b,u|h)}}return Dy=f,Dy}var By,U2;function NN(){if(U2)return By;U2=1;function e(t){return function(r){return r?.[t]}}return By=e,By}var zy,q2;function LN(){if(q2)return zy;q2=1;var e=mO();function t(r){return function(o){return e(o,r)}}return zy=t,zy}var Ny,X2;function HN(){if(X2)return Ny;X2=1;var e=NN(),t=LN(),r=vx(),o=Lh();function i(l){return r(l)?e(o(l)):t(l)}return Ny=i,Ny}var Ly,G2;function $N(){if(G2)return Ly;G2=1;var e=_N(),t=zN(),r=rO(),o=qa(),i=HN();function l(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?o(c)?t(c[0],c[1]):e(c):i(c)}return Ly=l,Ly}var Hy,W2;function FN(){if(W2)return Hy;W2=1;var e=Ph();function t(r,o){return function(i,l){if(i==null)return i;if(!e(i))return r(i,l);for(var c=i.length,u=o?c:-1,h=Object(i);(o?u--:++u<c)&&l(h[u],u,h)!==!1;);return i}}return Hy=t,Hy}var $y,Q2;function YN(){if(Q2)return $y;Q2=1;var e=nO(),t=FN(),r=t(e);return $y=r,$y}var Fy,K2;function UN(){if(K2)return Fy;K2=1;var e=YN(),t=Ph();function r(o,i){var l=-1,c=t(o)?Array(o.length):[];return e(o,function(u,h,f){c[++l]=i(u,h,f)}),c}return Fy=r,Fy}var Yy,V2;function qN(){if(V2)return Yy;V2=1;var e=aO(),t=$N(),r=UN(),o=qa();function i(l,c){var u=o(l)?e:r;return u(l,t(c,3))}return Yy=i,Yy}var Z2;function XN(){if(Z2)return yl;Z2=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.flattenNames=void 0;var e=_8(),t=h(e),r=dx(),o=h(r),i=z8(),l=h(i),c=qN(),u=h(c);function h(p){return p&&p.__esModule?p:{default:p}}var f=yl.flattenNames=function p(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],y=[];return(0,u.default)(g,function(b){Array.isArray(b)?p(b).map(function(x){return y.push(x)}):(0,l.default)(b)?(0,o.default)(b,function(x,C){x===!0&&y.push(C),y.push(C+"-"+x)}):(0,t.default)(b)&&y.push(b)}),y};return yl.default=f,yl}var bl={},Uy,J2;function GN(){if(J2)return Uy;J2=1;function e(t,r){for(var o=-1,i=t==null?0:t.length;++o<i&&r(t[o],o,t)!==!1;);return t}return Uy=e,Uy}var qy,eM;function WN(){if(eM)return qy;eM=1;var e=Es(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return qy=t,qy}var Xy,tM;function yO(){if(tM)return Xy;tM=1;var e=WN();function t(r,o,i){o=="__proto__"&&e?e(r,o,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[o]=i}return Xy=t,Xy}var Gy,nM;function bO(){if(nM)return Gy;nM=1;var e=yO(),t=hx(),r=Object.prototype,o=r.hasOwnProperty;function i(l,c,u){var h=l[c];(!(o.call(l,c)&&t(h,u))||u===void 0&&!(c in l))&&e(l,c,u)}return Gy=i,Gy}var Wy,rM;function Hh(){if(rM)return Wy;rM=1;var e=bO(),t=yO();function r(o,i,l,c){var u=!l;l||(l={});for(var h=-1,f=i.length;++h<f;){var p=i[h],g=c?c(l[p],o[p],p,l,o):void 0;g===void 0&&(g=o[p]),u?t(l,p,g):e(l,p,g)}return l}return Wy=r,Wy}var Qy,aM;function QN(){if(aM)return Qy;aM=1;var e=Hh(),t=Fu();function r(o,i){return o&&e(i,t(i),o)}return Qy=r,Qy}var Ky,oM;function KN(){if(oM)return Ky;oM=1;function e(t){var r=[];if(t!=null)for(var o in Object(t))r.push(o);return r}return Ky=e,Ky}var Vy,iM;function VN(){if(iM)return Vy;iM=1;var e=sc(),t=ux(),r=KN(),o=Object.prototype,i=o.hasOwnProperty;function l(c){if(!e(c))return r(c);var u=t(c),h=[];for(var f in c)f=="constructor"&&(u||!i.call(c,f))||h.push(f);return h}return Vy=l,Vy}var Zy,sM;function xx(){if(sM)return Zy;sM=1;var e=Jk(),t=VN(),r=Ph();function o(i){return r(i)?e(i,!0):t(i)}return Zy=o,Zy}var Jy,lM;function ZN(){if(lM)return Jy;lM=1;var e=Hh(),t=xx();function r(o,i){return o&&e(i,t(i),o)}return Jy=r,Jy}var uu={exports:{}};uu.exports;var cM;function JN(){return cM||(cM=1,(function(e,t){var r=po(),o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===o,c=l?r.Buffer:void 0,u=c?c.allocUnsafe:void 0;function h(f,p){if(p)return f.slice();var g=f.length,y=u?u(g):new f.constructor(g);return f.copy(y),y}e.exports=h})(uu,uu.exports)),uu.exports}var eb,uM;function eL(){if(uM)return eb;uM=1;function e(t,r){var o=-1,i=t.length;for(r||(r=Array(i));++o<i;)r[o]=t[o];return r}return eb=e,eb}var tb,dM;function tL(){if(dM)return tb;dM=1;var e=Hh(),t=yx();function r(o,i){return e(o,t(o),i)}return tb=r,tb}var nb,fM;function vO(){if(fM)return nb;fM=1;var e=lO(),t=fx(),r=yx(),o=uO(),i=Object.getOwnPropertySymbols,l=i?function(c){for(var u=[];c;)e(u,r(c)),c=t(c);return u}:o;return nb=l,nb}var rb,hM;function nL(){if(hM)return rb;hM=1;var e=Hh(),t=vO();function r(o,i){return e(o,t(o),i)}return rb=r,rb}var ab,pM;function rL(){if(pM)return ab;pM=1;var e=cO(),t=vO(),r=xx();function o(i){return e(i,r,t)}return ab=o,ab}var ob,gM;function aL(){if(gM)return ob;gM=1;var e=Object.prototype,t=e.hasOwnProperty;function r(o){var i=o.length,l=new o.constructor(i);return i&&typeof o[0]=="string"&&t.call(o,"index")&&(l.index=o.index,l.input=o.input),l}return ob=r,ob}var ib,mM;function wx(){if(mM)return ib;mM=1;var e=sO();function t(r){var o=new r.constructor(r.byteLength);return new e(o).set(new e(r)),o}return ib=t,ib}var sb,yM;function oL(){if(yM)return sb;yM=1;var e=wx();function t(r,o){var i=o?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return sb=t,sb}var lb,bM;function iL(){if(bM)return lb;bM=1;var e=/\w*$/;function t(r){var o=new r.constructor(r.source,e.exec(r));return o.lastIndex=r.lastIndex,o}return lb=t,lb}var cb,vM;function sL(){if(vM)return cb;vM=1;var e=$u(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function o(i){return r?Object(r.call(i)):{}}return cb=o,cb}var ub,xM;function lL(){if(xM)return ub;xM=1;var e=wx();function t(r,o){var i=o?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return ub=t,ub}var db,wM;function cL(){if(wM)return db;wM=1;var e=wx(),t=oL(),r=iL(),o=sL(),i=lL(),l="[object Boolean]",c="[object Date]",u="[object Map]",h="[object Number]",f="[object RegExp]",p="[object Set]",g="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",C="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",R="[object Int16Array]",_="[object Int32Array]",T="[object Uint8Array]",k="[object Uint8ClampedArray]",O="[object Uint16Array]",M="[object Uint32Array]";function j(H,U,Y){var Q=H.constructor;switch(U){case b:return e(H);case l:case c:return new Q(+H);case x:return t(H,Y);case C:case S:case E:case R:case _:case T:case k:case O:case M:return i(H,Y);case u:return new Q;case h:case g:return new Q(H);case f:return r(H);case p:return new Q;case y:return o(H)}}return db=j,db}var fb,CM;function uL(){if(CM)return fb;CM=1;var e=sc(),t=Object.create,r=(function(){function o(){}return function(i){if(!e(i))return{};if(t)return t(i);o.prototype=i;var l=new o;return o.prototype=void 0,l}})();return fb=r,fb}var hb,SM;function dL(){if(SM)return hb;SM=1;var e=uL(),t=fx(),r=ux();function o(i){return typeof i.constructor=="function"&&!r(i)?e(t(i)):{}}return hb=o,hb}var pb,AM;function fL(){if(AM)return pb;AM=1;var e=Nh(),t=Xo(),r="[object Map]";function o(i){return t(i)&&e(i)==r}return pb=o,pb}var gb,EM;function hL(){if(EM)return gb;EM=1;var e=fL(),t=lx(),r=cx(),o=r&&r.isMap,i=o?t(o):e;return gb=i,gb}var mb,MM;function pL(){if(MM)return mb;MM=1;var e=Nh(),t=Xo(),r="[object Set]";function o(i){return t(i)&&e(i)==r}return mb=o,mb}var yb,_M;function gL(){if(_M)return yb;_M=1;var e=pL(),t=lx(),r=cx(),o=r&&r.isSet,i=o?t(o):e;return yb=i,yb}var bb,RM;function mL(){if(RM)return bb;RM=1;var e=mx(),t=GN(),r=bO(),o=QN(),i=ZN(),l=JN(),c=eL(),u=tL(),h=nL(),f=dO(),p=rL(),g=Nh(),y=aL(),b=cL(),x=dL(),C=qa(),S=ix(),E=hL(),R=sc(),_=gL(),T=Fu(),k=xx(),O=1,M=2,j=4,H="[object Arguments]",U="[object Array]",Y="[object Boolean]",Q="[object Date]",W="[object Error]",ae="[object Function]",Z="[object GeneratorFunction]",P="[object Map]",L="[object Number]",N="[object Object]",q="[object RegExp]",$="[object Set]",D="[object String]",F="[object Symbol]",X="[object WeakMap]",re="[object ArrayBuffer]",V="[object DataView]",ee="[object Float32Array]",te="[object Float64Array]",J="[object Int8Array]",ie="[object Int16Array]",be="[object Int32Array]",ge="[object Uint8Array]",Ee="[object Uint8ClampedArray]",Te="[object Uint16Array]",Se="[object Uint32Array]",ce={};ce[H]=ce[U]=ce[re]=ce[V]=ce[Y]=ce[Q]=ce[ee]=ce[te]=ce[J]=ce[ie]=ce[be]=ce[P]=ce[L]=ce[N]=ce[q]=ce[$]=ce[D]=ce[F]=ce[ge]=ce[Ee]=ce[Te]=ce[Se]=!0,ce[W]=ce[ae]=ce[X]=!1;function Oe(Ce,Le,He,dt,Qe,tt){var $e,Fe=Le&O,ze=Le&M,rt=Le&j;if(He&&($e=Qe?He(Ce,dt,Qe,tt):He(Ce)),$e!==void 0)return $e;if(!R(Ce))return Ce;var Ke=C(Ce);if(Ke){if($e=y(Ce),!Fe)return c(Ce,$e)}else{var ft=g(Ce),$t=ft==ae||ft==Z;if(S(Ce))return l(Ce,Fe);if(ft==N||ft==H||$t&&!Qe){if($e=ze||$t?{}:x(Ce),!Fe)return ze?h(Ce,i($e,Ce)):u(Ce,o($e,Ce))}else{if(!ce[ft])return Qe?Ce:{};$e=b(Ce,ft,Fe)}}tt||(tt=new e);var Re=tt.get(Ce);if(Re)return Re;tt.set(Ce,$e),_(Ce)?Ce.forEach(function(_e){$e.add(Oe(_e,Le,He,_e,Ce,tt))}):E(Ce)&&Ce.forEach(function(_e,Ne){$e.set(Ne,Oe(_e,Le,He,Ne,Ce,tt))});var Ie=rt?ze?p:f:ze?k:T,Pe=Ke?void 0:Ie(Ce);return t(Pe||Ce,function(_e,Ne){Pe&&(Ne=_e,_e=Ce[Ne]),r($e,Ne,Oe(_e,Le,He,Ne,Ce,tt))}),$e}return bb=Oe,bb}var vb,TM;function yL(){if(TM)return vb;TM=1;var e=mL(),t=1,r=4;function o(i){return e(i,t|r)}return vb=o,vb}var kM;function bL(){if(kM)return bl;kM=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.mergeClasses=void 0;var e=dx(),t=l(e),r=yL(),o=l(r),i=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(u[p]=f[p])}return u};function l(u){return u&&u.__esModule?u:{default:u}}var c=bl.mergeClasses=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],p=h.default&&(0,o.default)(h.default)||{};return f.map(function(g){var y=h[g];return y&&(0,t.default)(y,function(b,x){p[x]||(p[x]={}),p[x]=i({},p[x],y[x])}),g}),p};return bl.default=c,bl}var vl={},OM;function vL(){if(OM)return vl;OM=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.autoprefix=void 0;var e=dx(),t=o(e),r=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])}return c};function o(c){return c&&c.__esModule?c:{default:c}}var i={borderRadius:function(u){return{msBorderRadius:u,MozBorderRadius:u,OBorderRadius:u,WebkitBorderRadius:u,borderRadius:u}},boxShadow:function(u){return{msBoxShadow:u,MozBoxShadow:u,OBoxShadow:u,WebkitBoxShadow:u,boxShadow:u}},userSelect:function(u){return{WebkitTouchCallout:u,KhtmlUserSelect:u,MozUserSelect:u,msUserSelect:u,WebkitUserSelect:u,userSelect:u}},flex:function(u){return{WebkitBoxFlex:u,MozBoxFlex:u,WebkitFlex:u,msFlex:u,flex:u}},flexBasis:function(u){return{WebkitFlexBasis:u,flexBasis:u}},justifyContent:function(u){return{WebkitJustifyContent:u,justifyContent:u}},transition:function(u){return{msTransition:u,MozTransition:u,OTransition:u,WebkitTransition:u,transition:u}},transform:function(u){return{msTransform:u,MozTransform:u,OTransform:u,WebkitTransform:u,transform:u}},absolute:function(u){var h=u&&u.split(" ");return{position:"absolute",top:h&&h[0],right:h&&h[1],bottom:h&&h[2],left:h&&h[3]}},extend:function(u,h){var f=h[u];return f||{extend:u}}},l=vl.autoprefix=function(u){var h={};return(0,t.default)(u,function(f,p){var g={};(0,t.default)(f,function(y,b){var x=i[b];x?g=r({},g,x(y)):g[b]=y}),h[p]=g}),h};return vl.default=l,vl}var xl={},IM;function xL(){if(IM)return xl;IM=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.hover=void 0;var e=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var p=arguments[f];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(h[g]=p[g])}return h},t=xs(),r=o(t);function o(h){return h&&h.__esModule?h:{default:h}}function i(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function l(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function c(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var u=xl.hover=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(g){c(y,g);function y(){var b,x,C,S;i(this,y);for(var E=arguments.length,R=Array(E),_=0;_<E;_++)R[_]=arguments[_];return S=(x=(C=l(this,(b=y.__proto__||Object.getPrototypeOf(y)).call.apply(b,[this].concat(R))),C),C.state={hover:!1},C.handleMouseOver=function(){return C.setState({hover:!0})},C.handleMouseOut=function(){return C.setState({hover:!1})},C.render=function(){return r.default.createElement(p,{onMouseOver:C.handleMouseOver,onMouseOut:C.handleMouseOut},r.default.createElement(f,e({},C.props,C.state)))},x),l(C,S)}return y})(r.default.Component)};return xl.default=u,xl}var wl={},PM;function wL(){if(PM)return wl;PM=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.active=void 0;var e=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var p=arguments[f];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(h[g]=p[g])}return h},t=xs(),r=o(t);function o(h){return h&&h.__esModule?h:{default:h}}function i(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function l(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function c(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var u=wl.active=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(g){c(y,g);function y(){var b,x,C,S;i(this,y);for(var E=arguments.length,R=Array(E),_=0;_<E;_++)R[_]=arguments[_];return S=(x=(C=l(this,(b=y.__proto__||Object.getPrototypeOf(y)).call.apply(b,[this].concat(R))),C),C.state={active:!1},C.handleMouseDown=function(){return C.setState({active:!0})},C.handleMouseUp=function(){return C.setState({active:!1})},C.render=function(){return r.default.createElement(p,{onMouseDown:C.handleMouseDown,onMouseUp:C.handleMouseUp},r.default.createElement(f,e({},C.props,C.state)))},x),l(C,S)}return y})(r.default.Component)};return wl.default=u,wl}var Cf={},jM;function CL(){if(jM)return Cf;jM=1,Object.defineProperty(Cf,"__esModule",{value:!0});var e=function(r,o){var i={},l=function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i[u]=h};return r===0&&l("first-child"),r===o-1&&l("last-child"),(r===0||r%2===0)&&l("even"),Math.abs(r%2)===1&&l("odd"),l("nth-child",r),i};return Cf.default=e,Cf}var DM;function SL(){if(DM)return Or;DM=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.ReactCSS=Or.loop=Or.handleActive=Or.handleHover=Or.hover=void 0;var e=XN(),t=y(e),r=bL(),o=y(r),i=vL(),l=y(i),c=xL(),u=y(c),h=wL(),f=y(h),p=CL(),g=y(p);function y(x){return x&&x.__esModule?x:{default:x}}Or.hover=u.default,Or.handleHover=u.default,Or.handleActive=f.default,Or.loop=g.default;var b=Or.ReactCSS=function(C){for(var S=arguments.length,E=Array(S>1?S-1:0),R=1;R<S;R++)E[R-1]=arguments[R];var _=(0,t.default)(E),T=(0,o.default)(C,_);return(0,l.default)(T)};return Or.default=b,Or}var Cx=SL();const ut=$i(Cx);var AL=function(t,r,o,i,l){var c=l.clientWidth,u=l.clientHeight,h=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,f=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,p=h-(l.getBoundingClientRect().left+window.pageXOffset),g=f-(l.getBoundingClientRect().top+window.pageYOffset);if(o==="vertical"){var y=void 0;if(g<0?y=0:g>u?y=1:y=Math.round(g*100/u)/100,r.a!==y)return{h:r.h,s:r.s,l:r.l,a:y,source:"rgb"}}else{var b=void 0;if(p<0?b=0:p>c?b=1:b=Math.round(p*100/c)/100,i!==b)return{h:r.h,s:r.s,l:r.l,a:b,source:"rgb"}}return null},xb={},EL=function(t,r,o,i){if(typeof document>"u"&&!i)return null;var l=i?new i:document.createElement("canvas");l.width=o*2,l.height=o*2;var c=l.getContext("2d");return c?(c.fillStyle=t,c.fillRect(0,0,l.width,l.height),c.fillStyle=r,c.fillRect(0,0,o,o),c.translate(o,o),c.fillRect(0,0,o,o),l.toDataURL()):null},ML=function(t,r,o,i){var l=t+"-"+r+"-"+o+(i?"-server":"");if(xb[l])return xb[l];var c=EL(t,r,o,i);return xb[l]=c,c},BM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},lc=function(t){var r=t.white,o=t.grey,i=t.size,l=t.renderers,c=t.borderRadius,u=t.boxShadow,h=t.children,f=ut({default:{grid:{borderRadius:c,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+ML(r,o,i,l.canvas)+") center left"}}});return v.isValidElement(h)?z.cloneElement(h,BM({},h.props,{style:BM({},h.props.style,f.grid)})):z.createElement("div",{style:f.grid})};lc.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var _L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},RL=(function(){function e(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}})();function TL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function kL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Sx=(function(e){kL(t,e);function t(){var r,o,i,l;TL(this,t);for(var c=arguments.length,u=Array(c),h=0;h<c;h++)u[h]=arguments[h];return l=(o=(i=zM(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(u))),i),i.handleChange=function(f){var p=AL(f,i.props.hsl,i.props.direction,i.props.a,i.container);p&&typeof i.props.onChange=="function"&&i.props.onChange(p,f)},i.handleMouseDown=function(f){i.handleChange(f),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},o),zM(i,l)}return RL(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var o=this,i=this.props.rgb,l=ut({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:_L({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return z.createElement("div",{style:l.alpha},z.createElement("div",{style:l.checkboard},z.createElement(lc,{renderers:this.props.renderers})),z.createElement("div",{style:l.gradient}),z.createElement("div",{style:l.container,ref:function(u){return o.container=u},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},z.createElement("div",{style:l.pointer},this.props.pointer?z.createElement(this.props.pointer,this.props):z.createElement("div",{style:l.slider}))))}}]),t})(v.PureComponent||v.Component),OL=(function(){function e(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}})();function IL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jL(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function DL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var BL=1,xO=38,zL=40,NL=[xO,zL],LL=function(t){return NL.indexOf(t)>-1},HL=function(t){return Number(String(t).replace(/%/g,""))},$L=1,jt=(function(e){DL(t,e);function t(r){PL(this,t);var o=jL(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.handleBlur=function(){o.state.blurValue&&o.setState({value:o.state.blurValue,blurValue:null})},o.handleChange=function(i){o.setUpdatedValue(i.target.value,i)},o.handleKeyDown=function(i){var l=HL(i.target.value);if(!isNaN(l)&&LL(i.keyCode)){var c=o.getArrowOffset(),u=i.keyCode===xO?l+c:l-c;o.setUpdatedValue(u,i)}},o.handleDrag=function(i){if(o.props.dragLabel){var l=Math.round(o.props.value+i.movementX);l>=0&&l<=o.props.dragMax&&o.props.onChange&&o.props.onChange(o.getValueObjectWithLabel(l),i)}},o.handleMouseDown=function(i){o.props.dragLabel&&(i.preventDefault(),o.handleDrag(i),window.addEventListener("mousemove",o.handleDrag),window.addEventListener("mouseup",o.handleMouseUp))},o.handleMouseUp=function(){o.unbindEventListeners()},o.unbindEventListeners=function(){window.removeEventListener("mousemove",o.handleDrag),window.removeEventListener("mouseup",o.handleMouseUp)},o.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},o.inputId="rc-editable-input-"+$L++,o}return OL(t,[{key:"componentDidUpdate",value:function(o,i){this.props.value!==this.state.value&&(o.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(o){return IL({},this.props.label,o)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||BL}},{key:"setUpdatedValue",value:function(o,i){var l=this.props.label?this.getValueObjectWithLabel(o):o;this.props.onChange&&this.props.onChange(l,i),this.setState({value:o})}},{key:"render",value:function(){var o=this,i=ut({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return z.createElement("div",{style:i.wrap},z.createElement("input",{id:this.inputId,style:i.input,ref:function(c){return o.input=c},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?z.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t})(v.PureComponent||v.Component),FL=function(t,r,o,i){var l=i.clientWidth,c=i.clientHeight,u=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,h=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,f=u-(i.getBoundingClientRect().left+window.pageXOffset),p=h-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var g=void 0;if(p<0)g=359;else if(p>c)g=0;else{var y=-(p*100/c)+100;g=360*y/100}if(o.h!==g)return{h:g,s:o.s,l:o.l,a:o.a,source:"hsl"}}else{var b=void 0;if(f<0)b=0;else if(f>l)b=359;else{var x=f*100/l;b=360*x/100}if(o.h!==b)return{h:b,s:o.s,l:o.l,a:o.a,source:"hsl"}}return null},YL=(function(){function e(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}})();function UL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function qL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var cc=(function(e){qL(t,e);function t(){var r,o,i,l;UL(this,t);for(var c=arguments.length,u=Array(c),h=0;h<c;h++)u[h]=arguments[h];return l=(o=(i=NM(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(u))),i),i.handleChange=function(f){var p=FL(f,i.props.direction,i.props.hsl,i.container);p&&typeof i.props.onChange=="function"&&i.props.onChange(p,f)},i.handleMouseDown=function(f){i.handleChange(f),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},o),NM(i,l)}return YL(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var o=this,i=this.props.direction,l=i===void 0?"horizontal":i,c=ut({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:l==="vertical"});return z.createElement("div",{style:c.hue},z.createElement("div",{className:"hue-"+l,style:c.container,ref:function(h){return o.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},z.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),z.createElement("div",{style:c.pointer},this.props.pointer?z.createElement(this.props.pointer,this.props):z.createElement("div",{style:c.slider}))))}}]),t})(v.PureComponent||v.Component),wb={exports:{}},Cb,LM;function XL(){if(LM)return Cb;LM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cb=e,Cb}var Sb,HM;function GL(){if(HM)return Sb;HM=1;var e=XL();function t(){}function r(){}return r.resetWarningCache=t,Sb=function(){function o(c,u,h,f,p,g){if(g!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}o.isRequired=o;function i(){return o}var l={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:i,element:o,elementType:o,instanceOf:i,node:o,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return l.PropTypes=l,l},Sb}var $M;function WL(){return $M||($M=1,wb.exports=GL()()),wb.exports}var QL=WL();const je=$i(QL);function KL(){this.__data__=[],this.size=0}function Yu(e,t){return e===t||e!==e&&t!==t}function $h(e,t){for(var r=e.length;r--;)if(Yu(e[r][0],t))return r;return-1}var VL=Array.prototype,ZL=VL.splice;function JL(e){var t=this.__data__,r=$h(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():ZL.call(t,r,1),--this.size,!0}function eH(e){var t=this.__data__,r=$h(t,e);return r<0?void 0:t[r][1]}function tH(e){return $h(this.__data__,e)>-1}function nH(e,t){var r=this.__data__,o=$h(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}function Go(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Go.prototype.clear=KL;Go.prototype.delete=JL;Go.prototype.get=eH;Go.prototype.has=tH;Go.prototype.set=nH;function rH(){this.__data__=new Go,this.size=0}function aH(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function oH(e){return this.__data__.get(e)}function iH(e){return this.__data__.has(e)}var wO=typeof global=="object"&&global&&global.Object===Object&&global,sH=typeof self=="object"&&self&&self.Object===Object&&self,Xa=wO||sH||Function("return this")(),Li=Xa.Symbol,CO=Object.prototype,lH=CO.hasOwnProperty,cH=CO.toString,Vc=Li?Li.toStringTag:void 0;function uH(e){var t=lH.call(e,Vc),r=e[Vc];try{e[Vc]=void 0;var o=!0}catch{}var i=cH.call(e);return o&&(t?e[Vc]=r:delete e[Vc]),i}var dH=Object.prototype,fH=dH.toString;function hH(e){return fH.call(e)}var pH="[object Null]",gH="[object Undefined]",FM=Li?Li.toStringTag:void 0;function Ms(e){return e==null?e===void 0?gH:pH:FM&&FM in Object(e)?uH(e):hH(e)}function Ra(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var mH="[object AsyncFunction]",yH="[object Function]",bH="[object GeneratorFunction]",vH="[object Proxy]";function Ax(e){if(!Ra(e))return!1;var t=Ms(e);return t==yH||t==bH||t==mH||t==vH}var Ab=Xa["__core-js_shared__"],YM=(function(){var e=/[^.]+$/.exec(Ab&&Ab.keys&&Ab.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function xH(e){return!!YM&&YM in e}var wH=Function.prototype,CH=wH.toString;function _s(e){if(e!=null){try{return CH.call(e)}catch{}try{return e+""}catch{}}return""}var SH=/[\\^$.*+?()[\]{}|]/g,AH=/^\[object .+?Constructor\]$/,EH=Function.prototype,MH=Object.prototype,_H=EH.toString,RH=MH.hasOwnProperty,TH=RegExp("^"+_H.call(RH).replace(SH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kH(e){if(!Ra(e)||xH(e))return!1;var t=Ax(e)?TH:AH;return t.test(_s(e))}function OH(e,t){return e?.[t]}function Rs(e,t){var r=OH(e,t);return kH(r)?r:void 0}var Tu=Rs(Xa,"Map"),ku=Rs(Object,"create");function IH(){this.__data__=ku?ku(null):{},this.size=0}function PH(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var jH="__lodash_hash_undefined__",DH=Object.prototype,BH=DH.hasOwnProperty;function zH(e){var t=this.__data__;if(ku){var r=t[e];return r===jH?void 0:r}return BH.call(t,e)?t[e]:void 0}var NH=Object.prototype,LH=NH.hasOwnProperty;function HH(e){var t=this.__data__;return ku?t[e]!==void 0:LH.call(t,e)}var $H="__lodash_hash_undefined__";function FH(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ku&&t===void 0?$H:t,this}function vs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}vs.prototype.clear=IH;vs.prototype.delete=PH;vs.prototype.get=zH;vs.prototype.has=HH;vs.prototype.set=FH;function YH(){this.size=0,this.__data__={hash:new vs,map:new(Tu||Go),string:new vs}}function UH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Fh(e,t){var r=e.__data__;return UH(t)?r[typeof t=="string"?"string":"hash"]:r.map}function qH(e){var t=Fh(this,e).delete(e);return this.size-=t?1:0,t}function XH(e){return Fh(this,e).get(e)}function GH(e){return Fh(this,e).has(e)}function WH(e,t){var r=Fh(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}function Wo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Wo.prototype.clear=YH;Wo.prototype.delete=qH;Wo.prototype.get=XH;Wo.prototype.has=GH;Wo.prototype.set=WH;var QH=200;function KH(e,t){var r=this.__data__;if(r instanceof Go){var o=r.__data__;if(!Tu||o.length<QH-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Wo(o)}return r.set(e,t),this.size=r.size,this}function so(e){var t=this.__data__=new Go(e);this.size=t.size}so.prototype.clear=rH;so.prototype.delete=aH;so.prototype.get=oH;so.prototype.has=iH;so.prototype.set=KH;var nh=(function(){try{var e=Rs(Object,"defineProperty");return e({},"",{}),e}catch{}})();function Ex(e,t,r){t=="__proto__"&&nh?nh(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function dv(e,t,r){(r!==void 0&&!Yu(e[t],r)||r===void 0&&!(t in e))&&Ex(e,t,r)}function VH(e){return function(t,r,o){for(var i=-1,l=Object(t),c=o(t),u=c.length;u--;){var h=c[++i];if(r(l[h],h,l)===!1)break}return t}}var SO=VH(),AO=typeof ea=="object"&&ea&&!ea.nodeType&&ea,UM=AO&&typeof ta=="object"&&ta&&!ta.nodeType&&ta,ZH=UM&&UM.exports===AO,qM=ZH?Xa.Buffer:void 0;qM&&qM.allocUnsafe;function JH(e,t){return e.slice()}var rh=Xa.Uint8Array;function e$(e){var t=new e.constructor(e.byteLength);return new rh(t).set(new rh(e)),t}function t$(e,t){var r=e$(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}function n$(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t}var XM=Object.create,r$=(function(){function e(){}return function(t){if(!Ra(t))return{};if(XM)return XM(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})();function EO(e,t){return function(r){return e(t(r))}}var MO=EO(Object.getPrototypeOf,Object),a$=Object.prototype;function Mx(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||a$;return e===r}function o$(e){return typeof e.constructor=="function"&&!Mx(e)?r$(MO(e)):{}}function Hi(e){return e!=null&&typeof e=="object"}var i$="[object Arguments]";function GM(e){return Hi(e)&&Ms(e)==i$}var _O=Object.prototype,s$=_O.hasOwnProperty,l$=_O.propertyIsEnumerable,ah=GM((function(){return arguments})())?GM:function(e){return Hi(e)&&s$.call(e,"callee")&&!l$.call(e,"callee")},oa=Array.isArray,c$=9007199254740991;function _x(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=c$}function uc(e){return e!=null&&_x(e.length)&&!Ax(e)}function u$(e){return Hi(e)&&uc(e)}function d$(){return!1}var RO=typeof ea=="object"&&ea&&!ea.nodeType&&ea,WM=RO&&typeof ta=="object"&&ta&&!ta.nodeType&&ta,f$=WM&&WM.exports===RO,QM=f$?Xa.Buffer:void 0,h$=QM?QM.isBuffer:void 0,oh=h$||d$,p$="[object Object]",g$=Function.prototype,m$=Object.prototype,TO=g$.toString,y$=m$.hasOwnProperty,b$=TO.call(Object);function v$(e){if(!Hi(e)||Ms(e)!=p$)return!1;var t=MO(e);if(t===null)return!0;var r=y$.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&TO.call(r)==b$}var x$="[object Arguments]",w$="[object Array]",C$="[object Boolean]",S$="[object Date]",A$="[object Error]",E$="[object Function]",M$="[object Map]",_$="[object Number]",R$="[object Object]",T$="[object RegExp]",k$="[object Set]",O$="[object String]",I$="[object WeakMap]",P$="[object ArrayBuffer]",j$="[object DataView]",D$="[object Float32Array]",B$="[object Float64Array]",z$="[object Int8Array]",N$="[object Int16Array]",L$="[object Int32Array]",H$="[object Uint8Array]",$$="[object Uint8ClampedArray]",F$="[object Uint16Array]",Y$="[object Uint32Array]",hn={};hn[D$]=hn[B$]=hn[z$]=hn[N$]=hn[L$]=hn[H$]=hn[$$]=hn[F$]=hn[Y$]=!0;hn[x$]=hn[w$]=hn[P$]=hn[C$]=hn[j$]=hn[S$]=hn[A$]=hn[E$]=hn[M$]=hn[_$]=hn[R$]=hn[T$]=hn[k$]=hn[O$]=hn[I$]=!1;function U$(e){return Hi(e)&&_x(e.length)&&!!hn[Ms(e)]}function q$(e){return function(t){return e(t)}}var kO=typeof ea=="object"&&ea&&!ea.nodeType&&ea,bu=kO&&typeof ta=="object"&&ta&&!ta.nodeType&&ta,X$=bu&&bu.exports===kO,Eb=X$&&wO.process,KM=(function(){try{var e=bu&&bu.require&&bu.require("util").types;return e||Eb&&Eb.binding&&Eb.binding("util")}catch{}})(),VM=KM&&KM.isTypedArray,Rx=VM?q$(VM):U$;function fv(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var G$=Object.prototype,W$=G$.hasOwnProperty;function Q$(e,t,r){var o=e[t];(!(W$.call(e,t)&&Yu(o,r))||r===void 0&&!(t in e))&&Ex(e,t,r)}function K$(e,t,r,o){var i=!r;r||(r={});for(var l=-1,c=t.length;++l<c;){var u=t[l],h=void 0;h===void 0&&(h=e[u]),i?Ex(r,u,h):Q$(r,u,h)}return r}function V$(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}var Z$=9007199254740991,J$=/^(?:0|[1-9]\d*)$/;function Tx(e,t){var r=typeof e;return t=t??Z$,!!t&&(r=="number"||r!="symbol"&&J$.test(e))&&e>-1&&e%1==0&&e<t}var e7=Object.prototype,t7=e7.hasOwnProperty;function OO(e,t){var r=oa(e),o=!r&&ah(e),i=!r&&!o&&oh(e),l=!r&&!o&&!i&&Rx(e),c=r||o||i||l,u=c?V$(e.length,String):[],h=u.length;for(var f in e)(t||t7.call(e,f))&&!(c&&(f=="length"||i&&(f=="offset"||f=="parent")||l&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Tx(f,h)))&&u.push(f);return u}function n7(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var r7=Object.prototype,a7=r7.hasOwnProperty;function o7(e){if(!Ra(e))return n7(e);var t=Mx(e),r=[];for(var o in e)o=="constructor"&&(t||!a7.call(e,o))||r.push(o);return r}function IO(e){return uc(e)?OO(e,!0):o7(e)}function i7(e){return K$(e,IO(e))}function s7(e,t,r,o,i,l,c){var u=fv(e,r),h=fv(t,r),f=c.get(h);if(f){dv(e,r,f);return}var p=l?l(u,h,r+"",e,t,c):void 0,g=p===void 0;if(g){var y=oa(h),b=!y&&oh(h),x=!y&&!b&&Rx(h);p=h,y||b||x?oa(u)?p=u:u$(u)?p=n$(u):b?(g=!1,p=JH(h)):x?(g=!1,p=t$(h)):p=[]:v$(h)||ah(h)?(p=u,ah(u)?p=i7(u):(!Ra(u)||Ax(u))&&(p=o$(h))):g=!1}g&&(c.set(h,p),i(p,h,o,l,c),c.delete(h)),dv(e,r,p)}function PO(e,t,r,o,i){e!==t&&SO(t,function(l,c){if(i||(i=new so),Ra(l))s7(e,t,c,r,PO,o,i);else{var u=o?o(fv(e,c),l,c+"",e,t,i):void 0;u===void 0&&(u=l),dv(e,c,u)}},IO)}function Yh(e){return e}function l7(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var ZM=Math.max;function c7(e,t,r){return t=ZM(t===void 0?e.length-1:t,0),function(){for(var o=arguments,i=-1,l=ZM(o.length-t,0),c=Array(l);++i<l;)c[i]=o[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=o[i];return u[t]=r(c),l7(e,this,u)}}function u7(e){return function(){return e}}var d7=nh?function(e,t){return nh(e,"toString",{configurable:!0,enumerable:!1,value:u7(t),writable:!0})}:Yh,f7=800,h7=16,p7=Date.now;function g7(e){var t=0,r=0;return function(){var o=p7(),i=h7-(o-r);if(r=o,i>0){if(++t>=f7)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var m7=g7(d7);function y7(e,t){return m7(c7(e,t,Yh),e+"")}function b7(e,t,r){if(!Ra(r))return!1;var o=typeof t;return(o=="number"?uc(r)&&Tx(t,r.length):o=="string"&&t in r)?Yu(r[t],e):!1}function v7(e){return y7(function(t,r){var o=-1,i=r.length,l=i>1?r[i-1]:void 0,c=i>2?r[2]:void 0;for(l=e.length>3&&typeof l=="function"?(i--,l):void 0,c&&b7(r[0],r[1],c)&&(l=i<3?void 0:l,i=1),t=Object(t);++o<i;){var u=r[o];u&&e(t,u,o,l)}return t})}var Dr=v7(function(e,t,r){PO(e,t,r)}),Uu=function(t){var r=t.zDepth,o=t.radius,i=t.background,l=t.children,c=t.styles,u=c===void 0?{}:c,h=ut(Dr({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:o,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},u),{"zDepth-1":r===1});return z.createElement("div",{style:h.wrap},z.createElement("div",{style:h.bg}),z.createElement("div",{style:h.content},l))};Uu.propTypes={background:je.string,zDepth:je.oneOf([0,1,2,3,4,5]),radius:je.number,styles:je.object};Uu.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Mb=function(){return Xa.Date.now()},x7=/\s/;function w7(e){for(var t=e.length;t--&&x7.test(e.charAt(t)););return t}var C7=/^\s+/;function S7(e){return e&&e.slice(0,w7(e)+1).replace(C7,"")}var A7="[object Symbol]";function Uh(e){return typeof e=="symbol"||Hi(e)&&Ms(e)==A7}var JM=NaN,E7=/^[-+]0x[0-9a-f]+$/i,M7=/^0b[01]+$/i,_7=/^0o[0-7]+$/i,R7=parseInt;function e_(e){if(typeof e=="number")return e;if(Uh(e))return JM;if(Ra(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ra(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=S7(e);var r=M7.test(e);return r||_7.test(e)?R7(e.slice(2),r?2:8):E7.test(e)?JM:+e}var T7="Expected a function",k7=Math.max,O7=Math.min;function jO(e,t,r){var o,i,l,c,u,h,f=0,p=!1,g=!1,y=!0;if(typeof e!="function")throw new TypeError(T7);t=e_(t)||0,Ra(r)&&(p=!!r.leading,g="maxWait"in r,l=g?k7(e_(r.maxWait)||0,t):l,y="trailing"in r?!!r.trailing:y);function b(O){var M=o,j=i;return o=i=void 0,f=O,c=e.apply(j,M),c}function x(O){return f=O,u=setTimeout(E,t),p?b(O):c}function C(O){var M=O-h,j=O-f,H=t-M;return g?O7(H,l-j):H}function S(O){var M=O-h,j=O-f;return h===void 0||M>=t||M<0||g&&j>=l}function E(){var O=Mb();if(S(O))return R(O);u=setTimeout(E,C(O))}function R(O){return u=void 0,y&&o?b(O):(o=i=void 0,c)}function _(){u!==void 0&&clearTimeout(u),f=0,o=h=i=u=void 0}function T(){return u===void 0?c:R(Mb())}function k(){var O=Mb(),M=S(O);if(o=arguments,i=this,h=O,M){if(u===void 0)return x(h);if(g)return clearTimeout(u),u=setTimeout(E,t),b(h)}return u===void 0&&(u=setTimeout(E,t)),c}return k.cancel=_,k.flush=T,k}var I7="Expected a function";function P7(e,t,r){var o=!0,i=!0;if(typeof e!="function")throw new TypeError(I7);return Ra(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),jO(e,t,{leading:o,maxWait:t,trailing:i})}var j7=function(t,r,o){var i=o.getBoundingClientRect(),l=i.width,c=i.height,u=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,h=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,f=u-(o.getBoundingClientRect().left+window.pageXOffset),p=h-(o.getBoundingClientRect().top+window.pageYOffset);f<0?f=0:f>l&&(f=l),p<0?p=0:p>c&&(p=c);var g=f/l,y=1-p/c;return{h:r.h,s:g,v:y,a:r.a,source:"hsv"}},D7=(function(){function e(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}})();function B7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z7(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function N7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qh=(function(e){N7(t,e);function t(r){B7(this,t);var o=z7(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return o.handleChange=function(i){typeof o.props.onChange=="function"&&o.throttle(o.props.onChange,j7(i,o.props.hsl,o.container),i)},o.handleMouseDown=function(i){o.handleChange(i);var l=o.getContainerRenderWindow();l.addEventListener("mousemove",o.handleChange),l.addEventListener("mouseup",o.handleMouseUp)},o.handleMouseUp=function(){o.unbindEventListeners()},o.throttle=P7(function(i,l,c){i(l,c)},50),o}return D7(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var o=this.container,i=window;!i.document.contains(o)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var o=this.getContainerRenderWindow();o.removeEventListener("mousemove",this.handleChange),o.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var o=this,i=this.props.style||{},l=i.color,c=i.white,u=i.black,h=i.pointer,f=i.circle,p=ut({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:l,white:c,black:u,pointer:h,circle:f}},{custom:!!this.props.style});return z.createElement("div",{style:p.color,ref:function(y){return o.container=y},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},z.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),z.createElement("div",{style:p.white,className:"saturation-white"},z.createElement("div",{style:p.black,className:"saturation-black"}),z.createElement("div",{style:p.pointer},this.props.pointer?z.createElement(this.props.pointer,this.props):z.createElement("div",{style:p.circle}))))}}]),t})(v.PureComponent||v.Component);function L7(e,t){for(var r=-1,o=e==null?0:e.length;++r<o&&t(e[r],r,e)!==!1;);return e}var H7=EO(Object.keys,Object),$7=Object.prototype,F7=$7.hasOwnProperty;function Y7(e){if(!Mx(e))return H7(e);var t=[];for(var r in Object(e))F7.call(e,r)&&r!="constructor"&&t.push(r);return t}function kx(e){return uc(e)?OO(e):Y7(e)}function U7(e,t){return e&&SO(e,t,kx)}function q7(e,t){return function(r,o){if(r==null)return r;if(!uc(r))return e(r,o);for(var i=r.length,l=-1,c=Object(r);++l<i&&o(c[l],l,c)!==!1;);return r}}var DO=q7(U7);function X7(e){return typeof e=="function"?e:Yh}function G7(e,t){var r=oa(e)?L7:DO;return r(e,X7(t))}function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}var W7=/^\s+/,Q7=/\s+$/;function qe(e,t){if(e=e||"",t=t||{},e instanceof qe)return e;if(!(this instanceof qe))return new qe(e,t);var r=K7(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}qe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),r,o,i,l,c,u;return r=t.r/255,o=t.g/255,i=t.b/255,r<=.03928?l=r/12.92:l=Math.pow((r+.055)/1.055,2.4),o<=.03928?c=o/12.92:c=Math.pow((o+.055)/1.055,2.4),i<=.03928?u=i/12.92:u=Math.pow((i+.055)/1.055,2.4),.2126*l+.7152*c+.0722*u},setAlpha:function(t){return this._a=BO(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=n_(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=n_(this._r,this._g,this._b),r=Math.round(t.h*360),o=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+r+", "+o+"%, "+i+"%)":"hsva("+r+", "+o+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=t_(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=t_(this._r,this._g,this._b),r=Math.round(t.h*360),o=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+r+", "+o+"%, "+i+"%)":"hsla("+r+", "+o+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return r_(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return e9(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(yn(this._r,255)*100)+"%",g:Math.round(yn(this._g,255)*100)+"%",b:Math.round(yn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(yn(this._r,255)*100)+"%, "+Math.round(yn(this._g,255)*100)+"%, "+Math.round(yn(this._b,255)*100)+"%)":"rgba("+Math.round(yn(this._r,255)*100)+"%, "+Math.round(yn(this._g,255)*100)+"%, "+Math.round(yn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:f9[r_(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var r="#"+a_(this._r,this._g,this._b,this._a),o=r,i=this._gradientType?"GradientType = 1, ":"";if(t){var l=qe(t);o="#"+a_(l._r,l._g,l._b,l._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+o+")"},toString:function(t){var r=!!t;t=t||this._format;var o=!1,i=this._a<1&&this._a>=0,l=!r&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return l?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(o=this.toRgbString()),t==="prgb"&&(o=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(o=this.toHexString()),t==="hex3"&&(o=this.toHexString(!0)),t==="hex4"&&(o=this.toHex8String(!0)),t==="hex8"&&(o=this.toHex8String()),t==="name"&&(o=this.toName()),t==="hsl"&&(o=this.toHslString()),t==="hsv"&&(o=this.toHsvString()),o||this.toHexString())},clone:function(){return qe(this.toString())},_applyModification:function(t,r){var o=t.apply(null,[this].concat([].slice.call(r)));return this._r=o._r,this._g=o._g,this._b=o._b,this.setAlpha(o._a),this},lighten:function(){return this._applyModification(a9,arguments)},brighten:function(){return this._applyModification(o9,arguments)},darken:function(){return this._applyModification(i9,arguments)},desaturate:function(){return this._applyModification(t9,arguments)},saturate:function(){return this._applyModification(n9,arguments)},greyscale:function(){return this._applyModification(r9,arguments)},spin:function(){return this._applyModification(s9,arguments)},_applyCombination:function(t,r){return t.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(u9,arguments)},complement:function(){return this._applyCombination(l9,arguments)},monochromatic:function(){return this._applyCombination(d9,arguments)},splitcomplement:function(){return this._applyCombination(c9,arguments)},triad:function(){return this._applyCombination(o_,[3])},tetrad:function(){return this._applyCombination(o_,[4])}};qe.fromRatio=function(e,t){if(ih(e)=="object"){var r={};for(var o in e)e.hasOwnProperty(o)&&(o==="a"?r[o]=e[o]:r[o]=du(e[o]));e=r}return qe(e,t)};function K7(e){var t={r:0,g:0,b:0},r=1,o=null,i=null,l=null,c=!1,u=!1;return typeof e=="string"&&(e=m9(e)),ih(e)=="object"&&(Do(e.r)&&Do(e.g)&&Do(e.b)?(t=V7(e.r,e.g,e.b),c=!0,u=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Do(e.h)&&Do(e.s)&&Do(e.v)?(o=du(e.s),i=du(e.v),t=J7(e.h,o,i),c=!0,u="hsv"):Do(e.h)&&Do(e.s)&&Do(e.l)&&(o=du(e.s),l=du(e.l),t=Z7(e.h,o,l),c=!0,u="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=BO(r),{ok:c,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function V7(e,t,r){return{r:yn(e,255)*255,g:yn(t,255)*255,b:yn(r,255)*255}}function t_(e,t,r){e=yn(e,255),t=yn(t,255),r=yn(r,255);var o=Math.max(e,t,r),i=Math.min(e,t,r),l,c,u=(o+i)/2;if(o==i)l=c=0;else{var h=o-i;switch(c=u>.5?h/(2-o-i):h/(o+i),o){case e:l=(t-r)/h+(t<r?6:0);break;case t:l=(r-e)/h+2;break;case r:l=(e-t)/h+4;break}l/=6}return{h:l,s:c,l:u}}function Z7(e,t,r){var o,i,l;e=yn(e,360),t=yn(t,100),r=yn(r,100);function c(f,p,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?f+(p-f)*6*g:g<1/2?p:g<2/3?f+(p-f)*(2/3-g)*6:f}if(t===0)o=i=l=r;else{var u=r<.5?r*(1+t):r+t-r*t,h=2*r-u;o=c(h,u,e+1/3),i=c(h,u,e),l=c(h,u,e-1/3)}return{r:o*255,g:i*255,b:l*255}}function n_(e,t,r){e=yn(e,255),t=yn(t,255),r=yn(r,255);var o=Math.max(e,t,r),i=Math.min(e,t,r),l,c,u=o,h=o-i;if(c=o===0?0:h/o,o==i)l=0;else{switch(o){case e:l=(t-r)/h+(t<r?6:0);break;case t:l=(r-e)/h+2;break;case r:l=(e-t)/h+4;break}l/=6}return{h:l,s:c,v:u}}function J7(e,t,r){e=yn(e,360)*6,t=yn(t,100),r=yn(r,100);var o=Math.floor(e),i=e-o,l=r*(1-t),c=r*(1-i*t),u=r*(1-(1-i)*t),h=o%6,f=[r,c,l,l,u,r][h],p=[u,r,r,c,l,l][h],g=[l,l,u,r,r,c][h];return{r:f*255,g:p*255,b:g*255}}function r_(e,t,r,o){var i=[Ha(Math.round(e).toString(16)),Ha(Math.round(t).toString(16)),Ha(Math.round(r).toString(16))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function e9(e,t,r,o,i){var l=[Ha(Math.round(e).toString(16)),Ha(Math.round(t).toString(16)),Ha(Math.round(r).toString(16)),Ha(zO(o))];return i&&l[0].charAt(0)==l[0].charAt(1)&&l[1].charAt(0)==l[1].charAt(1)&&l[2].charAt(0)==l[2].charAt(1)&&l[3].charAt(0)==l[3].charAt(1)?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0)+l[3].charAt(0):l.join("")}function a_(e,t,r,o){var i=[Ha(zO(o)),Ha(Math.round(e).toString(16)),Ha(Math.round(t).toString(16)),Ha(Math.round(r).toString(16))];return i.join("")}qe.equals=function(e,t){return!e||!t?!1:qe(e).toRgbString()==qe(t).toRgbString()};qe.random=function(){return qe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function t9(e,t){t=t===0?0:t||10;var r=qe(e).toHsl();return r.s-=t/100,r.s=Xh(r.s),qe(r)}function n9(e,t){t=t===0?0:t||10;var r=qe(e).toHsl();return r.s+=t/100,r.s=Xh(r.s),qe(r)}function r9(e){return qe(e).desaturate(100)}function a9(e,t){t=t===0?0:t||10;var r=qe(e).toHsl();return r.l+=t/100,r.l=Xh(r.l),qe(r)}function o9(e,t){t=t===0?0:t||10;var r=qe(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),qe(r)}function i9(e,t){t=t===0?0:t||10;var r=qe(e).toHsl();return r.l-=t/100,r.l=Xh(r.l),qe(r)}function s9(e,t){var r=qe(e).toHsl(),o=(r.h+t)%360;return r.h=o<0?360+o:o,qe(r)}function l9(e){var t=qe(e).toHsl();return t.h=(t.h+180)%360,qe(t)}function o_(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=qe(e).toHsl(),o=[qe(e)],i=360/t,l=1;l<t;l++)o.push(qe({h:(r.h+l*i)%360,s:r.s,l:r.l}));return o}function c9(e){var t=qe(e).toHsl(),r=t.h;return[qe(e),qe({h:(r+72)%360,s:t.s,l:t.l}),qe({h:(r+216)%360,s:t.s,l:t.l})]}function u9(e,t,r){t=t||6,r=r||30;var o=qe(e).toHsl(),i=360/r,l=[qe(e)];for(o.h=(o.h-(i*t>>1)+720)%360;--t;)o.h=(o.h+i)%360,l.push(qe(o));return l}function d9(e,t){t=t||6;for(var r=qe(e).toHsv(),o=r.h,i=r.s,l=r.v,c=[],u=1/t;t--;)c.push(qe({h:o,s:i,v:l})),l=(l+u)%1;return c}qe.mix=function(e,t,r){r=r===0?0:r||50;var o=qe(e).toRgb(),i=qe(t).toRgb(),l=r/100,c={r:(i.r-o.r)*l+o.r,g:(i.g-o.g)*l+o.g,b:(i.b-o.b)*l+o.b,a:(i.a-o.a)*l+o.a};return qe(c)};qe.readability=function(e,t){var r=qe(e),o=qe(t);return(Math.max(r.getLuminance(),o.getLuminance())+.05)/(Math.min(r.getLuminance(),o.getLuminance())+.05)};qe.isReadable=function(e,t,r){var o=qe.readability(e,t),i,l;switch(l=!1,i=y9(r),i.level+i.size){case"AAsmall":case"AAAlarge":l=o>=4.5;break;case"AAlarge":l=o>=3;break;case"AAAsmall":l=o>=7;break}return l};qe.mostReadable=function(e,t,r){var o=null,i=0,l,c,u,h;r=r||{},c=r.includeFallbackColors,u=r.level,h=r.size;for(var f=0;f<t.length;f++)l=qe.readability(e,t[f]),l>i&&(i=l,o=qe(t[f]));return qe.isReadable(e,o,{level:u,size:h})||!c?o:(r.includeFallbackColors=!1,qe.mostReadable(e,["#fff","#000"],r))};var hv=qe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},f9=qe.hexNames=h9(hv);function h9(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function BO(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function yn(e,t){p9(e)&&(e="100%");var r=g9(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Xh(e){return Math.min(1,Math.max(0,e))}function Kr(e){return parseInt(e,16)}function p9(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function g9(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Ha(e){return e.length==1?"0"+e:""+e}function du(e){return e<=1&&(e=e*100+"%"),e}function zO(e){return Math.round(parseFloat(e)*255).toString(16)}function i_(e){return Kr(e)/255}var La=(function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+o),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+o),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+o),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Do(e){return!!La.CSS_UNIT.exec(e)}function m9(e){e=e.replace(W7,"").replace(Q7,"").toLowerCase();var t=!1;if(hv[e])e=hv[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=La.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=La.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=La.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=La.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=La.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=La.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=La.hex8.exec(e))?{r:Kr(r[1]),g:Kr(r[2]),b:Kr(r[3]),a:i_(r[4]),format:t?"name":"hex8"}:(r=La.hex6.exec(e))?{r:Kr(r[1]),g:Kr(r[2]),b:Kr(r[3]),format:t?"name":"hex"}:(r=La.hex4.exec(e))?{r:Kr(r[1]+""+r[1]),g:Kr(r[2]+""+r[2]),b:Kr(r[3]+""+r[3]),a:i_(r[4]+""+r[4]),format:t?"name":"hex8"}:(r=La.hex3.exec(e))?{r:Kr(r[1]+""+r[1]),g:Kr(r[2]+""+r[2]),b:Kr(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function y9(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:t,size:r}}var s_=function(t){var r=["r","g","b","a","h","s","l","v"],o=0,i=0;return G7(r,function(l){if(t[l]&&(o+=1,isNaN(t[l])||(i+=1),l==="s"||l==="l")){var c=/^\d+%$/;c.test(t[l])&&(i+=1)}}),o===i?t:!1},fu=function(t,r){var o=t.hex?qe(t.hex):qe(t),i=o.toHsl(),l=o.toHsv(),c=o.toRgb(),u=o.toHex();i.s===0&&(i.h=r||0,l.h=r||0);var h=u==="000000"&&c.a===0;return{hsl:i,hex:h?"transparent":"#"+u,rgb:c,hsv:l,oldHue:t.h||r||i.h,source:t.source}},Ui=function(t){if(t==="transparent")return!0;var r=String(t).charAt(0)==="#"?1:0;return t.length!==4+r&&t.length<7+r&&qe(t).isValid()},Ox=function(t){if(!t)return"#fff";var r=fu(t);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var o=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return o>=128?"#000":"#fff"},_b=function(t,r){var o=t.replace("","");return qe(r+" ("+o+")")._ok},Zc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},b9=(function(){function e(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}})();function v9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x9(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function w9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Br=function(t){var r=(function(o){w9(i,o);function i(l){v9(this,i);var c=x9(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return c.handleChange=function(u,h){var f=s_(u);if(f){var p=fu(u,u.h||c.state.oldHue);c.setState(p),c.props.onChangeComplete&&c.debounce(c.props.onChangeComplete,p,h),c.props.onChange&&c.props.onChange(p,h)}},c.handleSwatchHover=function(u,h){var f=s_(u);if(f){var p=fu(u,u.h||c.state.oldHue);c.props.onSwatchHover&&c.props.onSwatchHover(p,h)}},c.state=Zc({},fu(l.color,0)),c.debounce=jO(function(u,h,f){u(h,f)},100),c}return b9(i,[{key:"render",value:function(){var c={};return this.props.onSwatchHover&&(c.onSwatchHover=this.handleSwatchHover),z.createElement(t,Zc({},this.props,this.state,{onChange:this.handleChange},c))}}],[{key:"getDerivedStateFromProps",value:function(c,u){return Zc({},fu(c.color,u.oldHue))}}]),i})(v.PureComponent||v.Component);return r.propTypes=Zc({},t.propTypes),r.defaultProps=Zc({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},C9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},S9=(function(){function e(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}})();function A9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l_(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function E9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M9=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(o){E9(i,o);function i(){var l,c,u,h;A9(this,i);for(var f=arguments.length,p=Array(f),g=0;g<f;g++)p[g]=arguments[g];return h=(c=(u=l_(this,(l=i.__proto__||Object.getPrototypeOf(i)).call.apply(l,[this].concat(p))),u),u.state={focus:!1},u.handleFocus=function(){return u.setState({focus:!0})},u.handleBlur=function(){return u.setState({focus:!1})},c),l_(u,h)}return S9(i,[{key:"render",value:function(){return z.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},z.createElement(t,C9({},this.props,this.state)))}}]),i})(z.Component)},c_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_9=13,R9=function(t){var r=t.color,o=t.style,i=t.onClick,l=i===void 0?function(){}:i,c=t.onHover,u=t.title,h=u===void 0?r:u,f=t.children,p=t.focus,g=t.focusStyle,y=g===void 0?{}:g,b=r==="transparent",x=ut({default:{swatch:c_({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},o,p?y:{})}}),C=function(T){return l(r,T)},S=function(T){return T.keyCode===_9&&l(r,T)},E=function(T){return c(r,T)},R={};return c&&(R.onMouseOver=E),z.createElement("div",c_({style:x.swatch,onClick:C,title:h,tabIndex:0,onKeyDown:S},R),f,b&&z.createElement(lc,{borderRadius:x.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Ts=M9(R9);var T9=function(t){var r=t.direction,o=ut({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return z.createElement("div",{style:o.picker})},k9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},NO=function(t){var r=t.rgb,o=t.hsl,i=t.width,l=t.height,c=t.onChange,u=t.direction,h=t.style,f=t.renderers,p=t.pointer,g=t.className,y=g===void 0?"":g,b=ut({default:{picker:{position:"relative",width:i,height:l},alpha:{radius:"2px",style:h}}});return z.createElement("div",{style:b.picker,className:"alpha-picker "+y},z.createElement(Sx,k9({},b.alpha,{rgb:r,hsl:o,pointer:p,renderers:f,onChange:c,direction:u})))};NO.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:T9};Br(NO);function LO(e,t){for(var r=-1,o=e==null?0:e.length,i=Array(o);++r<o;)i[r]=t(e[r],r,e);return i}var O9="__lodash_hash_undefined__";function I9(e){return this.__data__.set(e,O9),this}function P9(e){return this.__data__.has(e)}function sh(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Wo;++t<r;)this.add(e[t])}sh.prototype.add=sh.prototype.push=I9;sh.prototype.has=P9;function j9(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}function D9(e,t){return e.has(t)}var B9=1,z9=2;function HO(e,t,r,o,i,l){var c=r&B9,u=e.length,h=t.length;if(u!=h&&!(c&&h>u))return!1;var f=l.get(e),p=l.get(t);if(f&&p)return f==t&&p==e;var g=-1,y=!0,b=r&z9?new sh:void 0;for(l.set(e,t),l.set(t,e);++g<u;){var x=e[g],C=t[g];if(o)var S=c?o(C,x,g,t,e,l):o(x,C,g,e,t,l);if(S!==void 0){if(S)continue;y=!1;break}if(b){if(!j9(t,function(E,R){if(!D9(b,R)&&(x===E||i(x,E,r,o,l)))return b.push(R)})){y=!1;break}}else if(!(x===C||i(x,C,r,o,l))){y=!1;break}}return l.delete(e),l.delete(t),y}function N9(e){var t=-1,r=Array(e.size);return e.forEach(function(o,i){r[++t]=[i,o]}),r}function L9(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}var H9=1,$9=2,F9="[object Boolean]",Y9="[object Date]",U9="[object Error]",q9="[object Map]",X9="[object Number]",G9="[object RegExp]",W9="[object Set]",Q9="[object String]",K9="[object Symbol]",V9="[object ArrayBuffer]",Z9="[object DataView]",u_=Li?Li.prototype:void 0,Rb=u_?u_.valueOf:void 0;function J9(e,t,r,o,i,l,c){switch(r){case Z9:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case V9:return!(e.byteLength!=t.byteLength||!l(new rh(e),new rh(t)));case F9:case Y9:case X9:return Yu(+e,+t);case U9:return e.name==t.name&&e.message==t.message;case G9:case Q9:return e==t+"";case q9:var u=N9;case W9:var h=o&H9;if(u||(u=L9),e.size!=t.size&&!h)return!1;var f=c.get(e);if(f)return f==t;o|=$9,c.set(e,t);var p=HO(u(e),u(t),o,i,l,c);return c.delete(e),p;case K9:if(Rb)return Rb.call(e)==Rb.call(t)}return!1}function eF(e,t){for(var r=-1,o=t.length,i=e.length;++r<o;)e[i+r]=t[r];return e}function tF(e,t,r){var o=t(e);return oa(e)?o:eF(o,r(e))}function nF(e,t){for(var r=-1,o=e==null?0:e.length,i=0,l=[];++r<o;){var c=e[r];t(c,r,e)&&(l[i++]=c)}return l}function rF(){return[]}var aF=Object.prototype,oF=aF.propertyIsEnumerable,d_=Object.getOwnPropertySymbols,iF=d_?function(e){return e==null?[]:(e=Object(e),nF(d_(e),function(t){return oF.call(e,t)}))}:rF;function f_(e){return tF(e,kx,iF)}var sF=1,lF=Object.prototype,cF=lF.hasOwnProperty;function uF(e,t,r,o,i,l){var c=r&sF,u=f_(e),h=u.length,f=f_(t),p=f.length;if(h!=p&&!c)return!1;for(var g=h;g--;){var y=u[g];if(!(c?y in t:cF.call(t,y)))return!1}var b=l.get(e),x=l.get(t);if(b&&x)return b==t&&x==e;var C=!0;l.set(e,t),l.set(t,e);for(var S=c;++g<h;){y=u[g];var E=e[y],R=t[y];if(o)var _=c?o(R,E,y,t,e,l):o(E,R,y,e,t,l);if(!(_===void 0?E===R||i(E,R,r,o,l):_)){C=!1;break}S||(S=y=="constructor")}if(C&&!S){var T=e.constructor,k=t.constructor;T!=k&&"constructor"in e&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof k=="function"&&k instanceof k)&&(C=!1)}return l.delete(e),l.delete(t),C}var pv=Rs(Xa,"DataView"),gv=Rs(Xa,"Promise"),mv=Rs(Xa,"Set"),yv=Rs(Xa,"WeakMap"),h_="[object Map]",dF="[object Object]",p_="[object Promise]",g_="[object Set]",m_="[object WeakMap]",y_="[object DataView]",fF=_s(pv),hF=_s(Tu),pF=_s(gv),gF=_s(mv),mF=_s(yv),Pi=Ms;(pv&&Pi(new pv(new ArrayBuffer(1)))!=y_||Tu&&Pi(new Tu)!=h_||gv&&Pi(gv.resolve())!=p_||mv&&Pi(new mv)!=g_||yv&&Pi(new yv)!=m_)&&(Pi=function(e){var t=Ms(e),r=t==dF?e.constructor:void 0,o=r?_s(r):"";if(o)switch(o){case fF:return y_;case hF:return h_;case pF:return p_;case gF:return g_;case mF:return m_}return t});var yF=1,b_="[object Arguments]",v_="[object Array]",Sf="[object Object]",bF=Object.prototype,x_=bF.hasOwnProperty;function vF(e,t,r,o,i,l){var c=oa(e),u=oa(t),h=c?v_:Pi(e),f=u?v_:Pi(t);h=h==b_?Sf:h,f=f==b_?Sf:f;var p=h==Sf,g=f==Sf,y=h==f;if(y&&oh(e)){if(!oh(t))return!1;c=!0,p=!1}if(y&&!p)return l||(l=new so),c||Rx(e)?HO(e,t,r,o,i,l):J9(e,t,h,r,o,i,l);if(!(r&yF)){var b=p&&x_.call(e,"__wrapped__"),x=g&&x_.call(t,"__wrapped__");if(b||x){var C=b?e.value():e,S=x?t.value():t;return l||(l=new so),i(C,S,r,o,l)}}return y?(l||(l=new so),uF(e,t,r,o,i,l)):!1}function Ix(e,t,r,o,i){return e===t?!0:e==null||t==null||!Hi(e)&&!Hi(t)?e!==e&&t!==t:vF(e,t,r,o,Ix,i)}var xF=1,wF=2;function CF(e,t,r,o){var i=r.length,l=i;if(e==null)return!l;for(e=Object(e);i--;){var c=r[i];if(c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<l;){c=r[i];var u=c[0],h=e[u],f=c[1];if(c[2]){if(h===void 0&&!(u in e))return!1}else{var p=new so,g;if(!(g===void 0?Ix(f,h,xF|wF,o,p):g))return!1}}return!0}function $O(e){return e===e&&!Ra(e)}function SF(e){for(var t=kx(e),r=t.length;r--;){var o=t[r],i=e[o];t[r]=[o,i,$O(i)]}return t}function FO(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function AF(e){var t=SF(e);return t.length==1&&t[0][2]?FO(t[0][0],t[0][1]):function(r){return r===e||CF(r,e,t)}}var EF=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,MF=/^\w*$/;function Px(e,t){if(oa(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Uh(e)?!0:MF.test(e)||!EF.test(e)||t!=null&&e in Object(t)}var _F="Expected a function";function jx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(_F);var r=function(){var o=arguments,i=t?t.apply(this,o):o[0],l=r.cache;if(l.has(i))return l.get(i);var c=e.apply(this,o);return r.cache=l.set(i,c)||l,c};return r.cache=new(jx.Cache||Wo),r}jx.Cache=Wo;var RF=500;function TF(e){var t=jx(e,function(o){return r.size===RF&&r.clear(),o}),r=t.cache;return t}var kF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OF=/\\(\\)?/g,IF=TF(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(kF,function(r,o,i,l){t.push(i?l.replace(OF,"$1"):o||r)}),t}),w_=Li?Li.prototype:void 0,C_=w_?w_.toString:void 0;function YO(e){if(typeof e=="string")return e;if(oa(e))return LO(e,YO)+"";if(Uh(e))return C_?C_.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function PF(e){return e==null?"":YO(e)}function UO(e,t){return oa(e)?e:Px(e,t)?[e]:IF(PF(e))}function Gh(e){if(typeof e=="string"||Uh(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function qO(e,t){t=UO(t,e);for(var r=0,o=t.length;e!=null&&r<o;)e=e[Gh(t[r++])];return r&&r==o?e:void 0}function jF(e,t,r){var o=e==null?void 0:qO(e,t);return o===void 0?r:o}function DF(e,t){return e!=null&&t in Object(e)}function BF(e,t,r){t=UO(t,e);for(var o=-1,i=t.length,l=!1;++o<i;){var c=Gh(t[o]);if(!(l=e!=null&&r(e,c)))break;e=e[c]}return l||++o!=i?l:(i=e==null?0:e.length,!!i&&_x(i)&&Tx(c,i)&&(oa(e)||ah(e)))}function zF(e,t){return e!=null&&BF(e,t,DF)}var NF=1,LF=2;function HF(e,t){return Px(e)&&$O(t)?FO(Gh(e),t):function(r){var o=jF(r,e);return o===void 0&&o===t?zF(r,e):Ix(t,o,NF|LF)}}function $F(e){return function(t){return t?.[e]}}function FF(e){return function(t){return qO(t,e)}}function YF(e){return Px(e)?$F(Gh(e)):FF(e)}function UF(e){return typeof e=="function"?e:e==null?Yh:typeof e=="object"?oa(e)?HF(e[0],e[1]):AF(e):YF(e)}function qF(e,t){var r=-1,o=uc(e)?Array(e.length):[];return DO(e,function(i,l,c){o[++r]=t(i,l,c)}),o}function ks(e,t){var r=oa(e)?LO:qF;return r(e,UF(t))}var XF=function(t){var r=t.colors,o=t.onClick,i=t.onSwatchHover,l=ut({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return z.createElement("div",{style:l.swatches},ks(r,function(c){return z.createElement(Ts,{key:c,color:c,style:l.swatch,onClick:o,onHover:i,focusStyle:{boxShadow:"0 0 4px "+c}})}),z.createElement("div",{style:l.clear}))},Dx=function(t){var r=t.onChange,o=t.onSwatchHover,i=t.hex,l=t.colors,c=t.width,u=t.triangle,h=t.styles,f=h===void 0?{}:h,p=t.className,g=p===void 0?"":p,y=i==="transparent",b=function(S,E){Ui(S)&&r({hex:S,source:"hex"},E)},x=ut(Dr({default:{card:{width:c,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Ox(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},f),{"hide-triangle":u==="hide"});return z.createElement("div",{style:x.card,className:"block-picker "+g},z.createElement("div",{style:x.triangle}),z.createElement("div",{style:x.head},y&&z.createElement(lc,{borderRadius:"6px 6px 0 0"}),z.createElement("div",{style:x.label},i)),z.createElement("div",{style:x.body},z.createElement(XF,{colors:l,onClick:b,onSwatchHover:o}),z.createElement(jt,{style:{input:x.input},value:i,onChange:b})))};Dx.propTypes={width:je.oneOfType([je.string,je.number]),colors:je.arrayOf(je.string),triangle:je.oneOf(["top","hide"]),styles:je.object};Dx.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Br(Dx);var Sl={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},Al={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},El={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},Ml={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},_l={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},Rl={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},Tl={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},kl={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},Ol={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},hu={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},Il={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},Pl={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},jl={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},Dl={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},Bl={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},zl={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},Nl={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},Ll={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},XO=function(t){var r=t.color,o=t.onClick,i=t.onSwatchHover,l=t.hover,c=t.active,u=t.circleSize,h=t.circleSpacing,f=ut({default:{swatch:{width:u,height:u,marginRight:h,marginBottom:h,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(u/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:l,active:c});return z.createElement("div",{style:f.swatch},z.createElement(Ts,{style:f.Swatch,color:r,onClick:o,onHover:i,focusStyle:{boxShadow:f.Swatch.boxShadow+", 0 0 5px "+r}}))};XO.defaultProps={circleSize:28,circleSpacing:14};const GF=Cx.handleHover(XO);var Bx=function(t){var r=t.width,o=t.onChange,i=t.onSwatchHover,l=t.colors,c=t.hex,u=t.circleSize,h=t.styles,f=h===void 0?{}:h,p=t.circleSpacing,g=t.className,y=g===void 0?"":g,b=ut(Dr({default:{card:{width:r,display:"flex",flexWrap:"wrap",marginRight:-p,marginBottom:-p}}},f)),x=function(S,E){return o({hex:S,source:"hex"},E)};return z.createElement("div",{style:b.card,className:"circle-picker "+y},ks(l,function(C){return z.createElement(GF,{key:C,color:C,onClick:x,onSwatchHover:i,active:c===C.toLowerCase(),circleSize:u,circleSpacing:p})}))};Bx.propTypes={width:je.oneOfType([je.string,je.number]),circleSize:je.number,circleSpacing:je.number,styles:je.object};Bx.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Sl[500],Al[500],El[500],Ml[500],_l[500],Rl[500],Tl[500],kl[500],Ol[500],hu[500],Il[500],Pl[500],jl[500],Dl[500],Bl[500],zl[500],Nl[500],Ll[500]],styles:{}};Br(Bx);function S_(e){return e===void 0}var Af={},A_;function WF(){if(A_)return Af;A_=1,Object.defineProperty(Af,"__esModule",{value:!0});var e=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])}return c},t=xs(),r=o(t);function o(c){return c&&c.__esModule?c:{default:c}}function i(c,u){var h={};for(var f in c)u.indexOf(f)>=0||Object.prototype.hasOwnProperty.call(c,f)&&(h[f]=c[f]);return h}var l=24;return Af.default=function(c){var u=c.fill,h=u===void 0?"currentColor":u,f=c.width,p=f===void 0?l:f,g=c.height,y=g===void 0?l:g,b=c.style,x=b===void 0?{}:b,C=i(c,["fill","width","height","style"]);return r.default.createElement("svg",e({viewBox:"0 0 "+l+" "+l,style:e({fill:h,width:p,height:y},x)},C),r.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Af}var QF=WF();const KF=$i(QF);var VF=(function(){function e(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}})();function ZF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JF(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function eY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var GO=(function(e){eY(t,e);function t(r){ZF(this,t);var o=JF(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.toggleViews=function(){o.state.view==="hex"?o.setState({view:"rgb"}):o.state.view==="rgb"?o.setState({view:"hsl"}):o.state.view==="hsl"&&(o.props.hsl.a===1?o.setState({view:"hex"}):o.setState({view:"rgb"}))},o.handleChange=function(i,l){i.hex?Ui(i.hex)&&o.props.onChange({hex:i.hex,source:"hex"},l):i.r||i.g||i.b?o.props.onChange({r:i.r||o.props.rgb.r,g:i.g||o.props.rgb.g,b:i.b||o.props.rgb.b,source:"rgb"},l):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),o.props.onChange({h:o.props.hsl.h,s:o.props.hsl.s,l:o.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},l)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),o.props.onChange({h:i.h||o.props.hsl.h,s:Number(S_(i.s)?o.props.hsl.s:i.s),l:Number(S_(i.l)?o.props.hsl.l:i.l),source:"hsl"},l))},o.showHighlight=function(i){i.currentTarget.style.background="#eee"},o.hideHighlight=function(i){i.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?o.state={view:"rgb"}:o.state={view:r.view},o}return VF(t,[{key:"render",value:function(){var o=this,i=ut({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),l=void 0;return this.state.view==="hex"?l=z.createElement("div",{style:i.fields,className:"flexbox-fix"},z.createElement("div",{style:i.field},z.createElement(jt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?l=z.createElement("div",{style:i.fields,className:"flexbox-fix"},z.createElement("div",{style:i.field},z.createElement(jt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),z.createElement("div",{style:i.field},z.createElement(jt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),z.createElement("div",{style:i.field},z.createElement(jt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),z.createElement("div",{style:i.alpha},z.createElement(jt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(l=z.createElement("div",{style:i.fields,className:"flexbox-fix"},z.createElement("div",{style:i.field},z.createElement(jt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),z.createElement("div",{style:i.field},z.createElement(jt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),z.createElement("div",{style:i.field},z.createElement(jt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),z.createElement("div",{style:i.alpha},z.createElement(jt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),z.createElement("div",{style:i.wrap,className:"flexbox-fix"},l,z.createElement("div",{style:i.toggle},z.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(u){return o.icon=u}},z.createElement(KF,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(o,i){return o.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),t})(z.Component);GO.defaultProps={view:"hex"};var E_=function(){var t=ut({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return z.createElement("div",{style:t.picker})},tY=function(){var t=ut({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return z.createElement("div",{style:t.picker})},zx=function(t){var r=t.width,o=t.onChange,i=t.disableAlpha,l=t.rgb,c=t.hsl,u=t.hsv,h=t.hex,f=t.renderers,p=t.styles,g=p===void 0?{}:p,y=t.className,b=y===void 0?"":y,x=t.defaultView,C=ut(Dr({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+l.r+", "+l.g+", "+l.b+", "+l.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},g),{disableAlpha:i});return z.createElement("div",{style:C.picker,className:"chrome-picker "+b},z.createElement("div",{style:C.saturation},z.createElement(qh,{style:C.Saturation,hsl:c,hsv:u,pointer:tY,onChange:o})),z.createElement("div",{style:C.body},z.createElement("div",{style:C.controls,className:"flexbox-fix"},z.createElement("div",{style:C.color},z.createElement("div",{style:C.swatch},z.createElement("div",{style:C.active}),z.createElement(lc,{renderers:f}))),z.createElement("div",{style:C.toggles},z.createElement("div",{style:C.hue},z.createElement(cc,{style:C.Hue,hsl:c,pointer:E_,onChange:o})),z.createElement("div",{style:C.alpha},z.createElement(Sx,{style:C.Alpha,rgb:l,hsl:c,pointer:E_,renderers:f,onChange:o})))),z.createElement(GO,{rgb:l,hsl:c,hex:h,view:x,onChange:o,disableAlpha:i})))};zx.propTypes={width:je.oneOfType([je.string,je.number]),disableAlpha:je.bool,styles:je.object,defaultView:je.oneOf(["hex","rgb","hsl"])};zx.defaultProps={width:225,disableAlpha:!1,styles:{}};Br(zx);var nY=function(t){var r=t.color,o=t.onClick,i=o===void 0?function(){}:o,l=t.onSwatchHover,c=t.active,u=ut({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Ox(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:c,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return z.createElement(Ts,{style:u.color,color:r,onClick:i,onHover:l,focusStyle:{boxShadow:"0 0 4px "+r}},z.createElement("div",{style:u.dot}))},rY=function(t){var r=t.hex,o=t.rgb,i=t.onChange,l=ut({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),c=function(h,f){h.r||h.g||h.b?i({r:h.r||o.r,g:h.g||o.g,b:h.b||o.b,source:"rgb"},f):i({hex:h.hex,source:"hex"},f)};return z.createElement("div",{style:l.fields,className:"flexbox-fix"},z.createElement("div",{style:l.active}),z.createElement(jt,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:r,onChange:c}),z.createElement(jt,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:o.r,onChange:c}),z.createElement(jt,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:o.g,onChange:c}),z.createElement(jt,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:o.b,onChange:c}))},Nx=function(t){var r=t.onChange,o=t.onSwatchHover,i=t.colors,l=t.hex,c=t.rgb,u=t.styles,h=u===void 0?{}:u,f=t.className,p=f===void 0?"":f,g=ut(Dr({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},h)),y=function(x,C){x.hex?Ui(x.hex)&&r({hex:x.hex,source:"hex"},C):r(x,C)};return z.createElement(Uu,{style:g.Compact,styles:h},z.createElement("div",{style:g.compact,className:"compact-picker "+p},z.createElement("div",null,ks(i,function(b){return z.createElement(nY,{key:b,color:b,active:b.toLowerCase()===l,onClick:y,onSwatchHover:o})}),z.createElement("div",{style:g.clear})),z.createElement(rY,{hex:l,rgb:c,onChange:y})))};Nx.propTypes={colors:je.arrayOf(je.string),styles:je.object};Nx.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Br(Nx);var aY=function(t){var r=t.hover,o=t.color,i=t.onClick,l=t.onSwatchHover,c={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=ut({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:c}},{hover:r});return z.createElement("div",{style:u.swatch},z.createElement(Ts,{color:o,onClick:i,onHover:l,focusStyle:c}))};const oY=Cx.handleHover(aY);var Lx=function(t){var r=t.width,o=t.colors,i=t.onChange,l=t.onSwatchHover,c=t.triangle,u=t.styles,h=u===void 0?{}:u,f=t.className,p=f===void 0?"":f,g=ut(Dr({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},h),{"hide-triangle":c==="hide","top-left-triangle":c==="top-left","top-right-triangle":c==="top-right","bottom-left-triangle":c==="bottom-left","bottom-right-triangle":c==="bottom-right"}),y=function(x,C){return i({hex:x,source:"hex"},C)};return z.createElement("div",{style:g.card,className:"github-picker "+p},z.createElement("div",{style:g.triangleShadow}),z.createElement("div",{style:g.triangle}),ks(o,function(b){return z.createElement(oY,{color:b,key:b,onClick:y,onSwatchHover:l})}))};Lx.propTypes={width:je.oneOfType([je.string,je.number]),colors:je.arrayOf(je.string),triangle:je.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:je.object};Lx.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Br(Lx);var iY=function(t){var r=t.direction,o=ut({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return z.createElement("div",{style:o.picker})},sY=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Hx=function(t){var r=t.width,o=t.height,i=t.onChange,l=t.hsl,c=t.direction,u=t.pointer,h=t.styles,f=h===void 0?{}:h,p=t.className,g=p===void 0?"":p,y=ut(Dr({default:{picker:{position:"relative",width:r,height:o},hue:{radius:"2px"}}},f)),b=function(C){return i({a:1,h:C.h,l:.5,s:1})};return z.createElement("div",{style:y.picker,className:"hue-picker "+g},z.createElement(cc,sY({},y.hue,{hsl:l,pointer:u,onChange:b,direction:c})))};Hx.propTypes={styles:je.object};Hx.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:iY,styles:{}};Br(Hx);var lY=function(t){var r=t.onChange,o=t.hex,i=t.rgb,l=t.styles,c=l===void 0?{}:l,u=t.className,h=u===void 0?"":u,f=ut(Dr({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+o,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},c)),p=function(y,b){y.hex?Ui(y.hex)&&r({hex:y.hex,source:"hex"},b):(y.r||y.g||y.b)&&r({r:y.r||i.r,g:y.g||i.g,b:y.b||i.b,source:"rgb"},b)};return z.createElement(Uu,{styles:c},z.createElement("div",{style:f.material,className:"material-picker "+h},z.createElement(jt,{style:{wrap:f.HEXwrap,input:f.HEXinput,label:f.HEXlabel},label:"hex",value:o,onChange:p}),z.createElement("div",{style:f.split,className:"flexbox-fix"},z.createElement("div",{style:f.third},z.createElement(jt,{style:{wrap:f.RGBwrap,input:f.RGBinput,label:f.RGBlabel},label:"r",value:i.r,onChange:p})),z.createElement("div",{style:f.third},z.createElement(jt,{style:{wrap:f.RGBwrap,input:f.RGBinput,label:f.RGBlabel},label:"g",value:i.g,onChange:p})),z.createElement("div",{style:f.third},z.createElement(jt,{style:{wrap:f.RGBwrap,input:f.RGBinput,label:f.RGBlabel},label:"b",value:i.b,onChange:p})))))};Br(lY);var cY=function(t){var r=t.onChange,o=t.rgb,i=t.hsv,l=t.hex,c=ut({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),u=function(f,p){f["#"]?Ui(f["#"])&&r({hex:f["#"],source:"hex"},p):f.r||f.g||f.b?r({r:f.r||o.r,g:f.g||o.g,b:f.b||o.b,source:"rgb"},p):(f.h||f.s||f.v)&&r({h:f.h||i.h,s:f.s||i.s,v:f.v||i.v,source:"hsv"},p)};return z.createElement("div",{style:c.fields},z.createElement(jt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"h",value:Math.round(i.h),onChange:u}),z.createElement(jt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:u}),z.createElement(jt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:u}),z.createElement("div",{style:c.divider}),z.createElement(jt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:o.r,onChange:u}),z.createElement(jt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:o.g,onChange:u}),z.createElement(jt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:o.b,onChange:u}),z.createElement("div",{style:c.divider}),z.createElement(jt,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"#",value:l.replace("#",""),onChange:u}),z.createElement("div",{style:c.fieldSymbols},z.createElement("div",{style:c.symbol},""),z.createElement("div",{style:c.symbol},"%"),z.createElement("div",{style:c.symbol},"%")))},uY=function(t){var r=t.hsl,o=ut({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return z.createElement("div",{style:o.picker})},dY=function(){var t=ut({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return z.createElement("div",{style:t.pointer},z.createElement("div",{style:t.left},z.createElement("div",{style:t.leftInside})),z.createElement("div",{style:t.right},z.createElement("div",{style:t.rightInside})))},M_=function(t){var r=t.onClick,o=t.label,i=t.children,l=t.active,c=ut({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:l});return z.createElement("div",{style:c.button,onClick:r},o||i)},fY=function(t){var r=t.rgb,o=t.currentColor,i=ut({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:o,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return z.createElement("div",null,z.createElement("div",{style:i.label},"new"),z.createElement("div",{style:i.swatches},z.createElement("div",{style:i.new}),z.createElement("div",{style:i.current})),z.createElement("div",{style:i.label},"current"))},hY=(function(){function e(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}})();function pY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gY(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function mY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $x=(function(e){mY(t,e);function t(r){pY(this,t);var o=gY(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.state={currentColor:r.hex},o}return hY(t,[{key:"render",value:function(){var o=this.props,i=o.styles,l=i===void 0?{}:i,c=o.className,u=c===void 0?"":c,h=ut(Dr({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},l));return z.createElement("div",{style:h.picker,className:"photoshop-picker "+u},z.createElement("div",{style:h.head},this.props.header),z.createElement("div",{style:h.body,className:"flexbox-fix"},z.createElement("div",{style:h.saturation},z.createElement(qh,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:uY,onChange:this.props.onChange})),z.createElement("div",{style:h.hue},z.createElement(cc,{direction:"vertical",hsl:this.props.hsl,pointer:dY,onChange:this.props.onChange})),z.createElement("div",{style:h.controls},z.createElement("div",{style:h.top,className:"flexbox-fix"},z.createElement("div",{style:h.previews},z.createElement(fY,{rgb:this.props.rgb,currentColor:this.state.currentColor})),z.createElement("div",{style:h.actions},z.createElement(M_,{label:"OK",onClick:this.props.onAccept,active:!0}),z.createElement(M_,{label:"Cancel",onClick:this.props.onCancel}),z.createElement(cY,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t})(z.Component);$x.propTypes={header:je.string,styles:je.object};$x.defaultProps={header:"Color Picker",styles:{}};Br($x);var yY=function(t){var r=t.onChange,o=t.rgb,i=t.hsl,l=t.hex,c=t.disableAlpha,u=ut({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:c}),h=function(p,g){p.hex?Ui(p.hex)&&r({hex:p.hex,source:"hex"},g):p.r||p.g||p.b?r({r:p.r||o.r,g:p.g||o.g,b:p.b||o.b,a:o.a,source:"rgb"},g):p.a&&(p.a<0?p.a=0:p.a>100&&(p.a=100),p.a/=100,r({h:i.h,s:i.s,l:i.l,a:p.a,source:"rgb"},g))};return z.createElement("div",{style:u.fields,className:"flexbox-fix"},z.createElement("div",{style:u.double},z.createElement(jt,{style:{input:u.input,label:u.label},label:"hex",value:l.replace("#",""),onChange:h})),z.createElement("div",{style:u.single},z.createElement(jt,{style:{input:u.input,label:u.label},label:"r",value:o.r,onChange:h,dragLabel:"true",dragMax:"255"})),z.createElement("div",{style:u.single},z.createElement(jt,{style:{input:u.input,label:u.label},label:"g",value:o.g,onChange:h,dragLabel:"true",dragMax:"255"})),z.createElement("div",{style:u.single},z.createElement(jt,{style:{input:u.input,label:u.label},label:"b",value:o.b,onChange:h,dragLabel:"true",dragMax:"255"})),z.createElement("div",{style:u.alpha},z.createElement(jt,{style:{input:u.input,label:u.label},label:"a",value:Math.round(o.a*100),onChange:h,dragLabel:"true",dragMax:"100"})))},bY=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},WO=function(t){var r=t.colors,o=t.onClick,i=o===void 0?function(){}:o,l=t.onSwatchHover,c=ut({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),u=function(f,p){i({hex:f,source:"hex"},p)};return z.createElement("div",{style:c.colors,className:"flexbox-fix"},r.map(function(h){var f=typeof h=="string"?{color:h}:h,p=""+f.color+(f.title||"");return z.createElement("div",{key:p,style:c.swatchWrap},z.createElement(Ts,bY({},f,{style:c.swatch,onClick:u,onHover:l,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+f.color}})))}))};WO.propTypes={colors:je.arrayOf(je.oneOfType([je.string,je.shape({color:je.string,title:je.string})])).isRequired};var vY=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Fx=function(t){var r=t.width,o=t.rgb,i=t.hex,l=t.hsv,c=t.hsl,u=t.onChange,h=t.onSwatchHover,f=t.disableAlpha,p=t.presetColors,g=t.renderers,y=t.styles,b=y===void 0?{}:y,x=t.className,C=x===void 0?"":x,S=ut(Dr({default:vY({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+o.r+","+o.g+","+o.b+","+o.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},b),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},b),{disableAlpha:f});return z.createElement("div",{style:S.picker,className:"sketch-picker "+C},z.createElement("div",{style:S.saturation},z.createElement(qh,{style:S.Saturation,hsl:c,hsv:l,onChange:u})),z.createElement("div",{style:S.controls,className:"flexbox-fix"},z.createElement("div",{style:S.sliders},z.createElement("div",{style:S.hue},z.createElement(cc,{style:S.Hue,hsl:c,onChange:u})),z.createElement("div",{style:S.alpha},z.createElement(Sx,{style:S.Alpha,rgb:o,hsl:c,renderers:g,onChange:u}))),z.createElement("div",{style:S.color},z.createElement(lc,null),z.createElement("div",{style:S.activeColor}))),z.createElement(yY,{rgb:o,hsl:c,hex:i,onChange:u,disableAlpha:f}),z.createElement(WO,{colors:p,onClick:u,onSwatchHover:h}))};Fx.propTypes={disableAlpha:je.bool,width:je.oneOfType([je.string,je.number]),styles:je.object};Fx.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const xY=Br(Fx);var Jc=function(t){var r=t.hsl,o=t.offset,i=t.onClick,l=i===void 0?function(){}:i,c=t.active,u=t.first,h=t.last,f=ut({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+o*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:c,first:u,last:h}),p=function(y){return l({h:r.h,s:.5,l:o,source:"hsl"},y)};return z.createElement("div",{style:f.swatch,onClick:p})},wY=function(t){var r=t.onClick,o=t.hsl,i=ut({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),l=.1;return z.createElement("div",{style:i.swatches},z.createElement("div",{style:i.swatch},z.createElement(Jc,{hsl:o,offset:".80",active:Math.abs(o.l-.8)<l&&Math.abs(o.s-.5)<l,onClick:r,first:!0})),z.createElement("div",{style:i.swatch},z.createElement(Jc,{hsl:o,offset:".65",active:Math.abs(o.l-.65)<l&&Math.abs(o.s-.5)<l,onClick:r})),z.createElement("div",{style:i.swatch},z.createElement(Jc,{hsl:o,offset:".50",active:Math.abs(o.l-.5)<l&&Math.abs(o.s-.5)<l,onClick:r})),z.createElement("div",{style:i.swatch},z.createElement(Jc,{hsl:o,offset:".35",active:Math.abs(o.l-.35)<l&&Math.abs(o.s-.5)<l,onClick:r})),z.createElement("div",{style:i.swatch},z.createElement(Jc,{hsl:o,offset:".20",active:Math.abs(o.l-.2)<l&&Math.abs(o.s-.5)<l,onClick:r,last:!0})),z.createElement("div",{style:i.clear}))},CY=function(){var t=ut({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return z.createElement("div",{style:t.picker})},Yx=function(t){var r=t.hsl,o=t.onChange,i=t.pointer,l=t.styles,c=l===void 0?{}:l,u=t.className,h=u===void 0?"":u,f=ut(Dr({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},c));return z.createElement("div",{style:f.wrap||{},className:"slider-picker "+h},z.createElement("div",{style:f.hue},z.createElement(cc,{style:f.Hue,hsl:r,pointer:i,onChange:o})),z.createElement("div",{style:f.swatches},z.createElement(wY,{hsl:r,onClick:o})))};Yx.propTypes={styles:je.object};Yx.defaultProps={pointer:CY,styles:{}};Br(Yx);var Ef={},__;function SY(){if(__)return Ef;__=1,Object.defineProperty(Ef,"__esModule",{value:!0});var e=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])}return c},t=xs(),r=o(t);function o(c){return c&&c.__esModule?c:{default:c}}function i(c,u){var h={};for(var f in c)u.indexOf(f)>=0||Object.prototype.hasOwnProperty.call(c,f)&&(h[f]=c[f]);return h}var l=24;return Ef.default=function(c){var u=c.fill,h=u===void 0?"currentColor":u,f=c.width,p=f===void 0?l:f,g=c.height,y=g===void 0?l:g,b=c.style,x=b===void 0?{}:b,C=i(c,["fill","width","height","style"]);return r.default.createElement("svg",e({viewBox:"0 0 "+l+" "+l,style:e({fill:h,width:p,height:y},x)},C),r.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},Ef}var AY=SY();const EY=$i(AY);var MY=function(t){var r=t.color,o=t.onClick,i=o===void 0?function(){}:o,l=t.onSwatchHover,c=t.first,u=t.last,h=t.active,f=ut({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:Ox(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:c,last:u,active:h,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return z.createElement(Ts,{color:r,style:f.color,onClick:i,onHover:l,focusStyle:{boxShadow:"0 0 4px "+r}},z.createElement("div",{style:f.check},z.createElement(EY,null)))},_Y=function(t){var r=t.onClick,o=t.onSwatchHover,i=t.group,l=t.active,c=ut({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return z.createElement("div",{style:c.group},ks(i,function(u,h){return z.createElement(MY,{key:u,color:u,active:u.toLowerCase()===l,first:h===0,last:h===i.length-1,onClick:r,onSwatchHover:o})}))},Ux=function(t){var r=t.width,o=t.height,i=t.onChange,l=t.onSwatchHover,c=t.colors,u=t.hex,h=t.styles,f=h===void 0?{}:h,p=t.className,g=p===void 0?"":p,y=ut(Dr({default:{picker:{width:r,height:o},overflow:{height:o,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},f)),b=function(C,S){return i({hex:C,source:"hex"},S)};return z.createElement("div",{style:y.picker,className:"swatches-picker "+g},z.createElement(Uu,null,z.createElement("div",{style:y.overflow},z.createElement("div",{style:y.body},ks(c,function(x){return z.createElement(_Y,{key:x.toString(),group:x,active:u,onClick:b,onSwatchHover:l})}),z.createElement("div",{style:y.clear})))))};Ux.propTypes={width:je.oneOfType([je.string,je.number]),height:je.oneOfType([je.string,je.number]),colors:je.arrayOf(je.arrayOf(je.string)),styles:je.object};Ux.defaultProps={width:320,height:240,colors:[[Sl[900],Sl[700],Sl[500],Sl[300],Sl[100]],[Al[900],Al[700],Al[500],Al[300],Al[100]],[El[900],El[700],El[500],El[300],El[100]],[Ml[900],Ml[700],Ml[500],Ml[300],Ml[100]],[_l[900],_l[700],_l[500],_l[300],_l[100]],[Rl[900],Rl[700],Rl[500],Rl[300],Rl[100]],[Tl[900],Tl[700],Tl[500],Tl[300],Tl[100]],[kl[900],kl[700],kl[500],kl[300],kl[100]],[Ol[900],Ol[700],Ol[500],Ol[300],Ol[100]],["#194D33",hu[700],hu[500],hu[300],hu[100]],[Il[900],Il[700],Il[500],Il[300],Il[100]],[Pl[900],Pl[700],Pl[500],Pl[300],Pl[100]],[jl[900],jl[700],jl[500],jl[300],jl[100]],[Dl[900],Dl[700],Dl[500],Dl[300],Dl[100]],[Bl[900],Bl[700],Bl[500],Bl[300],Bl[100]],[zl[900],zl[700],zl[500],zl[300],zl[100]],[Nl[900],Nl[700],Nl[500],Nl[300],Nl[100]],[Ll[900],Ll[700],Ll[500],Ll[300],Ll[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Br(Ux);var qx=function(t){var r=t.onChange,o=t.onSwatchHover,i=t.hex,l=t.colors,c=t.width,u=t.triangle,h=t.styles,f=h===void 0?{}:h,p=t.className,g=p===void 0?"":p,y=ut(Dr({default:{card:{width:c,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},f),{"hide-triangle":u==="hide","top-left-triangle":u==="top-left","top-right-triangle":u==="top-right"}),b=function(C,S){Ui(C)&&r({hex:C,source:"hex"},S)};return z.createElement("div",{style:y.card,className:"twitter-picker "+g},z.createElement("div",{style:y.triangleShadow}),z.createElement("div",{style:y.triangle}),z.createElement("div",{style:y.body},ks(l,function(x,C){return z.createElement(Ts,{key:C,color:x,hex:x,style:y.swatch,onClick:b,onHover:o,focusStyle:{boxShadow:"0 0 4px "+x}})}),z.createElement("div",{style:y.hash},"#"),z.createElement(jt,{label:null,style:{input:y.input},value:i.replace("#",""),onChange:b}),z.createElement("div",{style:y.clear})))};qx.propTypes={width:je.oneOfType([je.string,je.number]),triangle:je.oneOf(["hide","top-left","top-right"]),colors:je.arrayOf(je.string),styles:je.object};qx.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Br(qx);var Xx=function(t){var r=ut({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return z.createElement("div",{style:r.picker})};Xx.propTypes={hsl:je.shape({h:je.number,s:je.number,l:je.number,a:je.number})};Xx.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Gx=function(t){var r=ut({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return z.createElement("div",{style:r.picker})};Gx.propTypes={hsl:je.shape({h:je.number,s:je.number,l:je.number,a:je.number})};Gx.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var RY=function(t){var r=t.onChange,o=t.rgb,i=t.hsl,l=t.hex,c=t.hsv,u=function(b,x){if(b.hex)Ui(b.hex)&&r({hex:b.hex,source:"hex"},x);else if(b.rgb){var C=b.rgb.split(",");_b(b.rgb,"rgb")&&r({r:C[0],g:C[1],b:C[2],a:1,source:"rgb"},x)}else if(b.hsv){var S=b.hsv.split(",");_b(b.hsv,"hsv")&&(S[2]=S[2].replace("%",""),S[1]=S[1].replace("%",""),S[0]=S[0].replace("",""),S[1]==1?S[1]=.01:S[2]==1&&(S[2]=.01),r({h:Number(S[0]),s:Number(S[1]),v:Number(S[2]),source:"hsv"},x))}else if(b.hsl){var E=b.hsl.split(",");_b(b.hsl,"hsl")&&(E[2]=E[2].replace("%",""),E[1]=E[1].replace("%",""),E[0]=E[0].replace("",""),g[1]==1?g[1]=.01:g[2]==1&&(g[2]=.01),r({h:Number(E[0]),s:Number(E[1]),v:Number(E[2]),source:"hsl"},x))}},h=ut({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),f=o.r+", "+o.g+", "+o.b,p=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",g=Math.round(c.h)+", "+Math.round(c.s*100)+"%, "+Math.round(c.v*100)+"%";return z.createElement("div",{style:h.wrap,className:"flexbox-fix"},z.createElement("div",{style:h.fields},z.createElement("div",{style:h.double},z.createElement(jt,{style:{input:h.input,label:h.label},label:"hex",value:l,onChange:u})),z.createElement("div",{style:h.column},z.createElement("div",{style:h.single},z.createElement(jt,{style:{input:h.input2,label:h.label2},label:"rgb",value:f,onChange:u})),z.createElement("div",{style:h.single},z.createElement(jt,{style:{input:h.input2,label:h.label2},label:"hsv",value:g,onChange:u})),z.createElement("div",{style:h.single},z.createElement(jt,{style:{input:h.input2,label:h.label2},label:"hsl",value:p,onChange:u})))))},Wx=function(t){var r=t.width,o=t.onChange,i=t.rgb,l=t.hsl,c=t.hsv,u=t.hex,h=t.header,f=t.styles,p=f===void 0?{}:f,g=t.className,y=g===void 0?"":g,b=ut(Dr({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},p));return z.createElement("div",{style:b.picker,className:"google-picker "+y},z.createElement("div",{style:b.head},h),z.createElement("div",{style:b.swatch}),z.createElement("div",{style:b.saturation},z.createElement(qh,{hsl:l,hsv:c,pointer:Xx,onChange:o})),z.createElement("div",{style:b.body},z.createElement("div",{style:b.controls,className:"flexbox-fix"},z.createElement("div",{style:b.hue},z.createElement(cc,{style:b.Hue,hsl:l,radius:"4px",pointer:Gx,onChange:o}))),z.createElement(RY,{rgb:i,hsl:l,hex:u,hsv:c,onChange:o})))};Wx.propTypes={width:je.oneOfType([je.string,je.number]),styles:je.object,header:je.string};Wx.defaultProps={width:652,styles:{},header:"Color picker"};Br(Wx);const TY=se.div`
  position: relative;
  display: flex;
  align-items: center;
  gap: 4px;
`,kY=se.button`
  width: 30px;
  height: 24px;
  border: 1px solid #d4d9de;
  border-radius: 3px;
  cursor: pointer;
  padding: 0;
  background: ${e=>e.$color||"#ffffff"};
  
  &:hover {
    border-color: #b8bfc7;
  }
  
  &:focus {
    outline: 2px solid #3498db;
    outline-offset: 1px;
  }
`,OY=se.div`
  font-size: 12px;
  color: #88909b;
  text-align: right;
  white-space: nowrap;
  min-width: 64px;
`,IY=se.div`
  position: fixed;
  z-index: 10001;
  top: ${e=>e.$top!==void 0?`${e.$top}px`:"auto"};
  left: ${e=>e.$left!==void 0?`${e.$left}px`:"auto"};
`,PY=se.div`
  position: fixed;
  z-index: 10000;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`,Mf=e=>{if(!e)return"#000000";const t=e.trim().toLowerCase();if(/^#([0-9a-f]{6}|[0-9a-f]{3})$/i.test(t)){if(t.length===4){const r=t[1],o=t[2],i=t[3];return`#${r}${r}${o}${o}${i}${i}`}return t}return"#000000"},jY=["#000000","#2c3e50","#34495e","#7f8c8d","#95a5a6","#bdc3c7","#ecf0f1","#ffffff","#e74c3c","#c0392b","#e67e22","#d35400","#f39c12","#f1c40f","#2ecc71","#27ae60","#1abc9c","#16a085","#3498db","#2980b9","#9b59b6","#8e44ad"],DY=({value:e,onChange:t})=>{const[r,o]=v.useState(!1),[i,l]=v.useState(Mf(e)),[c,u]=v.useState(null),h=v.useRef(null);v.useEffect(()=>{l(Mf(e))},[e]),v.useEffect(()=>{const y=b=>{b.key==="Escape"&&r&&o(!1)};if(r)return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]);const f=()=>{if(!r&&h.current){const y=h.current.getBoundingClientRect(),b=320,x=225,C=window.innerHeight,S=window.innerWidth,E=8;let R=y.bottom+4,_=y.left;R+b+E>C&&(R=y.top-b-4,R<E&&(R=E)),_+x+E>S&&(_=S-x-E),_<E&&(_=E),u({top:R,left:_})}o(!r)},p=()=>{o(!1)},g=y=>{const b=y.hex;l(b),t(b)};return A.jsxs(A.Fragment,{children:[A.jsxs(TY,{ref:h,children:[A.jsx(OY,{children:i}),A.jsx(kY,{type:"button",id:"color-picker-swatch",name:"color-picker",$color:Mf(e),onClick:f,"aria-label":"Open color picker"})]}),r&&c&&Ta.createPortal(A.jsxs(A.Fragment,{children:[A.jsx(PY,{onClick:p}),A.jsx(IY,{$top:c.top,$left:c.left,children:A.jsx(xY,{color:Mf(e),onChange:g,presetColors:jY,disableAlpha:!0})})]}),document.body)]})},BY=e=>{if(!e)return"#000000";const t=e.trim().toLowerCase();if(/^#([0-9a-f]{6}|[0-9a-f]{3})$/i.test(t)){if(t.length===4){const r=t[1],o=t[2],i=t[3];return`#${r}${r}${o}${o}${i}${i}`}return t}return"#000000"},zY=({schema:e,value:t,onNumberCommit:r})=>{const o=z.useMemo(()=>typeof t=="number"&&Number.isFinite(t)?t:typeof e.defaultValue=="number"?e.defaultValue:0,[e.defaultValue,t]),i=e.step??1,l=typeof e.min=="number"?e.min:-1/0,c=typeof e.max=="number"?e.max:1/0,u=z.useMemo(()=>i%1===0?0:i.toString().split(".")[1]?.length??0,[i]),h=z.useCallback(C=>u>0?Number(C.toFixed(u)):Math.round(C),[u]),[f,p]=z.useState(()=>String(o));z.useEffect(()=>{p(String(o))},[o]);const g=z.useCallback(C=>{const S=h(C),E=Wk(S,e);r(e,E),p(String(E))},[h,r,e]),y=z.useCallback(C=>{p(C.target.value)},[]),b=z.useCallback(()=>{const C=Number(f);Number.isFinite(C)?g(C):p(String(o))},[g,f,o]),x=z.useCallback(C=>{if(C.key==="Enter"){const S=Number(f);Number.isFinite(S)?g(S):p(String(o))}},[g,f,o]);return A.jsxs(n8,{children:[A.jsx(RA,{type:"button",onClick:()=>g(o-i),disabled:o-i<l,children:"-"}),A.jsx(r8,{type:"number",id:`property-${e.id}`,name:`property-${e.id}`,value:f,onChange:y,onBlur:b,onKeyDown:x,min:e.min,max:e.max,step:i}),A.jsx(RA,{type:"button",onClick:()=>g(o+i),disabled:o+i>c,children:"+"})]})},NY=({schema:e,value:t,isReadOnly:r,waypoints:o,onBooleanToggle:i,onNumberCommit:l,onSelectChange:c,onTextChange:u,onWaypointsEdit:h})=>{if(r){const f=PA(t),p=e.id==="id"&&typeof f=="string"&&f.length>12?`${f.slice(0,12)}`:f;return A.jsx(Mm,{title:typeof f=="string"?f:void 0,children:p})}if(e.type==="waypoints"){const f=o?.length??0;return A.jsxs(o8,{type:"button",onClick:h,children:[f===0?"No waypoints":`${f} waypoint${f===1?"":"s"}`,A.jsx("span",{children:""})]})}if(e.type==="boolean")return A.jsx("input",{type:"checkbox",id:`property-${e.id}`,name:`property-${e.id}`,checked:!!t,onChange:f=>i(e,f.target.checked)});if(C8(e))return A.jsx(zY,{schema:e,value:t,onNumberCommit:l});if(e.type==="color"){const f=BY(typeof t=="string"?t:null);return A.jsx(DY,{value:f,onChange:p=>u(e,p)})}if(S8(e)){const f=typeof t=="string"?t:String(e.options[0]?.value??""),p=e.id==="fontFamily"?120:void 0;return A.jsx(a8,{id:`property-${e.id}`,name:`property-${e.id}`,value:f,onChange:g=>c(e,g.target.value),$width:p,children:e.options.map(g=>A.jsx("option",{value:g.value,children:g.label},g.value))})}if(e.type==="string"){const f=typeof t=="string"?t:"";return A.jsx(Mm,{children:f})}return A.jsx(Mm,{children:PA(t)})},bv="#6c757d",vv=2,vu="None",ds=(e,t,r)=>Math.min(r,Math.max(t,e)),R_={lineColour:bv,lineWidth:vv,lineStyle:"Solid",lineRounding:0,opacity:1,shadow:!1,shadowColour:Ea,shadowOpacity:Cs,shadowBlurRadius:fo,startMark:vu,endMark:vu},Nn={updateElement(e,t,r){return uv(e,t,r)},applyElementBatch(e,t){return Xk(e,t)},initialiseElement(e){return bs(e,e.properties)},getSchemaForElement(e){return Ss(e)},normaliseConnector(e){const t=e.properties?{...e.properties}:{},r=typeof t.lineWidth=="number"?t.lineWidth:typeof t.strokeWidth=="number"?t.strokeWidth:void 0,o=Number.isFinite(r)?ds(Number(r),.5,400):vv,i=typeof t.lineColour=="string"&&t.lineColour.trim().length>0?t.lineColour.toLowerCase():typeof t.strokeColour=="string"&&t.strokeColour.trim().length>0?t.strokeColour.toLowerCase():bv,l=typeof t.opacity=="number"&&Number.isFinite(t.opacity)?ds(t.opacity,0,1):1,c=t.shadow===void 0?!!t.dropShadow:!!t.shadow,u=_m(t.shadowColour??Ea),h=TA(t.shadowOpacity),f=kA(t.shadowBlurRadius??fo),p=b=>b==="HollowArrow"?"HollowArrow":vu,g=typeof t.lineStyle=="string"?t.lineStyle:"Solid",y=typeof t.lineRounding=="number"&&Number.isFinite(t.lineRounding)?ds(Number(t.lineRounding),0,100):0;return{...e,type:"line",startPoint:{x:Math.round(e.startPoint.x),y:Math.round(e.startPoint.y)},endPoint:{x:Math.round(e.endPoint.x),y:Math.round(e.endPoint.y)},properties:{lineColour:i,lineWidth:o,lineStyle:g,lineRounding:y,opacity:l,shadow:c,shadowColour:u,shadowOpacity:h,shadowBlurRadius:f,startMark:p(t.startMark),endMark:p(t.endMark)}}},applyConnectorProperties(e,t){const r=Nn.normaliseConnector(e),o={...R_,...r.properties??{},...t},i={lineColour:typeof o.lineColour=="string"&&o.lineColour.trim().length>0?o.lineColour.toLowerCase():bv,lineWidth:Number.isFinite(o.lineWidth)?ds(Number(o.lineWidth),.5,400):vv,lineStyle:typeof o.lineStyle=="string"?o.lineStyle:"Solid",lineRounding:Number.isFinite(o.lineRounding)?ds(Number(o.lineRounding),0,100):0,opacity:Number.isFinite(o.opacity)?ds(Number(o.opacity),0,1):1,shadow:!!o.shadow,shadowColour:_m(o.shadowColour??Ea),shadowOpacity:TA(o.shadowOpacity),shadowBlurRadius:kA(o.shadowBlurRadius??fo),startMark:o.startMark==="HollowArrow"?"HollowArrow":vu,endMark:o.endMark==="HollowArrow"?"HollowArrow":vu};return{...r,properties:i}},getConnectorDefaults(){return{...R_}},buildConnectorSnapshot(e){const t=Nn.normaliseConnector(e);return{...t.properties,startX:t.startPoint.x,startY:t.startPoint.y,endX:t.endPoint.x,endY:t.endPoint.y,id:t.id,type:t.type}},formatValueForSchema(e,t){if(e.type==="number"){const r=typeof t=="number"&&Number.isFinite(t)?t:typeof e.defaultValue=="number"?e.defaultValue:0,o=typeof e.min=="number"?e.min:Number.MIN_SAFE_INTEGER,i=typeof e.max=="number"?e.max:Number.MAX_SAFE_INTEGER;return ds(r,o,i)}if(e.type==="boolean")return!!t;if(e.type==="color")return typeof t=="string"?_m(t):Ea;if(e.type==="select"){const r=new Set(e.options.map(o=>o.value));return typeof t=="string"&&r.has(t)?t:e.defaultValue??e.options[0]?.value??""}return t}},T_=e=>{const t=c=>(c.label??c.id??"").toString(),r=[...e].sort((c,u)=>t(c).localeCompare(t(u),void 0,{sensitivity:"base"})),o=c=>c.group==="immutable"||c.isReadOnly,i=r.filter(c=>!o(c)),l=r.filter(c=>o(c));return[...i,...l]};function LY({element:e,connector:t,immutableKeys:r,startAnchored:o,endAnchored:i}){return v.useMemo(()=>{if(e)return T_(Ss(e.type)).map(c=>{const u=e.properties?.[c.id]??null,h=c.isReadOnly||c.group==="immutable"||r.has(c.id);return{schema:c,value:u,isReadOnly:h}});if(t){const l=Nn.buildConnectorSnapshot(t);return T_(A8).map(u=>{const h=l[u.id]??null,f=!!(o&&(u.id==="startX"||u.id==="startY")||i&&(u.id==="endX"||u.id==="endY")),p=u.isReadOnly||u.group==="immutable"||f;return{schema:u,value:h,isReadOnly:p}})}return[]},[e,t,r,o,i])}const HY=se.div`
  position: fixed;
  inset: 0;
  background: rgba(15, 22, 36, 0.35);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2200;
`,$Y=se.div`
  background: white;
  border-radius: 12px;
  box-shadow: 0 18px 50px rgba(15, 22, 36, 0.18);
  padding: 28px 32px;
  max-width: 500px;
  width: 90%;
  display: flex;
  flex-direction: column;
  gap: 18px;
  max-height: 80vh;
`,FY=se.h2`
  margin: 0;
  font-size: 22px;
  color: #233044;
`,YY=se.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow-y: auto;
  max-height: 400px;
  padding: 4px;
`,UY=se.div`
  display: grid;
  grid-template-columns: 30px 1fr 1fr 28px;
  gap: 8px;
  align-items: center;
  padding: 8px;
  background: #f8f9fa;
  border-radius: 6px;
`,qY=se.span`
  font-size: 14px;
  color: #465162;
  font-weight: 500;
`,k_=se.div`
  display: flex;
  align-items: center;
  gap: 6px;
`,O_=se.span`
  font-size: 13px;
  color: #6c757d;
  width: 16px;
`,I_=se.input`
  width: 80px;
  padding: 6px 8px;
  border: 1px solid #dee2e6;
  border-radius: 4px;
  font-size: 14px;
  color: #233044;

  &:focus {
    outline: none;
    border-color: #1d6ff2;
  }
`,XY=se.button`
  width: 28px;
  height: 28px;
  border: none;
  background: #dc3545;
  color: white;
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;

  &:hover {
    background: #c82333;
  }

  &:disabled {
    background: #e9ecef;
    color: #adb5bd;
    cursor: not-allowed;
  }
`,GY=se.div`
  text-align: center;
  padding: 32px;
  color: #6c757d;
  font-size: 14px;
`,WY=se.div`
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  padding-top: 8px;
  border-top: 1px solid #dee2e6;
`,P_=se.button`
  border: none;
  background: ${e=>e.$variant==="primary"?"#1d6ff2":"#6c757d"};
  color: white;
  padding: 8px 16px;
  border-radius: 6px;
  font-size: 14px;
  cursor: pointer;

  &:hover {
    background: ${e=>e.$variant==="primary"?"#1457c7":"#5a6268"};
  }
`,QY=({waypoints:e,onSave:t,onClose:r})=>{const[o,i]=v.useState([...e]),l=v.useCallback((h,f,p)=>{const g=parseFloat(p);isNaN(g)||i(y=>{const b=[...y];return b[h]={...b[h],[f]:g},b})},[]),c=v.useCallback(h=>{i(f=>f.filter((p,g)=>g!==h))},[]),u=v.useCallback(()=>{t(o),r()},[o,t,r]);return A.jsx(HY,{role:"presentation",children:A.jsxs($Y,{role:"dialog","aria-modal":"true","aria-labelledby":"waypoints-title",onClick:h=>h.stopPropagation(),children:[A.jsx(FY,{id:"waypoints-title",children:"Edit Waypoints"}),o.length===0?A.jsx(GY,{children:"No waypoints. Double-click on the connector to add waypoints."}):A.jsx(YY,{children:o.map((h,f)=>A.jsxs(UY,{children:[A.jsx(qY,{children:f+1}),A.jsxs(k_,{children:[A.jsx(O_,{children:"x:"}),A.jsx(I_,{type:"number",value:h.x.toFixed(1),onChange:p=>l(f,"x",p.target.value)})]}),A.jsxs(k_,{children:[A.jsx(O_,{children:"y:"}),A.jsx(I_,{type:"number",value:h.y.toFixed(1),onChange:p=>l(f,"y",p.target.value)})]}),A.jsx(XY,{type:"button",onClick:()=>c(f),title:"Delete waypoint","aria-label":`Delete waypoint ${f+1}`,children:""})]},f))}),A.jsxs(WY,{children:[A.jsx(P_,{type:"button",$variant:"secondary",onClick:r,children:"Cancel"}),A.jsx(P_,{type:"button",$variant:"primary",onClick:u,children:"Save"})]})]})})},KY=()=>A.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20","aria-hidden":"true",focusable:"false",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.jsx("path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"}),A.jsx("path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"})]}),VY=()=>A.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20","aria-hidden":"true",focusable:"false",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.jsx("path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"}),A.jsx("path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"})]}),ZY=()=>A.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20","aria-hidden":"true",focusable:"false",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.jsx("path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"}),A.jsx("path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"})]});function JY({selectedElement:e,selectedConnector:t,selectionCount:r,onPropertyChange:o,onWaypointsChange:i,onCopyProperties:l,onPasteProperties:c,onResetProperties:u,canPasteProperties:h}){const[f,p]=v.useState(!1),y=v.useMemo(()=>typeof navigator<"u"&&navigator.platform.toUpperCase().includes("MAC"),[])?"":"Ctrl",b=r===1&&e?e:null,x=r===1&&t&&!e?t:null,C=v.useMemo(()=>new Set(Gk()),[]),S=!!x?.startAttachment,E=!!x?.endAttachment,R=LY({element:b,connector:x,immutableKeys:C,startAnchored:S,endAnchored:E}),_=v.useCallback(()=>{x&&p(!0)},[x]),T=v.useCallback(W=>{i&&i(W)},[i]),k=v.useCallback(()=>{p(!1)},[]),O=v.useCallback((W,ae)=>{W.isReadOnly||W.group==="immutable"||o(W.id,ae)},[o]),M=v.useCallback((W,ae)=>{W.isReadOnly||W.group==="immutable"||o(W.id,Wk(ae,W))},[o]),j=v.useCallback((W,ae)=>{W.isReadOnly||W.group==="immutable"||o(W.id,ae)},[o]),H=v.useCallback((W,ae)=>{W.isReadOnly||W.group==="immutable"||o(W.id,ae)},[o]),U=r===0?"Select an item to inspect its properties.":"Select a single item to inspect its properties.",Y=!!(b||x),Q=!!(b||x);return A.jsxs(Gz,{children:[A.jsxs(Wz,{children:[A.jsx(Qz,{children:"Properties"}),A.jsxs(Kz,{children:[A.jsx(Am,{$variant:"ghost",type:"button",onClick:l,disabled:!Y,title:`Copy properties (${y}+Shift+C)`,"aria-label":"Copy properties",children:A.jsx(Em,{children:A.jsx(KY,{})})}),A.jsx(Am,{$variant:"ghost",type:"button",onClick:c,disabled:!h,title:`Paste properties (${y}+Shift+V)`,"aria-label":"Paste properties",children:A.jsx(Em,{children:A.jsx(VY,{})})}),A.jsx(Am,{$variant:"ghost",type:"button",onClick:u,disabled:!Q,title:"Reset styling","aria-label":"Reset styling",children:A.jsx(Em,{children:A.jsx(ZY,{})})})]})]}),!b&&!x?A.jsx(t8,{children:U}):A.jsxs(Vz,{"data-property-table":"true",children:[A.jsxs(Zz,{children:[A.jsx("div",{children:"Property"}),A.jsx("div",{children:"Value"})]}),A.jsx(Jz,{"data-property-table-body":"true",children:R.map(W=>A.jsxs(e8,{"data-property-id":W.schema.id,children:[A.jsx(_A,{children:W.schema.label??W.schema.id}),A.jsx(_A,{$align:"right",children:A.jsx(NY,{schema:W.schema,value:W.value,isReadOnly:W.isReadOnly,waypoints:x?.waypoints,onBooleanToggle:O,onNumberCommit:M,onSelectChange:j,onTextChange:H,onWaypointsEdit:_})})]},W.schema.id))})]}),f&&x&&A.jsx(QY,{waypoints:x.waypoints??[],onSave:T,onClose:k})]})}const j_=Zt("library-properties-split"),eu=.3,Tb=14;function eU({isCollapsed:e,onDragStart:t,onDragMove:r,onDragEnd:o,onElementClick:i,selectedElement:l,selectedConnector:c,selectionCount:u,onPropertyChange:h,onWaypointsChange:f,onCopyProperties:p,onPasteProperties:g,onResetProperties:y,canPasteProperties:b}){const[x,C]=v.useState(!e),S=v.useRef(null),E=v.useCallback(()=>{if(typeof window>"u")return eu;try{const H=window.localStorage.getItem(j_);if(!H)return eu;const U=Number.parseFloat(H);return Number.isFinite(U)?Math.min(.85,Math.max(.2,U)):eu}catch{return eu}},[]),[R,_]=v.useState(()=>E()),[T,k]=v.useState(!1);v.useEffect(()=>{if(e)C(!1);else{const H=setTimeout(()=>{C(!0)},300);return()=>clearTimeout(H)}},[e]),v.useEffect(()=>{if(!(typeof window>"u")&&!(R<=0)&&!Ir())try{window.localStorage.setItem(j_,R.toString())}catch{}},[R]),v.useEffect(()=>{if(typeof window>"u")return;const H=()=>{_(eu)};return window.addEventListener(Ru,H),()=>{window.removeEventListener(Ru,H)}},[]),v.useEffect(()=>{if(!x||!S.current)return;const H=S.current.getBoundingClientRect();if(H.height===0)return;const U=170,Y=140,Q=Math.min(.85,Math.max(0,(H.height-U-Tb)/H.height));if(Q<=0){R!==0&&_(0);return}const W=Math.min(Q,Math.max(0,Y/H.height)),ae=Math.min(Q,Math.max(W,R));Math.abs(ae-R)>1e-4&&_(ae)},[x,R]);const O=v.useCallback(H=>{if(!S.current)return;const U=S.current.getBoundingClientRect();if(U.height===0)return;H.preventDefault(),k(!0);const Y=H.clientY,Q=R,W=170,ae=140,Z=N=>{const q=Math.min(.85,Math.max(0,(U.height-W-Tb)/U.height));if(q<=0)return 0;const $=Math.min(q,Math.max(0,ae/U.height));return Math.min(q,Math.max($,N))},P=N=>{const q=N.clientY-Y,$=Z(Q+q/U.height);_($)},L=()=>{k(!1),document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",L)};document.addEventListener("mousemove",P),document.addEventListener("mouseup",L)},[R]),M=v.useCallback(H=>{if(!S.current||H.touches.length!==1)return;const U=S.current.getBoundingClientRect();if(U.height===0)return;const Y=H.touches[0];H.preventDefault();const Q=Y.clientY,W=R,ae=170,Z=140;k(!0);const P=q=>{const $=Math.min(.85,Math.max(0,(U.height-ae-Tb)/U.height));if($<=0)return 0;const D=Math.min($,Math.max(0,Z/U.height));return Math.min($,Math.max(D,q))},L=q=>{if(q.touches.length!==1)return;const $=q.touches[0].clientY-Q,D=P(W+$/U.height);_(D)},N=()=>{k(!1),document.removeEventListener("touchmove",L),document.removeEventListener("touchend",N),document.removeEventListener("touchcancel",N)};document.addEventListener("touchmove",L,{passive:!1}),document.addEventListener("touchend",N),document.addEventListener("touchcancel",N)},[R]),j=`${(R*100).toFixed(2)}%`;return A.jsx(Tz,{$isCollapsed:e,children:x&&A.jsxs(kz,{ref:S,children:[A.jsx(Oz,{"data-element-library-section":"true",style:{flex:`0 0 ${j}`,minHeight:"140px"},children:A.jsx(Iz,{children:ax.map(H=>A.jsx(Fz,{element:H,onDragStart:t,onDragMove:r,onDragEnd:o,onClick:i},H.type))})}),A.jsx(Pz,{onMouseDown:O,onTouchStart:M,$isDragging:T,"aria-label":"Resize library and properties",role:"separator","data-library-resizer":"true"}),A.jsx(jz,{children:A.jsx(Dz,{"data-library-properties":"true",children:A.jsx(Bz,{"data-property-scroll-content":"true",children:A.jsx(JY,{selectedElement:l,selectedConnector:c,selectionCount:u,onPropertyChange:h,onWaypointsChange:f,onCopyProperties:p,onPasteProperties:g,onResetProperties:y,canPasteProperties:b})})})})]})})}const tU=se.div.attrs(e=>e.$isDocked?{}:{style:{top:`${e.$top}px`,left:`${e.$left}px`}})`
  position: ${e=>e.$isDocked?"static":"absolute"};
  display: flex;
  flex-direction: ${e=>e.$orientation==="vertical"?"column":"row"};
  align-items: center;
  gap: ${e=>e.$orientation==="vertical"?"6px":"4px"};
  padding: ${e=>e.$orientation==="vertical"?"6px 4px":"4px 6px"};
  background: ${e=>e.$isDocked?"rgba(255, 255, 255, 0.85)":"rgba(255, 255, 255, 0.9)"};
  border: none;
  border-radius: ${e=>e.$orientation==="vertical"?"16px":"14px"};
  box-shadow: ${e=>e.$isDocked?"none":"0 12px 30px rgba(76, 86, 103, 0.12)"};
  backdrop-filter: blur(12px);
  z-index: ${e=>e.$isDocked?1200:100};
  transition: box-shadow 0.3s ease;
  touch-action: none;
  user-select: none;
  ${e=>e.$orientation==="vertical"&&Fa`
    width: 36px;
    min-width: 36px;
    max-width: 36px;
  `}

  &:hover {
    box-shadow: ${e=>e.$isDocked?"none":"0 16px 35px rgba(76, 86, 103, 0.18)"};
  }
`,nU=se.button`
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  border: none;
  border-radius: 9px;
  background: transparent;
  color: #a7b0bc;
  cursor: grab;
  transition: all 0.2s ease;
  touch-action: none;
  ${e=>e.$orientation==="vertical"?Fa`
        width: 100%;
        height: 18px;
        margin: 0 auto 4px;
      `:Fa`
        width: 18px;
        height: 100%;
        margin-right: 2px;
      `}

  &:hover {
    color: #6f7784;
    background: rgba(76, 86, 103, 0.12);
  }

  &:active {
    cursor: grabbing;
    background: rgba(76, 86, 103, 0.15);
  }
`,rU=se.span`
  display: block;
  border-radius: 999px;
  background: currentColor;
  opacity: 0.85;
  ${e=>e.$orientation==="vertical"?Fa`
        width: 16px;
        height: 4px;
        box-shadow: -6px 0 0 currentColor, 6px 0 0 currentColor;
      `:Fa`
        width: 4px;
        height: 14px;
        box-shadow: 0 -6px 0 currentColor, 0 6px 0 currentColor;
      `}
`,D_=se.button`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border: none;
  border-radius: 9px;
  background: ${e=>e.$isActive?"rgba(76, 86, 103, 0.15)":"transparent"};
  color: ${e=>e.$isActive?"#2c3e50":"#5b6577"};
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 17px;
  box-shadow: ${e=>e.$isActive?"0 6px 16px rgba(76, 86, 103, 0.18)":"none"};

  &:hover {
    color: #2c3e50;
    transform: translateY(-2px);
    box-shadow: 0 8px 18px rgba(76, 86, 103, 0.18);
  }

  &:active {
    transform: translateY(-1px);
  }
`,kb=se.div`
  display: flex;
  align-items: center;
  gap: ${e=>e.$orientation==="vertical"?"6px":"4px"};
  ${e=>e.$orientation==="vertical"?Fa`
        flex-direction: column;
        margin-left: 0;
        padding-left: 0;
        border-left: none;
        margin-top: 10px;
        padding-top: 10px;
        border-top: 1px solid rgba(225, 229, 233, 0.6);
      `:Fa`
        flex-direction: row;
        margin-left: 16px;
        padding-left: 16px;
        border-left: 1px solid rgba(225, 229, 233, 0.6);
      `}
`,Bo=se.button`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border: none;
  border-radius: 9px;
  background: transparent;
  color: ${e=>e.$disabled?"#c0c6d1":"#5b6577"};
  cursor: ${e=>e.$disabled?"not-allowed":"pointer"};
  transition: all 0.2s ease;
  font-size: 16px;
  opacity: ${e=>e.$disabled?.5:1};

  &:hover {
    ${e=>!e.$disabled&&`
      color: #2c3e50;
      transform: translateY(-1px);
      box-shadow: 0 6px 14px rgba(76, 86, 103, 0.18);
    `}
  }

  &:active {
    ${e=>!e.$disabled&&`
      transform: translateY(0);
    `}
  }
`,B_=se.div`
  position: relative;
`,aU=se.div`
  ${e=>e.$orientation==="vertical"?Fa`
        width: 100%;
        height: 0;
        margin: 6px 0;
        border-top: 1px solid rgba(225, 229, 233, 0.6);
      `:Fa`
        width: 0;
        height: 28px;
        margin: 0 12px;
        border-left: 1px solid rgba(225, 229, 233, 0.6);
      `}
`,z_=se.button`
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  border-radius: 9px;
  background: ${e=>e.$isOpen?"rgba(76, 86, 103, 0.15)":"transparent"};
  color: ${e=>e.$isOpen?"#2c3e50":"#5b6577"};
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 18px;
  line-height: 1;
  outline: none;

  &:hover {
    color: #2c3e50;
    transform: translateY(-2px);
    box-shadow: 0 8px 18px rgba(76, 86, 103, 0.18);
  }
`,oU=se.button`
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  border-radius: 9px;
  background: ${e=>e.$isActive?"rgba(76, 86, 103, 0.15)":"transparent"};
  color: ${e=>(e.$isActive,"#2c3e50")};
  font-weight: 600;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.2s ease;
  letter-spacing: 0.5px;
  outline: none;

  &:hover {
    color: #2c3e50;
    transform: translateY(-2px);
    box-shadow: 0 8px 18px rgba(76, 86, 103, 0.18);
  }
`,QO=`
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translate(-50%, 8px);
  padding: 10px;
  background: rgba(255, 255, 255, 0.92);
  border: none;
  border-radius: 16px;
  box-shadow: 0 18px 36px rgba(76, 86, 103, 0.18);
  backdrop-filter: blur(16px);
  display: grid;
  grid-template-columns: repeat(3, 78px);
  gap: 10px;
  z-index: 120;
`,iU=se.div`
  ${QO}
`,sU=se.div`
  ${QO}
`,N_=se.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  color: #4a5568;
  text-align: center;
`,KO=se.button`
  width: 78px;
  height: 84px;
  border: none;
  border-radius: 12px;
  background: ${e=>e.$isActive?"rgba(76, 86, 103, 0.15)":"transparent"};
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 6px;
  cursor: ${e=>e.$isClickableOnly?"pointer":e.$isDragging?"grabbing":"grab"};
  box-shadow: ${e=>e.$isDragging?"0 10px 24px rgba(76, 86, 103, 0.24)":"none"};
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
  padding: 10px;
  outline: none;

  &:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 18px rgba(76, 86, 103, 0.18);
  }
`,VO=se.svg`
  width: 48px;
  height: 48px;
`,lU=se(VO)`
  transform: scale(0.9);
  transform-origin: center;
`,ZO=se.span`
  font-size: 10px;
  color: #4a5568;
  white-space: nowrap;
`,JO=se.div.attrs(e=>({style:{top:`${e.$y}px`,left:`${e.$x}px`,opacity:e.$visible?1:0}}))`
  position: fixed;
  transform: translate(-50%, -50%);
  padding: 8px 12px;
  background: rgba(44, 62, 80, 0.85);
  color: white;
  border-radius: 8px;
  font-size: 12px;
  pointer-events: none;
  transition: opacity 0.1s ease;
  white-space: nowrap;
  z-index: 200;
`,cU=se.div`
  position: fixed;
  background: white;
  border: 1px solid #e1e5e9;
  border-radius: 6px;
  box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);
  min-width: 180px;
  z-index: 1300;
  padding: 4px;
`,uU=se.button`
  width: 100%;
  padding: 8px 12px;
  border: none;
  background: none;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  text-align: left;
  cursor: pointer;
  font-size: 12px;
  color: #2c3e50;
  border-radius: 4px;
  user-select: none;

  &:hover {
    background: #f5f5f5;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,dU=se.span`
  font-size: 11px;
  color: #6c757d;
`,fU=se.div`
  height: 1px;
  background: #e1e5e9;
  margin: 4px 0;
`,hU=({style:e,children:t,dataAttributes:r,forwardedRef:o})=>A.jsx(cU,{ref:o,style:e,...r??{},children:t}),pU=({entry:e,onSelect:t})=>A.jsxs(uU,{type:"button",onClick:t,disabled:e.disabled,...e.dataAttributes??{},children:[A.jsx("span",{children:e.label}),e.shortcut?A.jsx(dU,{children:e.shortcut}):null]}),gU={Container:hU,Item:pU,Separator:fU},mU=8,yU=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height});function lh(){const[e,t]=v.useState(null),r=v.useCallback(l=>{const{event:c,position:u,entries:h,dataAttributes:f,metadata:p,anchorRect:g,placement:y,portalTarget:b}=l,x=g?yU(g):void 0,C=x?x.left+x.width/2:c?.clientX??0,S=x?x.bottom:c?.clientY??0,E=u?.x??C,R=u?.y??S;c?.preventDefault&&c.preventDefault(),t({isOpen:!0,x:E,y:R,entries:h,dataAttributes:f,metadata:p,anchorRect:x,placement:y??(x?"anchor":"cursor"),portalTarget:b??(typeof document<"u"?document.body:null)})},[]),o=v.useCallback(()=>{t(l=>l&&{...l,isOpen:!1})},[]),i=v.useCallback(()=>t(null),[]);return v.useMemo(()=>({state:e,openMenu:r,closeMenu:o,resetMenu:i,isOpen:!!e?.isOpen}),[e,r,o,i])}function ch({state:e,closeMenu:t,resetMenu:r,components:o=gU}){const i=v.useRef(null),[l,c]=v.useState({x:0,y:0});if(v.useEffect(()=>{if(!e?.isOpen)return;const b=S=>{S.button===0&&(i.current?.contains(S.target)||t())},x=S=>{if(i.current){if(i.current.contains(S.target)){S.preventDefault();return}t()}},C=S=>{S.key==="Escape"&&t()};return document.addEventListener("mousedown",b),document.addEventListener("contextmenu",x),document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("contextmenu",x),document.removeEventListener("keydown",C)}},[e?.isOpen,t]),v.useEffect(()=>{if(!e?.isOpen&&(c({x:0,y:0}),r)){const b=requestAnimationFrame(r);return()=>cancelAnimationFrame(b)}},[e?.isOpen,r]),v.useEffect(()=>{e?.isOpen&&c({x:e.x,y:e.y})},[e?.isOpen,e?.x,e?.y]),v.useLayoutEffect(()=>{if(!e?.isOpen||!i.current)return;const x=i.current.getBoundingClientRect();let C=l.x,S=l.y;const E=mU;if(e.placement==="anchor"&&e.anchorRect){const R=e.anchorRect,_=R.top-x.height-E,T=R.bottom+E;C=R.left+R.width/2-x.width/2,_>=E?S=_:S=T}if(typeof window<"u"){const R=window.innerWidth,_=window.innerHeight;C+x.width+E>R?C=Math.max(E,R-x.width-E):C=Math.max(E,C),S+x.height+E>_?S=Math.max(E,_-x.height-E):S=Math.max(E,S)}(C!==l.x||S!==l.y)&&c({x:C,y:S})},[e?.isOpen,e?.placement,e?.anchorRect,l.x,l.y]),!e?.isOpen)return null;const{Container:u,Item:h,Separator:f}=o,p={left:`${l.x}px`,top:`${l.y}px`},g=A.jsx(u,{forwardedRef:i,style:p,dataAttributes:e.dataAttributes,children:e.entries.map(b=>{if(b.type==="separator")return A.jsx(f,{},b.id);const x=()=>{b.disabled||(b.onSelect(),b.closeOnSelect!==!1&&t())};return A.jsx(h,{entry:b,onSelect:x},b.id)})}),y=e.portalTarget??(typeof document<"u"?document.body:null);return y?Ta.createPortal(g,y):g}function bU(e){const{modKeyLabel:t,altKeyLabel:r,deleteShortcutLabel:o,hasAnySelection:i,canGroup:l,canUngroup:c,canSnapToGrid:u,onBringToFront:h,onBringForward:f,onSendBackward:p,onSendToBack:g,onGroup:y,onUngroup:b,onSnapToGrid:x,onDelete:C}=e;return[{type:"item",id:"bring-front",label:"Bring to front",shortcut:`${t}+Shift+J`,disabled:!i,onSelect:h},{type:"item",id:"bring-forward",label:"Bring forward",shortcut:`${t}+J`,disabled:!i,onSelect:f},{type:"item",id:"send-backward",label:"Send backward",shortcut:`${t}+K`,disabled:!i,onSelect:p},{type:"item",id:"send-to-back",label:"Send to back",shortcut:`${t}+Shift+K`,disabled:!i,onSelect:g},{type:"separator",id:"layering-divider"},{type:"item",id:"snap-to-grid",label:"Snap to grid",shortcut:`${t}+G`,disabled:!u,onSelect:x},{type:"separator",id:"snap-divider"},{type:"item",id:"group",label:"Group",shortcut:`${t}+${r}+G`,disabled:!l,onSelect:y},{type:"item",id:"ungroup",label:"Ungroup",shortcut:`${t}+Shift+G`,disabled:!c,onSelect:b},{type:"separator",id:"edit-divider"},{type:"item",id:"delete",label:"Delete",shortcut:o,disabled:!i,onSelect:C}]}function vU(e){const{zoomOutShortcutLabel:t,zoomInShortcutLabel:r,resetZoomShortcutLabel:o,fitShortcutLabel:i,onZoomOut:l,onZoomIn:c,onResetZoom:u,onFitToScreen:h}=e;return[{type:"item",id:"zoom-out",label:"Zoom out",shortcut:t,onSelect:l},{type:"item",id:"zoom-in",label:"Zoom in",shortcut:r,onSelect:c},{type:"item",id:"reset-zoom",label:"Reset zoom",shortcut:o,onSelect:u},{type:"item",id:"fit-to-screen",label:"Fit to screen",shortcut:i,onSelect:h}]}function xU(e){const{isDocked:t,onToggleOrientation:r,onDock:o,onUndock:i}=e,l=[];return t||l.push({type:"item",id:"toggle-orientation",label:"Toggle orientation",dataAttributes:{"data-toolbar-menu-item":"toggle-orientation"},onSelect:r}),l.push({type:"item",id:t?"undock-toolbar":"dock-toolbar",label:t?"Undock toolbar":"Dock toolbar",dataAttributes:{"data-toolbar-menu-item":t?"undock":"dock"},onSelect:t?i:o}),l}function wU(e){const{canDuplicate:t,canDelete:r,onDuplicate:o,onDelete:i}=e;return[{type:"item",id:"duplicate",label:"Duplicate",disabled:!t,dataAttributes:{"data-menu-action":"duplicate"},onSelect:o},{type:"item",id:"delete",label:"Delete",disabled:!r,dataAttributes:{"data-menu-action":"delete"},onSelect:i}]}const Ob={lineColour:"#6c757d",lineWidth:2,opacity:1,shadow:!1,shadowColour:"#000000",shadowOpacity:.36,shadowBlurRadius:6},CU=[{type:"connector",label:"Line",defaultProps:{type:"line",properties:{...Ob,startMark:"None",endMark:"None"}}},{type:"connector",label:"Single Arrow",defaultProps:{type:"line",properties:{...Ob,startMark:"None",endMark:"HollowArrow"}}},{type:"connector",label:"Double Arrow",defaultProps:{type:"line",properties:{...Ob,startMark:"HollowArrow",endMark:"HollowArrow"}}}],SU=["linear-gradient(90deg, #f0f0f0 1px, transparent 1px)","linear-gradient(180deg, #f0f0f0 1px, transparent 1px)","linear-gradient(90deg, #f6f6f6 1px, transparent 1px)","linear-gradient(180deg, #f6f6f6 1px, transparent 1px)"].join(", "),AU="100px 100px, 100px 100px, 20px 20px, 20px 20px",EU="-0.5px -0.5px, -0.5px -0.5px, -0.5px -0.5px, -0.5px -0.5px",wa=20,uh=8e3,dh=5e3,MU=se.div`
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
  touch-action: none;
  cursor: ${e=>e.$isPanning?"grabbing":e.$canvasMode==="select"?"crosshair":e.$canvasMode==="draw-connector"?"cell":"grab"};

  &.panning {
    cursor: grabbing;
  }
`,_U=se.div.attrs(e=>({style:{transform:`scale(${e.$zoom}) translate(${e.$panX}px, ${e.$panY}px)`,backgroundImage:e.$showGrid?SU:"none",backgroundSize:e.$showGrid?AU:void 0,backgroundPosition:e.$showGrid?EU:void 0}}))`
  position: absolute;
  left: calc(${wa}px - 0.5px);
  top: calc(${wa}px - 0.5px);
  transform-origin: 0 0;
  width: ${uh}px;
  height: ${dh}px;
  touch-action: none;
  background-color: #ffffff;
  background-size: 100px 100px, 100px 100px, 20px 20px, 20px 20px;
  background-position: -0.5px -0.5px, -0.5px -0.5px, -0.5px -0.5px, -0.5px -0.5px;
  box-shadow: 1px 0 0 0 #e8e8e8, 0 1px 0 0 #e8e8e8;
`,ka=({children:e})=>A.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:e}),RU=()=>A.jsx(ka,{children:A.jsxs("g",{stroke:"#4c5667",strokeWidth:"2.2",strokeLinecap:"round",children:[A.jsx("line",{x1:"6",y1:"5",x2:"10",y2:"5"}),A.jsx("line",{x1:"14",y1:"5",x2:"18",y2:"5"}),A.jsx("line",{x1:"5",y1:"6",x2:"5",y2:"10"}),A.jsx("line",{x1:"5",y1:"14",x2:"5",y2:"18"}),A.jsx("line",{x1:"6",y1:"19",x2:"10",y2:"19"}),A.jsx("line",{x1:"14",y1:"19",x2:"18",y2:"19"}),A.jsx("line",{x1:"19",y1:"6",x2:"19",y2:"10"}),A.jsx("line",{x1:"19",y1:"14",x2:"19",y2:"18"})]})}),TU=()=>A.jsxs(ka,{children:[A.jsx("path",{d:"M12 4V20"}),A.jsx("path",{d:"M12 4L9.7 6.3"}),A.jsx("path",{d:"M12 4L14.3 6.3"}),A.jsx("path",{d:"M12 20L9.7 17.7"}),A.jsx("path",{d:"M12 20L14.3 17.7"}),A.jsx("path",{d:"M4 12H20"}),A.jsx("path",{d:"M4 12L6.3 9.7"}),A.jsx("path",{d:"M4 12L6.3 14.3"}),A.jsx("path",{d:"M20 12L17.7 9.7"}),A.jsx("path",{d:"M20 12L17.7 14.3"})]}),kU=()=>A.jsx(WP,{size:20,strokeWidth:1.8,"aria-hidden":"true"}),OU=()=>A.jsxs(ka,{children:[A.jsx("rect",{x:"4.5",y:"4.5",width:"9",height:"9",rx:"2"}),A.jsx("circle",{cx:"16.5",cy:"16.5",r:"3.5"})]}),IU=()=>A.jsxs(ka,{children:[A.jsx("circle",{cx:"6",cy:"16",r:"2.3",fill:"currentColor",stroke:"none"}),A.jsx("circle",{cx:"18",cy:"8",r:"2.3",fill:"currentColor",stroke:"none"}),A.jsx("path",{d:"M8 14.5L16 9.5"})]}),PU=()=>A.jsxs(ka,{children:[A.jsx("path",{d:"M9 7L5 11L9 15"}),A.jsx("path",{d:"M5 11H14.5C17.5 11 19.5 13.4 19.5 16"})]}),jU=()=>A.jsxs(ka,{children:[A.jsx("path",{d:"M15 7L19 11L15 15"}),A.jsx("path",{d:"M19 11H9.5C6.5 11 4.5 13.4 4.5 16"})]}),DU=()=>A.jsx(ej,{"aria-hidden":"true",size:16,stroke:1.8}),BU=()=>A.jsxs(ka,{children:[A.jsxs("g",{stroke:"#4c5667",children:[A.jsx("line",{x1:"5",y1:"7",x2:"11",y2:"7"}),A.jsx("line",{x1:"5",y1:"12",x2:"11",y2:"12"}),A.jsx("line",{x1:"5",y1:"17",x2:"18",y2:"17"})]}),A.jsxs("g",{stroke:"#2aa565",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{d:"M15.5 6.5L15.5 14.6"}),A.jsx("path",{d:"M15.5 14.6L13.3 12.4"}),A.jsx("path",{d:"M15.5 14.6L17.7 12.4"})]})]}),zU=()=>A.jsxs(ka,{children:[A.jsxs("g",{stroke:"#4c5667",children:[A.jsx("line",{x1:"5",y1:"7",x2:"11",y2:"7"}),A.jsx("line",{x1:"5",y1:"12",x2:"11",y2:"12"}),A.jsx("line",{x1:"5",y1:"17",x2:"11",y2:"17"})]}),A.jsxs("g",{stroke:"#2aa565",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{d:"M15.5 9L15.5 15"}),A.jsx("path",{d:"M15.5 15L13.6 13.1"}),A.jsx("path",{d:"M15.5 15L17.4 13.1"})]})]}),NU=()=>A.jsxs(ka,{children:[A.jsxs("g",{stroke:"#4c5667",children:[A.jsx("line",{x1:"5",y1:"7",x2:"11",y2:"7"}),A.jsx("line",{x1:"5",y1:"12",x2:"11",y2:"12"}),A.jsx("line",{x1:"5",y1:"17",x2:"11",y2:"17"})]}),A.jsxs("g",{stroke:"#2aa565",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{d:"M15.5 15L15.5 9"}),A.jsx("path",{d:"M15.5 9L13.6 10.9"}),A.jsx("path",{d:"M15.5 9L17.4 10.9"})]})]}),L_=Zt("floating-toolbar-orientation"),LU=()=>A.jsxs(ka,{children:[A.jsxs("g",{stroke:"#4c5667",children:[A.jsx("line",{x1:"5",y1:"7",x2:"18",y2:"7"}),A.jsx("line",{x1:"5",y1:"12",x2:"11",y2:"12"}),A.jsx("line",{x1:"5",y1:"17",x2:"11",y2:"17"})]}),A.jsxs("g",{stroke:"#2aa565",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{d:"M15.5 16.5L15.5 9.2"}),A.jsx("path",{d:"M15.5 9.2L13.3 11.4"}),A.jsx("path",{d:"M15.5 9.2L17.7 11.4"})]})]}),HU=()=>A.jsxs(ka,{children:[A.jsx("rect",{x:"6.2",y:"8.2",width:"9",height:"9",rx:"2",stroke:"#4c5667",strokeWidth:"1.5",fill:"none"}),A.jsx("rect",{x:"9.4",y:"5",width:"9",height:"9",rx:"2",stroke:"#4c5667",strokeWidth:"1.5",fill:"none"})]}),$U=()=>A.jsxs(ka,{children:[A.jsx("rect",{x:"5.8",y:"9.8",width:"7.6",height:"7.6",rx:"2",stroke:"#4c5667",strokeWidth:"1.5",fill:"none"}),A.jsx("rect",{x:"11.6",y:"5.2",width:"7.6",height:"7.6",rx:"2",stroke:"#4c5667",strokeWidth:"1.5",fill:"none"})]}),fh=3,FU=({item:e})=>{const t=e.defaultProps.style?.backgroundColor??"#ffffff",r=e.defaultProps.style?.borderColor??"#6c757d",o=4,i={stroke:r,strokeWidth:o,strokeLinejoin:"round",strokeLinecap:"round"},l=()=>A.jsxs(A.Fragment,{children:[A.jsx("path",{d:"M22 26 V64 A28 10 0 0 0 78 64 V26 Z",fill:t,...i}),A.jsx("ellipse",{cx:"50",cy:"26",rx:"28",ry:"10",fill:t,...i}),A.jsx("path",{d:"M22 64 A28 10 0 0 0 78 64",fill:"none",...i})]});switch(e.type){case"oval":return e.defaultProps.properties?.constrainRatio?A.jsx("circle",{cx:"50",cy:"46",r:"24",fill:t,stroke:r,strokeWidth:o}):A.jsx("ellipse",{cx:"50",cy:"46",rx:"32",ry:"24",fill:t,stroke:r,strokeWidth:o});case"rhombus":return A.jsx("polygon",{points:"50,18 86,46 50,74 14,46",fill:t,stroke:r,strokeWidth:o});case"triangle":return A.jsx("polygon",{points:"50,18 86,78 14,78",fill:t,stroke:r,strokeWidth:o});case"parallelogram":return A.jsx("polygon",{points:"22,26 78,26 64,74 8,74",fill:t,stroke:r,strokeWidth:o});case"hexagon":return A.jsx("polygon",{points:"35,22 65,22 82,50 65,78 35,78 18,50",fill:t,stroke:r,strokeWidth:o});case"cylinder":return A.jsx(l,{});case"pipe":return A.jsx("g",{transform:"rotate(90 50 50)",children:A.jsx(l,{})});case"card":return A.jsx("polygon",{points:"32,26 78,26 78,74 14,74 14,44",fill:t,stroke:r,strokeWidth:o});case"note":{const b="20,22 80,22 80,66 64,82 20,82",x="#6c757d";return A.jsxs("g",{children:[A.jsx("polygon",{points:b,fill:"none",stroke:x,strokeWidth:o}),A.jsx("line",{x1:64,y1:82,x2:80,y2:66,stroke:x,strokeWidth:o}),A.jsx("line",{x1:64,y1:66,x2:80,y2:66,stroke:x,strokeWidth:o}),A.jsx("line",{x1:64,y1:66,x2:64,y2:82,stroke:x,strokeWidth:o})]})}case"actor":{const c=o*.65,u=12,h=28,f=40,p=68,g=50,y=36,b=88,x=30,C=50;return A.jsxs("g",{fill:"none",stroke:r,strokeWidth:c,strokeLinecap:"round",children:[A.jsx("circle",{cx:C,cy:h,r:u}),A.jsx("line",{x1:C,y1:f,x2:C,y2:p}),A.jsx("line",{x1:C-y/2,y1:g,x2:C+y/2,y2:g}),A.jsx("line",{x1:C,y1:p,x2:C-x/2,y2:b}),A.jsx("line",{x1:C,y1:p,x2:C+x/2,y2:b})]})}case"rectangle":return e.defaultProps.properties?.constrainRatio?A.jsx("rect",{x:"28",y:"22",width:"44",height:"44",fill:t,stroke:r,strokeWidth:o}):A.jsx("rect",{x:"14",y:"26",width:"72",height:"40",fill:t,stroke:r,strokeWidth:o});default:return A.jsx("rect",{x:"16",y:"18",width:"68",height:"56",fill:t,stroke:r,strokeWidth:o})}},YU=({item:e,onDragStart:t,onDragMove:r,onDragEnd:o,onClick:i})=>{const[l,c]=v.useState(!1),[u,h]=v.useState({x:0,y:0}),f=v.useCallback(g=>{if(g.button!==0)return;g.preventDefault();const y={x:g.clientX,y:g.clientY};c(!1),h(y);let b=!1;const x=S=>{const E={x:S.clientX,y:S.clientY},R=Math.abs(E.x-y.x),_=Math.abs(E.y-y.y);!b&&(R>fh||_>fh)&&(b=!0,c(!0),t(e,y)),b&&(h(E),r(E))},C=S=>{const E={x:S.clientX,y:S.clientY};b?o(E):i(e),c(!1),document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",C)},[e,t,r,o,i]),p=v.useCallback(g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),i(e))},[e,i]);return A.jsxs(A.Fragment,{children:[A.jsxs(KO,{type:"button","aria-label":e.label,$isDragging:l,onMouseDown:f,onKeyDown:p,children:[A.jsx(VO,{viewBox:"0 0 100 100",role:"presentation","aria-hidden":"true",children:A.jsx(FU,{item:e})}),A.jsx(ZO,{children:e.label})]}),l&&typeof document<"u"?Ta.createPortal(A.jsx(JO,{$x:u.x,$y:u.y,$visible:l,children:e.label}),document.body):null]})},UU=({item:e,isActive:t,onSelect:r})=>{const o=v.useCallback(()=>{r(e)},[e,r]),i=v.useCallback(j=>{(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),r(e))},[e,r]),l=e.defaultProps?.properties,c=l?.startMark==="HollowArrow",u=l?.endMark==="HollowArrow",h="#6c757d",f=18,p=70,g=82,y=30,b=g-f,x=y-p,C=Math.sqrt(b*b+x*x)||1,S={x:b/C,y:x/C},E={x:-S.y,y:S.x},R=16,_=7,T=R*.75,k=(j,H,U)=>{const Y=j-S.x*R*U,Q=H-S.y*R*U,W=Y+E.x*_,ae=Q+E.y*_,Z=Y-E.x*_,P=Q-E.y*_;return`M ${j} ${H} L ${W} ${ae} M ${j} ${H} L ${Z} ${P}`},O=c?{x:f+S.x*T,y:p+S.y*T}:{x:f,y:p},M=u?{x:g-S.x*T,y:y-S.y*T}:{x:g,y};return A.jsxs(KO,{type:"button","aria-label":`${e.label} connector`,$isDragging:!1,$isClickableOnly:!0,$isActive:t,onClick:o,onKeyDown:i,children:[A.jsxs(lU,{viewBox:"0 0 100 100",role:"presentation","aria-hidden":"true",children:[A.jsx("line",{x1:O.x,y1:O.y,x2:M.x,y2:M.y,stroke:h,strokeWidth:6,strokeLinecap:"round"}),c&&A.jsx("path",{d:k(f,p,-1),stroke:h,strokeWidth:6.5,strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),u&&A.jsx("path",{d:k(g,y,1),stroke:h,strokeWidth:6.5,strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}),A.jsx(ZO,{children:e.label})]})},qU=({item:e,onDragStart:t,onDragMove:r,onDragEnd:o,onClick:i})=>{const[l,c]=v.useState(!1),[u,h]=v.useState({x:0,y:0}),f=v.useCallback(g=>{if(g.button!==0)return;g.preventDefault();const y={x:g.clientX,y:g.clientY};c(!1),h(y);let b=!1;const x=S=>{const E={x:S.clientX,y:S.clientY},R=Math.abs(E.x-y.x),_=Math.abs(E.y-y.y);!b&&(R>fh||_>fh)&&(b=!0,c(!0),t(e,y)),b&&(h(E),r(E))},C=S=>{const E={x:S.clientX,y:S.clientY};b?o(E):i(e),c(!1),document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",C)},[e,t,r,o,i]),p=v.useCallback(g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),i(e))},[e,i]);return A.jsxs(A.Fragment,{children:[A.jsx(oU,{type:"button","aria-label":"Text",title:"Insert text element","data-text-tool-button":"true",$isDragging:l,onMouseDown:f,onKeyDown:p,children:A.jsx(kU,{})}),l&&typeof document<"u"?Ta.createPortal(A.jsx(JO,{$x:u.x,$y:u.y,$visible:l,children:e.label}),document.body):null]})};function H_({canvasMode:e,isTemporarySelectMode:t,onSetMode:r,onSendToBack:o,onBringBack:i,onBringForward:l,onSendToFront:c,hasSelection:u,onUndo:h,onRedo:f,canUndo:p=!1,canRedo:g=!1,onDelete:y,onGroup:b,onUngroup:x,canGroup:C=!1,canUngroup:S=!1,onShapeDragStart:E,onShapeDragMove:R,onShapeDragEnd:_,onShapeClick:T,onConnectorToolSelect:k,activeConnectorPreset:O,position:M,onPositionChange:j,shouldAutoCenter:H,isDocked:U,onDockToolbar:Y,onUndockToolbar:Q,shouldCenterOnUndock:W,onCenterOnUndockHandled:ae,onDockedMouseDown:Z,onDockedTouchStart:P}){const L=v.useMemo(()=>typeof navigator<"u"&&navigator.platform.toUpperCase().includes("MAC"),[]),N=L?"":"Ctrl",q=L?"":"Alt",$=e==="drag"&&t?"select":e,[D,F]=v.useState(!1),X=v.useRef(null),[re,V]=v.useState(!1),ee=v.useRef(null),te=v.useRef(null),J=v.useRef(null),ie=v.useRef(!H),[be,ge]=v.useState(()=>typeof window>"u"?"horizontal":window.localStorage.getItem(L_)==="vertical"?"vertical":"horizontal");v.useEffect(()=>{U&&ge("horizontal")},[U]),v.useEffect(()=>{typeof window>"u"||U||window.localStorage.setItem(L_,be)},[be,U]);const{state:Ee,openMenu:Te,closeMenu:Se,resetMenu:ce}=lh(),Oe=v.useCallback(Re=>{T(Re),F(!1)},[T]),Ce=v.useCallback((Re,Ie)=>{E(Re,Ie)},[E]),Le=v.useCallback(Re=>{R(Re)},[R]),He=v.useCallback(Re=>{_(Re),F(!1)},[_]),dt=v.useCallback(Re=>{k(Re),V(!1)},[k]),Qe=v.useCallback((Re,Ie)=>{if(U||!te.current||!J.current)return!1;const _e=te.current.offsetParent?.getBoundingClientRect();if(!_e)return!1;const Ne=te.current.getBoundingClientRect(),Ve=Re-_e.left-J.current.offsetX,Je=Ie-_e.top-J.current.offsetY,ke=8;if(Je<=0)return ge("horizontal"),Y(),!0;const Xe=Math.max(ke,_e.width-Ne.width-ke),Ge=Math.max(ke,_e.height-Ne.height-ke),ct=Math.min(Math.max(ke,Ve),Xe),Jt=Math.min(Math.max(ke,Je),Ge);return j({x:ct,y:Jt}),!1},[U,Y,j,ge]);v.useLayoutEffect(()=>{if(!W||U)return;if(!te.current){ae();return}const Ie=te.current.offsetParent?.getBoundingClientRect();if(!Ie){ae();return}const Pe=te.current.getBoundingClientRect(),_e=8,Ne=Math.max(_e,Ie.width-Pe.width-_e),Ve=Math.max(_e,Ie.height-Pe.height-_e),Je=_e+Math.max(0,(Ie.width-Pe.width)/2),ke=Math.min(Math.max(_e,Je),Ne),Xe=Math.max(_e,wa+5),Ge=Math.min(Xe,Ve);j({x:ke,y:Ge}),ge("horizontal"),ae()},[U,ae,j,ge,W]);const tt=v.useCallback(()=>{ge(Re=>Re==="horizontal"?"vertical":"horizontal"),Se()},[Se]),$e=v.useCallback(()=>{ge("horizontal"),Se(),ce(),Y()},[Se,Y,ce]),Fe=v.useCallback(()=>{Se(),ce(),Q({shouldCenter:!0})},[Se,Q,ce]),ze=v.useMemo(()=>xU({isDocked:U,onToggleOrientation:tt,onDock:$e,onUndock:Fe}),[$e,tt,Fe,U]),rt=v.useCallback(Re=>{Re.preventDefault(),Re.stopPropagation(),Te({event:Re,entries:ze,dataAttributes:{"data-toolbar-menu":"true"},portalTarget:typeof document<"u"?document.body:null})},[Te,ze]),Ke=v.useCallback(Re=>{if(Re.button!==0)return;if(U){Z&&Z(Re);return}if(Re.preventDefault(),!te.current)return;const Pe=te.current.offsetParent?.getBoundingClientRect();if(!Pe)return;J.current={offsetX:Re.clientX-Pe.left-M.x,offsetY:Re.clientY-Pe.top-M.y};const _e=Ve=>{Ve.preventDefault(),Qe(Ve.clientX,Ve.clientY)&&Ne()},Ne=()=>{J.current=null,document.removeEventListener("mousemove",_e),document.removeEventListener("mouseup",Ne)};document.addEventListener("mousemove",_e),document.addEventListener("mouseup",Ne)},[Qe,U,Z,M.x,M.y]),ft=v.useCallback(Re=>{if(U){P&&P(Re);return}if(!te.current)return;const Ie=Re.touches[0];if(!Ie)return;Re.preventDefault();const _e=te.current.offsetParent?.getBoundingClientRect();if(!_e)return;J.current={offsetX:Ie.clientX-_e.left-M.x,offsetY:Ie.clientY-_e.top-M.y};const Ne=Je=>{const ke=Je.touches[0];if(!ke)return;Je.preventDefault(),Qe(ke.clientX,ke.clientY)&&Ve()},Ve=()=>{J.current=null,document.removeEventListener("touchmove",Ne),document.removeEventListener("touchend",Ve),document.removeEventListener("touchcancel",Ve)};document.addEventListener("touchmove",Ne,{passive:!1}),document.addEventListener("touchend",Ve),document.addEventListener("touchcancel",Ve)},[Qe,U,P,M.x,M.y]),$t=v.useCallback(()=>{if(U||!te.current)return null;const Ie=te.current.offsetParent?.getBoundingClientRect();if(!Ie)return null;const Pe=te.current.getBoundingClientRect(),_e=8,Ne=Math.max(_e,Ie.width-Pe.width-_e),Ve=Math.max(_e,Ie.height-Pe.height-_e),Je=Math.min(Math.max(_e,M.x),Ne),ke=Math.min(Math.max(_e,M.y),Ve);return(Je!==M.x||ke!==M.y)&&j({x:Je,y:ke}),{clampedX:Je,clampedY:ke,padding:_e,maxX:Ne,maxY:Ve}},[U,j,M.x,M.y]);return v.useLayoutEffect(()=>{const Re=$t();if(!Re)return;const{padding:Ie,maxX:Pe,maxY:_e}=Re;if(!H||ie.current||!te.current)return;const Ve=te.current.offsetParent?.getBoundingClientRect();if(!Ve)return;const Je=te.current.getBoundingClientRect(),ke=Ie+Math.max(0,(Ve.width-Je.width)/2),Xe=Math.min(Math.max(Ie,ke),Pe),Ge=Math.min(Math.max(Ie,M.y),_e);(Xe!==M.x||Ge!==M.y)&&j({x:Xe,y:Ge}),ie.current=!0},[$t,j,M.x,M.y,H]),v.useEffect(()=>{if(!D)return;const Re=Pe=>{X.current&&(X.current.parentElement?.contains(Pe.target)||F(!1))},Ie=Pe=>{Pe.key==="Escape"&&F(!1)};return document.addEventListener("mousedown",Re),document.addEventListener("keydown",Ie),()=>{document.removeEventListener("mousedown",Re),document.removeEventListener("keydown",Ie)}},[D]),v.useEffect(()=>{if(!re)return;const Re=Pe=>{ee.current&&(ee.current.parentElement?.contains(Pe.target)||V(!1))},Ie=Pe=>{Pe.key==="Escape"&&V(!1)};return document.addEventListener("mousedown",Re),document.addEventListener("keydown",Ie),()=>{document.removeEventListener("mousedown",Re),document.removeEventListener("keydown",Ie)}},[re]),A.jsxs(A.Fragment,{children:[A.jsxs(tU,{ref:te,"data-floating-toolbar":U?void 0:"true","data-floating-toolbar-docked":U?"true":void 0,$top:M.y,$left:M.x,$orientation:be,$isDocked:U,"data-orientation":be,onContextMenuCapture:rt,children:[A.jsx(nU,{type:"button",onMouseDown:Ke,onTouchStart:ft,"aria-label":"Drag toolbar",$orientation:be,children:A.jsx(rU,{"aria-hidden":"true",$orientation:be})}),A.jsx(D_,{type:"button",$isActive:$==="select",onClick:()=>r("select"),title:"Select Mode (S) - Draw selection area","aria-pressed":$==="select","aria-label":"Select mode",children:A.jsx(RU,{})}),A.jsx(D_,{type:"button",$isActive:$==="drag",onClick:()=>r("drag"),title:"Drag Mode (D) - Move items and pan the canvas","aria-pressed":$==="drag","aria-label":"Drag mode",children:A.jsx(TU,{})}),A.jsx(aU,{"aria-hidden":"true",$orientation:be}),A.jsx(qU,{item:Yz,onDragStart:Ce,onDragMove:Le,onDragEnd:He,onClick:Oe}),A.jsxs(B_,{children:[A.jsx(z_,{ref:X,$isOpen:D,onClick:()=>F(Re=>!Re),title:"Shapes","aria-label":"Shapes","aria-haspopup":"true","aria-expanded":D,children:A.jsx(OU,{})}),D&&A.jsx(iU,{role:"menu","aria-label":"Shapes library",children:Nk.map(Re=>A.jsx(N_,{role:"presentation",children:A.jsx(YU,{item:Re,onDragStart:Ce,onDragMove:Le,onDragEnd:He,onClick:Oe})},`${Re.type}-${Re.label}`))})]}),A.jsxs(B_,{children:[A.jsx(z_,{ref:ee,$isOpen:re,onClick:()=>V(Re=>!Re),title:"Connectors","aria-label":"Connectors","aria-haspopup":"true","aria-expanded":re,children:A.jsx(IU,{})}),re&&A.jsx(sU,{role:"menu","aria-label":"Connectors library",children:CU.map(Re=>{const Ie=e==="draw-connector"&&O?.label===Re.label;return A.jsx(N_,{role:"presentation",children:A.jsx(UU,{item:Re,isActive:Ie,onSelect:dt})},`${Re.type}-${Re.label}`)})})]}),(h||f||y)&&A.jsxs(kb,{$orientation:be,children:[h&&A.jsx(Bo,{onClick:h,title:`Undo (${N}+Z)`,$disabled:!p,disabled:!p,children:A.jsx(PU,{})}),f&&A.jsx(Bo,{onClick:f,title:`Redo (${N}+Shift+Z)`,$disabled:!g,disabled:!g,children:A.jsx(jU,{})}),y&&A.jsx(Bo,{onClick:y,title:"Delete (Del/Backspace)",$disabled:!u,disabled:!u,children:A.jsx(DU,{})})]}),A.jsxs(kb,{$orientation:be,children:[A.jsx(Bo,{onClick:c,title:`Send to front (${N}+Shift+J)`,$disabled:!u,disabled:!u,children:A.jsx(LU,{})}),A.jsx(Bo,{onClick:l,title:`Bring forward (${N}+J)`,$disabled:!u,disabled:!u,children:A.jsx(NU,{})}),A.jsx(Bo,{onClick:i,title:`Send backward (${N}+K)`,$disabled:!u,disabled:!u,children:A.jsx(zU,{})}),A.jsx(Bo,{onClick:o,title:`Send to back (${N}+Shift+K)`,$disabled:!u,disabled:!u,children:A.jsx(BU,{})})]}),(b||x)&&A.jsxs(kb,{$orientation:be,children:[b&&A.jsx(Bo,{onClick:b,title:`Group (${N}+${q}+G)`,$disabled:!C,disabled:!C,children:A.jsx(HU,{})}),x&&A.jsx(Bo,{onClick:x,title:`Ungroup (${N}+Shift+G)`,$disabled:!S,disabled:!S,children:A.jsx($U,{})})]})]}),A.jsx(ch,{state:Ee,closeMenu:Se,resetMenu:ce})]})}const $_="project-import-modal-title";function XU({isOpen:e,pendingImportData:t,onConfirm:r,onCancel:o}){const i=(t?.canvasState?.elements?.length??0)+(t?.canvasState?.connectors?.length??0);return A.jsxs(ic,{isOpen:e,onClose:o,ariaLabelledBy:$_,dataAttributes:{"data-project-import-modal":"true"},closeOnOverlayClick:!1,children:[A.jsxs(rc,{id:$_,children:[uo," Project Import"]}),A.jsxs(ac,{children:[A.jsxs("p",{children:["You are about to import a ",uo," project file containing"," ",A.jsx("strong",{children:i})," ",i===1?"item":"items","."]}),A.jsxs("p",{children:["Would you like to ",A.jsx("strong",{children:"clear the current canvas"})," before importing, or ",A.jsx("strong",{children:"append"})," the imported elements to the existing ones?"]}),A.jsx(rx,{role:"note",children:"Clearing the canvas cannot be undone."})]}),A.jsxs(oc,{children:[A.jsx(ra,{onClick:o,children:"Cancel"}),A.jsx(ra,{$variant:"primary",onClick:()=>r(!1),title:"Keep current canvas items and append the imported ones",children:"Append to Canvas"}),A.jsx(ra,{$variant:"danger",onClick:()=>r(!0),title:"Clears the current canvas before importing",children:"Clear & Import"})]})]})}const F_="page-import-modal-title";function GU({isOpen:e,pages:t,onSelect:r,onCancel:o}){const i=v.useMemo(()=>t.slice().sort((f,p)=>f.order-p.order),[t]),[l,c]=v.useState(i[0]?.id??"");v.useEffect(()=>{const f=i[0]?.id??"";c(f)},[i,e]);const u=f=>{c(f.target.value)},h=()=>{l&&r(l)};return A.jsxs(ic,{isOpen:e,onClose:o,ariaLabelledBy:F_,dataAttributes:{"data-page-import-modal":"true"},closeOnOverlayClick:!1,children:[A.jsx(rc,{id:F_,children:"Select Page to Import"}),A.jsxs(ac,{children:[A.jsx("p",{children:"Please choose which page from the imported project you would like to load into the current canvas."}),A.jsxs(Ez,{children:[A.jsx(Mz,{htmlFor:"pagePicker-select",children:"Imported page"}),A.jsx(_z,{id:"pagePicker-select",value:l,onChange:u,children:i.map(f=>A.jsx("option",{value:f.id,children:f.name},f.id))})]})]}),A.jsxs(oc,{children:[A.jsx(ra,{$variant:"primary",onClick:h,disabled:!l,children:"Import"}),A.jsx(ra,{onClick:o,children:"Cancel"})]})]})}function WU({isOpen:e,pageCount:t,onConfirm:r,onCancel:o}){return A.jsxs(ic,{isOpen:e,onClose:o,closeOnOverlayClick:!1,children:[A.jsx(rc,{children:"Replace Project"}),A.jsxs(ac,{children:[A.jsx("p",{children:"This action cannot be undone automatically. Do you want to proceed?"}),A.jsx(rx,{role:"note",children:"Replacing the project cannot be undone."})]}),A.jsxs(oc,{children:[A.jsx(ra,{onClick:o,children:"Cancel"}),A.jsx(ra,{$variant:"danger",onClick:r,children:"Replace Project"})]})]})}const Zn=18,QU=100,tu=20,KU=6,VU=4,ZU=60,JU=.5,eq=1.5,tq=se.div`
  position: absolute;
  ${e=>e.$orientation==="horizontal"?`
    top: 0;
    left: ${Zn}px;
    right: 0;
    height: ${Zn}px;
  `:`
    top: ${Zn}px;
    left: 0;
    bottom: 0;
    width: ${Zn}px;
  `}
  background: #f8f9fa;
  border: 1px solid #e0e0e0;
  ${e=>e.$orientation==="horizontal"?"border-width: 0 0 1px 0;":"border-width: 0 1px 0 0;"}
  overflow: hidden;
  pointer-events: none;
  z-index: 100;
  user-select: none;
`,nq=se.canvas`
  display: block;
`,Y_=se.div.attrs(e=>{const t=e.$thickness??1,r=e.$variant==="cursor"?JU:eq;return e.$orientation==="horizontal"?{style:{left:`${e.$position-t/2+r}px`,top:0,width:`${t}px`,height:"100%"}}:{style:{top:`${e.$position-t/2+r}px`,left:0,width:"100%",height:`${t}px`}}})`
  position: absolute;
  background: ${e=>e.$color};
  opacity: 0.6;
  pointer-events: none;
`,rq=se.div`
  position: absolute;
  top: 0;
  left: 0;
  width: ${Zn}px;
  height: ${Zn}px;
  background: #f8f9fa;
  border-right: 1px solid #e0e0e0;
  border-bottom: 1px solid #e0e0e0;
  z-index: 101;
`,aq="#3498db",oq="rgba(231, 76, 60, 0.85)",U_=({orientation:e,zoom:t,pan:r,mousePos:o,snapWorldPositions:i})=>{const l=v.useRef(null),c=v.useRef(null);v.useEffect(()=>{const f=l.current,p=c.current;if(!f||!p)return;const g=f.getContext("2d");if(!g)return;const y=p.getBoundingClientRect(),b=e==="horizontal"?y.width:y.height;e==="horizontal"?(f.width=b*window.devicePixelRatio,f.height=Zn*window.devicePixelRatio,f.style.width=`${b}px`,f.style.height=`${Zn}px`):(f.width=Zn*window.devicePixelRatio,f.height=b*window.devicePixelRatio,f.style.width=`${Zn}px`,f.style.height=`${b}px`),g.scale(window.devicePixelRatio,window.devicePixelRatio),g.clearRect(0,0,b,Zn),g.fillStyle="#666",g.strokeStyle="#999",g.lineWidth=1,g.font='8px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',g.textAlign="center",g.textBaseline="middle";const x=-r,C=b/t-r,S=Math.floor(x/tu)*tu,E=Math.ceil(C/tu)*tu;let R=-1/0;for(let _=S;_<=E;_+=tu){const T=(_+r)*t;if(T<0||T>b)continue;const k=_%QU===0,O=k?KU:VU;if(g.beginPath(),e==="horizontal"?(g.moveTo(T+1.5,Zn-O),g.lineTo(T+1.5,Zn)):(g.moveTo(Zn-O,T+1.5),g.lineTo(Zn,T+1.5)),g.stroke(),k&&_>=0){if(Math.abs(T-R)<ZU)continue;const j=_.toString();e==="horizontal"?g.fillText(j,T+1.5,Zn/2-.5):(g.save(),g.translate(Zn/2-1.5,T+1.5),g.rotate(-Math.PI/2),g.fillText(j,0,0),g.restore()),R=T}}},[e,t,r]);const u=o!==null?o-Zn:-100,h=(i??[]).map(f=>(f+r)*t);return A.jsxs(tq,{ref:c,$orientation:e,"data-ruler":e,children:[A.jsx(nq,{ref:l}),o!==null&&A.jsx(Y_,{$orientation:e,$position:u,$color:aq,$variant:"cursor",$thickness:2}),h.map((f,p)=>A.jsx(Y_,{$orientation:e,$position:f,$color:oq,$variant:"snap",$thickness:2},`snap-caret-${p}`))]})},iq=()=>A.jsx(rq,{}),sq=se.div.attrs(e=>({style:e.$styleVars}))`
  position: absolute;
  left: var(--element-left, 0px);
  top: var(--element-top, 0px);
  width: var(--element-width, 0px);
  height: var(--element-height, 0px);
  min-width: 0;
  min-height: 0;
  box-sizing: border-box;
  border-radius: var(--element-border-radius, 4px);
  cursor: ${e=>e.$interactive?"pointer":"crosshair"};
  pointer-events: ${e=>e.$interactive?"auto":"none"};
  user-select: none;
  padding: var(--element-padding, 4px);
  font-family: var(--element-font-family, ${aa});
  transform: translate(var(--element-translate-x, 0px), var(--element-translate-y, 0px));
  overflow: visible;
  transition: box-shadow 0.2s ease;
  display: var(--element-display, flex);
  align-items: var(--element-align-items, center);
  justify-content: var(--element-justify-content, center);
  white-space: var(--element-white-space, nowrap);
  text-align: var(--element-text-align, center);
  word-break: var(--element-word-break, normal);
  overflow-wrap: var(--element-overflow-wrap, normal);
  background: var(--element-background, white);
  border: var(--element-border, 1px solid #6c757d);
  color: var(--element-color, #2c3e50);
  font-size: var(--element-font-size, 14px);
  font-weight: var(--element-font-weight, normal);
  box-shadow: var(--element-shadow, 1px 1px 3px rgba(0,0,0,0.1));
  opacity: var(--element-opacity, 1);

  &::before {
    content: '';
    position: absolute;
    top: calc(var(--handle-hover-padding, 0px) * -1);
    right: calc(var(--handle-hover-padding, 0px) * -1);
    bottom: calc(var(--handle-hover-padding, 0px) * -1);
    left: calc(var(--handle-hover-padding, 0px) * -1);
    pointer-events: none;
    background: transparent;
  }

  &[data-element-selected='true']::before {
    pointer-events: ${e=>e.$interactive?"auto":"none"};
  }

  &[data-suppress-pointer-overlay='true']::before {
    pointer-events: none;
  }

  &[data-interactive='true']:hover {
    box-shadow: var(--element-hover-shadow, var(--element-shadow, 1px 1px 3px rgba(0,0,0,0.1)));

    /* Show resize handles on hover - target the ResizeHandles container specifically */
    > div[data-resize-container] {
      opacity: 1 !important;
    }
  }
  &[data-anchor-highlight-visible='true'] {
    /* Anchor highlight is now rendered via SVG overlay */
  }
`,lq=se.div.attrs(e=>({style:{left:e.$left,top:e.$top,width:e.$width,height:e.$height}}))`
  position: absolute;
  border: 2px dashed #3498db;
  background: rgba(52, 152, 219, 0.1);
  pointer-events: none;
  z-index: 1000;
  animation: marchingAnts 1s linear infinite;

  @keyframes marchingAnts {
    0% {
      border-offset: 0;
    }
    100% {
      border-offset: 8px;
    }
  }
`,cq=se.span`
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
  width: ${e=>e.$type==="checkbox"?"20px":"16px"};
  height: ${e=>e.$type==="checkbox"?"20px":"16px"};
  z-index: 3;

  & .checkbox-mark {
    font-size: var(--element-checkmark-font-size, 18px);
    font-weight: 700;
    color: #3498db;
    line-height: 1;
    transform: translateY(var(--element-checkmark-translate-y, -1px));
  }

  & .radio-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #3498db;
  }
`,eI=`
  position: absolute;
  border: 2px solid #3498db;
  background: white;
  border-radius: 4px;
  padding: 4px 8px;
  box-sizing: border-box;
  font-family: var(--inline-font-family, ${aa});
  transform: none;
  z-index: 1001;
  outline: none;
  box-shadow: 0 0 0 2px #3498db, 1px 1px 3px rgba(0,0,0,0.1);
  resize: none;
`,uq=se.input`
  ${eI}
  left: var(--inline-left, 0px);
  top: var(--inline-top, 0px);
  width: var(--inline-width, 100px);
  height: var(--inline-height, 20px);
  font-size: var(--inline-font-size, 14px);
  font-weight: var(--inline-font-weight, normal);
  color: var(--inline-color, #2c3e50);
  text-align: var(--inline-text-align, center);
  opacity: var(--inline-opacity, 1);
`,dq=se.textarea`
  ${eI}
  left: var(--inline-left, 0px);
  top: var(--inline-top, 0px);
  width: var(--inline-width, 100px);
  height: var(--inline-height, 20px);
  font-size: var(--inline-font-size, 14px);
  font-weight: var(--inline-font-weight, normal);
  color: var(--inline-color, #2c3e50);
  text-align: var(--inline-text-align, left);
  opacity: var(--inline-opacity, 1);
  vertical-align: top;
  white-space: pre-wrap;
`,Bt=e=>Math.max(0,e),q_=e=>{if(e.length===1){const t=e+e;return parseInt(t,16)}return parseInt(e,16)},fq=(e,t=.25)=>{const r=e.trim().match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i);if(!r)return e;const o=r[1],i=o.length===3?o.split("").map(q_):[o.slice(0,2),o.slice(2,4),o.slice(4,6)].map(q_),l=Math.max(0,Math.min(1,t));return`#${i.map(u=>{const h=Math.round(u*(1-l));return Math.max(0,Math.min(255,h)).toString(16).padStart(2,"0")}).join("")}`},hq=({type:e,fill:t,stroke:r,strokeWidth:o,lineStyle:i,lineRounding:l,width:c,height:u})=>{const f={stroke:r,strokeWidth:o,strokeDasharray:(J=>{switch(J){case"Dashed":return"12 8";case"Dotted":return"1 6";default:return}})(i),vectorEffect:"non-scaling-stroke",strokeLinecap:l>0?"round":"butt",strokeLinejoin:l>0?"round":"miter"},p=c>0?c:1,g=u>0?u:1,y=p/100,b=g/100,x=Math.min(p/2,g/2),C=Math.min(l,x),S=Math.max(y,b),E=S>0?C/S:0,R=o/2,_=y>0?Math.min(49,Bt(R/y)):0,T=b>0?Math.min(49,Bt(R/b)):0,k=_,O=Bt(100-_),M=T,j=Bt(100-T),H=50,U=50,Y={width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none",style:{overflow:"visible"}},Q=Bt((O-k)/2),W=Bt(j-M),ae=Bt(Math.min(W/2,Math.max(W*.12,T))),Z=Bt(ae),P=Bt(M+ae),L=Bt(j-ae),N=()=>A.jsxs(A.Fragment,{children:[A.jsx("path",{d:`M${k} ${P} V${L} A${Q} ${Z} 0 0 0 ${O} ${L} V${P} Z`,fill:t,...f}),A.jsx("ellipse",{cx:H,cy:P,rx:Q,ry:Z,fill:t,...f}),A.jsx("path",{d:`M${k} ${L} A${Q} ${Z} 0 0 0 ${O} ${L}`,fill:"none",...f})]}),q=Bt((j-M)/2),$=Bt(O-k),D=Bt(Math.min($/2,Math.max($*.12,_))),F=Bt(D),X=Bt(k+D),re=Bt(O-D),V=()=>A.jsxs(A.Fragment,{children:[A.jsx("path",{d:`M${X} ${M} H${re} A${F} ${q} 0 0 1 ${re} ${j} H${X} Z`,fill:t,...f}),A.jsx("ellipse",{cx:X,cy:U,rx:F,ry:q,fill:t,...f}),A.jsx("path",{d:`M${re} ${M} A${F} ${q} 0 0 1 ${re} ${j}`,fill:"none",...f})]}),ee=(J,ie)=>{if(J.length<2)return"";if(ie<=0)return J.map(([ge,Ee],Te)=>`${Te===0?"M":"L"}${ge},${Ee}`).join(" ")+" Z";let be="";for(let ge=0;ge<J.length;ge++){const[Ee,Te]=J[ge],[Se,ce]=J[(ge+1)%J.length],[Oe,Ce]=J[(ge-1+J.length)%J.length],Le=Ee-Oe,He=Te-Ce,dt=Math.sqrt(Le*Le+He*He),Qe=Se-Ee,tt=ce-Te,$e=Math.sqrt(Qe*Qe+tt*tt),Fe=Math.min(ie,dt/2,$e/2);if(Fe>0){const ze=Le/dt*Fe,rt=He/dt*Fe,Ke=Qe/$e*Fe,ft=tt/$e*Fe,$t=Ee-ze,Re=Te-rt,Ie=Ee+Ke,Pe=Te+ft;ge===0&&(be+=`M${$t},${Re} `),be+=`L${$t},${Re} Q${Ee},${Te} ${Ie},${Pe} `}else ge===0?be+=`M${Ee},${Te} `:be+=`L${Ee},${Te} `}return be+="Z",be},te=(()=>{switch(e){case"oval":return A.jsx("ellipse",{cx:H,cy:U,rx:Bt(50-_),ry:Bt(50-T),fill:t,...f});case"rhombus":{const ie=ee([[H,M],[O,U],[H,j],[k,U]],0);return A.jsx("path",{d:ie,fill:t,...f})}case"triangle":{const ie=ee([[H,M],[O,j],[k,j]],0);return A.jsx("path",{d:ie,fill:t,...f})}case"parallelogram":{const J=[[Bt(25+_),M],[O,M],[Bt(75+_),j],[k,j]],ie=ee(J,0);return A.jsx("path",{d:ie,fill:t,...f})}case"hexagon":{const J=Math.max(0,O-k),ie=Math.max(0,j-M),be=[[.35,.22],[.65,.22],[.82,.5],[.65,.78],[.35,.78],[.18,.5]],ge=1.4*1.13,Ee=1.15,Te=be.map(([ce,Oe])=>{const Ce=.5+(ce-.5)*ge,Le=.5+(Oe-.5)*ge*Ee,He=Math.min(Math.max(Ce,0),1),dt=Math.min(Math.max(Le,0),1),Qe=Bt(k+J*He),tt=Bt(M+ie*dt);return[Qe,tt]}),Se=ee(Te,0);return A.jsx("path",{d:Se,fill:t,...f})}case"card":{const ge=Math.min(p,g)*.18,Ee=y>0?ge/y:0,Te=b>0?ge/b:0,Se=[[Bt(k+Ee),M],[O,M],[O,j],[k,j],[k,Bt(M+Te)]],ce=ee(Se,0);return A.jsx("path",{d:ce,fill:t,...f})}case"note":{const ge=Math.min(p,g)*.22,Ee=y>0?ge/y:0,Te=b>0?ge/b:0,Se=k,ce=M,Oe=O,Ce=j,Le=Bt(Oe-Ee),He=Bt(Ce-Te),dt=fq(t,.06),tt=ee([[Se,ce],[Oe,ce],[Oe,He],[Le,Ce],[Se,Ce]],0),$e=[`${Le},${He}`,`${Le},${Ce}`,`${Oe},${He}`].join(" ");return A.jsxs(A.Fragment,{children:[A.jsx("path",{d:tt,fill:t,...f}),A.jsx("polygon",{points:$e,fill:dt,stroke:"none"}),A.jsx("line",{x1:Le,y1:Ce,x2:Oe,y2:He,...f}),A.jsx("line",{x1:Le,y1:He,x2:Oe,y2:He,...f}),A.jsx("line",{x1:Le,y1:He,x2:Le,y2:Ce,...f})]})}case"actor":{const J=Bt(O-k),be=Bt(j-M)*.85,ge=60,Ee=100,Te=15,Se=10,ce=_e=>Bt(k+(_e-Te)/ge*J),Oe=_e=>Bt(M+(_e-Se)/Ee*be),Ce=ce(45),Le=Oe(25),He=Bt(15/Ee*be),dt=Bt(He*2),Qe=He,tt=ce(45),$e=Oe(40),Fe=Oe(80),ze=ce(15),rt=ce(75),Ke=Oe(55),ft=ce(45),$t=Oe(80),Re=ce(15),Ie=ce(75),Pe=Oe(110);return A.jsxs(A.Fragment,{children:[A.jsx("ellipse",{cx:Ce,cy:Le,rx:dt,ry:Qe,fill:"none",...f}),A.jsx("line",{x1:tt,y1:$e,x2:tt,y2:Fe,...f}),A.jsx("line",{x1:ze,y1:Ke,x2:rt,y2:Ke,...f}),A.jsx("line",{x1:ft,y1:$t,x2:Re,y2:Pe,...f}),A.jsx("line",{x1:ft,y1:$t,x2:Ie,y2:Pe,...f})]})}case"cylinder":return A.jsx(N,{});case"pipe":return A.jsx(V,{});case"rectangle":default:{if(e==="rectangle"&&l>0){const be=y>0?C/y:0,ge=b>0?C/b:0;return A.jsx("rect",{x:k,y:M,width:Bt(O-k),height:Bt(j-M),rx:be,ry:ge,fill:t,...f})}const ie=ee([[k,M],[O,M],[O,j],[k,j]],E);return A.jsx("path",{d:ie,fill:t,...f})}}})();return A.jsx("svg",{...Y,children:te})},Un=e=>Math.max(0,e),X_=e=>{if(!e)return!1;const t=e.trim().toLowerCase();if(t==="none"||t==="transparent")return!1;if(t.startsWith("rgba(")){const r=parseFloat(t.split(",")[3]?.replace(")","")??"1");return Number.isFinite(r)&&r>0}if(t.startsWith("hsla(")){const r=parseFloat(t.split(",")[3]?.replace(")","")??"1");return Number.isFinite(r)&&r>0}if(t.startsWith("#")&&t.length===9){const r=t.slice(7,9);return parseInt(r,16)>0}return!0},G_=(e,t,r,o,i)=>{const l=r>0?r:1,c=o>0?o:1,u=l/100,h=c/100,f=i/2,p=u>0?Math.min(49,Un(f/u)):0,g=h>0?Math.min(49,Un(f/h)):0,y=p,b=Un(100-p),x=g,C=Un(100-g),S=50,E=50,R=M=>M*u,_=M=>M*h,T=(M,j)=>e.moveTo(R(M),_(j)),k=(M,j)=>e.lineTo(R(M),_(j)),O=()=>{const M=Un(C-x),j=Un((b-y)/2),H=Un(Math.min(M/2,Math.max(M*.12,g))),U=Un(x+H),Y=Un(C-H),Q=_(U),W=_(Y),ae=R(j),Z=_(H),P=R(y),L=R(b),N=R(S);e.moveTo(P,Q),e.lineTo(P,W),e.ellipse(N,W,ae,Z,0,Math.PI,0,!1),e.lineTo(L,Q),e.ellipse(N,Q,ae,Z,0,0,Math.PI,!1),e.closePath()};switch(e.beginPath(),t){case"oval":e.ellipse(R(S),_(E),Math.max(0,R(50-p)),Math.max(0,_(50-g)),0,0,Math.PI*2);break;case"rhombus":T(S,x),k(b,E),k(S,C),k(y,E),e.closePath();break;case"triangle":T(S,x),k(b,C),k(y,C),e.closePath();break;case"parallelogram":{const M=Un(25+p),j=Un(75+p);T(M,x),k(b,x),k(j,C),k(y,C),e.closePath();break}case"hexagon":{const M=b-y,j=C-x,H=[[.35,.22],[.65,.22],[.82,.5],[.65,.78],[.35,.78],[.18,.5]],U=1.4*1.13,Y=1.15,Q=W=>Math.min(Math.max(W,0),1);H.forEach(([W,ae],Z)=>{const P=Q(.5+(W-.5)*U),L=Q(.5+(ae-.5)*U*Y),N=Un(y+M*P),q=Un(x+j*L);Z===0?T(N,q):k(N,q)}),e.closePath();break}case"card":{const M=Un(Math.min(b-y,C-x)*.18);T(Un(y+M),x),k(b,x),k(b,C),k(y,C),k(y,Un(x+M)),e.closePath();break}case"note":{const M=Un(Math.min(b-y,C-x)*.22),j=Un(b-M),H=Un(x+M);T(y,x),k(j,x),k(b,H),k(b,C),k(y,C),e.closePath();break}case"actor":e.rect(R(y),_(x),Math.max(0,R(b-y)),Math.max(0,_(C-x))),e.closePath();break;case"cylinder":O();break;case"pipe":e.save(),e.translate(r/2,o/2),e.rotate(Math.PI/2),e.translate(-o/2,-r/2),O(),e.restore();break;case"rectangle":default:e.rect(R(y),_(x),Math.max(0,R(b-y)),Math.max(0,_(C-x))),e.closePath();break}},pq=(e,t)=>{const{type:r,width:o,height:i,strokeWidth:l,fillColour:c,strokeColour:u,shadowColour:h,shadowBlur:f,shadowOffsetX:p,shadowOffsetY:g}=t,y=X_(c),b=l>0&&X_(u);if(!y&&!b)return;const x=window.devicePixelRatio||1,C=document.createElement("canvas");C.width=Math.max(1,Math.round(o*x)),C.height=Math.max(1,Math.round(i*x));const S=C.getContext("2d");if(!S)return;S.lineJoin="round",S.lineCap="round",S.scale(x,x);const E=()=>{y&&(G_(S,r,o,i,l),S.fillStyle="#000",S.fill())},R=()=>{b&&(G_(S,r,o,i,l),S.strokeStyle="#000",S.lineWidth=l,S.stroke())};E(),R();const _=f*.12,T=_*2+Math.abs(p),k=_*2+Math.abs(g),O=document.createElement("canvas");O.width=Math.max(1,Math.round(o+T*2)),O.height=Math.max(1,Math.round(i+k*2));const M=O.getContext("2d");if(!M)return;f>0&&(M.filter=`blur(${_}px)`),M.drawImage(C,T,k,o,i),M.filter="none",M.globalCompositeOperation="source-in",M.fillStyle=h,M.fillRect(0,0,O.width,O.height),M.globalCompositeOperation="source-over";const j=p-T,H=g-k;e.drawImage(O,j,H)},wn=(e,t)=>{if(e===void 0)return t;const r=Number(e);return Number.isFinite(r)?r:t},Ii=e=>Number.isFinite(e)?Math.max(0,e):0,gq=e=>{if(!e)return{top:0,right:0,bottom:0,left:0};try{const t=JSON.parse(e);return{top:Number(t.top)||0,right:Number(t.right)||0,bottom:Number(t.bottom)||0,left:Number(t.left)||0}}catch{return{top:0,right:0,bottom:0,left:0}}},mq=(e,t)=>{const r=e.dataset,o=gq(r.elementCanvasPadding),i={width:t.width,height:t.height,background:r.elementCanvasBackground??"#ffffff",lineColour:r.elementCanvasLineColour??"#6c757d",lineWidth:wn(r.elementCanvasLineWidth,0),borderRadius:wn(r.elementCanvasBorderRadius,0),padding:o},l=wn(r.elementCanvasFontSize,14),c={text:r.elementCanvasText??"",textAlign:r.elementCanvasTextAlign??"left",textColour:r.elementCanvasTextColour??"#2c3e50",fontSize:l,fontWeight:r.elementCanvasFontWeight??"normal",fontFamily:r.elementCanvasFontFamily??aa,lineHeight:wn(r.elementCanvasLineHeight,l*1.2),isTextArea:r.elementCanvasTextarea==="true"},u=r.elementCanvasCheckIndicator,h=r.elementCanvasDropdownCaret==="true",f=(()=>{const p={};return(u==="checkbox"||u==="radio")&&(p.checkIndicator={type:u,colour:r.elementCanvasCheckColour??"#3498db",fontSize:Ii(wn(r.elementCanvasCheckFontSize,Math.max(12,Math.min(t.width,t.height)*.75))),translateY:wn(r.elementCanvasCheckTranslateY,0)}),h&&(p.dropdownCaret={colour:r.elementCanvasDropdownCaretColour??c.textColour,size:Ii(wn(r.elementCanvasDropdownCaretSize,Math.max(6,Math.min(c.fontSize*.6,t.height*.6)))),offset:wn(r.elementCanvasDropdownCaretOffset,8)}),r.elementCanvasSlider==="true"&&(p.slider={value:Math.min(1,Ii(wn(r.elementCanvasSliderValue,.5))),trackStartX:wn(r.elementCanvasSliderTrackStart,0),trackEndX:wn(r.elementCanvasSliderTrackEnd,t.width),trackTop:wn(r.elementCanvasSliderTrackTop,t.height/2),trackHeight:Ii(wn(r.elementCanvasSliderTrackHeight,4)),trackColour:r.elementCanvasSliderTrackColour??"#d9dee4",fillColour:r.elementCanvasSliderFillColour??"#6c757d",knobCentreX:wn(r.elementCanvasSliderKnobX,t.width/2),knobRadius:Ii(wn(r.elementCanvasSliderKnobRadius,8)),knobColour:r.elementCanvasSliderKnobColour??"#ffffff",knobBorderColour:r.elementCanvasSliderKnobBorderColour??"#6c757d",knobBorderWidth:Ii(wn(r.elementCanvasSliderKnobBorderWidth,1)),mode:r.elementCanvasSliderMode==="range"?"range":r.elementCanvasSliderMode==="toggle"?"toggle":"single",secondaryValue:r.elementCanvasSliderSecondaryValue!==void 0?Math.min(1,Ii(wn(r.elementCanvasSliderSecondaryValue,0))):void 0,secondaryKnobCentreX:r.elementCanvasSliderSecondaryKnobX!==void 0?wn(r.elementCanvasSliderSecondaryKnobX,t.width/2):void 0,rangeFillStart:r.elementCanvasSliderRangeStart!==void 0?wn(r.elementCanvasSliderRangeStart,0):void 0,rangeFillEnd:r.elementCanvasSliderRangeEnd!==void 0?wn(r.elementCanvasSliderRangeEnd,t.width):void 0}),Object.keys(p).length>0?p:void 0})();return{renderOptions:i,textOptions:c,decorations:f}},yq=e=>{const t=e.dataset;return{colour:t.elementCanvasShadowColour??"rgba(0,0,0,0)",offsetX:wn(t.elementCanvasShadowOffsetX,0),offsetY:wn(t.elementCanvasShadowOffsetY,0),blur:Ii(wn(t.elementCanvasShadowBlur,0)),enabled:t.elementShadowCanvas==="true"&&(t.elementCanvasShadowColour??"")!=="rgba(0,0,0,0)"}},bq=(e,t,r,o)=>{const i=e.dataset;i.elementCanvas="true",i.elementCanvasBackground=t.renderOptions.background,i.elementCanvasLineColour=t.renderOptions.lineColour,i.elementCanvasLineWidth=String(t.renderOptions.lineWidth),i.elementCanvasBorderRadius=String(t.renderOptions.borderRadius),i.elementCanvasPadding=JSON.stringify(t.renderOptions.padding),i.elementCanvasText=t.textOptions.text,i.elementCanvasTextColour=t.textOptions.textColour,i.elementCanvasFontSize=String(t.textOptions.fontSize),i.elementCanvasFontWeight=t.textOptions.fontWeight,i.elementCanvasFontFamily=t.textOptions.fontFamily,i.elementCanvasTextAlign=t.textOptions.textAlign,i.elementCanvasLineHeight=String(t.textOptions.lineHeight),i.elementCanvasTextarea=t.textOptions.isTextArea?"true":"false",i.elementCanvasIncludeText="false";const l=t.decorations?.checkIndicator,c=o?.fallbackCheckColour,u=o?.fallbackCheckFontSize??0,h=o?.fallbackCheckTranslateY??0;l?(i.elementCanvasCheckIndicator=l.type,i.elementCanvasCheckColour=l.colour):(i.elementCanvasCheckIndicator="none",i.elementCanvasCheckColour=c),i.elementCanvasCheckFontSize=String(l?.fontSize??u),i.elementCanvasCheckTranslateY=String(l?.translateY??h);const f=t.decorations?.dropdownCaret;i.elementCanvasDropdownCaret=f?"true":"false",f?(i.elementCanvasDropdownCaretColour=f.colour,i.elementCanvasDropdownCaretSize=String(f.size),i.elementCanvasDropdownCaretOffset=String(f.offset)):(delete i.elementCanvasDropdownCaretColour,delete i.elementCanvasDropdownCaretSize,delete i.elementCanvasDropdownCaretOffset);const p=t.decorations?.slider;i.elementCanvasSlider=p?"true":"false",p?(i.elementCanvasSliderValue=String(p.value),i.elementCanvasSliderTrackStart=String(p.trackStartX),i.elementCanvasSliderTrackEnd=String(p.trackEndX),i.elementCanvasSliderTrackTop=String(p.trackTop),i.elementCanvasSliderTrackHeight=String(p.trackHeight),i.elementCanvasSliderTrackColour=p.trackColour,i.elementCanvasSliderFillColour=p.fillColour,i.elementCanvasSliderKnobX=String(p.knobCentreX),i.elementCanvasSliderKnobRadius=String(p.knobRadius),i.elementCanvasSliderKnobColour=p.knobColour,i.elementCanvasSliderKnobBorderColour=p.knobBorderColour,i.elementCanvasSliderKnobBorderWidth=String(p.knobBorderWidth),i.elementCanvasSliderMode=p.mode,p.secondaryValue!==void 0?i.elementCanvasSliderSecondaryValue=String(p.secondaryValue):delete i.elementCanvasSliderSecondaryValue,p.secondaryKnobCentreX!==void 0?i.elementCanvasSliderSecondaryKnobX=String(p.secondaryKnobCentreX):delete i.elementCanvasSliderSecondaryKnobX,p.rangeFillStart!==void 0?i.elementCanvasSliderRangeStart=String(p.rangeFillStart):delete i.elementCanvasSliderRangeStart,p.rangeFillEnd!==void 0?i.elementCanvasSliderRangeEnd=String(p.rangeFillEnd):delete i.elementCanvasSliderRangeEnd):(delete i.elementCanvasSliderValue,delete i.elementCanvasSliderTrackStart,delete i.elementCanvasSliderTrackEnd,delete i.elementCanvasSliderTrackTop,delete i.elementCanvasSliderTrackHeight,delete i.elementCanvasSliderTrackColour,delete i.elementCanvasSliderFillColour,delete i.elementCanvasSliderKnobX,delete i.elementCanvasSliderKnobRadius,delete i.elementCanvasSliderKnobColour,delete i.elementCanvasSliderKnobBorderColour,delete i.elementCanvasSliderKnobBorderWidth,delete i.elementCanvasSliderMode,delete i.elementCanvasSliderSecondaryValue,delete i.elementCanvasSliderSecondaryKnobX,delete i.elementCanvasSliderRangeStart,delete i.elementCanvasSliderRangeEnd)},vq=(e,t,r)=>{const o=e.dataset;o.elementShadowCanvas="true",o.elementCanvasShadowColour=r.colour,o.elementCanvasShadowOffsetX=String(r.offsetX),o.elementCanvasShadowOffsetY=String(r.offsetY),o.elementCanvasShadowBlur=String(r.blur),o.elementCanvasBackground=t.renderOptions.background,o.elementCanvasLineColour=t.renderOptions.lineColour,o.elementCanvasLineWidth=String(t.renderOptions.lineWidth),o.elementCanvasBorderRadius=String(t.renderOptions.borderRadius),o.elementCanvasPadding=JSON.stringify(t.renderOptions.padding)},tI=(e,t)=>{const r=e.dataset;r.elementCanvasShadowMarginTop=String(t.top),r.elementCanvasShadowMarginRight=String(t.right),r.elementCanvasShadowMarginBottom=String(t.bottom),r.elementCanvasShadowMarginLeft=String(t.left)},nI=(e,t)=>{const r={top:0,right:0,bottom:0,left:0},o=e.dataset,{width:i,height:l,strokeWidth:c,fillColour:u,strokeColour:h,shadow:f,shapeType:p}=t;if(!f.enabled||i<=0||l<=0)return e.width=0,e.height=0,e.style.width="0px",e.style.height="0px",e.style.left="0px",e.style.top="0px",o.elementShadowCanvas="false",o.elementCanvasShadowMarginTop="0",o.elementCanvasShadowMarginRight="0",o.elementCanvasShadowMarginBottom="0",o.elementCanvasShadowMarginLeft="0",o.elementCanvasShadowColour=f.colour??"rgba(0,0,0,0)",o.elementCanvasShadowOffsetX=String(f.offsetX??0),o.elementCanvasShadowOffsetY=String(f.offsetY??0),o.elementCanvasShadowBlur="0",{margins:r,applied:!1};const g=Math.max(0,f.blur),y=Math.max(0,f.spread),b=g+y,x=b+Math.max(0,-f.offsetX),C=b+Math.max(0,f.offsetX),S=b+Math.max(0,-f.offsetY),E=b+Math.max(0,f.offsetY),R=i+x+C,_=l+S+E,T=Math.max(1,Math.min(t.devicePixelRatio??window.devicePixelRatio??1,3));e.width=Math.max(1,Math.round(R*T)),e.height=Math.max(1,Math.round(_*T)),e.style.width=`${R}px`,e.style.height=`${_}px`,e.style.left=`${-x}px`,e.style.top=`${-S}px`;const k=e.getContext("2d");return k?(k.setTransform(T,0,0,T,0,0),k.clearRect(0,0,R,_),k.translate(x,S),pq(k,{type:p,width:i,height:l,strokeWidth:c,fillColour:u,strokeColour:h,shadowColour:f.colour,shadowBlur:b,shadowOffsetX:f.offsetX,shadowOffsetY:f.offsetY}),k.setTransform(1,0,0,1,0,0),o.elementShadowCanvas="true",o.elementCanvasShadowColour=f.colour,o.elementCanvasShadowOffsetX=String(f.offsetX),o.elementCanvasShadowOffsetY=String(f.offsetY),o.elementCanvasShadowBlur=String(b),o.elementCanvasShadowMarginTop=String(S),o.elementCanvasShadowMarginRight=String(C),o.elementCanvasShadowMarginBottom=String(E),o.elementCanvasShadowMarginLeft=String(x),{margins:{top:S,right:C,bottom:E,left:x},applied:!0}):{margins:r,applied:!1}},hh=e=>{if(!e)return null;const t=e.trim();if(!t||t==="none")return null;const r=[];let o="",i=0;for(const y of t){if(y==="("&&(i+=1),y===")"&&(i=Math.max(0,i-1)),y===","&&i===0){r.push(o.trim()),o="";continue}o+=y}o.trim()&&r.push(o.trim());const l=r[r.length-1],c=l.match(/^(.*?)(rgba?\([^)]*\)|hsla?\([^)]*\)|#[0-9a-fA-F]{3,8}|[a-zA-Z]+)\s*$/),u=l.match(/^(rgba?\([^)]*\)|hsla?\([^)]*\)|#[0-9a-fA-F]{3,8}|[a-zA-Z]+)\s+(.*)$/);let h=null,f=null;if(c&&c[2]?(f=c[1].trim(),h=c[2]):u&&u[1]&&(h=u[1],f=u[2].trim()),!h||!f)return null;const p=f.split(/\s+/).filter(Boolean);if(p.length<3)return null;const g=y=>{const b=y.replace("px",""),x=Number(b);return Number.isFinite(x)?x:0};return{offsetX:g(p[0]),offsetY:g(p[1]),blur:g(p[2]),spread:p[3]?g(p[3]):0,color:h}},Yf=(e,t,r,o,i,l)=>{const c=Math.max(0,Math.min(l,Math.min(o,i)/2));e.beginPath(),e.moveTo(t+c,r),e.lineTo(t+o-c,r),e.quadraticCurveTo(t+o,r,t+o,r+c),e.lineTo(t+o,r+i-c),e.quadraticCurveTo(t+o,r+i,t+o-c,r+i),e.lineTo(t+c,r+i),e.quadraticCurveTo(t,r+i,t,r+i-c),e.lineTo(t,r+c),e.quadraticCurveTo(t,r,t+c,r),e.closePath()},rI=(e,t,r,o,i,l)=>{const c=e.getContext("2d");if(!c)return;const u=Math.max(1,Math.round(t.width*i)),h=Math.max(1,Math.round(t.height*i));e.width!==u&&(e.width=u),e.height!==h&&(e.height=h),e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,c.setTransform(i,0,0,i,0,0),c.clearRect(0,0,t.width,t.height);const f=t.lineWidth/2,p=Math.max(0,t.width-t.lineWidth),g=Math.max(0,t.height-t.lineWidth);if(Yf(c,f,f,p,g,Math.max(0,t.borderRadius-f)),c.fillStyle=t.background,c.fill(),t.lineWidth>0){(t.lineRounding??0)>0?(c.lineCap="round",c.lineJoin="round"):(c.lineCap="butt",c.lineJoin="miter");const x=t.lineStyle||"Solid";x==="Dashed"?c.setLineDash([12,8]):x==="Dotted"?c.setLineDash([1,6]):c.setLineDash([]),c.lineWidth=t.lineWidth,c.strokeStyle=t.lineColour,c.stroke(),c.setLineDash([])}if(l?.checkIndicator){const{type:b,colour:x,fontSize:C,translateY:S}=l.checkIndicator,E=Math.max(1,Math.min(t.width,t.height)),R=t.width/2,_=t.height/2;if(c.save(),c.lineCap="round",c.lineJoin="round",c.strokeStyle=x,c.fillStyle=x,b==="checkbox"){const T=Math.max(1,C??Math.max(12,E*.75));c.font=`700 ${T}px ${aa}`,c.textAlign="center",c.textBaseline="middle";const k=S??0;c.fillText("",R,_+k)}else if(b==="radio"){const k=Math.max(1,(C??E)*.3);c.beginPath(),c.arc(R,_,k,0,Math.PI*2),c.fill()}c.restore()}if(l?.slider){const{trackStartX:b,trackEndX:x,trackTop:C,trackHeight:S,trackColour:E,fillColour:R,knobCentreX:_,knobRadius:T,knobColour:k,knobBorderColour:O,knobBorderWidth:M,mode:j,secondaryKnobCentreX:H,rangeFillStart:U,rangeFillEnd:Y}=l.slider,Q=C+S/2,W=Math.min(b,x),ae=Math.max(b,x),Z=Math.max(W,Math.min(ae,_)),P=typeof H=="number"?Math.max(W,Math.min(ae,H)):void 0,L=Math.max(W,Math.min(ae,U??(j==="range"&&P!==void 0?Math.min(Z,P):b))),N=Math.max(W,Math.min(ae,Y??(j==="range"&&P!==void 0?Math.max(Z,P):Z)));c.save(),c.lineCap="round",c.strokeStyle=E,c.lineWidth=S,c.beginPath(),c.moveTo(b,Q),c.lineTo(x,Q),c.stroke(),c.strokeStyle=R,c.beginPath(),c.moveTo(L,Q),c.lineTo(N,Q),c.stroke(),c.restore(),c.save(),c.beginPath(),c.arc(Z,Q,Math.max(.5,T),0,Math.PI*2),c.fillStyle=k,c.fill(),M>0&&(c.lineWidth=M,c.strokeStyle=O,c.stroke()),typeof P=="number"&&(c.beginPath(),c.arc(P,Q,Math.max(.5,T),0,Math.PI*2),c.fillStyle=k,c.fill(),M>0&&(c.lineWidth=M,c.strokeStyle=O,c.stroke())),c.restore()}if(!o&&!l?.dropdownCaret)return;let y=!1;if(o){c.save(),c.shadowColor="rgba(0,0,0,0)",c.fillStyle=r.textColour,c.textBaseline="middle",c.textAlign=r.textAlign;const b=[];r.fontWeight&&r.fontWeight!=="normal"&&b.push(r.fontWeight),b.push(`${r.fontSize}px`),b.push(r.fontFamily||"sans-serif"),c.font=b.join(" ");const x=r.text.split(/\r?\n/),C=t.width-t.padding.left-t.padding.right,S=t.height-t.padding.top-t.padding.bottom,E=x.length*r.lineHeight;r.isTextArea&&E>S&&(y=!0);let R;if(r.isTextArea)R=t.padding.top+r.lineHeight/2;else{const T=Math.max(0,(S-E)/2);R=t.padding.top+T+r.lineHeight/2}let _;switch(r.textAlign){case"center":_=t.padding.left+C/2;break;case"right":_=t.width-t.padding.right;break;default:_=t.padding.left;break}for(const T of x)c.fillText(T,_,R),R+=r.lineHeight;c.restore()}if(l?.dropdownCaret){const{colour:b,size:x,offset:C}=l.dropdownCaret,S=Math.max(2,x),E=t.height/2,R=t.width-C,_=S/2;c.save(),c.beginPath(),c.moveTo(R-S,E-_),c.lineTo(R,E-_),c.lineTo(R-S/2,E+_),c.closePath(),c.fillStyle=b,c.fill(),c.restore()}if(y){const b=t.height-t.padding.top-t.padding.bottom,x=4,S=t.width-t.padding.right-x-4/2+6,E=t.padding.top,R=x/2,_=r.text.split(/\r?\n/).length*r.lineHeight,T=Math.max(.1,b/_),k=Math.max(10,b*T),O=E;c.save(),c.fillStyle="rgba(211, 216, 222, 0.85)",Yf(c,S,E,x,b,R),c.fill(),c.fillStyle="rgba(108, 117, 125, 0.45)",Yf(c,S,O,x,k,R),c.fill(),c.restore()}},xq=e=>{if(!e.enabled)return{top:0,right:0,bottom:0,left:0};const t=Math.max(0,e.blur);return{top:Math.max(0,t-e.offsetY),right:Math.max(0,t+e.offsetX),bottom:Math.max(0,t+e.offsetY),left:Math.max(0,t-e.offsetX)}},aI=(e,t,r,o)=>{const i=e.getContext("2d");if(!i)return{top:0,right:0,bottom:0,left:0};const l=xq(r),c=t.width+l.left+l.right,u=t.height+l.top+l.bottom,h=Math.max(1,Math.round(c*o)),f=Math.max(1,Math.round(u*o));if(e.width!==h&&(e.width=h),e.height!==f&&(e.height=f),e.style.width=`${c}px`,e.style.height=`${u}px`,i.setTransform(o,0,0,o,0,0),i.clearRect(0,0,c,u),!r.enabled)return e.dataset.elementCanvasShadowMarginTop="0",e.dataset.elementCanvasShadowMarginRight="0",e.dataset.elementCanvasShadowMarginBottom="0",e.dataset.elementCanvasShadowMarginLeft="0",l;i.save();const p=Math.max(0,r.blur*o),g=r.offsetX*o,y=r.offsetY*o;i.shadowColor=r.colour,i.shadowBlur=p,i.shadowOffsetX=g,i.shadowOffsetY=y;const b=t.lineWidth/2,x=Math.max(0,t.width-t.lineWidth),C=Math.max(0,t.height-t.lineWidth);return Yf(i,l.left+b,l.top+b,x,C,Math.max(0,t.borderRadius-b)),i.fillStyle=t.background,i.fill(),i.restore(),e.dataset.elementCanvasShadowMarginTop=String(l.top),e.dataset.elementCanvasShadowMarginRight=String(l.right),e.dataset.elementCanvasShadowMarginBottom=String(l.bottom),e.dataset.elementCanvasShadowMarginLeft=String(l.left),l},va=(e,t,r)=>{const o=l=>{const c=e.properties?.[l];return typeof c=="number"&&Number.isFinite(c)?c:void 0},i=o(t);if(i!==void 0)return i;if(t==="lineWidth"){const l=o("borderWidth");if(l!==void 0)return l}if(t==="borderWidth"){const l=o("lineWidth");if(l!==void 0)return l}return r},Zr=(e,t,r)=>{const o=l=>{const c=e.properties?.[l];return typeof c=="string"&&c.length>0?c:void 0},i=o(t);if(i!==void 0)return i;if(t==="lineColour"){const l=o("borderColour");if(l!==void 0)return l}if(t==="borderColour"){const l=o("lineColour");if(l!==void 0)return l}return r},ph=(e,t,r)=>{const o=e.properties?.[t];return typeof o=="boolean"?o:r},wq=e=>{switch(e){case"left":return"flex-start";case"right":return"flex-end";case"center":default:return"center"}},oI=(...e)=>{const t=e.filter(r=>r&&r!=="none");return t.length>0?t.join(", "):"none"},iI=(e,t,r=40)=>{const o=Math.min(e.width??0,e.height??0);if(!Number.isFinite(o)||o<=0)return t;const i=Math.min(1,Math.max(0,(o-10)/Math.max(r,1)));return Math.max(0,1+i*(t-1))},Qx=e=>{if(!ph(e,"shadow",!1))return"none";const r=Zr(e,"shadowColour",Ea)??Ea,o=va(e,"shadowOpacity",Cs),i=va(e,"shadowBlurRadius",fo),l=Hk(r,o),c=Math.max(0,i);return`${Lo}px ${Ho}px ${c}px ${l}`},Cq=e=>{const t=Qx(e),r=iI(e,1.5),o=r>0?`0 0 0 ${r}px rgba(52, 152, 219, 0.85)`:"none";return oI(o,t)},Sq=e=>{const t=Qx(e),r=iI(e,2),o=r>0?`0 0 0 ${r}px #74b9ff`:"none";return oI(o,t)},W_=20,Aq=e=>Number.isFinite(e)&&e<W_?Math.min(0,e-(W_-2.5)):0,sI=new Set(["rectangle","oval","rhombus","triangle","cylinder","pipe","parallelogram","hexagon","card","note","actor"]),Kx=e=>sI.has(e),Uf={top:4,right:8,bottom:4,left:8},Eq=18,Mq=8,_f=4,lI="#3498db",_q=16,Ib=3,Rq=8,Tq=6,kq=14,Q_="#d9dee4",K_="#ffffff",Rf=(e,t)=>{const r=Math.max(0,(t-1)/2);return Math.max(0,Math.min(e,r))},Oq=(e,t,r,o)=>t?{top:0,right:0,bottom:0,left:0}:e?{top:_f,right:_f,bottom:_f,left:_f}:r?{...Uf,right:Uf.right+Eq}:o?{top:4,right:4,bottom:4,left:4}:Uf,Iq=e=>{const t=Math.max(1,Math.min(e.width,e.height)),r=Math.max(12,Math.min(t*.75,28)),o=e.type==="checkbox"?-Math.max(.5,r*.06):0;return{fontSize:r,translateY:o}},Pq=(e,t,r)=>({renderOptions:e,textOptions:t,decorations:r}),jq=(e,t,r)=>{if(e.type!=="dropdown")return;const o=Math.max(6,Math.min(r*.6,e.height*.6));return{colour:t,size:o,offset:Math.max(Mq,Uf.right)}},Dq=e=>e==="bold"?"bold":"normal",Pb=e=>Math.min(1,Math.max(0,e)),Bq=e=>{const t=Kx(e.type),r=e.type==="image",o=e.type==="textarea",i=e.type==="text",l=e.type==="checkbox"||e.type==="radio",c=e.type==="slider",u=e.type==="range",h=e.type==="toggle",f=Zr(e,"backgroundColour")||Zr(e,"fillColour")||e.style?.backgroundColor||"#ffffff",p=Zr(e,"lineColour",e.style?.borderColor||"#6c757d")||"#6c757d",y=Math.max(0,va(e,"lineWidth",c||u||h?0:2)),b=Zr(e,"lineStyle","Solid")||"Solid",x=Math.max(0,va(e,"lineRounding",0)),C=Zr(e,"textColour",e.style?.textColor)||"#2c3e50",S=va(e,"fontSize",e.style?.fontSize||14),E=Dq(Zr(e,"fontWeight",e.style?.fontWeight)||"normal"),R=Zr(e,"fontFamily",e.style?.fontFamily||aa)||aa,_=e.type==="textarea"?"left":"center",T=Zr(e,"textAlign",e.style?.textAlign)||_,k=Qx(e),O=Cq(e),M=Sq(e),j=Math.min(1,Math.max(0,va(e,"opacity",1))),H=c?Pb(va(e,"value",.5)):null,U=h?ph(e,"isChecked",!1):!1,Y=u?(()=>{const ze=Pb(va(e,"minValue",.25)),rt=Pb(va(e,"maxValue",.75));return{min:Math.min(ze,rt),max:Math.max(ze,rt)}})():null,Q=e.type==="textarea"?"block":"flex",W=e.type==="textarea"||i?"flex-start":"center",ae=wq(T),Z=e.type==="textarea"||i?"pre-wrap":"nowrap",P=e.type==="note",L=e.type==="actor",N=t?"flex":Q,q=t?L?"flex-end":P?"flex-start":"center":W,$=ae,D=t?"pre-wrap":Z,F=i||t?"break-word":"normal",X=i||t?"anywhere":"normal",re=Oq(t,r,e.type==="dropdown",i),V={top:Rf(re.top,e.height),right:Rf(re.right,e.width),bottom:Rf(re.bottom,e.height),left:Rf(re.left,e.width)},ee=t?0:va(e,"borderRadius",4),te="transparent",J=Iq(e),ie=l?ph(e,"isChecked",!1):!1,be=(()=>{if(!(!l||!ie))return{type:e.type,colour:lI,fontSize:J.fontSize,translateY:J.translateY}})(),ge=jq(e,C,S),Ee=(()=>{if(!c&&!u)return;const ze=Math.max(_q,re.left,re.right),rt=ze,Ke=Math.max(rt,e.width-ze),ft=Math.max(e.height,Ib*2),$t=Math.max(0,ft-(re.top+re.bottom)),Re=Math.max(Ib,Math.min(Rq,ft*.2)),Ie=$t>0?Math.min(Re,Math.max(Ib,$t)):Re,Pe=re.top+Math.max(0,($t-Ie)/2),_e=Math.max(0,Ke-rt),Ne=Math.max(Tq,Math.min(kq,Ie*1.8)),Ve=Math.max(1,Math.min(3,Ne*.3));if(c&&H!==null){const Je=_e>0?rt+_e*H:rt;return{value:H,trackStartX:rt,trackEndX:Ke,trackTop:Pe,trackHeight:Ie,trackColour:Q_,fillColour:p,knobCentreX:Je,knobRadius:Ne,knobColour:K_,knobBorderColour:p,knobBorderWidth:Ve,mode:"single",rangeFillStart:rt,rangeFillEnd:Je}}if(u&&Y){const Je=_e>0?rt+_e*Y.min:rt,ke=_e>0?rt+_e*Y.max:rt,Xe=Math.min(Je,ke),Ge=Math.max(Je,ke);return{value:Y.min,trackStartX:rt,trackEndX:Ke,trackTop:Pe,trackHeight:Ie,trackColour:Q_,fillColour:p,knobCentreX:Je,knobRadius:Ne,knobColour:K_,knobBorderColour:p,knobBorderWidth:Ve,mode:"range",secondaryValue:Y.max,secondaryKnobCentreX:ke,rangeFillStart:Xe,rangeFillEnd:Ge}}})(),Te=S*(o?1.4:1.2),Se=t?{fill:f,stroke:y>0?p:"transparent",strokeWidth:y,lineStyle:b,lineRounding:x}:null,ce=hh(k),Oe=ce?ce.blur+Math.max(ce.spread,0):0,Ce={baseShadow:k,selectedShadow:O,hoverShadow:M,hasShadow:!!ce,shadowOffsetX:ce?.offsetX??0,shadowOffsetY:ce?.offsetY??0,shadowBlur:Math.max(0,Oe),shadowColour:ce?.color??"rgba(0,0,0,0)",settings:{colour:ce?.color??"rgba(0,0,0,0)",offsetX:ce?.offsetX??0,offsetY:ce?.offsetY??0,blur:Math.max(0,Oe),enabled:!!ce}},Le=t&&Ce.hasShadow?`drop-shadow(${Ce.shadowOffsetX}px ${Ce.shadowOffsetY}px ${Math.max(Ce.shadowBlur,0)}px ${Ce.shadowColour})`:null,He=t?Aq(e.height):0,dt={width:e.width,height:e.height,background:f,lineColour:p,lineWidth:y,lineStyle:b,lineRounding:x,borderRadius:ee,padding:re},Qe={text:e.text??"",textAlign:T,textColour:C,fontSize:S,fontWeight:E,fontFamily:R,lineHeight:Te,isTextArea:o},tt=(()=>{const ze={};return be&&(ze.checkIndicator=be),ge&&(ze.dropdownCaret=ge),Ee&&(ze.slider=Ee),Object.keys(ze).length>0?ze:void 0})(),$e=t||h?null:Pq(dt,Qe,tt),Fe=r?typeof e.imageSrc=="string"&&e.imageSrc.length>0?e.imageSrc:typeof e.properties?.imageSrc=="string"?e.properties?.imageSrc:void 0:void 0;return{elementId:e.id,type:e.type,isShape:t,isImage:r,isTextArea:o,isTextElement:i,isCheckable:l,isChecked:ie,visualBackground:f,htmlBackground:te,lineColour:p,lineWidthValue:y,borderRadiusValue:ee,textColour:C,fontSize:S,fontWeight:E,fontFamily:R,textAlign:T,opacity:j,padding:re,effectivePadding:V,lineHeight:Te,computedDisplay:N,computedAlignItems:q,computedJustifyContent:$,computedWhiteSpace:D,computedWordBreak:F,computedOverflowWrap:X,contentDisplay:N,contentAlignItems:q,contentJustifyContent:$,contentWhiteSpace:D,shadowMeta:Ce,shapeAppearance:Se,shapeShadowFilter:Le,shapeVerticalOffset:He,composite:$e,checkIndicatorDecoration:be,dropdownCaretDecoration:ge,checkIndicatorFontSize:J.fontSize,checkIndicatorTranslateY:J.translateY,imageSrc:Fe,sliderValue:H??void 0,sliderRangeValues:Y,toggleChecked:U}},V_=e=>Math.round(e),Be=e=>({x:V_(e.x),y:V_(e.y)}),Wh=10,zq=.2,xa=1e-6,Z_=12/100,Ca=e=>Math.min(1,Math.max(0,e)),ro=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y),gh=(e,t,r)=>Math.max(t,Math.min(r,e)),cI=(e,t)=>{const r=Math.max(e.width,0),o=Math.max(e.height,0);if(t==="cylinder"){const p=Math.max(r/2,xa),g=Math.min(o/2,Math.max(o*Z_,xa)),y=Math.max(g,xa),b=e.x+p,x=e.y+g,C=e.y+o-g;return{shapeType:t,orientation:"vertical",centerX:b,rx:p,ry:y,topCenterY:x,bottomCenterY:C,leftX:e.x,rightX:e.x+r,bodyTop:x,bodyBottom:C}}const i=Math.max(o/2,xa),l=Math.min(r/2,Math.max(r*Z_,xa)),c=Math.max(l,xa),u=e.y+i,h=e.x+l,f=e.x+r-l;return{shapeType:t,orientation:"horizontal",centerY:u,rx:c,ry:i,leftCenterX:h,rightCenterX:f,topY:e.y,bottomY:e.y+o,bodyLeft:Math.min(h,f),bodyRight:Math.max(h,f)}},pu=(e,t,r,o)=>{const i=e.x-t.x,l=e.y-t.y;if(Math.abs(i)<xa&&Math.abs(l)<xa)return{x:t.x,y:t.y-o};const c=Math.sqrt(i*i/(r*r)+l*l/(o*o));if(!Number.isFinite(c)||c===0)return{x:t.x,y:t.y};const u=1/c;return Be({x:t.x+i*u,y:t.y+l*u})},gu=(e,t,r,o)=>{const i=(e.x-t.x)/r,l=(e.y-t.y)/o;return Math.atan2(l,i)},Nq=(e,t)=>{const{x:r,y:o,width:i,height:l}=e,c=Math.min(t,i/2,l/2);if(c<=0)return[Be({x:r,y:o}),Be({x:r+i,y:o}),Be({x:r+i,y:o+l}),Be({x:r,y:o+l})];const u=[],h=16,f=[{cx:r+i-c,cy:o+c,startAngle:-Math.PI/2,endAngle:0},{cx:r+i-c,cy:o+l-c,startAngle:0,endAngle:Math.PI/2},{cx:r+c,cy:o+l-c,startAngle:Math.PI/2,endAngle:Math.PI},{cx:r+c,cy:o+c,startAngle:Math.PI,endAngle:Math.PI*1.5}];for(const p of f)for(let g=0;g<=h;g++){const y=g/h,b=p.startAngle+(p.endAngle-p.startAngle)*y;u.push(Be({x:p.cx+c*Math.cos(b),y:p.cy+c*Math.sin(b)}))}return u},Qh=e=>{const{type:t,x:r,y:o,width:i,height:l,properties:c}=e,u=r,h=o,f=r+i,p=o+l,g=x=>u+i*x,y=x=>h+l*x,b=c?.lineRounding??0;switch(t){case"rectangle":return Nq(e,b);case"triangle":return[Be({x:g(.5),y:h}),Be({x:f,y:p}),Be({x:u,y:p})];case"rhombus":return[Be({x:g(.5),y:h}),Be({x:f,y:y(.5)}),Be({x:g(.5),y:p}),Be({x:u,y:y(.5)})];case"parallelogram":return[Be({x:g(.25),y:h}),Be({x:f,y:h}),Be({x:g(.75),y:p}),Be({x:u,y:p})];case"hexagon":{const x=f-u,C=p-h,S=[[.35,.22],[.65,.22],[.82,.5],[.65,.78],[.35,.78],[.18,.5]],E=1.4*1.13,R=1.15;return S.map(([T,k])=>{const O=.5+(T-.5)*E,M=.5+(k-.5)*E*R,j=Math.min(Math.max(O,0),1),H=Math.min(Math.max(M,0),1);return Be({x:u+x*j,y:h+C*H})})}case"card":{const C=Math.min(i,l)*.18;return[Be({x:u+C,y:h}),Be({x:f,y:h}),Be({x:f,y:p}),Be({x:u,y:p}),Be({x:u,y:h+C})]}case"note":{const C=Math.min(i,l)*.22,S=Math.max(u,f-C),E=Math.max(h,p-C);return[Be({x:u,y:h}),Be({x:f,y:h}),Be({x:f,y:E}),Be({x:S,y:p}),Be({x:u,y:p})]}case"actor":return null;default:return null}},Hl=(e,t,r)=>{const o=r.x-t.x,i=r.y-t.y,l=o*o+i*i;if(l===0)return{closestPoint:t,t:0};const c=e.x-t.x,u=e.y-t.y,h=gh((c*o+u*i)/l,0,1);return{closestPoint:{x:t.x+o*h,y:t.y+i*h},t:h}},Lq=(e,t)=>{const{width:r,height:o,properties:i}=e,l=Math.max(0,i?.lineWidth??2),c=r/100,u=o/100,h=l/2,f=c>0?Math.min(49,Math.max(0,h/c)):0,p=u>0?Math.min(49,Math.max(0,h/u)):0,g=f*c,y=Math.max(0,(100-f)*c),b=p*u,x=Math.max(0,(100-p)*u);if(t==="cylinder"){const C=Math.max(0,(y-g)/2),S=Math.max(0,x-b),E=Math.max(0,Math.min(S/2,Math.max(S*.12,p*u))),R=Math.max(0,E),_=Math.max(0,b+E),T=Math.max(0,x-E);return`
      M ${g},${_}
      A ${C},${R} 0 0,1 ${y},${_}
      L ${y},${T}
      A ${C},${R} 0 0,1 ${g},${T}
      Z
    `}else{const C=Math.max(0,(x-b)/2),S=Math.max(0,y-g),E=Math.max(0,Math.min(S/2,Math.max(S*.12,f*c))),R=Math.max(0,E),_=Math.max(0,g+E),T=Math.max(0,y-E);return`
      M ${_},${b}
      L ${T},${b}
      A ${R},${C} 0 0,1 ${T},${x}
      L ${_},${x}
      A ${R},${C} 0 0,1 ${_},${b}
      Z
    `}},Hq=e=>{const{width:t,height:r,properties:o}=e,i=Math.max(0,o?.lineWidth??2),l=t/100,c=r/100,u=i/2,h=l>0?Math.min(49,Math.max(0,u/l)):0,f=c>0?Math.min(49,Math.max(0,u/c)):0,p=h,g=Math.max(0,100-h),y=f,b=Math.max(0,100-f),x=Math.max(0,g-p),S=Math.max(0,b-y)*.85,E=60,R=100,_=15,T=10,k=J=>Math.max(0,p+(J-_)/E*x)*l,O=J=>Math.max(0,y+(J-T)/R*S)*c,M=k(45),j=O(25),H=Math.max(0,15/R*S),U=Math.max(0,H*2)*l,Y=H*c,Q=k(45),W=O(40),ae=O(80),Z=k(15),P=k(75),L=O(55),N=k(45),q=O(80),$=k(15),D=k(75),F=O(110),X=`
    M ${M-U},${j}
    A ${U},${Y} 0 0,1 ${M},${j-Y}
    A ${U},${Y} 0 0,1 ${M+U},${j}
    A ${U},${Y} 0 0,1 ${M},${j+Y}
    A ${U},${Y} 0 0,1 ${M-U},${j}
  `,re=`M ${Q},${W} L ${Q},${ae}`,V=`M ${Z},${L} L ${P},${L}`,ee=`M ${N},${q} L ${$},${F}`,te=`M ${N},${q} L ${D},${F}`;return`${X} ${re} ${V} ${ee} ${te}`},$q=e=>{const{width:t,height:r,properties:o}=e,i=Math.max(0,o?.lineWidth??2),l=t/100,c=r/100,u=i/2,h=l>0?Math.min(49,Math.max(0,u/l)):0,f=c>0?Math.min(49,Math.max(0,u/c)):0,p=50*l,g=50*c,y=Math.max(0,(50-h)*l),b=Math.max(0,(50-f)*c);return`
    M ${p-y},${g}
    A ${y},${b} 0 0,1 ${p},${g-b}
    A ${y},${b} 0 0,1 ${p+y},${g}
    A ${y},${b} 0 0,1 ${p},${g+b}
    A ${y},${b} 0 0,1 ${p-y},${g}
    Z
  `},Fq=(e,t,r)=>{if(e.length===0)return"";let o=`M ${e[0].x-t},${e[0].y-r}`;for(let i=1;i<e.length;i++)o+=` L ${e[i].x-t},${e[i].y-r}`;return o+=" Z",o},Yq=e=>{const{width:t,height:r,properties:o}=e,i=o?.lineRounding??0,l=Math.min(i,t/2,r/2);if(e.type==="rectangle")return{type:"rect",rx:l,ry:l};const c=Qh(e);return!c||c.length===0?{type:"rect",rx:0,ry:0}:{type:"path",d:Fq(c,e.x,e.y)}},Uq=({element:e,dragDelta:t})=>{const r=z.useMemo(()=>{const l=e.type;return l==="actor"?{type:"path",d:Hq(e)}:l==="oval"?{type:"path",d:$q(e)}:l==="cylinder"||l==="pipe"?{type:"path",d:Lq(e,l)}:Yq(e)},[e]),o=t.x,i=t.y;return A.jsx("svg",{style:{position:"absolute",left:e.x,top:e.y,width:e.width,height:e.height,pointerEvents:"none",overflow:"visible",transform:`translate(${o}px, ${i}px)`,zIndex:9999},children:r.type==="rect"?A.jsx("rect",{x:"0",y:"0",width:e.width,height:e.height,rx:r.rx,ry:r.ry,fill:"none",stroke:"rgba(46, 204, 113, 1)",strokeWidth:"1",vectorEffect:"non-scaling-stroke"}):A.jsx("path",{d:r.d,fill:"none",stroke:"rgba(46, 204, 113, 1)",strokeWidth:"1",vectorEffect:"non-scaling-stroke"})})},qq=5,Xq=(e,t=.3)=>{const r=e.replace("#","");if(r.length!==6)return e;const o=parseInt(r.slice(0,2),16),i=parseInt(r.slice(2,4),16),l=parseInt(r.slice(4,6),16);if(Number.isNaN(o)||Number.isNaN(i)||Number.isNaN(l))return e;const c=p=>Math.round(p+(255-p)*t),u=c(o),h=c(i),f=c(l);return`#${u.toString(16).padStart(2,"0")}${h.toString(16).padStart(2,"0")}${f.toString(16).padStart(2,"0")}`},Gq=z.memo(({element:e,isSelected:t,dragDelta:r,onDoubleClick:o,isInteractive:i,highlightAnchors:l=!1,showAnchoringPerimeter:c=!1,layerZIndex:u,layerOrder:h,handleOverlay:f,suppressHandleOverlay:p=!1})=>{const g=z.useRef(0),[y,b]=z.useState(!1),x=z.useRef(null),C=r.x!==0||r.y!==0,S=z.useCallback(()=>{x.current!==null&&(window.clearTimeout(x.current),x.current=null),g.current+=1,t&&g.current===1&&!C&&b(!0)},[t,C]),E=z.useCallback(()=>{g.current!==0&&(g.current-=1,g.current<=0&&(g.current=0,x.current!==null&&window.clearTimeout(x.current),C||(x.current=window.setTimeout(()=>{x.current=null,b(!1)},80))))},[C]);z.useEffect(()=>()=>{x.current!==null&&window.clearTimeout(x.current)},[]);const R=z.useMemo(()=>Bq(e),[e]),{isShape:_,isImage:T,isTextArea:k,isCheckable:O,isChecked:M,shapeAppearance:j,visualBackground:H,lineColour:U,borderRadiusValue:Y,lineWidthValue:Q,textColour:W,fontSize:ae,fontWeight:Z,fontFamily:P,textAlign:L,padding:N,effectivePadding:q,shadowMeta:$,contentDisplay:D,contentAlignItems:F,contentJustifyContent:X,contentWhiteSpace:re,shapeShadowFilter:V,shapeVerticalOffset:ee,composite:te,checkIndicatorFontSize:J,checkIndicatorTranslateY:ie,imageSrc:be,computedDisplay:ge,computedAlignItems:Ee,computedJustifyContent:Te,computedWhiteSpace:Se,computedWordBreak:ce,computedOverflowWrap:Oe,opacity:Ce,htmlBackground:Le,sliderValue:He,sliderRangeValues:dt,toggleChecked:Qe}=R,tt=z.useMemo(()=>{if(!t)return 0;const ke=Math.max(0,Math.min(e.width,e.height));return Math.max(1,Math.min(qq,Math.max(0,(ke-10)/2)))},[t,e.width,e.height]),$e=z.useMemo(()=>dt?`${dt.min}:${dt.max}`:typeof He=="number"?He.toString():void 0,[dt,He]),Fe=z.useMemo(()=>{if(e.type!=="toggle")return null;const ke=Math.max(6,Math.min(18,e.height*.35*1.3*1.1)),Xe=Math.max(12,Math.min(e.height,(ke+6)*1.5*.8)),Ge=Math.min(Xe,e.width),ct=Qe?Math.max(0,e.width-Ge):0,Jt=(e.height-ke)/2,on="#7b8a9a",at=U,vn=Qe?Xq(U,.35):"#e1e7ef";return{trackHeight:ke,knobSize:Ge,knobLeft:ct,trackTop:Jt,trackWidth:e.width,trackColour:Qe?at:on,knobColour:vn,knobBorder:Qe?U:on}},[e.height,e.width,Qe,U]),ze=z.useMemo(()=>{const ke=t?r.x:0,Xe=t?r.y:0,Ge=_||T?"0px":`${q.top}px ${q.right}px ${q.bottom}px ${q.left}px`;return{"--element-left":`${e.x}px`,"--element-top":`${e.y}px`,"--element-width":`${e.width}px`,"--element-height":`${e.height}px`,"--element-translate-x":`${ke}px`,"--element-translate-y":`${Xe}px`,"--element-background":Le,"--element-border":"0px solid transparent","--element-display":ge,"--element-align-items":Ee,"--element-justify-content":Te,"--element-white-space":Se,"--element-word-break":ce,"--element-overflow-wrap":Oe,"--element-text-align":L,"--element-color":W,"--element-font-size":`${ae}px`,"--element-font-weight":Z,"--element-font-family":P,"--element-checkmark-font-size":`${J}px`,"--element-checkmark-translate-y":`${ie}px`,"--handle-hover-padding":`${tt}px`,"--element-shadow":t?$.selectedShadow:$.baseShadow,"--element-hover-shadow":t?$.selectedShadow:$.hoverShadow,"--element-opacity":Ce,"--element-padding":Ge,"--element-border-radius":`${Y}px`,"--shape-vertical-offset":`${ee}px`}},[Y,Ee,ge,Te,Oe,Se,ce,r.x,r.y,q.bottom,q.left,q.right,q.top,e.height,e.width,e.x,e.y,P,ae,Z,tt,Le,T,t,_,Ce,ee,$.baseShadow,$.hoverShadow,$.selectedShadow,L,W]),rt=z.useRef(null),Ke=z.useRef(null),ft=z.useRef(null),$t=z.useMemo(()=>{if(!f||!t||!y)return null;const ke=!!e.properties?.constrainRatio,Xe=e.x+r.x,Ge=e.y+r.y,ct=e.width,Jt=e.height,on=10,at=on/2,Ln=[{key:"n",x:Xe+ct/2,y:Ge,cursor:"n-resize",visible:!0},{key:"s",x:Xe+ct/2,y:Ge+Jt,cursor:"s-resize",visible:!0},{key:"e",x:Xe+ct,y:Ge+Jt/2,cursor:"e-resize",visible:!0},{key:"w",x:Xe,y:Ge+Jt/2,cursor:"w-resize",visible:!0},{key:"nw",x:Xe,y:Ge,cursor:"nw-resize",visible:!ke},{key:"ne",x:Xe+ct,y:Ge,cursor:"ne-resize",visible:!ke},{key:"se",x:Xe+ct,y:Ge+Jt,cursor:"se-resize",visible:!ke},{key:"sw",x:Xe,y:Ge+Jt,cursor:"sw-resize",visible:!ke}].filter(Cn=>Cn.visible).map(Cn=>A.jsx("div",{"data-resize-handle":Cn.key,"data-element-id":e.id,onMouseEnter:S,onMouseLeave:E,style:{position:"absolute",left:`${Cn.x-at}px`,top:`${Cn.y-at}px`,width:`${on}px`,height:`${on}px`,background:"#3498db",border:"2px solid white",borderRadius:"50%",boxShadow:"0 0 3px rgba(0, 0, 0, 0.3)",cursor:Cn.cursor,pointerEvents:"auto"}},`${e.id}-${Cn.key}`));return!y||Ln.length===0?null:Ta.createPortal(Ln,f)},[f,t,y,e.id,e.x,e.y,e.width,e.height,e.properties,r.x,r.y,S,E]),Re=z.useCallback(ke=>{o(ke,e)},[o,e]),Ie=z.useCallback(ke=>{if(ke.buttons===0){ke.stopPropagation();return}const Ge=ke.currentTarget.getBoundingClientRect();ke.clientX>=Ge.right-12&&ke.stopPropagation()},[]),Pe=z.useCallback(ke=>{const Xe=ke.currentTarget;Xe.scrollHeight>Xe.clientHeight&&(Xe.scrollTop+=ke.deltaY,ke.stopPropagation(),ke.preventDefault())},[]),_e=`${q.top}px ${q.right}px ${q.bottom}px ${q.left}px`;z.useLayoutEffect(()=>{if(_||!te)return;const ke=rt.current;if(!ke)return;const Xe=window.devicePixelRatio||1;if(bq(ke,te,!1,{fallbackCheckColour:lI,fallbackCheckFontSize:J,fallbackCheckTranslateY:ie}),rI(ke,te.renderOptions,te.textOptions,!1,Xe,te.decorations),Ke.current){const Ge=$.settings;vq(Ke.current,te,Ge);const ct=aI(Ke.current,te.renderOptions,Ge,Xe);Ke.current.style.left=`${-ct.left}px`,Ke.current.style.top=`${-ct.top}px`,tI(Ke.current,ct)}ft.current&&(ft.current.style.background="transparent",ft.current.style.borderColor="rgba(0,0,0,0)")},[te,_,$,J,ie]),z.useLayoutEffect(()=>{if(!_)return;const ke=Ke.current;if(!ke||!j)return;if(nI(ke,{shapeType:e.type,width:e.width,height:e.height,strokeWidth:j.strokeWidth??Q,fillColour:j.fill,strokeColour:j.stroke,shadow:{colour:$.shadowColour,offsetX:$.shadowOffsetX,offsetY:$.shadowOffsetY,blur:$.shadowBlur,spread:0,enabled:$.hasShadow},devicePixelRatio:window.devicePixelRatio||1}).applied){const Ge=ke.dataset;if(Ge.elementCanvasBackground=H,Ge.elementCanvasLineColour=U,Ge.elementCanvasLineWidth=String(Q),Ge.elementCanvasBorderRadius=String(Y),Ge.elementCanvasPadding=JSON.stringify(N),ee!==0){const ct=Number(Ge.elementCanvasShadowMarginTop??"0"),Jt=Number(Ge.elementCanvasShadowMarginBottom??"0"),on=ct-ee,at=Math.max(0,Jt+ee);ke.style.top=`${-on}px`,Ge.elementCanvasShadowMarginTop=String(on),Ge.elementCanvasShadowMarginBottom=String(at)}}},[_,e.width,e.height,e.type,Q,$,j,H,U,Y,N,ee]);const Ne=z.useCallback(()=>!j||!_?null:A.jsx("div",{"aria-hidden":"true",style:{position:"absolute",left:0,top:0,right:0,bottom:0,pointerEvents:"none",zIndex:0,filter:V??void 0,transform:ee!==0?`translateY(${ee}px)`:void 0},children:A.jsx(hq,{type:e.type,fill:j.fill,stroke:j.stroke,strokeWidth:j.strokeWidth,lineStyle:j.lineStyle,lineRounding:j.lineRounding,width:e.width,height:e.height})}),[j,_,e,V,ee]);_&&(ze["--element-shadow"]&&(ze["--element-shadow"]=t?"0 0 0 1.5px rgba(52, 152, 219, 0.85)":"none"),ze["--element-hover-shadow"]&&(ze["--element-hover-shadow"]="0 0 0 2px #74b9ff")),z.useEffect(()=>{t?g.current>0&&(x.current!==null&&(window.clearTimeout(x.current),x.current=null),b(!0)):(g.current=0,x.current!==null&&(window.clearTimeout(x.current),x.current=null),b(!1))},[t]),z.useEffect(()=>()=>{x.current!==null&&window.clearTimeout(x.current)},[]);const Ve=z.useCallback(()=>{S()},[S]),Je=z.useCallback(()=>{E()},[E]);return A.jsxs(A.Fragment,{children:[A.jsxs(sq,{ref:ft,$styleVars:ze,"data-element-id":e.id,"data-element-container":"true","data-element-type":e.type,"data-element-selected":t?"true":"false","data-element-left":e.x,"data-element-top":e.y,"data-element-width":e.width,"data-element-height":e.height,"data-element-z-index":u,"data-element-order":h,"data-element-base-shadow":$.baseShadow,"data-element-text-colour":W,"data-element-background":H,"data-element-line-colour":U,"data-element-stroke-width":_?j?.strokeWidth??0:void 0,"data-element-image-src":T&&be?be:void 0,onDoubleClick:Re,onMouseEnter:Ve,onMouseLeave:Je,$interactive:i,"data-shape":_?e.type:void 0,"data-anchor-eligible":"true","data-anchor-highlight-visible":l?"true":"false","data-interactive":i?"true":"false","data-suppress-pointer-overlay":p?"true":void 0,"data-slider-value":$e,"data-toggle-state":e.type==="toggle"?Qe?"on":"off":void 0,children:[$.hasShadow&&!_&&e.type!=="toggle"&&A.jsx("canvas",{ref:Ke,"data-element-shadow-canvas":"true",style:{position:"absolute",left:0,top:0,pointerEvents:"none",zIndex:0,display:"block"}}),!_&&e.type!=="toggle"&&A.jsx("canvas",{ref:rt,"data-element-canvas":"true",style:{position:"absolute",left:0,top:0,pointerEvents:"none",zIndex:1,display:"block"}}),_&&Ne(),T&&A.jsx("div",{"data-element-image-layer":"true",style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",zIndex:2},children:be?A.jsx("img",{src:be,alt:e.text??"Image",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",width:"100%",height:"100%",pointerEvents:"none"}}):A.jsx("span",{style:{fontSize:12,color:"#6c757d",pointerEvents:"none",display:"block",width:"100%",padding:"0 4px",textAlign:"center",whiteSpace:"normal",wordBreak:"break-word",lineHeight:1.3},children:"Double-click to add image"})}),O&&M&&A.jsx(cq,{"data-indicator":e.type,$type:e.type,children:e.type==="checkbox"?A.jsx("span",{className:"checkbox-mark",children:""}):A.jsx("span",{className:"radio-dot"})}),!T&&e.type!=="toggle"&&A.jsx("div",{"data-element-text-layer":"true",style:{position:"relative",zIndex:2,width:"100%",height:"100%",display:k?"flex":D,alignItems:k?"stretch":F,justifyContent:k?"stretch":X,pointerEvents:"none",whiteSpace:re,textAlign:L,color:W,padding:_?_e:void 0,transform:_&&ee!==0?`translateY(${ee}px)`:void 0},children:k?A.jsx("div",{"data-textarea-content":"true",style:{width:"100%",height:"100%",display:"flex",flex:"1 1 100%",boxSizing:"border-box",alignItems:F,justifyContent:"stretch",pointerEvents:"auto",overflow:"none"},onPointerDown:Ie,onWheel:Pe,children:A.jsx("div",{style:{flex:"1 1 100%",boxSizing:"border-box",minWidth:0,height:"100%",whiteSpace:"pre-wrap",wordBreak:"break-word",overflowY:"auto",overflowX:"hidden",width:"calc(100% + 4px)",marginRight:"-6px",marginLeft:"-2px",paddingRight:"4px",scrollbarWidth:"thin"},children:e.text})}):e.text}),e.type==="toggle"&&Fe&&A.jsx("div",{"data-toggle-track":"true","data-toggle-track-width":String(Fe.trackWidth),style:{position:"absolute",left:0,top:Fe.trackTop,width:"100%",height:Fe.trackHeight,borderRadius:Fe.trackHeight,backgroundColor:Fe.trackColour,opacity:.95,zIndex:2,pointerEvents:"none",transition:"background-color 120ms ease"},children:A.jsx("div",{"data-toggle-knob":"true","data-toggle-knob-left":String(Fe.knobLeft),"data-toggle-knob-size":String(Fe.knobSize),style:{position:"absolute",left:`${Fe.knobLeft}px`,top:`-${(Fe.knobSize-Fe.trackHeight)/2}px`,width:`${Fe.knobSize}px`,height:`${Fe.knobSize}px`,borderRadius:Fe.knobSize,backgroundColor:Fe.knobColour,boxShadow:"0 1px 3px rgba(0,0,0,0.25)",border:`1px solid ${Fe.knobBorder}`,transition:"left 160ms ease"}})})]}),$t,c&&A.jsx(Uq,{element:e,dragDelta:r})]})},(e,t)=>e.element===t.element&&e.isSelected===t.isSelected&&e.dragDelta===t.dragDelta&&e.isInteractive===t.isInteractive&&e.layerZIndex===t.layerZIndex&&e.layerOrder===t.layerOrder&&e.handleOverlay===t.handleOverlay&&e.suppressHandleOverlay===t.suppressHandleOverlay&&e.showAnchoringPerimeter===t.showAnchoringPerimeter),Wq=({element:e,editingText:t,onTextChange:r,onKeyDown:o,onBlur:i,onMouseDown:l,onClick:c})=>{const u=e.type==="textarea",h=Kx(e.type),f=u||h,p=va(e,"fontSize",e.style?.fontSize||14),y=(Zr(e,"fontWeight",e.style?.fontWeight)||"normal")==="bold"?"bold":"normal",b=Zr(e,"textColour",e.style?.textColor)||"#2c3e50",x=Zr(e,"textAlign",e.style?.textAlign)||(u?"left":"center"),C=Zr(e,"fontFamily",e.style?.fontFamily||aa)||aa,S=Math.min(1,Math.max(0,va(e,"opacity",1))),E={"--inline-left":`${e.x}px`,"--inline-top":`${e.y}px`,"--inline-width":`${e.width}px`,"--inline-height":`${e.height}px`,"--inline-font-size":`${p}px`,"--inline-font-weight":y,"--inline-color":b,"--inline-text-align":x,"--inline-font-family":C,"--inline-opacity":S},R=z.useRef(null);return z.useEffect(()=>{const _=R.current;if(!_)return;const T=_.value.length;try{_.setSelectionRange(T,T)}catch{}},[e.id]),f?A.jsx(dq,{style:E,value:t,ref:R,onChange:_=>r(_.target.value),onKeyDown:o,onBlur:i,onMouseDown:l,onClick:c,autoFocus:!0,"data-inline-editor":"true",placeholder:u?"Enter to save, Shift+Enter for new line, Esc to cancel":void 0}):A.jsx(uq,{style:E,value:t,ref:R,onChange:_=>r(_.target.value),onKeyDown:o,onBlur:i,onMouseDown:l,onClick:c,autoFocus:!0,"data-inline-editor":"true"})},Qq=12,Kq=10,Vx=e=>{const t=Math.max(0,e),r=Math.max(t*4,Qq),o=Math.max(t*2.5,Kq);return{arrowLength:r,arrowWidth:o,halfArrowWidth:o/2}},Vq=e=>{const t=e.hoverPadding,{arrowLength:r,arrowWidth:o,halfArrowWidth:i}=Vx(e.lineWidth),l=e.lineWidth+6,c=e.shadow??{enabled:!1},u=c.blur??fo,h=c.offsetX??Lo,f=c.offsetY??Ho,p=c.enabled?u+Math.max(Math.abs(h),Math.abs(f)):0,g=Math.max(e.hasStartArrow?Math.max(r,i):0,e.hasEndArrow?Math.max(r,i):0),y=Math.max(e.lineWidth,l/2,p,g,t);return{arrowLength:r,arrowWidth:o,halfArrowWidth:i,hitThickness:l,dropShadowPadding:p,arrowPadding:g,containerPadding:y}};function Zq(e){const t=e.waypoints||[],r=[e.startPoint,...t,e.endPoint];let o=1/0,i=1/0,l=-1/0,c=-1/0;for(const f of r)o=Math.min(o,f.x),i=Math.min(i,f.y),l=Math.max(l,f.x),c=Math.max(c,f.y);let u=0;const h=e.properties;if(h&&(h.startMark==="HollowArrow"||h.endMark==="HollowArrow")){const f=typeof h.lineWidth=="number"?h.lineWidth:typeof h.strokeWidth=="number"?h.strokeWidth:2,p=Math.max(1,f),{arrowLength:g}=Vx(p);u=g+p/2}return{x:o-u,y:i-u,width:l-o+u*2,height:c-i+u*2}}function Jq(e,t){const r=Math.min(t.startX,t.endX),o=Math.max(t.startX,t.endX),i=Math.min(t.startY,t.endY),l=Math.max(t.startY,t.endY),c=e.startPoint.x>=r&&e.startPoint.x<=o&&e.startPoint.y>=i&&e.startPoint.y<=l,u=e.endPoint.x>=r&&e.endPoint.x<=o&&e.endPoint.y>=i&&e.endPoint.y<=l;return c&&u}const uI=({x:e,y:t,size:r=16,colour:o="#2ecc71",endpoint:i})=>A.jsx("div",{"data-connector-magnet":"true","data-connector-magnet-endpoint":i??void 0,style:{position:"absolute",left:e,top:t,width:r,height:r,pointerEvents:"none",transform:"translate(-50%, -50%)",display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx("svg",{width:r,height:r,viewBox:"0 0 16 16","aria-hidden":"true",children:A.jsx("circle",{cx:8,cy:8,r:8,fill:o})})}),eX=3,xv=(e,t,r,o,i)=>{const l=e.getContext("2d");if(!l)return;const c=Math.max(1,Math.min(i??(window.devicePixelRatio||1),eX)),u=Math.max(1,Math.round(t*c)),h=Math.max(1,Math.round(r*c));e.width!==u&&(e.width=u),e.height!==h&&(e.height=h),e.style.width=`${t}px`,e.style.height=`${r}px`,l.setTransform(c,0,0,c,0,0),l.clearRect(0,0,t,r);const f=o.waypoints||[],p=[{x:o.startX,y:o.startY},...f,{x:o.endX,y:o.endY}];if(p.length<2||o.lineWidth<=0||o.opacity<=0)return;l.globalAlpha=o.opacity;const g=o.lineRounding??0;g>0?(l.lineCap="round",l.lineJoin="round"):(l.lineCap="butt",l.lineJoin="miter"),l.lineWidth=o.lineWidth,l.strokeStyle=o.colour;const y=o.lineStyle||"Solid";if(y==="Dashed"?l.setLineDash([12,8]):y==="Dotted"?(l.lineCap="round",l.setLineDash([.01,o.lineWidth*2])):l.setLineDash([]),o.enableShadow){const x=Math.max(0,o.shadowBlur*c),C=o.shadowOffsetX*c,S=o.shadowOffsetY*c;l.shadowColor=o.shadowColour,l.shadowBlur=x,l.shadowOffsetX=C,l.shadowOffsetY=S}else l.shadowColor="rgba(0,0,0,0)",l.shadowBlur=0,l.shadowOffsetX=0,l.shadowOffsetY=0;if(l.beginPath(),g>0&&p.length>=2){l.moveTo(p[0].x,p[0].y);for(let x=1;x<p.length;x++){const C=p[x-1],S=p[x],E=x<p.length-1?p[x+1]:null;if(x>0&&E){const R=S.x-C.x,_=S.y-C.y,T=Math.sqrt(R*R+_*_),k=E.x-S.x,O=E.y-S.y,M=Math.sqrt(k*k+O*O),j=Math.min(g,T/2,M/2);if(j>0&&T>0&&M>0){const H=R/T*j,U=_/T*j,Y=S.x-H,Q=S.y-U,W=k/M*j,ae=O/M*j,Z=S.x+W,P=S.y+ae;l.lineTo(Y,Q),l.quadraticCurveTo(S.x,S.y,Z,P)}else l.lineTo(S.x,S.y)}else l.lineTo(S.x,S.y)}}else{l.moveTo(p[0].x,p[0].y);for(let x=1;x<p.length;x++)l.lineTo(p[x].x,p[x].y)}l.stroke(),l.setLineDash([]),l.lineCap="butt";const b=o.arrowWidth/2;if(o.hasStartArrow&&p.length>=2){const x=p[0],C=p[1],S=C.x-x.x,E=C.y-x.y,R=Math.sqrt(S*S+E*E);if(R>0){const _=S/R,T=E/R,k=-T,O=_,M=x.x,j=x.y,H=M+_*o.arrowLength,U=j+T*o.arrowLength;l.beginPath(),l.moveTo(M,j),l.lineTo(H+k*b,U+O*b),l.moveTo(M,j),l.lineTo(H-k*b,U-O*b),l.stroke()}}if(o.hasEndArrow&&p.length>=2){const x=p[p.length-1],C=p[p.length-2],S=x.x-C.x,E=x.y-C.y,R=Math.sqrt(S*S+E*E);if(R>0){const _=S/R,T=E/R,k=-T,O=_,M=x.x,j=x.y,H=M-_*o.arrowLength,U=j-T*o.arrowLength;l.beginPath(),l.moveTo(M,j),l.lineTo(H+k*b,U+O*b),l.moveTo(M,j),l.lineTo(H-k*b,U-O*b),l.stroke()}}},tX=5,wv=10,jb=se.div`
  position: absolute;
  width: ${wv}px;
  height: ${wv}px;
  background: #3498db;
  border: 2px solid white;
  border-radius: 50%;
  box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
  cursor: move;
  pointer-events: auto;
  transform: translate(var(--handle-x), var(--handle-y));
  will-change: transform;
`,Tf=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return null},Cv=e=>{const t=typeof e?.lineColour=="string"?e.lineColour:typeof e?.strokeColour=="string"?e.strokeColour:"#6c757d",r=e?.startMark==="HollowArrow"?"HollowArrow":"None",o=e?.endMark==="HollowArrow"?"HollowArrow":"None",i=Tf(e?.lineWidth)??Tf(e?.strokeWidth)??2,l=Math.max(.5,i),c=typeof e?.lineStyle=="string"?e.lineStyle:"Solid",u=Tf(e?.lineRounding)??0,h=Tf(e?.opacity),f=h!==null?Math.min(1,Math.max(0,h)):1,p=e?.shadow===void 0?!!e?.dropShadow:!!e?.shadow,g=typeof e?.shadowColour=="string"?e.shadowColour:Ea,y=typeof e?.shadowOpacity=="number"?e.shadowOpacity:Cs,b=Math.min(1,Math.max(0,y)),x=typeof e?.shadowBlurRadius=="number"?e.shadowBlurRadius:fo,C=Math.max(0,x);return{lineColour:t,startMark:r,endMark:o,lineWidth:l,lineStyle:c,lineRounding:u,opacity:f,shadowEnabled:p,shadowColourHex:g,shadowOpacity:b,shadowBlur:C}},nX=(e,t)=>e.lineColour===t.lineColour&&e.startMark===t.startMark&&e.endMark===t.endMark&&e.lineWidth===t.lineWidth&&e.lineStyle===t.lineStyle&&e.lineRounding===t.lineRounding&&e.opacity===t.opacity&&e.shadowEnabled===t.shadowEnabled&&e.shadowColourHex===t.shadowColourHex&&e.shadowOpacity===t.shadowOpacity&&e.shadowBlur===t.shadowBlur,Sv=(e,t)=>e===t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y,rX=(e,t)=>{if(e===t)return!0;const r=e?.length??0,o=t?.length??0;if(r!==o)return!1;if(r===0)return!0;for(let i=0;i<r;i+=1){const l=e[i],c=t[i];if(l.x!==c.x||l.y!==c.y)return!1}return!0},dI=(e,t)=>e.id===t.id&&Sv(e.startPoint,t.startPoint)&&Sv(e.endPoint,t.endPoint)&&rX(e.waypoints,t.waypoints),aX=({connector:e,dragDelta:t,handleOverlay:r,handlesVisible:o,incrementHover:i,decrementHover:l,isSelected:c})=>{if(!r||!c||!o)return null;const u=t?.x??0,h=t?.y??0,f=wv/2,p={x:e.startPoint.x+u,y:e.startPoint.y+h},g={x:e.endPoint.x+u,y:e.endPoint.y+h},y=[A.jsx(jb,{"data-connector-handle":"start","data-connector-id":e.id,"data-anchor-x":p.x,"data-anchor-y":p.y,onMouseEnter:i,onMouseLeave:l,style:{"--handle-x":`${p.x-f}px`,"--handle-y":`${p.y-f}px`}},`${e.id}-start`),A.jsx(jb,{"data-connector-handle":"end","data-connector-id":e.id,"data-anchor-x":g.x,"data-anchor-y":g.y,onMouseEnter:i,onMouseLeave:l,style:{"--handle-x":`${g.x-f}px`,"--handle-y":`${g.y-f}px`}},`${e.id}-end`),...(e.waypoints||[]).map((b,x)=>{const C={x:b.x+u,y:b.y+h};return A.jsx(jb,{"data-connector-handle":"waypoint","data-connector-id":e.id,"data-waypoint-index":x,"data-anchor-x":C.x,"data-anchor-y":C.y,onMouseEnter:i,onMouseLeave:l,style:{"--handle-x":`${C.x-f}px`,"--handle-y":`${C.y-f}px`}},`${e.id}-waypoint-${x}`)})];return Ta.createPortal(y,r)},oX=(e,t)=>e.handleOverlay===t.handleOverlay&&e.handlesVisible===t.handlesVisible&&e.isSelected===t.isSelected&&e.incrementHover===t.incrementHover&&e.decrementHover===t.decrementHover&&dI(e.connector,t.connector)&&fI(e.dragDelta,t.dragDelta),iX=z.memo(aX,oX),sX=({connector:e,isSelected:t,dragDelta:r,hasAnchorPreview:o=!1,anchorPreviewPoint:i,anchorPreviewEndpoint:l,layerZIndex:c,layerOrder:u,handleOverlay:h})=>{const[f,p]=z.useState(!1),g=z.useRef(0),[y,b]=z.useState(!1),x=z.useRef(null),C=z.useCallback(()=>{b(Re=>Re||!0)},[]),S=z.useCallback(()=>{b(Re=>Re&&!1)},[]),E=z.useCallback(()=>{x.current!==null&&(window.clearTimeout(x.current),x.current=null),g.current+=1,t&&g.current===1&&C()},[t,C]),R=z.useCallback(()=>{g.current!==0&&(g.current-=1,g.current<=0&&(g.current=0,x.current!==null&&window.clearTimeout(x.current),x.current=window.setTimeout(()=>{x.current=null,S()},80)))},[S]),_=z.useCallback(()=>{p(Re=>Re||!0),E()},[E]),T=z.useCallback(()=>{p(Re=>Re&&!1),R()},[R]),k=z.useMemo(()=>Cv(e.properties),[e.properties]),{lineColour:O,startMark:M,endMark:j,lineWidth:H,lineStyle:U,lineRounding:Y,opacity:Q,shadowEnabled:W,shadowColourHex:ae,shadowOpacity:Z,shadowBlur:P}=k,L=H,N=Hk(ae,Z),q=Vq({lineWidth:L,hasStartArrow:M==="HollowArrow",hasEndArrow:j==="HollowArrow",hoverPadding:tX,shadow:{enabled:W,blur:P,offsetX:Lo,offsetY:Ho}}),$=Zq(e),{arrowLength:D,arrowWidth:F,halfArrowWidth:X,containerPadding:re,hitThickness:V}=q,ee=$.x-re,te=$.y-re,J=Math.max($.width,0)+re*2,ie=Math.max($.height,0)+re*2,be=e.endPoint.x-e.startPoint.x,ge=e.endPoint.y-e.startPoint.y,Ee=Math.sqrt(be*be+ge*ge)||0,Te=e.startPoint.x-ee,Se=e.startPoint.y-te,ce=e.endPoint.x-ee,Oe=e.endPoint.y-te,Ce=L,Le=O,He=r?.x??0,dt=r?.y??0,Qe="grab",tt=3,$e=o||t||f,Fe=o?"rgba(46, 204, 113, 0.7)":t?"rgba(52, 152, 219, 0.65)":"rgba(116, 185, 255, 0.5)",ze=o&&i?{x:i.x-ee,y:i.y-te}:null,rt=z.useRef(null),Ke=z.useRef(null),ft=z.useRef(null),$t=A.jsx(iX,{connector:e,dragDelta:r,handleOverlay:h,handlesVisible:y,isSelected:t,incrementHover:E,decrementHover:R});return z.useEffect(()=>{t?(x.current!==null&&(window.clearTimeout(x.current),x.current=null),b(!0)):(g.current=0,x.current!==null&&(window.clearTimeout(x.current),x.current=null),S(),b(!1))},[S,t]),z.useEffect(()=>()=>{x.current!==null&&window.clearTimeout(x.current)},[]),z.useLayoutEffect(()=>{if([{ref:rt,enableShadow:W},{ref:Ke,enableShadow:!1}].forEach(({ref:Ie,enableShadow:Pe})=>{const _e=Ie.current;if(!_e)return;const Ne=(e.waypoints||[]).map(Ve=>({x:Ve.x-ee,y:Ve.y-te}));xv(_e,J,ie,{startX:Te,startY:Se,endX:ce,endY:Oe,waypoints:Ne,lineWidth:Ce,colour:Le,opacity:Q,lineStyle:U,lineRounding:Y,hasStartArrow:M==="HollowArrow",hasEndArrow:j==="HollowArrow",arrowLength:D,arrowWidth:F,enableShadow:Pe&&W,shadowOffsetX:Lo,shadowOffsetY:Ho,shadowBlur:P,shadowColour:N})}),$e){const Ie=ft.current;if(Ie){const Pe=Ie.getContext("2d");if(Pe){const _e=Math.max(1,Math.min(window.devicePixelRatio||1,3)),Ne=Math.max(1,Math.round(J*_e)),Ve=Math.max(1,Math.round(ie*_e));Ie.width!==Ne&&(Ie.width=Ne),Ie.height!==Ve&&(Ie.height=Ve),Ie.style.width=`${J}px`,Ie.style.height=`${ie}px`,Pe.setTransform(_e,0,0,_e,0,0),Pe.clearRect(0,0,J,ie);const Je=(e.waypoints||[]).map(Xe=>({x:Xe.x-ee,y:Xe.y-te})),ke=[{x:Te,y:Se},...Je,{x:ce,y:Oe}];if(ke.length>=2){if(Pe.globalAlpha=Q,Pe.lineCap="round",Pe.lineJoin="round",Pe.lineWidth=Ce+tt,Pe.strokeStyle=Fe,Pe.setLineDash([]),Pe.beginPath(),Y>0){Pe.moveTo(ke[0].x,ke[0].y);for(let Xe=1;Xe<ke.length;Xe++){const Ge=ke[Xe-1],ct=ke[Xe],Jt=Xe<ke.length-1?ke[Xe+1]:null;if(Xe>0&&Jt){const on=ct.x-Ge.x,at=ct.y-Ge.y,vn=Math.sqrt(on*on+at*at),Ln=Jt.x-ct.x,Cn=Jt.y-ct.y,xr=Math.sqrt(Ln*Ln+Cn*Cn),Hn=Math.min(Y,vn/2,xr/2);if(Hn>0&&vn>0&&xr>0){const Wt=on/vn*Hn,qn=at/vn*Hn,Xn=ct.x-Wt,pr=ct.y-qn,We=Ln/xr*Hn,ht=Cn/xr*Hn,et=ct.x+We,kn=ct.y+ht;Pe.lineTo(Xn,pr),Pe.quadraticCurveTo(ct.x,ct.y,et,kn)}else Pe.lineTo(ct.x,ct.y)}else Pe.lineTo(ct.x,ct.y)}}else{Pe.moveTo(ke[0].x,ke[0].y);for(let Xe=1;Xe<ke.length;Xe++)Pe.lineTo(ke[Xe].x,ke[Xe].y)}Pe.stroke()}}}}},[e.waypoints,ee,te,J,ie,be,ge,j,ce,Oe,Ee,U,Y,Q,Le,Ce,M,Te,Se,W,L,P,N,D,F,X,$e,Fe,tt]),A.jsxs(A.Fragment,{children:[A.jsxs("div",{style:{position:"absolute",left:`${ee}px`,top:`${te}px`,width:`${J}px`,height:`${ie}px`,pointerEvents:"none",overflow:"visible",transform:`translate(${He}px, ${dt}px)`},"data-connector-id":e.id,"data-connector-container":"true","data-connector-selected":t?"true":"false","data-connector-left":ee,"data-connector-top":te,"data-connector-width":J,"data-connector-height":ie,"data-connector-start-x":Te,"data-connector-start-y":Se,"data-connector-end-x":ce,"data-connector-end-y":Oe,"data-connector-opacity":Q,"data-connector-line-style":U,"data-connector-line-rounding":Y,"data-connector-base-shadow":W?`${Lo}px ${Ho}px ${P}px ${N}`:"none","data-connector-z-index":c,"data-connector-order":u,"data-connector-waypoints":JSON.stringify(e.waypoints||[]),children:[A.jsx("svg",{"data-connector-id":e.id,"data-connector-hit-area":"true",style:{position:"absolute",left:0,top:0,width:`${J}px`,height:`${ie}px`,pointerEvents:"none",overflow:"visible"},children:A.jsx("path",{d:(()=>{const Re=(e.waypoints||[]).map(_e=>({x:_e.x-ee,y:_e.y-te})),Ie=[{x:Te,y:Se},...Re,{x:ce,y:Oe}];let Pe=`M ${Ie[0].x} ${Ie[0].y}`;for(let _e=1;_e<Ie.length;_e++)Pe+=` L ${Ie[_e].x} ${Ie[_e].y}`;return Pe})(),stroke:"transparent",strokeWidth:V,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",style:{cursor:Qe,pointerEvents:"stroke"},onMouseEnter:_,onMouseLeave:T})}),$e&&A.jsx("canvas",{ref:ft,"data-connector-id":e.id,"data-connector-halo":"true",style:{position:"absolute",left:0,top:0,width:`${J}px`,height:`${ie}px`,pointerEvents:"none"}}),A.jsx("svg",{"data-connector-id":e.id,"data-connector-line":"true","data-connector-base-line-width":L,"data-connector-base-colour":O,style:{position:"absolute",left:0,top:0,width:`${J}px`,height:`${ie}px`,pointerEvents:"none",overflow:"visible"},children:A.jsx("path",{d:(()=>{const Re=(e.waypoints||[]).map(_e=>({x:_e.x-ee,y:_e.y-te})),Ie=[{x:Te,y:Se},...Re,{x:ce,y:Oe}];let Pe=`M ${Ie[0].x} ${Ie[0].y}`;for(let _e=1;_e<Ie.length;_e++)Pe+=` L ${Ie[_e].x} ${Ie[_e].y}`;return Pe})(),stroke:"transparent",strokeWidth:Ce,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",style:{cursor:Qe,pointerEvents:"stroke"},onMouseEnter:_,onMouseLeave:T})}),W&&A.jsx("canvas",{ref:rt,"data-connector-id":e.id,"data-connector-shadow":"true","data-connector-base-line-width":L,"data-connector-base-colour":O,"data-connector-base-shadow":`${Lo}px ${Ho}px ${P}px ${N}`,"data-connector-shadow-offset-x":Lo,"data-connector-shadow-offset-y":Ho,"data-connector-shadow-blur":P,"data-connector-shadow-colour":N,style:{position:"absolute",left:0,top:0,width:`${J}px`,height:`${ie}px`,pointerEvents:"none"}}),A.jsx("canvas",{ref:Ke,"data-connector-id":e.id,"data-connector-visual":"true","data-connector-base-line-width":L,"data-connector-base-colour":O,"data-connector-base-shadow":W?`${Lo}px ${Ho}px ${P}px ${N}`:"none","data-connector-shadow-offset-x":Lo,"data-connector-shadow-offset-y":Ho,"data-connector-shadow-blur":P,"data-connector-shadow-colour":N,style:{position:"absolute",left:0,top:0,width:`${J}px`,height:`${ie}px`,pointerEvents:"none"}}),M==="HollowArrow"&&A.jsx("div",{"data-connector-arrow":"true","data-connector-arrow-endpoint":"start",style:{display:"none"}}),j==="HollowArrow"&&A.jsx("div",{"data-connector-arrow":"true","data-connector-arrow-endpoint":"end",style:{display:"none"}}),ze&&A.jsx(uI,{x:ze.x,y:ze.y,endpoint:l??void 0})]}),$t]})},fI=(e,t)=>{const r=e?.x??0,o=e?.y??0,i=t?.x??0,l=t?.y??0;return r===i&&o===l},lX=(e,t)=>{if(e.isSelected!==t.isSelected||e.isAnchored!==t.isAnchored||e.hasAnchorPreview!==t.hasAnchorPreview||e.anchorPreviewEndpoint!==t.anchorPreviewEndpoint||!Sv(e.anchorPreviewPoint??null,t.anchorPreviewPoint??null)||!fI(e.dragDelta,t.dragDelta)||e.layerZIndex!==t.layerZIndex||e.layerOrder!==t.layerOrder||e.handleOverlay!==t.handleOverlay||!dI(e.connector,t.connector))return!1;const r=Cv(e.connector.properties),o=Cv(t.connector.properties);return!!nX(r,o)},cX=z.memo(sX,lX),J_=(e,t)=>{const{rect:r,zoom:o,panX:i,panY:l}=e;return!r||o===0?null:{x:(t.x-r.left-wa)/o-i,y:(t.y-r.top-wa)/o-l}},uX=(e,t)=>{e.rect=t},eR=(e,t,r,o)=>{e.zoom=t,e.panX=r,e.panY=o},dX=e=>({rect:e.rect??null,zoom:e.zoom,panX:e.panX,panY:e.panY}),Db="__rafFlushers",hI=e=>{const t=v.useRef(()=>{}),r=v.useRef(null),o=v.useRef(()=>{});v.useEffect(()=>{t.current=e},[e]);const i=v.useCallback(()=>{r.current!==null&&(cancelAnimationFrame(r.current),r.current=null)},[]),l=v.useCallback(()=>{r.current===null&&(r.current=requestAnimationFrame(()=>{r.current=null,t.current()}))},[]),c=v.useCallback(()=>{r.current!==null&&(cancelAnimationFrame(r.current),r.current=null),t.current()},[]);return v.useEffect(()=>{o.current=c},[c]),v.useEffect(()=>{if(typeof window>"u")return;const u=window,h=u.__wiremeshTestHooks??{};u.__wiremeshTestHooks||(u.__wiremeshTestHooks=h);const f=h[Db]??new Set;h[Db]||(h[Db]=f);const p=()=>o.current();return f.add(p),()=>{f.delete(p)}},[]),{schedule:l,cancel:i,flush:c}},$l={x:0,y:0},pI=({zoom:e,panX:t,panY:r,getSelectedIds:o,getSnapshotForId:i,buildUpdateFromSnapshot:l,applyUpdates:c,onTransactionStart:u,onTransactionEnd:h,dragDescription:f="Move selection"})=>{const[p,g]=v.useState(!1),y=v.useRef(!1),[b,x]=v.useState(null),C=v.useRef(null),S=v.useRef(null),[E,R]=v.useState($l),_=v.useRef(e);v.useEffect(()=>{_.current=e},[e]);const T=v.useRef({x:t,y:r});v.useEffect(()=>{T.current={x:t,y:r}},[t,r]),v.useEffect(()=>{C.current=b},[b]);const k=v.useRef(dX({rect:null,zoom:e,panX:t,panY:r})),O=v.useRef(null),M=v.useRef(new Map),j=v.useRef($l);v.useEffect(()=>{eR(k.current,_.current,T.current.x,T.current.y)},[]),v.useEffect(()=>{eR(k.current,e,t,r)},[e,t,r]);const H=v.useCallback(()=>{if(!y.current)return;const P=O.current,L=S.current;if(!P||!L)return;const N=J_(k.current,L);if(!N)return;const q={x:N.x-P.x,y:N.y-P.y};j.current=q;const $=[];M.current.forEach((D,F)=>{const X=l(F,D,q);X&&$.push(X)}),$.length>0&&(c($),R($l))},[c,l]),{schedule:U,cancel:Y,flush:Q}=hI(H),W=v.useCallback(({id:P,startPoint:L,canvasRect:N,selectedIdsOverride:q})=>{uX(k.current,N);const $=J_(k.current,L);if(!$)return;O.current=$;const D=q&&q.length>0?q:o(),F=D.length>0?D:[P],X=new Map;if(F.forEach(re=>{const V=i(re);V&&X.set(re,V)}),!X.size){const re=i(P);if(!re)return;X.set(P,re)}M.current=X,g(!0),y.current=!0,x(P),C.current=P,S.current={x:L.x,y:L.y},R($l),Y(),u?.(f)},[Y,f,o,i,u]),ae=v.useCallback(P=>{S.current={x:P.x,y:P.y},U()},[U]),Z=v.useCallback(()=>{y.current&&(Q(),h?.(),g(!1),y.current=!1,x(null),C.current=null,S.current=null,O.current=null,M.current=new Map,R($l))},[Q,h]);return v.useEffect(()=>()=>Y(),[Y]),{isDragging:p,activeDragId:b,dragVisualDelta:E,startDragging:W,updateDragPosition:ae,endDragging:Z,cancelPendingFrame:Y,getLastDelta:()=>j.current}},tR=$l,fX=({zoom:e,panX:t,panY:r,getSelectedElementIds:o,getElementInitialPosition:i,onElementsMoveTo:l,onTransactionStart:c,onTransactionEnd:u})=>{const{isDragging:h,activeDragId:f,dragVisualDelta:p,startDragging:g,updateDragPosition:y,endDragging:b,cancelPendingFrame:x,getLastDelta:C}=pI({zoom:e,panX:t,panY:r,getSelectedIds:o,getSnapshotForId:i,buildUpdateFromSnapshot:(S,E,R)=>({id:S,x:Math.round(E.x+R.x),y:Math.round(E.y+R.y)}),applyUpdates:l,onTransactionStart:c,onTransactionEnd:u,dragDescription:"Move selection"});return{isDragging:h,dragElementId:f,dragVisualDelta:p,startDragging:(S,E,R,_)=>g({id:S,startPoint:E,canvasRect:R,selectedIdsOverride:_}),updateDragPosition:y,endDragging:b,cancelDragAnimationFrame:x,getLastDelta:C}},hX=({zoom:e,panX:t,panY:r,getSelectedConnectorIds:o,getConnectorInitialEndpoints:i,getElementInitialPosition:l,onConnectorsMoveTo:c,onElementsMoveTo:u,onTransactionStart:h,onTransactionEnd:f,selectedElementsAtDragStartRef:p})=>{const g=v.useRef([]),y=p||g,b=v.useCallback(k=>{if(c(k),!u||!l||k.length===0)return;const O=y.current;if(O.length===0)return;let M=0,j=0,H=!1;for(const Y of k){const Q=i(Y.id);if(!Q)continue;const W=Y.startPoint.x-Q.startPoint.x,ae=Y.startPoint.y-Q.startPoint.y;if(!H&&(W!==0||ae!==0)){M=W,j=ae,H=!0;break}}if(!H)return;const U=O.map(Y=>{const Q=l(Y);return Q?{id:Y,x:Q.x+M,y:Q.y+j}:null}).filter(Y=>Y!==null);U.length>0&&u(U,{skipWaypointUpdates:!0})},[u,l,i,c]),{isDragging:x,activeDragId:C,dragVisualDelta:S,startDragging:E,updateDragPosition:R,endDragging:_,cancelPendingFrame:T}=pI({zoom:e,panX:t,panY:r,getSelectedIds:o,getSnapshotForId:i,buildUpdateFromSnapshot:(k,O,M)=>{const j={id:k,startPoint:{x:Math.round(O.startPoint.x+M.x),y:Math.round(O.startPoint.y+M.y)},endPoint:{x:Math.round(O.endPoint.x+M.x),y:Math.round(O.endPoint.y+M.y)}};return O.waypoints&&O.waypoints.length>0&&(j.waypoints=O.waypoints.map(H=>({x:Math.round(H.x+M.x),y:Math.round(H.y+M.y)}))),j},applyUpdates:b,onTransactionStart:h,onTransactionEnd:f,dragDescription:"Move selection"});return{isDraggingConnector:x,dragConnectorId:C,dragConnectorVisualDelta:S,startDraggingConnector:(k,O,M,j)=>{E({id:k,startPoint:O,canvasRect:M,selectedIdsOverride:j})},updateConnectorDragPosition:R,endDraggingConnector:_,cancelConnectorDragAnimationFrame:T}},pX=({zoom:e,panX:t,panY:r,onPanChange:o,onTransactionStart:i,onTransactionEnd:l})=>{const[c,u]=v.useState(!1),h=v.useRef(null),f=v.useRef(null),p=v.useCallback(()=>{if(!c)return;const E=h.current,R=f.current;if(!E||!R)return;const _=(E.x-R.x)/e,T=(E.y-R.y)/e;o(R.panX+_,R.panY+T)},[c,e,o]),{schedule:g,cancel:y,flush:b}=hI(p),x=v.useCallback(E=>{u(!0),f.current={x:E.x,y:E.y,panX:t,panY:r},h.current=E,i?.("Pan canvas")},[t,r,i]),C=v.useCallback(E=>{h.current=E,g()},[g]),S=v.useCallback(()=>{if(c){if(b(),h.current&&f.current){const E=(h.current.x-f.current.x)/e,R=(h.current.y-f.current.y)/e;o(f.current.panX+E,f.current.panY+R)}l?.(),u(!1),h.current=null,f.current=null}},[c,e,o,l,b]);return{isPanning:c,startPanning:x,updatePanPosition:C,endPanning:S,cancelPanAnimationFrame:y}},gX=({zoom:e,onZoomChange:t,onZoomAtPoint:r,canvasRef:o,onTransactionStart:i,onTransactionEnd:l})=>{const c=v.useRef(e),u=v.useRef(!1),h=v.useRef(null);v.useEffect(()=>{c.current=e},[e]);const f=v.useCallback(b=>{},[]),p=v.useCallback(b=>{},[]),g=v.useCallback(b=>{},[]),y=v.useCallback(b=>{if(!b.ctrlKey)return;b.preventDefault(),u.current||(u.current=!0,i?.("Zoom")),h.current!==null&&clearTimeout(h.current);const x=c.current||1,C=Math.exp(-b.deltaY/iz),S=Math.min(Math.max(x*C,.1),3);if(r&&o.current){const E=o.current.getBoundingClientRect();r(S,b.clientX,b.clientY,E)}else t(S);h.current=window.setTimeout(()=>{u.current&&(u.current=!1,l?.()),h.current=null},150)},[t,r,o,i,l]);return v.useEffect(()=>()=>{h.current!==null&&clearTimeout(h.current)},[]),{handleTouchStart:f,handleTouchMove:p,handleTouchEnd:g,handleWheelNative:y,isZoomingRef:u}},mX=({isSelecting:e,selectionArea:t,onSelectionStart:r,onSelectionChange:o,onSelectionComplete:i})=>({startSelection:(h,f)=>{r(!0),o({startX:h,startY:f,endX:h,endY:f})},updateSelection:(h,f)=>{e&&t&&o({...t,endX:h,endY:f})},completeSelection:()=>{e&&t&&i(t)}}),yX=({canvasMode:e,onElementTextEdit:t,onElementPropertyChange:r,onElementImageChange:o})=>{const[i,l]=v.useState(null),[c,u]=v.useState(""),h=v.useRef({elementId:null,originalText:"",lastText:""}),f=v.useCallback(()=>{h.current={elementId:null,originalText:"",lastText:""},l(null),u("")},[]),p=v.useCallback(()=>{const{elementId:_,lastText:T,originalText:k}=h.current;_&&(T!==k&&t(_,T),f())},[t,f]),g=v.useCallback(()=>{if(!h.current.elementId){f();return}f()},[f]),y=v.useCallback(_=>{const T=_.text??"";h.current={elementId:_.id,originalText:T,lastText:T},l(_.id),u(T)},[]),b=v.useCallback(_=>{const T=typeof _=="function"?_(h.current.lastText):_;h.current.lastText=T,u(T)},[]),x=v.useCallback((_,T)=>{if(e!=="drag")return;if(T.type==="checkbox"||T.type==="radio"||T.type==="toggle"){const j=ph(T,"isChecked",!1);r?.(T.id,"isChecked",!j),_.preventDefault(),_.stopPropagation();return}if(T.type==="image"){const j=document.createElement("input");j.type="file",j.accept="image/*",j.onchange=()=>{const H=j.files?.[0];if(!H)return;const U=new FileReader;U.onload=()=>{const Y=U.result;typeof Y=="string"&&o?.(T.id,Y)},U.readAsDataURL(H)},j.click(),_.preventDefault(),_.stopPropagation();return}if(!["text","button","input","textarea","dropdown",...Array.from(sI)].includes(T.type))return;const M=h.current.elementId;if(M&&M!==T.id&&p(),h.current.elementId===T.id){_.preventDefault(),_.stopPropagation();return}y(T),_.preventDefault(),_.stopPropagation()},[e,p,o,r,y]),C=v.useCallback((_,T)=>{if(_.key==="Enter"){const k=h.current.elementId,O=k?T.find(j=>j.id===k):null;if((O?O.type==="textarea"||Kx(O.type):!1)&&_.shiftKey)return;p(),_.preventDefault()}else _.key==="Escape"&&(g(),_.preventDefault())},[g,p]),S=v.useCallback(()=>{queueMicrotask(()=>{p()})},[p]),E=v.useCallback(_=>{_.stopPropagation()},[]),R=v.useCallback(_=>{_.stopPropagation()},[]);return v.useEffect(()=>{if(i){const _=k=>{const O=k.target;!O.closest("input")&&!O.closest("textarea")&&p()},T=setTimeout(()=>{document.addEventListener("mousedown",_)},100);return()=>{clearTimeout(T),document.removeEventListener("mousedown",_)}}},[p,i]),{editingElementId:i,editingText:c,setEditingText:b,handleElementDoubleClick:x,handleTextInputKeyDown:C,handleTextInputBlur:S,handleInputMouseDown:E,handleInputClick:R}},bX=({canvasMode:e,isDragging:t,onTemporarySelectModeChange:r})=>{const[o,i]=v.useState(!1),l=v.useRef(r),c=v.useRef(e),u=v.useRef(t);return v.useEffect(()=>{l.current=r},[r]),v.useEffect(()=>{c.current=e},[e]),v.useEffect(()=>{u.current=t},[t]),v.useEffect(()=>{const h=g=>{g.key==="Shift"&&c.current==="drag"&&!u.current&&i(y=>y||(l.current?.(!0),!0))},f=g=>{g.key==="Shift"&&i(y=>y&&(l.current?.(!1),!1))},p=()=>{i(g=>g&&(l.current?.(!1),!1))};return document.addEventListener("keydown",h),document.addEventListener("keyup",f),window.addEventListener("blur",p),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",f),window.removeEventListener("blur",p)}},[]),v.useEffect(()=>{e!=="drag"&&o&&(i(!1),l.current?.(!1))},[e,o]),{temporarySelectMode:o}},vX=({canvasMode:e,onConnectorCreate:t,onFinishDrawing:r})=>{const[o,i]=v.useState({isDrawing:!1,startPoint:null,currentPoint:null}),l=v.useCallback(f=>{i({isDrawing:!0,startPoint:f,currentPoint:f})},[]),c=v.useCallback(f=>{i(p=>!p.isDrawing||!p.startPoint?p:{...p,currentPoint:f})},[]),u=v.useCallback((f,p)=>{o.startPoint&&t(o.startPoint,f,p),i({isDrawing:!1,startPoint:null,currentPoint:null}),r?.()},[o.startPoint,t,r]),h=v.useCallback(()=>{i({isDrawing:!1,startPoint:null,currentPoint:null})},[]);return v.useEffect(()=>{e!=="draw-connector"&&i(f=>!f.isDrawing&&!f.startPoint&&!f.currentPoint?f:{isDrawing:!1,startPoint:null,currentPoint:null})},[e]),v.useEffect(()=>{if(e!=="draw-connector")return;const f=p=>{p.key==="Escape"&&h()};return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[e,h]),{isDrawing:o.isDrawing,startPoint:o.startPoint,currentPoint:o.currentPoint,startDrawing:l,updateDrawing:c,finishDrawing:u,cancelDrawing:h}},gI=(e,t)=>{const r=e.x,o=e.y,i=e.width,l=e.height,c=e.properties?.lineRounding??0,u=Math.min(c,i/2,l/2),h=Ca(t.ratio);if(u<=0)switch(t.edge){case"left":return Be({x:r,y:o+h*l});case"right":return Be({x:r+i,y:o+h*l});case"top":return Be({x:r+h*i,y:o});case"bottom":default:return Be({x:r+h*i,y:o+l})}switch(t.edge){case"left":{const f=o+h*l;if(f<o+u){const p=Math.PI+Math.asin((o+u-f)/u);return Be({x:r+u+u*Math.cos(p),y:o+u+u*Math.sin(p)})}else if(f>o+l-u){const p=Math.PI-Math.asin((f-(o+l-u))/u);return Be({x:r+u+u*Math.cos(p),y:o+l-u+u*Math.sin(p)})}return Be({x:r,y:f})}case"right":{const f=o+h*l;if(f<o+u){const p=-Math.asin((o+u-f)/u);return Be({x:r+i-u+u*Math.cos(p),y:o+u+u*Math.sin(p)})}else if(f>o+l-u){const p=Math.asin((f-(o+l-u))/u);return Be({x:r+i-u+u*Math.cos(p),y:o+l-u+u*Math.sin(p)})}return Be({x:r+i,y:f})}case"top":{const f=r+h*i;if(f<r+u){const p=-Math.PI/2-Math.acos((f-r)/u);return Be({x:r+u+u*Math.cos(p),y:o+u+u*Math.sin(p)})}else if(f>r+i-u){const p=-Math.PI/2+Math.acos((r+i-f)/u);return Be({x:r+i-u+u*Math.cos(p),y:o+u+u*Math.sin(p)})}return Be({x:f,y:o})}case"bottom":default:{const f=r+h*i;if(f<r+u){const p=Math.PI/2+Math.acos((f-r)/u);return Be({x:r+u+u*Math.cos(p),y:o+l-u+u*Math.sin(p)})}else if(f>r+i-u){const p=Math.PI/2-Math.acos((r+i-f)/u);return Be({x:r+i-u+u*Math.cos(p),y:o+l-u+u*Math.sin(p)})}return Be({x:f,y:o+l})}}},mI=(e,t)=>{const r=e.x+e.width/2,o=e.y+e.height/2,i=e.width/2,l=e.height/2;return Be({x:r+i*Math.cos(t),y:o+l*Math.sin(t)})},xX=(e,t)=>{const r=e.height*.85,o=60,i=100,l=15,c=10,u=M=>e.x+(M-l)/o*e.width,h=M=>e.y+(M-c)/i*r,f=15/i*r,p=f,g=f,y=u(45),b=h(25),x=u(45),C=h(40),S=h(80),E=u(15),R=u(75),_=h(55),T=u(15),k=u(75),O=h(110);switch(t.segment){case"head":{const M=t.angle??0;return Be({x:y+p*Math.cos(M),y:b+g*Math.sin(M)})}case"body":{const M=Ca(t.ratio??.5);return Be({x,y:C+(S-C)*M})}case"leftArm":{const M=Ca(t.ratio??.5);return Be({x:x+(E-x)*M,y:_})}case"rightArm":{const M=Ca(t.ratio??.5);return Be({x:x+(R-x)*M,y:_})}case"leftLeg":{const M=Ca(t.ratio??.5);return Be({x:x+(T-x)*M,y:S+(O-S)*M})}case"rightLeg":{const M=Ca(t.ratio??.5);return Be({x:x+(k-x)*M,y:S+(O-S)*M})}}},wX=(e,t)=>{const r=cI(e,t.shapeType);if(r.orientation==="vertical"){const u=Math.max(r.bodyBottom-r.bodyTop,0),h=Math.max(u,xa),f=Ca(t.ratio??.5),p=r.bodyTop+h*f;switch(t.segment){case"left":return Be({x:r.leftX,y:p});case"right":return Be({x:r.rightX,y:p});case"bottom":{const g=t.angle??Math.PI/2,y={x:r.centerX,y:r.bottomCenterY};return Be({x:y.x+r.rx*Math.cos(g),y:y.y+r.ry*Math.sin(g)})}case"top":default:{const g=t.angle??-Math.PI/2,y={x:r.centerX,y:r.topCenterY};return Be({x:y.x+r.rx*Math.cos(g),y:y.y+r.ry*Math.sin(g)})}}}const o=Math.max(r.bodyRight-r.bodyLeft,0),i=Math.max(o,xa),l=Ca(t.ratio??.5),c=r.bodyLeft+i*l;switch(t.segment){case"top":return Be({x:c,y:r.topY});case"bottom":return Be({x:c,y:r.bottomY});case"right":{const u=t.angle??0,h={x:r.rightCenterX,y:r.centerY};return Be({x:h.x+r.rx*Math.cos(u),y:h.y+r.ry*Math.sin(u)})}case"left":default:{const u=t.angle??Math.PI,h={x:r.leftCenterX,y:r.centerY};return Be({x:h.x+r.rx*Math.cos(u),y:h.y+r.ry*Math.sin(u)})}}},nR=(e,t)=>{const{anchor:r}=t;if(r.kind==="rect")return gI(e,r);if(r.kind==="capsule")return wX(e,r);if(r.kind==="actor")return xX(e,r);if(r.kind==="polygon"){const o=Qh(e);if(!o||o.length<2)return{x:e.x,y:e.y};const i=r.segmentIndex%o.length,l=o[i],c=o[(i+1)%o.length],u=gh(r.t,0,1);return Be({x:l.x+(c.x-l.x)*u,y:l.y+(c.y-l.y)*u})}return mI(e,r.angle)},bn=(e,t,r)=>{if(e.length===0)return e;const o=new Map(t.map(c=>[c.id,c]));let i=!1;const l=e.map(c=>{let u=Be(c.startPoint),h=Be(c.endPoint),f=c.startAttachment??null,p=c.endAttachment??null;const g=c.waypoints||void 0;let y=g;if(f){const C=o.get(f.elementId);if(C){const S=nR(C,f);(S.x!==u.x||S.y!==u.y)&&(u=Be(S),i=!0)}else f=null,i=!0}if(p){const C=o.get(p.elementId);if(C){const S=nR(C,p);(S.x!==h.x||S.y!==h.y)&&(h=Be(S),i=!0)}else p=null,i=!0}const b=r?.has(c.id)??!1;if(y&&y.length&&y===g&&!b){const C=u.x-c.startPoint.x,S=u.y-c.startPoint.y,E=h.x-c.endPoint.x,R=h.y-c.endPoint.y;C===E&&S===R&&(C!==0||S!==0)&&(y=y.map(_=>({x:_.x+C,y:_.y+S})))}return u===c.startPoint&&h===c.endPoint&&f===c.startAttachment&&p===c.endAttachment&&y===c.waypoints?c:{...c,startPoint:u,endPoint:h,startAttachment:f,endAttachment:p,waypoints:y}});return i?l:e},CX=(e,t,r)=>{const o=e.x,i=e.y,l=e.width,c=e.height;if(l<=0||c<=0)return null;const u=o+l,h=i+c,f=t.x>=o-r&&t.x<=u+r,p=t.y>=i-r&&t.y<=h+r;if(!f||!p)return null;const y=[{edge:"left",value:Math.abs(t.x-o),ratio:Ca((t.y-i)/c)},{edge:"right",value:Math.abs(t.x-u),ratio:Ca((t.y-i)/c)},{edge:"top",value:Math.abs(t.y-i),ratio:Ca((t.x-o)/l)},{edge:"bottom",value:Math.abs(t.y-h),ratio:Ca((t.x-o)/l)}].reduce((x,C)=>C.value<x.value?C:x);if(y.value>r)return null;const b=gI(e,{edge:y.edge,ratio:y.ratio});return{attachment:{elementId:e.id,anchor:{kind:"rect",edge:y.edge,ratio:y.ratio}},position:b,distance:ro(b,t)}},SX=(e,t,r)=>{const o=e.x+e.width/2,i=e.y+e.height/2,l=e.width/2,c=e.height/2;if(l===0||c===0)return null;const u=t.x-o,h=t.y-i,f=u*u/(l*l)+h*h/(c*c);if(Math.abs(f-1)>zq&&f<1)return null;const p=Math.atan2(h/c,u/l),g=mI(e,p),y=ro(g,t);return y>r?null:{attachment:{elementId:e.id,anchor:{kind:"oval",angle:p}},position:g,distance:y}},AX=(e,t,r)=>{const o=Qh(e);if(!o||o.length<2)return null;let i=Number.POSITIVE_INFINITY,l=null,c=-1,u=0;for(let f=0;f<o.length;f+=1){const p=o[f],g=o[(f+1)%o.length],{closestPoint:y,t:b}=Hl(t,p,g),x=ro(y,t);x<i&&(i=x,l=y,c=f,u=b)}if(!l||i>r)return null;const h={kind:"polygon",shapeType:e.type,segmentIndex:c,t:u};return{attachment:{elementId:e.id,anchor:h},position:l,distance:i}},rR=(e,t,r,o)=>{if(e.width<=0||e.height<=0)return null;const i=cI(e,o),l=[],c=(u,h)=>{const f=ro(t,h);f<=r&&l.push({attachment:{elementId:e.id,anchor:u},position:h,distance:f})};if(i.orientation==="vertical"){const u=Math.max(i.bodyBottom-i.bodyTop,0);if(u>=0){const x=Math.max(u,xa),C=gh(t.y,i.bodyTop,i.bodyBottom),S=(C-i.bodyTop)/x;c({kind:"capsule",shapeType:o,segment:"left",ratio:S},{x:i.leftX,y:C}),c({kind:"capsule",shapeType:o,segment:"right",ratio:S},{x:i.rightX,y:C})}const h={x:i.centerX,y:i.topCenterY},f=pu(t,h,i.rx,i.ry),p=gu(f,h,i.rx,i.ry);c({kind:"capsule",shapeType:o,segment:"top",angle:p},f);const g={x:i.centerX,y:i.bottomCenterY},y=pu(t,g,i.rx,i.ry),b=gu(y,g,i.rx,i.ry);c({kind:"capsule",shapeType:o,segment:"bottom",angle:b},y)}else{const u=Math.max(i.bodyRight-i.bodyLeft,0);if(u>=0){const x=Math.max(u,xa),C=gh(t.x,i.bodyLeft,i.bodyRight),S=(C-i.bodyLeft)/x;c({kind:"capsule",shapeType:o,segment:"top",ratio:S},{x:C,y:i.topY}),c({kind:"capsule",shapeType:o,segment:"bottom",ratio:S},{x:C,y:i.bottomY})}const h={x:i.leftCenterX,y:i.centerY},f=pu(t,h,i.rx,i.ry),p=gu(f,h,i.rx,i.ry);c({kind:"capsule",shapeType:o,segment:"left",angle:p},f);const g={x:i.rightCenterX,y:i.centerY},y=pu(t,g,i.rx,i.ry),b=gu(y,g,i.rx,i.ry);c({kind:"capsule",shapeType:o,segment:"right",angle:b},y)}return l.length===0?null:l.reduce((u,h)=>h.distance<u.distance?h:u)},EX=(e,t,r)=>{if(e.width<=0||e.height<=0)return null;const o=e.height*.85,i=60,l=100,c=15,u=10,h=X=>e.x+(X-c)/i*e.width,f=X=>e.y+(X-u)/l*o,p=15/l*o,g=p,y=p,b=h(45),x=f(25),C=h(45),S=f(40),E=f(80),R=h(15),_=h(75),T=f(55),k=h(15),O=h(75),M=f(110),j=[],H={x:b,y:x},U=pu(t,H,g,y),Y=gu(U,H,g,y),Q=ro(t,U);Q<=r&&j.push({attachment:{elementId:e.id,anchor:{kind:"actor",segment:"head",angle:Y}},position:U,distance:Q});const W=Hl(t,{x:C,y:S},{x:C,y:E}),ae=ro(t,W.closestPoint);ae<=r&&j.push({attachment:{elementId:e.id,anchor:{kind:"actor",segment:"body",ratio:W.t}},position:W.closestPoint,distance:ae});const Z=Hl(t,{x:C,y:T},{x:R,y:T}),P=ro(t,Z.closestPoint);P<=r&&j.push({attachment:{elementId:e.id,anchor:{kind:"actor",segment:"leftArm",ratio:Z.t}},position:Z.closestPoint,distance:P});const L=Hl(t,{x:C,y:T},{x:_,y:T}),N=ro(t,L.closestPoint);N<=r&&j.push({attachment:{elementId:e.id,anchor:{kind:"actor",segment:"rightArm",ratio:L.t}},position:L.closestPoint,distance:N});const q=Hl(t,{x:C,y:E},{x:k,y:M}),$=ro(t,q.closestPoint);$<=r&&j.push({attachment:{elementId:e.id,anchor:{kind:"actor",segment:"leftLeg",ratio:q.t}},position:q.closestPoint,distance:$});const D=Hl(t,{x:C,y:E},{x:O,y:M}),F=ro(t,D.closestPoint);return F<=r&&j.push({attachment:{elementId:e.id,anchor:{kind:"actor",segment:"rightLeg",ratio:D.t}},position:D.closestPoint,distance:F}),j.length===0?null:j.reduce((X,re)=>re.distance<X.distance?re:X)},Kh=(e,t,r=Wh)=>{let o=null;for(let i=e.length-1;i>=0;i-=1){const l=e[i];let c=null;l.type==="actor"?c=EX(l,t,r):l.type==="cylinder"?c=rR(l,t,r,"cylinder"):l.type==="pipe"?c=rR(l,t,r,"pipe"):l.type==="oval"?c=SX(l,t,r):Qh(l)?c=AX(l,t,r):c=CX(l,t,r),c&&(!o||c.distance<o.distance)&&(o={...c,elementId:l.id})}return o};if(typeof window<"u"){const e=window[_u]=window[_u]??{};e.probeAnchor||(e.probeAnchor=(t,r,o)=>Kh([t],r,o??Wh))}const MX=({elements:e,isDrawingConnector:t,shouldPersistAnchors:r=!1,suppressAnchors:o=!1})=>{const i=v.useRef(null),[l,c]=v.useState(null),u=v.useRef({point:null,endpoint:null}),[h,f]=v.useState({point:null,endpoint:null}),p=v.useRef(null);v.useEffect(()=>{i.current=l},[l]);const g=v.useCallback(C=>{if(i.current!==C&&(i.current=C,c(C),C===null&&!r)){const S=u.current;if(S.point||S.endpoint){const E={point:null,endpoint:null};u.current=E,f(E)}}},[r]),y=v.useCallback((C,S)=>{if(!S)return;const E=u.current;if(E.endpoint===C&&E.point&&E.point.x===S.x&&E.point.y===S.y)return;const R={point:S,endpoint:C};u.current=R,f(R)},[]),b=v.useCallback(()=>{const C=u.current;!C.point&&!C.endpoint||(u.current={point:null,endpoint:null},f({point:null,endpoint:null}))},[]),x=v.useCallback(C=>{if(o)return p.current=null,{point:C,attachment:null,elementId:null};const S=Kh(e,C);if(S){const R={point:S.position,attachment:S.attachment,elementId:S.elementId};return p.current=R,R}if(!r)return p.current=null,{point:C,attachment:null,elementId:null};const E=p.current;if(E){const R=C.x-E.point.x,_=C.y-E.point.y;if(Math.hypot(R,_)<=Wh*.5)return E}return p.current=null,{point:C,attachment:null,elementId:null}},[e,r,o]);return v.useEffect(()=>{t||(p.current=null,u.current={point:null,endpoint:null},f({point:null,endpoint:null}))},[t]),v.useEffect(()=>{r||(p.current=null)},[r]),v.useEffect(()=>{if(!o)return;p.current=null,i.current!==null&&(i.current=null,c(null));const C=u.current;if(C.point||C.endpoint){const S={point:null,endpoint:null};u.current=S,f(S)}},[o]),{highlightElementId:l,drawingAnchorPreview:h,updateHighlightElement:g,applyDrawingPreview:y,clearDrawingPreview:b,computeAnchoredPoint:x}},yI=(e,t,r,o,i)=>e?{canvasRect:e,zoom:t,panX:r,panY:o,rulerSize:i}:null,bI=(e,t)=>{const{canvasRect:r,zoom:o,panX:i,panY:l,rulerSize:c}=e;return{x:(t.clientX-r.left-c)/o-i,y:(t.clientY-r.top-c)/o-l}},_X=(e,t)=>{const{canvasRect:r}=e;return{x:t.clientX-r.left,y:t.clientY-r.top}},Av=.5,kf=e=>Math.abs(e)<=Av,RX=(e,t)=>{const r=Math.hypot(t.x-e.startPoint.x,t.y-e.startPoint.y),o=Math.hypot(t.x-e.endPoint.x,t.y-e.endPoint.y);return r<=o?"start":"end"},TX=e=>{const{canvasRef:t,elements:r,connectors:o,zoom:i,panX:l,panY:c,canvasMode:u,selectedElements:h,selectedConnectors:f,onPanChange:p,onElementSelect:g,onConnectorSelect:y,onElementsMoveTo:b,onConnectorsMoveTo:x,onElementTextEdit:C,onElementPropertyChange:S,onElementImageChange:E,onZoomChange:R,onZoomAtPoint:_,selectionArea:T,isSelecting:k,onSelectionStart:O,onSelectionChange:M,onSelectionComplete:j,onResizeStart:H,onConnectorResizeStart:U,onWaypointResizeStart:Y,isWaypointResizing:Q,onWaypointResizeMove:W,onWaypointResizeEnd:ae,isResizing:Z,isConnectorResizing:P,resizingConnectorId:L,resizeHasAnchorPreview:N,resizeElementId:q,resizeHandle:$,resizeAnchorPreview:D,connectorResizeSnapPreview:F,onTransactionStart:X,onTransactionEnd:re,onTemporarySelectModeChange:V,onConnectorCreate:ee,onModeChange:te,onSelectionClear:J,isShiftPressed:ie,suppressConnectorAttachments:be}=e,ge=v.useMemo(()=>new Set(h),[h]),Ee=v.useRef([]),Te=v.useMemo(()=>new Set(f),[f]),Se=v.useMemo(()=>{const fe=new Map;return r.forEach(pe=>{fe.set(pe.id,{x:pe.x,y:pe.y})}),fe},[r]),ce=v.useMemo(()=>{const fe=new Map;return o.forEach(pe=>{fe.set(pe.id,{startPoint:{x:pe.startPoint.x,y:pe.startPoint.y},endPoint:{x:pe.endPoint.x,y:pe.endPoint.y},waypoints:pe.waypoints?pe.waypoints.map(De=>({x:De.x,y:De.y})):void 0})}),fe},[o]),Oe=v.useCallback(()=>h.slice(),[h]),Ce=v.useCallback(fe=>Se.get(fe)??null,[Se]),Le=v.useCallback((fe,pe)=>{const De=r.find(Me=>Me.id===fe);if(!De)return h.slice();const nt=De.groupId?r.filter(Me=>Me.groupId===De.groupId).map(Me=>Me.id):[fe];return pe?nt.some(zt=>ge.has(zt))?h.filter(zt=>!nt.includes(zt)):Array.from(new Set([...h,...nt])):nt},[r,h,ge]),He=v.useCallback(()=>f.slice(),[f]),dt=v.useCallback(fe=>ce.get(fe)??null,[ce]),Qe=v.useCallback((fe,pe)=>{const De=o.find(Me=>Me.id===fe);if(!De)return f.slice();const nt=De.groupId?o.filter(Me=>Me.groupId===De.groupId).map(Me=>Me.id):[fe];return pe?nt.some(zt=>Te.has(zt))?f.filter(zt=>!nt.includes(zt)):Array.from(new Set([...f,...nt])):nt},[o,f,Te]),tt=v.useCallback((fe={})=>{if(h.length===0&&f.length===0)return null;const pe=fe.deltaOverride?.x??0,De=fe.deltaOverride?.y??0;let nt=Number.POSITIVE_INFINITY,Me=Number.POSITIVE_INFINITY;const zt=h.map(st=>r.find(St=>St.id===st)).filter(st=>!!st);zt.forEach(st=>{const St=st.x+pe,Dt=st.y+De;nt=Math.min(nt,St),Me=Math.min(Me,Dt)});const yt=f.map(st=>o.find(St=>St.id===st)).filter(st=>!!st);if(yt.forEach(st=>{const St=st.startPoint.x+pe,Dt=st.endPoint.x+pe,Kn=st.startPoint.y+De,sr=st.endPoint.y+De;nt=Math.min(nt,St,Dt),Me=Math.min(Me,Kn,sr)}),!Number.isFinite(nt)||!Number.isFinite(Me))return null;const lt=Math.round(nt/Jn)*Jn,cn=Math.round(Me/Jn)*Jn,wt=lt-nt,qt=cn-Me,sn=Math.abs(wt)>=.01||Math.abs(qt)>=.01,gt={x:lt,y:cn,deltaX:wt,deltaY:qt};if(fe.previewOnly)return gt;if(!sn)return null;const Rt=zt.map(st=>({id:st.id,x:Math.round(st.x+wt),y:Math.round(st.y+qt)})),Ft=yt.map(st=>{const St={id:st.id,startPoint:{x:Math.round(st.startPoint.x+wt),y:Math.round(st.startPoint.y+qt)},endPoint:{x:Math.round(st.endPoint.x+wt),y:Math.round(st.endPoint.y+qt)}};return st.waypoints&&st.waypoints.length>0&&(St.waypoints=st.waypoints.map(Dt=>({x:Math.round(Dt.x+wt),y:Math.round(Dt.y+qt)}))),St});return Rt.length>0&&b(Rt),Ft.length>0&&x(Ft),gt},[o,r,x,b,f,h]),[$e,Fe]=v.useState([]),ze=v.useCallback((fe,pe)=>{Fe(De=>{const nt=De.filter(lt=>lt.source===fe),Me=De.filter(lt=>lt.source!==fe);if(!pe||pe.length===0)return nt.length===0?De:Me;const zt=pe.map(lt=>({...lt,source:fe}));return nt.length===zt.length&&nt.every((lt,cn)=>{const wt=zt[cn];return wt!==void 0&&wt.x===lt.x&&wt.y===lt.y&&wt.showHorizontal===lt.showHorizontal&&wt.showVertical===lt.showVertical})&&Me.length===De.length-nt.length?De:[...Me,...zt]})},[]),rt=v.useCallback(fe=>{if(!fe.length)return;let pe=0,De=0,nt=!1;for(const wt of fe){const qt=Se.get(wt.id);if(!qt)continue;const sn=wt.x-qt.x,gt=wt.y-qt.y;if(!nt&&(sn!==0||gt!==0)){pe=sn,De=gt,nt=!0;break}}if(b(fe),nt&&f.length>0){const wt=f.map(qt=>{const sn=ce.get(qt);if(!sn)return null;const gt={id:qt,startPoint:{x:Math.round(sn.startPoint.x+pe),y:Math.round(sn.startPoint.y+De)},endPoint:{x:Math.round(sn.endPoint.x+pe),y:Math.round(sn.endPoint.y+De)}};return sn.waypoints&&sn.waypoints.length>0&&(gt.waypoints=sn.waypoints.map(Rt=>({x:Math.round(Rt.x+pe),y:Math.round(Rt.y+De)}))),gt}).filter(qt=>qt!==null);wt.length>0&&x(wt)}const Me=tt({deltaOverride:nt?{x:pe,y:De}:void 0,previewOnly:!0}),zt=Me?kf(Me.deltaX):!1,yt=Me?kf(Me.deltaY):!1,lt=Me?ie||yt:!1,cn=Me?ie||zt:!1;Me&&(lt||cn)?ze("drag",[{x:Me.x,y:Me.y,showHorizontal:lt,showVertical:cn}]):ze("drag",null)},[Se,ie,b,x,f,ce,tt,ze]),{isDragging:Ke,dragElementId:ft,dragVisualDelta:$t,startDragging:Re,updateDragPosition:Ie,endDragging:Pe,cancelDragAnimationFrame:_e}=fX({zoom:i,panX:l,panY:c,getSelectedElementIds:Oe,getElementInitialPosition:Ce,onElementsMoveTo:rt,onTransactionStart:X,onTransactionEnd:re}),{isDraggingConnector:Ne,dragConnectorId:Ve,dragConnectorVisualDelta:Je,startDraggingConnector:ke,updateConnectorDragPosition:Xe,endDraggingConnector:Ge,cancelConnectorDragAnimationFrame:ct}=hX({zoom:i,panX:l,panY:c,getSelectedConnectorIds:He,getConnectorInitialEndpoints:dt,getElementInitialPosition:Ce,onConnectorsMoveTo:x,onElementsMoveTo:b,onTransactionStart:X,onTransactionEnd:re,selectedElementsAtDragStartRef:Ee}),Jt=v.useMemo(()=>new Set,[]),on=v.useMemo(()=>{if(!Ne&&!P&&Te.size===0||o.length===0)return Jt;const fe=new Set;return o.forEach(pe=>{if(!(Te.has(pe.id)||Ne&&Ve===pe.id||P&&L===pe.id))return;const nt=pe.startAttachment?.elementId,Me=pe.endAttachment?.elementId;nt&&fe.add(nt),Me&&fe.add(Me)}),fe},[o,Te,Ne,Ve,P,L,Jt]),{isPanning:at,startPanning:vn,updatePanPosition:Ln,endPanning:Cn,cancelPanAnimationFrame:xr}=pX({zoom:i,panX:l,panY:c,onPanChange:p,onTransactionStart:X,onTransactionEnd:re}),{handleTouchStart:Hn,handleTouchMove:Wt,handleTouchEnd:qn,handleWheelNative:Xn,isZoomingRef:pr}=gX({zoom:i,onZoomChange:R,onZoomAtPoint:_,canvasRef:t,onTransactionStart:X,onTransactionEnd:re});v.useEffect(()=>{ie||Fe([])},[ie]),v.useEffect(()=>{if(!Z)return;if(!q||!$||Jn<=0){ze("element-resize",null);return}const fe=r.find(mr=>mr.id===q);if(!fe){ze("element-resize",null);return}const pe=$.includes("e")||$.includes("w"),De=$.includes("n")||$.includes("s"),nt=$.length===2,Me=!!fe.properties?.constrainRatio,zt=pe||nt||Me,yt=De||nt||Me,lt=Math.round(fe.x),cn=Math.round(fe.x+fe.width),wt=Math.round(fe.y),qt=Math.round(fe.y+fe.height),sn=$.includes("w")&&!$.includes("e"),gt=$.includes("n")&&!$.includes("s"),Rt=sn?lt:cn,Ft=gt?wt:qt,st=zt?Math.round(Rt/Jn)*Jn:Math.round(Rt),St=yt?Math.round(Ft/Jn)*Jn:Math.round(Ft),Dt=st-Rt,Kn=St-Ft,sr=Math.abs(Dt)<=Av,gr=Math.abs(Kn)<=Av,Ia=zt&&(ie||sr),mo=yt&&(ie||gr);mo||Ia?ze("element-resize",[{x:st,y:St,showHorizontal:mo,showVertical:Ia}]):ze("element-resize",null)},[r,Z,ie,q,$,ze]),v.useEffect(()=>{Z||ze("element-resize",null)},[Z,ze]),v.useEffect(()=>{if(!Ne){ze("connector-drag",null);return}const pe=tt({deltaOverride:Je??{x:0,y:0},previewOnly:!0}),De=pe?kf(pe.deltaX):!1,nt=pe?kf(pe.deltaY):!1,Me=pe?ie||nt:!1,zt=pe?ie||De:!1;if(!pe||!Me&&!zt){ze("connector-drag",null);return}ze("connector-drag",[{x:pe.x,y:pe.y,showHorizontal:Me,showVertical:zt}])},[Je,Ne,ie,tt,ze]),v.useEffect(()=>{if(!P){ze("connector-resize",null);return}if(!F){ze("connector-resize",null);return}ze("connector-resize",[{x:F.point.x,y:F.point.y,showHorizontal:F.showHorizontal,showVertical:F.showVertical}])},[F,P,ze]);const{startSelection:We,updateSelection:ht,completeSelection:et}=mX({isSelecting:k,selectionArea:T,onSelectionStart:O,onSelectionChange:M,onSelectionComplete:j}),{editingElementId:kn,editingText:zr,setEditingText:pn,handleElementDoubleClick:en,handleTextInputKeyDown:tn,handleTextInputBlur:Gn,handleInputMouseDown:Nr,handleInputClick:Qo}=yX({canvasMode:u,onElementTextEdit:C,onElementPropertyChange:S,onElementImageChange:E}),{temporarySelectMode:Wn}=bX({canvasMode:u,isDragging:Ke,onTemporarySelectModeChange:V}),Sn=v.useCallback(()=>t.current?.getBoundingClientRect()??null,[t]),xn=v.useCallback(()=>{const fe=Sn();return fe?yI(fe,i,l,c,wa):null},[Sn,l,c,i]),ir=v.useCallback((fe,pe)=>{const De=xn();return De?bI(De,{clientX:fe,clientY:pe}):null},[xn]),Lr=v.useCallback((fe,pe)=>{const De=xn();return De?_X(De,{clientX:fe,clientY:pe}):null},[xn]),Ga=v.useCallback((fe,pe,De)=>{ee?.(fe,pe,De)},[ee]),{isDrawing:nn,startPoint:wr,currentPoint:An,startDrawing:qi,updateDrawing:Os,finishDrawing:Cr}=vX({canvasMode:u,onConnectorCreate:Ga,onFinishDrawing:()=>te?.("drag")}),[Hr,Ko]=v.useState(null),ln=v.useRef(null),pt=v.useRef(null),ia=v.useRef(null),Sr=v.useRef(!1),Oa=v.useRef(null),{highlightElementId:$r,drawingAnchorPreview:$n,updateHighlightElement:En,applyDrawingPreview:go,clearDrawingPreview:Qn,computeAnchoredPoint:Fr}=MX({elements:r,isDrawingConnector:nn,shouldPersistAnchors:nn||P,suppressAnchors:be});v.useEffect(()=>{nn||(Oa.current=null)},[nn]);const sa=.05,Vo=v.useRef(null),Fn=v.useRef(null),Ar=v.useRef(null);v.useLayoutEffect(()=>{const fe=()=>{if(ia.current=null,!Sr.current)return;Sr.current=!1;const pe=pt.current,De=ln.current;if(pe&&De){if(Math.abs(De.x-pe.x)<=sa&&Math.abs(De.y-pe.y)<=sa)return}else if(!pe&&!De)return;ln.current=pe?{x:pe.x,y:pe.y}:null,Ko(pe?{x:pe.x,y:pe.y}:null)};Vo.current=()=>{ia.current===null&&(ia.current=requestAnimationFrame(fe))}},[Ke,at,Z,P,Q,k,nn]),v.useLayoutEffect(()=>{Fn.current=fe=>{const pe=Lr(fe.clientX,fe.clientY);if(!pe||!Number.isFinite(pe.x)||!Number.isFinite(pe.y))return;const De=pt.current;De&&Math.abs(De.x-pe.x)<=sa&&Math.abs(De.y-pe.y)<=sa||(pt.current={x:pe.x,y:pe.y},Sr.current=!0,Vo.current?.())}},[Lr]),v.useLayoutEffect(()=>{Ar.current=()=>{pt.current=null,Sr.current=!0,Vo.current?.(),En(null),Qn()}},[En,Qn]);const Is=v.useCallback(fe=>{if(!nn&&u==="draw-connector"){const pe=ir(fe.clientX,fe.clientY);if(!pe)return;const De=Fr(pe);En(De.elementId??null),De.elementId&&De.point?go("start",De.point):$n.endpoint==="start"&&Qn()}},[nn,u,Fr,En,go,Qn,ir]),la=v.useCallback(()=>{Ar.current?.()},[]),ca=v.useCallback(fe=>{if(fe.button!==0)return;const pe=Sn();if(!pe||!xn())return;const nt=fe.target,Me=nt.nodeType===Node.ELEMENT_NODE?nt:nt.parentElement??null,zt=Me?.getAttribute?.("data-connector-handle")??null,yt=Me?.closest?.('[data-connector-container="true"]')??null,lt=Me?.getAttribute?.("data-connector-id")||Me?.parentElement?.getAttribute?.("data-connector-id")||yt?.getAttribute("data-connector-id"),wt=(Me?.closest?.('[data-element-container="true"]')??null)?.getAttribute("data-element-id"),qt=Me?.getAttribute?.("data-resize-handle")??null,sn=!zt&&!lt&&!wt&&!qt;if(fe.button===0&&sn&&!fe.ctrlKey&&!fe.metaKey&&J?.(),zt&&lt)if(fe.stopPropagation(),zt==="waypoint"){const gt=Me?.getAttribute?.("data-waypoint-index"),Rt=gt?parseInt(gt,10):null;if(Rt!==null&&!Number.isNaN(Rt)){const Ft=Me?.getAttribute?.("data-anchor-x")??Me?.parentElement?.getAttribute?.("data-anchor-x"),st=Me?.getAttribute?.("data-anchor-y")??Me?.parentElement?.getAttribute?.("data-anchor-y");let St={x:fe.clientX,y:fe.clientY};if(Ft&&st){const Dt=Number(Ft),Kn=Number(st);!Number.isNaN(Dt)&&!Number.isNaN(Kn)&&(St={x:pe.left+wa+(Dt+l)*i,y:pe.top+wa+(Kn+c)*i})}Y?.(lt,Rt,St);return}}else{const gt=zt,Rt=Me?.getAttribute?.("data-anchor-x")??Me?.parentElement?.getAttribute?.("data-anchor-x"),Ft=Me?.getAttribute?.("data-anchor-y")??Me?.parentElement?.getAttribute?.("data-anchor-y");let st={x:fe.clientX,y:fe.clientY};if(Rt&&Ft){const St=Number(Rt),Dt=Number(Ft);!Number.isNaN(St)&&!Number.isNaN(Dt)&&(st={x:pe.left+wa+(St+l)*i,y:pe.top+wa+(Dt+c)*i})}U(lt,gt,st);return}if(qt&&Me){fe.stopPropagation();const Rt=Me.closest('[data-element-container="true"]')?.getAttribute("data-element-id")||Me.getAttribute("data-element-id");if(Rt){const Ft=r.find(St=>St.id===Rt);if(!Ft)return;const st={x:Ft.x,y:Ft.y,width:Ft.width,height:Ft.height};H(Rt,qt,{x:fe.clientX,y:fe.clientY},st);return}}if(lt&&u==="drag"&&!Z&&!P){fe.stopPropagation();const gt=o.find(Dt=>Dt.id===lt);if(!gt)return;const Rt=fe.ctrlKey||fe.metaKey,Ft=Te.has(lt);let st;Rt||!Ft?(st=Qe(lt,Rt),y(lt,Rt)):st=f.slice(),Ee.current=h.slice();const St=!!(gt.startAttachment||gt.endAttachment);if(St&&!zt){fe.preventDefault();const Dt=ir(fe.clientX,fe.clientY);if(!Dt)return;const Kn=RX(gt,Dt),sr=Kn==="start"?gt.startPoint:gt.endPoint,gr=Kn==="start"?gt.startAttachment?.elementId??null:gt.endAttachment?.elementId??null,Ia={x:Dt.x-sr.x,y:Dt.y-sr.y};U(lt,Kn,{x:fe.clientX,y:fe.clientY},{pointerOffset:Ia}),En(gr);return}if(!St&&!zt){ke(lt,{x:fe.clientX,y:fe.clientY},pe,st);return}}if(wt&&u==="drag"&&!Z){const gt=fe.ctrlKey||fe.metaKey,Rt=ge.has(wt);let Ft;(gt||!Rt)&&(Ft=Le(wt,gt),g(wt,gt)),Re(wt,{x:fe.clientX,y:fe.clientY},pe,Ft);return}if(!wt&&!lt&&u==="drag"&&!Wn&&!Z&&!P){vn({x:fe.clientX,y:fe.clientY}),!fe.ctrlKey&&!fe.metaKey&&J?.();return}if(u==="select"||Wn){const gt=ir(fe.clientX,fe.clientY);if(!gt)return;!fe.ctrlKey&&!fe.metaKey&&!Wn&&J?.(),We(gt.x,gt.y);return}if(u==="draw-connector"){const gt=ir(fe.clientX,fe.clientY);if(!gt)return;const Rt=Fr(gt);if(!nn)Oa.current=Rt.attachment,qi(Rt.point);else{const Ft={start:Oa.current,end:Rt.attachment};Cr(Rt.point,Ft),Oa.current=null}return}},[t,i,l,c,o,u,Z,P,r,Le,Qe,Te,y,ge,g,Re,ke,vn,Wn,J,We,Fr,nn,qi,Cr,U,En,Sn,xn,ir]),Xi=v.useCallback(fe=>{const pe=ir(fe.clientX,fe.clientY);if(!pe)return;let De=!1;if(!nn&&u==="draw-connector"){const Me=Fr(pe);En(Me.elementId??null),Me.elementId&&Me.point?(go("start",Me.point),De=!0):$n.endpoint==="start"&&Qn()}if(nn){const Me=Fr(pe);Os(Me.point),En(Me.elementId??null),Me.elementId&&Me.point?(go("end",Me.point),De=!0):$n.endpoint==="end"&&Qn()}if(P){const Me=Fr(pe);En(Me.elementId??null),Me.elementId&&(De=!0)}De||(En(null),Qn());const nt={x:fe.clientX,y:fe.clientY};Ke&&ft?Ie(nt):Ne&&Ve?(Ee.current.length===0&&h.length>0&&(Ee.current=h.slice()),Xe(nt)):at?Ln(nt):k&&T?ht(pe.x,pe.y):Q&&W?.(nt)},[t,i,l,c,nn,u,Fr,En,go,Qn,P,Ke,ft,Ie,Ne,Ve,Xe,at,Ln,k,T,ht,Q,W,ir]),Er=v.useCallback(()=>{k&&T&&et();const fe=ie;let pe=!1;Ke?(Pe(),pe=fe):Ne?(Ge(),pe=fe):at?(Cn(),_e(),ct()):Q?ae?.():(_e(),ct(),xr()),Qn(),En(null),pe?requestAnimationFrame(()=>{tt(),Fe([])}):Fe([])},[k,T,et,Ke,Pe,Ne,Ge,at,Cn,Q,ae,_e,ct,xr,Qn,En,ie,tt]);return v.useEffect(()=>()=>{pt.current=null,Sr.current=!1,ia.current!==null&&(cancelAnimationFrame(ia.current),ia.current=null)},[]),v.useEffect(()=>{u!=="draw-connector"&&Qn()},[u,Qn]),v.useEffect(()=>{!nn&&!P&&u!=="draw-connector"&&En(null)},[nn,P,u,En]),v.useEffect(()=>{P&&N&&D.elementId&&En(D.elementId)},[P,N,D,En]),v.useEffect(()=>{const fe=t.current;if(!fe)return;const pe={passive:!1},De=Me=>Fn.current?.(Me),nt=()=>Ar.current?.();return fe.addEventListener("wheel",Xn,pe),fe.addEventListener("touchstart",Hn,pe),fe.addEventListener("touchmove",Wt,pe),fe.addEventListener("touchend",qn,pe),fe.addEventListener("touchcancel",qn,pe),fe.addEventListener("mousemove",De,pe),fe.addEventListener("mouseleave",nt,pe),()=>{fe.removeEventListener("wheel",Xn),fe.removeEventListener("touchstart",Hn),fe.removeEventListener("touchmove",Wt),fe.removeEventListener("touchend",qn),fe.removeEventListener("touchcancel",qn),fe.removeEventListener("mousemove",De),fe.removeEventListener("mouseleave",nt)}},[t,Xn,Hn,Wt,qn]),v.useEffect(()=>{const fe=pe=>{pe.preventDefault()};return document.addEventListener("gesturestart",fe,{passive:!1}),document.addEventListener("gesturechange",fe,{passive:!1}),document.addEventListener("gestureend",fe,{passive:!1}),()=>{document.removeEventListener("gesturestart",fe),document.removeEventListener("gesturechange",fe),document.removeEventListener("gestureend",fe)}},[]),v.useLayoutEffect(()=>{if(at||Ke||Ne||k||nn||P||Q){const fe=De=>Xi(De),pe=()=>Er();return document.addEventListener("mousemove",fe),document.addEventListener("mouseup",pe),document.addEventListener("pointerup",pe),document.addEventListener("pointercancel",pe),()=>{document.removeEventListener("mousemove",fe),document.removeEventListener("mouseup",pe),document.removeEventListener("pointerup",pe),document.removeEventListener("pointercancel",pe)}}},[at,Ke,Ne,k,nn,P,Q,Xi,Er]),{isDragging:Ke,dragVisualDelta:$t,isDraggingConnector:Ne,dragConnectorId:Ve,dragConnectorVisualDelta:Je,isPanning:at,isDrawingConnector:nn,connectorStartPoint:wr,connectorCurrentPoint:An,highlightElementId:$r,drawingAnchorPreview:$n,shiftSnapPreview:$e,connectorHandleSuppressedElements:on,mousePosition:Hr,editingElementId:kn,editingText:zr,setEditingText:pn,handleElementDoubleClick:en,handleTextInputKeyDown:tn,handleTextInputBlur:Gn,handleInputMouseDown:Nr,handleInputClick:Qo,temporarySelectMode:Wn,events:{onMouseDown:ca,onMouseMove:Is,onMouseLeave:la},isZoomingRef:pr}},kX=e=>{const{elements:t,connectors:r,zoom:o,panX:i,panY:l,showGrid:c,showRulers:u,showAnchoringPerimeter:h,onPanChange:f,onElementSelect:p,onConnectorSelect:g,onElementsMoveTo:y,onConnectorsMoveTo:b,onMoveSelection:x,onElementTextEdit:C,onElementPropertyChange:S,onElementImageChange:E,onZoomChange:R,onZoomAtPoint:_,selectedElements:T,selectedConnectors:k,canvasMode:O,selectionArea:M,isSelecting:j,onSelectionStart:H,onSelectionChange:U,onSelectionComplete:Y,onResizeStart:Q,onConnectorResizeStart:W,onWaypointResizeStart:ae,isWaypointResizing:Z,onWaypointResizeMove:P,onWaypointResizeEnd:L,isResizing:N,isConnectorResizing:q,resizingConnectorId:$,resizeHasAnchorPreview:D,resizeElementId:F,resizeHandle:X,resizeEndpoint:re,resizeAnchorPreview:V,connectorResizeSnapPreview:ee,isShiftPressed:te,suppressConnectorAttachments:J,onTransactionStart:ie,onTransactionEnd:be,onTemporarySelectModeChange:ge,onConnectorCreate:Ee,onAddWaypoint:Te,onModeChange:Se,onSelectionClear:ce,onItemContextMenu:Oe,onCanvasContextMenu:Ce}=e,Le=v.useRef(null),He=v.useRef(null),dt=v.useMemo(()=>new Set(T),[T]),Qe=v.useMemo(()=>new Set(k),[k]),tt=v.useMemo(()=>new Set(t.map(We=>We.id)),[t]),$e=TX({canvasRef:Le,elements:t,connectors:r,zoom:o,panX:i,panY:l,canvasMode:O,selectedElements:T,selectedConnectors:k,onPanChange:f,onElementSelect:p,onConnectorSelect:g,onElementsMoveTo:y,onConnectorsMoveTo:b,onElementTextEdit:C,onElementPropertyChange:S,onElementImageChange:E,onZoomChange:R,onZoomAtPoint:_,selectionArea:M,isSelecting:j,onSelectionStart:H,onSelectionChange:U,onSelectionComplete:Y,onResizeStart:Q,onConnectorResizeStart:W,onWaypointResizeStart:ae,isWaypointResizing:Z,onWaypointResizeMove:P,onWaypointResizeEnd:L,isResizing:N,isConnectorResizing:q,resizingConnectorId:$,resizeHasAnchorPreview:D,resizeElementId:F,resizeHandle:X,resizeAnchorPreview:V,connectorResizeSnapPreview:ee,isShiftPressed:te,suppressConnectorAttachments:J,onTransactionStart:ie,onTransactionEnd:be,onTemporarySelectModeChange:ge,onConnectorCreate:Ee,onModeChange:Se,onSelectionClear:ce}),{isDragging:Fe,dragVisualDelta:ze,isDraggingConnector:rt,dragConnectorId:Ke,dragConnectorVisualDelta:ft,isPanning:$t,isDrawingConnector:Re,connectorStartPoint:Ie,connectorCurrentPoint:Pe,drawingAnchorPreview:_e,shiftSnapPreview:Ne,connectorHandleSuppressedElements:Ve,mousePosition:Je,editingElementId:ke,editingText:Xe,setEditingText:Ge,handleElementDoubleClick:ct,handleTextInputKeyDown:Jt,handleTextInputBlur:on,handleInputMouseDown:at,handleInputClick:vn,temporarySelectMode:Ln,events:Cn}=$e,xr=v.useMemo(()=>[...t.map((ht,et)=>({kind:"element",zIndex:ht.zIndex??et,orderIndex:et,element:ht})),...r.map((ht,et)=>({kind:"connector",zIndex:ht.zIndex??t.length+et,orderIndex:t.length+et,connector:ht}))].sort((ht,et)=>ht.zIndex===et.zIndex?ht.orderIndex-et.orderIndex:ht.zIndex-et.zIndex),[t,r]),Hn=Ln?"select":O,Wt=v.useMemo(()=>{if(!Ne.length)return[];const We=Ne.filter(et=>et.showVertical).map(et=>et.x).filter(et=>Number.isFinite(et)),ht=new Map;return We.forEach(et=>{ht.set(Math.round(et*1e3)/1e3,et)}),Array.from(ht.values())},[Ne]),qn=v.useMemo(()=>{if(!Ne.length)return[];const We=Ne.filter(et=>et.showHorizontal).map(et=>et.y).filter(et=>Number.isFinite(et)),ht=new Map;return We.forEach(et=>{ht.set(Math.round(et*1e3)/1e3,et)}),Array.from(ht.values())},[Ne]),Xn=v.useCallback(We=>{const ht=We.target,et=ht.nodeType===Node.ELEMENT_NODE?ht:ht.parentElement??null,kn=et?.getAttribute?.("data-connector-id")||et?.parentElement?.getAttribute?.("data-connector-id")||et?.closest?.('[data-connector-container="true"]')?.getAttribute("data-connector-id")||null;if(kn&&et?.getAttribute?.("data-connector-handle")==="waypoint"){const tn=et?.getAttribute?.("data-waypoint-index"),Gn=tn?parseInt(tn,10):null;if(Gn!==null&&!Number.isNaN(Gn)){We.preventDefault(),We.stopPropagation(),Oe?.({x:We.clientX,y:We.clientY,targetType:"waypoint",targetId:kn,waypointIndex:Gn});return}}const pn=et?.closest?.('[data-element-container="true"]')?.getAttribute("data-element-id")??null;if(kn){We.preventDefault(),We.stopPropagation(),Qe.has(kn)||g(kn,!1),Oe?.({x:We.clientX,y:We.clientY,targetType:"connector",targetId:kn});return}if(pn){We.preventDefault(),We.stopPropagation(),dt.has(pn)||p(pn,!1),Oe?.({x:We.clientX,y:We.clientY,targetType:"element",targetId:pn});return}We.preventDefault(),We.stopPropagation(),Oe?.(null),Ce?.({x:We.clientX,y:We.clientY})},[g,Qe,Oe,p,dt,Ce]),pr=v.useCallback(We=>{const ht=We.target,et=ht.nodeType===Node.ELEMENT_NODE?ht:ht.parentElement??null,zr=et?.closest?.('[data-connector-container="true"]')?.getAttribute("data-connector-id")??null;if(!zr||!Le.current||et?.getAttribute?.("data-connector-handle")==="waypoint"||et?.getAttribute?.("data-connector-handle")==="start"||et?.getAttribute?.("data-connector-handle")==="end")return;const pn=Le.current.getBoundingClientRect(),en=(We.clientX-pn.left-wa)/o-i,tn=(We.clientY-pn.top-wa)/o-l;Te?.(zr,en,tn)},[o,i,l,Te]);return A.jsxs(MU,{ref:Le,$canvasMode:Hn,$isPanning:$t,className:$t?"panning":"",onMouseDown:Cn.onMouseDown,onMouseMove:Cn.onMouseMove,onMouseLeave:Cn.onMouseLeave,onContextMenu:Xn,onDoubleClick:pr,"data-canvas":"true","data-canvas-wrapper":"true",children:[A.jsxs(_U,{$zoom:o,$panX:i,$panY:l,$showGrid:c,"data-canvas-content":"true","data-grid-visible":c?"true":"false",children:[xr.map(We=>{if(We.kind==="element"){const Sn=We.element,xn=dt.has(Sn.id),ir=Fe&&xn?ze:tR,Lr=q&&D&&V.elementId===Sn.id;return A.jsx(Gq,{element:Sn,isSelected:xn,dragDelta:ir,onDoubleClick:ct,isInteractive:Hn==="drag",highlightAnchors:Lr,showAnchoringPerimeter:h,layerZIndex:We.zIndex,layerOrder:We.orderIndex,handleOverlay:He.current,suppressHandleOverlay:Ve.has(Sn.id)},`element:${Sn.id}`)}const ht=We.connector,et=Qe.has(ht.id),kn=rt&&ht.id===Ke,zr=kn?ft:tR,pn=ht.startAttachment?.elementId??null,en=ht.endAttachment?.elementId??null,tn=q&&$===ht.id,Gn=tn&&D,Nr=!kn&&!tn&&!!(pn&&tt.has(pn)||en&&tt.has(en)),Qo=Gn?V.point:null,Wn=Gn?re:null;return A.jsx(cX,{connector:ht,isSelected:et,dragDelta:zr,isAnchored:Nr,hasAnchorPreview:Gn,anchorPreviewPoint:Qo,anchorPreviewEndpoint:Wn,layerZIndex:We.zIndex,layerOrder:We.orderIndex,handleOverlay:He.current},`connector:${ht.id}`)}),_e.point&&_e.endpoint&&A.jsx(uI,{x:_e.point.x,y:_e.point.y,endpoint:_e.endpoint}),M&&A.jsx(lq,{$left:Math.min(M.startX,M.endX),$top:Math.min(M.startY,M.endY),$width:Math.abs(M.endX-M.startX),$height:Math.abs(M.endY-M.startY),"data-selection-rectangle":"true"}),Re&&Ie&&Pe&&A.jsxs("svg",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",overflow:"visible",pointerEvents:"none"},children:[A.jsx("line",{x1:Ie.x,y1:Ie.y,x2:Pe.x,y2:Pe.y,stroke:"#3498db",strokeWidth:2,strokeDasharray:"5,5",vectorEffect:"non-scaling-stroke",strokeLinecap:"round"}),A.jsx("circle",{cx:Ie.x,cy:Ie.y,r:4,fill:"#3498db",stroke:"white",strokeWidth:2})]}),Ne.map((We,ht)=>A.jsxs("div",{"data-shift-snap-preview":"true",style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1e3},children:[We.showHorizontal&&A.jsx("div",{"data-shift-snap-preview-line":"horizontal",style:{position:"absolute",left:0,top:We.y-.5,width:"100%",height:1,background:"rgba(231, 76, 60, 0.85)"}}),We.showVertical&&A.jsx("div",{"data-shift-snap-preview-line":"vertical",style:{position:"absolute",left:We.x-.5,top:0,width:1,height:"100%",background:"rgba(231, 76, 60, 0.85)"}})]},`shift-snap-${ht}`)),ke&&t.find(We=>We.id===ke)&&A.jsx(Wq,{element:t.find(We=>We.id===ke),editingText:Xe,onTextChange:Ge,onKeyDown:We=>Jt(We,t),onBlur:on,onMouseDown:at,onClick:vn}),A.jsx("div",{ref:He,"data-handle-overlay":"true",style:{position:"absolute",top:0,left:0,width:`${uh}px`,height:`${dh}px`,pointerEvents:"none",zIndex:2e5}})]}),u&&A.jsxs(A.Fragment,{children:[A.jsx(iq,{}),A.jsx(U_,{orientation:"horizontal",zoom:o,pan:i,mousePos:Je?.x??null,snapWorldPositions:Wt}),A.jsx(U_,{orientation:"vertical",zoom:o,pan:l,mousePos:Je?.y??null,snapWorldPositions:qn})]})]})},OX=36,IX=88,PX=24,aR=140,jX=2,DX=12;function oR(e){const t=OX+IX+PX,r=Math.max(0,e-t),o=Math.floor((r+aR*.2)/aR);return Math.max(jX,Math.min(o,DX))}function BX(e,t,r){if(e.length<=r)return e;const o=e.findIndex(u=>u.id===t);if(o===-1)return e.slice(0,r);const i=new Set;i.add(e[o]);let l=o-1,c=o+1;for(;i.size<r&&(l>=0||c<e.length);)c<e.length&&i.size<r&&i.add(e[c++]),l>=0&&i.size<r&&i.add(e[l--]);return e.filter(u=>i.has(u))}function zX(e,t,r){const[o,i]=v.useState(()=>oR(r));v.useEffect(()=>{const h=setTimeout(()=>{i(oR(r))},250);return()=>clearTimeout(h)},[r]);const l=v.useMemo(()=>BX(e,t,o),[e,t,o]),c=v.useMemo(()=>e.filter(h=>!l.some(f=>f.id===h.id)),[e,l]),u=c.length>0;return{visibleTabs:l,overflowTabs:c,hasOverflow:u,tabCapacity:o}}function NX(e){const[t,r]=v.useState(0);return v.useEffect(()=>{const o=e.current;if(!o)return;const i=new ResizeObserver(l=>{for(const c of l)r(c.contentRect.width)});return i.observe(o),r(o.getBoundingClientRect().width),()=>i.disconnect()},[e]),t}function LX(e,t){const[r,o]=v.useState(null),[i,l]=v.useState(null),c=v.useRef(null),u=v.useRef(null),h=v.useRef(e);v.useEffect(()=>{h.current=e},[e]);const f=v.useCallback(()=>{c.current=null,u.current=null,o(null),l(null)},[]),p=v.useCallback(C=>{u.current=C,l(C)},[]),g=v.useCallback((C,S)=>{C.dataTransfer.effectAllowed="move",C.dataTransfer.setData("text/plain",S),c.current=S,o(S)},[]),y=v.useCallback(C=>{C.preventDefault(),f()},[f]),b=v.useCallback((C,S,E)=>{if(!c.current)return;C.preventDefault(),C.dataTransfer.dropEffect="move";const R=C.currentTarget.getBoundingClientRect(),_=R.left+R.width/2,T=C.clientX<=_?"before":"after";p({zone:E,targetId:S,position:T})},[p]),x=v.useCallback(C=>{C.preventDefault(),C.stopPropagation();const S=c.current,E=u.current,R=h.current;if(!S||!E){f();return}const _=R.map(M=>M.id),T=_.indexOf(S),k=_.indexOf(E.targetId);if(T===-1||k===-1){f();return}let O=E.position==="before"?k:k+1;T<O&&(O-=1),O=Math.max(0,Math.min(_.length-1,O)),O!==T&&t(S,O),f()},[t,f]);return{draggingPageId:r,dropState:i,handleDragStart:g,handleDragEnd:y,handleDragOver:b,handleDrop:x}}const HX=se.div.attrs(e=>({style:{left:`${e.$libraryWidth}px`}}))`
  position: fixed;
  bottom: 0;
  right: 0;
  height: 34px;
  background: white;
  border-top: 1px solid #e1e5e9;
  z-index: 150;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 0 10px;
  box-shadow: 0 -1px 3px rgba(0, 0, 0, 0.08);
  transition: left 0.15s ease-out;
`,$X=se.div`
  display: flex;
  align-items: center;
  gap: 2px;
  flex: 1;
  overflow-x: auto;
  scrollbar-width: none;
  -ms-overflow-style: none;

  &::-webkit-scrollbar {
    display: none;
  }
`,vI=se.div`
  position: relative;
  display: flex;
  align-items: center;
  gap: 0;
  padding: 0 8px 0 12px;
  min-height: 28px;
  border-radius: 6px;
  cursor: pointer;
  user-select: none;
  font-size: 12px;
  color: #2c3e50;
  background: transparent;
  border: 1px solid transparent;
  transition: background 0.2s, border-color 0.2s;
  flex-shrink: 0;

  &[data-active='true'] {
    font-weight: 600;
  }

  &[data-dragging='true'] {
    opacity: 0.5;
  }

  &:hover:not([data-dragging='true']) {
    background: #f5f5f5;
  }

  &[data-drop-target='true'] {
    background: rgba(33, 150, 243, 0.12);
    border-color: rgba(33, 150, 243, 0.4);
  }
`,FX=se.button`
  width: 18px;
  height: 18px;
  border: none;
  background: transparent;
  cursor: pointer;
  font-size: 11px;
  color: #666;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  flex-shrink: 0;
  opacity: 0;
  pointer-events: none;
  margin-left: 8px;

  ${vI}:hover & {
    opacity: 1;
    pointer-events: auto;
  }

  &:hover {
    background: rgba(0, 0, 0, 0.1);
    color: #333;
  }
`,YX=se.input`
  border: 1px solid #2196f3;
  background: white;
  padding: 4px 8px;
  height: 28px;
  font-size: 12px;
  border-radius: 3px;
  outline: none;
  min-width: 90px;
  max-width: 200px;
`,UX=se.span`
  flex: 1 1 auto;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,qX=se.button`
  padding: 4px 10px;
  border: none;
  background: transparent;
  border-radius: 6px;
  cursor: pointer;
  font-size: 12px;
  color: #2c3e50;
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
  user-select: none;

  &:hover {
    background: rgba(0, 0, 0, 0.08);
  }

  &:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.4);
  }

  &[data-open='true'] {
    background: rgba(0, 0, 0, 0.1);
  }
`,xI=se.button`
  width: 28px;
  min-width: 28px;
  height: 28px;
  padding: 0;
  border: none;
  background: rgba(0, 0, 0, 0.04);
  border-radius: 6px;
  cursor: pointer;
  font-size: 16px;
  color: #2c3e50;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  user-select: none;

  &:hover:not(:disabled) {
    background: rgba(0, 0, 0, 0.08);
  }

  &:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.4);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,XX=se(xI)`
  width: 28px;
  min-width: 28px;
  padding: 0;
  font-size: 14px;
`,GX=se.div`
  position: absolute;
  bottom: 100%;
  right: 10px;
  margin-bottom: 4px;
  background: white;
  border: 1px solid #e1e5e9;
  border-radius: 6px;
  box-shadow: 0px -4px 12px rgba(0, 0, 0, 0.15);
  min-width: 200px;
  max-height: 300px;
  z-index: 1200;
  animation: slideUp 0.15s ease-out;

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
`,WX=se.div`
  padding: 8px 12px;
  cursor: pointer;
  font-size: 12px;
  color: #2c3e50;
  user-select: none;
  display: flex;
  align-items: center;
  justify-content: space-between;

  &[data-active='true'] {
    font-weight: 600;
  }

  &[data-dragging='true'] {
    opacity: 0.5;
  }

  &:hover:not([data-dragging='true']) {
    background: #f5f5f5;
  }

  &[data-drop-target='true'] {
    background: rgba(33, 150, 243, 0.12);
  }
`,QX=se.div`
  height: 1px;
  background: #e1e5e9;
  margin: 4px 0;
`,iR=se.button`
  width: 100%;
  padding: 8px 12px;
  border: none;
  background: none;
  text-align: left;
  font-size: 12px;
  color: #2c3e50;
  cursor: pointer;
  border-radius: 0;

  &:hover:not(:disabled) {
    background: #f5f5f5;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Ev=se.div`
  pointer-events: none;
  background: #1d6ff2;
  box-shadow: 0 0 6px rgba(29, 111, 242, 0.4);
  border-radius: 999px;

  ${e=>e.$variant==="strip"?`
      width: 6px;
      height: 22px;
      margin: 0 4px;
    `:`
      width: calc(100% - 24px);
      height: 4px;
      margin: 4px 12px;
    `}
`,KX=se.div`
  position: fixed;
  background: white;
  border: 1px solid #e1e5e9;
  border-radius: 6px;
  box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);
  min-width: 150px;
  z-index: 1300;
  padding: 4px;
`,VX=se.button`
  width: 100%;
  padding: 8px 12px;
  border: none;
  background: none;
  text-align: left;
  cursor: pointer;
  font-size: 12px;
  color: #2c3e50;
  border-radius: 4px;
  user-select: none;

  &:hover {
    background: #f5f5f5;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;let Bb=null;const ZX=(e,t)=>{if(typeof document>"u")return e.length*7;Bb||(Bb=document.createElement("canvas"));const r=Bb.getContext("2d");return r?(r.font=`${t} 12px -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif`,r.measureText(e).width):e.length*7};function JX({page:e,isActive:t,isDragging:r,isDropTarget:o,canDelete:i,onSelect:l,onClose:c,onRename:u,onContextMenu:h,onDragStart:f,onDragEnd:p,onDragOver:g,onDrop:y}){const[b,x]=v.useState(!1),[C,S]=v.useState(e.name),E=v.useRef(null),R=v.useRef(!1);v.useEffect(()=>{b&&E.current&&(E.current.focus(),E.current.select())},[b]);const _=Y=>{Y.stopPropagation(),S(e.name),x(!0)},T=()=>{if(R.current)return;R.current=!0,u(e.id,C)?x(!1):S(e.name),setTimeout(()=>{R.current=!1},100)},k=()=>{setTimeout(()=>{!R.current&&b&&T()},50)},O=Y=>{Y.key==="Enter"?(Y.preventDefault(),E.current?.blur(),T()):Y.key==="Escape"&&(Y.preventDefault(),S(e.name),x(!1))},M=Y=>{if(Y.button===1){Y.preventDefault(),c(e.id);return}Y.button===0&&(b||l(e.id))},j=Y=>{Y.stopPropagation(),i&&c(e.id)},H=Y=>{Y.preventDefault(),Y.stopPropagation();const Q=Y.currentTarget.getBoundingClientRect();h(Y,e.id,Q)},U=v.useMemo(()=>{const Y=t?"600":"500",Q=ZX(e.name,Y),W=12,ae=8,Z=i?8:0,P=i?18:0,L=8,N=90,q=260,$=Q+W+ae+Z+P+L;return Math.min(q,Math.max(N,Math.ceil($)))},[e.name,t,i]);return b?A.jsx(YX,{ref:E,value:C,onChange:Y=>S(Y.target.value),onBlur:k,onKeyDown:O,style:{width:`${U}px`},"data-page-tab-input":"true"}):A.jsxs(vI,{"data-active":t,"data-dragging":r,"data-drop-target":o,"data-page-tab-id":e.id,"data-page-button":"true",draggable:!0,onMouseDown:M,onDoubleClick:_,onContextMenu:H,onDragStart:Y=>f(Y,e.id),onDragEnd:p,onDragOver:Y=>g(Y,e.id),onDrop:y,style:{width:`${U}px`},children:[A.jsx(UX,{title:e.name,children:e.name}),i&&A.jsx(FX,{onClick:j,"data-page-close-button":"true",children:""})]})}const eG=v.memo(JX,(e,t)=>e.page.id===t.page.id&&e.page.name===t.page.name&&e.isActive===t.isActive&&e.isDragging===t.isDragging&&e.isDropTarget===t.isDropTarget&&e.canDelete===t.canDelete);function tG({pages:e,activePageId:t,draggingPageId:r,dropState:o,onSelect:i,onContextMenu:l,onDragStart:c,onDragEnd:u,onDragOver:h,onDrop:f,onClose:p,onDuplicateActive:g,onDeleteActive:y,canDuplicateActive:b,canDeleteActive:x}){const C=v.useRef(null);v.useEffect(()=>{const R=T=>{C.current&&!C.current.contains(T.target)&&p()},_=setTimeout(()=>{document.addEventListener("mousedown",R)},100);return()=>{clearTimeout(_),document.removeEventListener("mousedown",R)}},[p]);const S=R=>{i(R),p()},E=(R,_)=>{R.preventDefault(),R.stopPropagation();const T=R.currentTarget.getBoundingClientRect();l(R,_,T)};return A.jsxs(GX,{ref:C,onDrop:f,onDragOver:R=>{r&&R.preventDefault()},children:[e.map(R=>{const _=R.id===t,T=R.id===r,k=o?.zone==="overflow"&&o.targetId===R.id,O=k&&o?.position==="before",M=k&&o?.position==="after";return A.jsxs(z.Fragment,{children:[O&&A.jsx(Ev,{$variant:"overflow"}),A.jsxs(WX,{"data-dropup-page-item":"true","data-page-id":R.id,"data-active":_,"data-dragging":T,"data-drop-target":k,draggable:!0,onClick:()=>S(R.id),onContextMenu:j=>E(j,R.id),onDragStart:j=>c(j,R.id),onDragEnd:u,onDragOver:j=>h(j,R.id,"overflow"),onDrop:f,children:[A.jsx("span",{children:R.name}),_&&A.jsx("span",{children:""})]}),M&&A.jsx(Ev,{$variant:"overflow"})]},R.id)}),A.jsx(QX,{}),A.jsx(iR,{type:"button",onClick:()=>{b&&(g(),p())},disabled:!b,"data-dropup-action":"duplicate",children:"Duplicate"}),A.jsx(iR,{type:"button",onClick:()=>{x&&(y(),p())},disabled:!x,"data-dropup-action":"delete",children:"Delete"})]})}const nG=se.div`
  display: flex;
  align-items: center;
  gap: 6px;
  margin-left: auto;
  padding-left: 8px;
`,sR=se.button`
  width: 26px;
  height: 26px;
  border: none;
  background: rgba(0, 0, 0, 0.05);
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  color: #2c3e50;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s ease;

  &:hover {
    background: rgba(0, 0, 0, 0.1);
  }

  &:active {
    background: rgba(0, 0, 0, 0.15);
  }
`,rG=se.div`
  position: relative;
`,aG=se.button`
  min-width: 50px;
  height: 26px;
  padding: 0 10px;
  border: none;
  background: rgba(0, 0, 0, 0.05);
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  color: #2c3e50;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s ease;

  &:hover {
    background: rgba(0, 0, 0, 0.1);
  }
`,oG=se.div`
  position: absolute;
  bottom: 110%;
  right: -26px;
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.08);
  border-radius: 6px;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.12);
  padding: 4px 0;
  display: ${e=>e.$visible?"block":"none"};
  min-width: 148px;
  z-index: 1000;
`,lR=se.button`
  width: 100%;
  padding: 8px 12px;
  border: none;
  background: transparent;
  color: #2c3e50;
  font-size: 12px;
  text-align: left;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;

  &:hover {
    background: rgba(0, 0, 0, 0.05);
  }
`,cR=se.span`
  font-size: 11px;
  color: #6c757d;
`,uR=se.span`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  svg {
    width: 18px;
    height: 18px;
  }
`,iG=({zoom:e,onZoomIn:t,onZoomOut:r,onReset:o,onFitToScreen:i})=>{const[l,c]=v.useState(!1),u=v.useRef(null),f=v.useMemo(()=>typeof navigator<"u"&&navigator.platform.toUpperCase().includes("MAC"),[])?"":"Ctrl",p=`${f}+'`,g=`${f}+\\`;v.useEffect(()=>{if(!l)return;const C=E=>{u.current&&!u.current.contains(E.target)&&c(!1)},S=E=>{E.key==="Escape"&&c(!1)};return document.addEventListener("mousedown",C),document.addEventListener("keydown",S),()=>{document.removeEventListener("mousedown",C),document.removeEventListener("keydown",S)}},[l]);const y=()=>c(C=>!C),b=()=>{o?.(),c(!1)},x=()=>{i?.(),c(!1)};return A.jsxs(nG,{"data-zoom-inline":"true",children:[A.jsx(sR,{onClick:r,title:"Zoom Out (Ctrl/Cmd+[)",children:A.jsx(uR,{children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[A.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.jsx("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),A.jsx("path",{d:"M7 10h6"}),A.jsx("path",{d:"M21 21l-6 -6"})]})})}),A.jsxs(rG,{ref:u,children:[A.jsxs(aG,{onClick:y,children:[Math.round(e*100),"%"]}),A.jsxs(oG,{$visible:l,"data-zoom-menu":"true",children:[A.jsxs(lR,{onClick:b,children:[A.jsx("span",{children:"Reset"}),A.jsx(cR,{children:p})]}),A.jsxs(lR,{onClick:x,children:[A.jsx("span",{children:"Fit to screen"}),A.jsx(cR,{children:g})]})]})]}),A.jsx(sR,{onClick:t,title:"Zoom In (Ctrl/Cmd+])",children:A.jsx(uR,{children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[A.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.jsx("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),A.jsx("path",{d:"M10 7v6"}),A.jsx("path",{d:"M7 10h6"}),A.jsx("path",{d:"M21 21l-6 -6"})]})})})]})};function sG({isOpen:e,pageName:t,itemCount:r,onConfirm:o,onCancel:i}){return A.jsxs(ic,{isOpen:e,onClose:i,ariaLabelledBy:"delete-page-title",closeOnOverlayClick:!1,children:[A.jsx(rc,{id:"delete-page-title",children:"Delete page"}),A.jsxs(ac,{children:[A.jsxs("p",{children:["Are you sure you want to delete the page ",A.jsx("strong",{children:t}),"?"]}),r>0?A.jsxs("p",{children:["This page contains ",r," item",r===1?"":"s",". Deleting it cannot be undone."]}):A.jsx("p",{children:"This page is currently empty. Deleting it cannot be undone."})]}),A.jsxs(oc,{children:[A.jsx(ra,{onClick:i,children:"Cancel"}),A.jsx(ra,{$variant:"danger",onClick:o,children:"Delete page"})]})]})}const lG=()=>null,cG=({style:e,children:t,dataAttributes:r,forwardedRef:o})=>A.jsx(KX,{ref:o,style:e,...r??{},children:t}),uG=({entry:e,onSelect:t})=>A.jsx(VX,{onClick:t,disabled:e.disabled,...e.dataAttributes??{},children:e.label}),dG={Container:cG,Item:({entry:e,onSelect:t})=>A.jsx(uG,{entry:e,onSelect:t}),Separator:lG},wI=v.forwardRef(function({pages:t,activePageId:r,canAddPage:o,libraryWidth:i,isLibraryCollapsed:l,onAddPage:c,onToggleLibrary:u,onDeletePage:h,onRenamePage:f,onDuplicatePage:p,onReorderPages:g,onSwitchToPage:y,zoom:b,onZoomIn:x,onZoomOut:C,onResetZoom:S,onFitToScreen:E},R){const[_,T]=v.useState(!1),[k,O]=v.useState(null),{state:M,openMenu:j,closeMenu:H,resetMenu:U}=lh(),Y=v.useRef(null),Q=NX(Y),{visibleTabs:W,overflowTabs:ae,hasOverflow:Z}=zX(t,r,Q),{draggingPageId:P,dropState:L,handleDragStart:N,handleDragEnd:q,handleDragOver:$,handleDrop:D}=LX(t,g),F=t.length>1,X=o,re=v.useCallback(Se=>{if(H(),U(),t.length<=1)return;const ce=t.find(He=>He.id===Se);if(!ce)return;const Oe=ce.canvasState.elements.length,Ce=ce.canvasState.connectors.length;if(Oe+Ce===0){h(Se);return}O(Se)},[H,h,t,U]),V=v.useCallback((Se,ce,Oe)=>{T(!1);const Ce={left:Oe.left,top:Oe.top,right:Oe.right,bottom:Oe.bottom,width:Oe.width,height:Oe.height};j({anchorRect:Ce,placement:"anchor",dataAttributes:{"data-page-tab-context-menu":"true"},metadata:{pageId:ce},entries:wU({canDuplicate:o,canDelete:F,onDuplicate:()=>p(ce),onDelete:()=>re(ce)})})},[o,F,p,j,re]),ee=z.useMemo(()=>k?t.find(Se=>Se.id===k)??null:null,[k,t]),te=v.useCallback(()=>{k&&(h(k),O(null))},[k,h]),J=v.useCallback(()=>{O(null)},[]),ie=v.useCallback(()=>{X&&p(r)},[X,p,r]),be=v.useCallback(()=>{F&&re(r)},[F,re,r]);v.useImperativeHandle(R,()=>({requestDeletePage:Se=>re(Se)}),[re]);const ge=[...ae],Ee=(Se,ce,Oe)=>L&&L.zone===Oe&&L.targetId===Se&&L.position===ce?A.jsx(Ev,{$variant:Oe}):null,Te=l?FP:HP;return A.jsxs(HX,{ref:Y,$libraryWidth:i,onDrop:D,onDragOver:Se=>{P&&Se.preventDefault()},children:[A.jsx(XX,{onClick:u,title:l?"Expand library":"Collapse library","aria-label":l?"Expand sidebar":"Collapse sidebar",children:A.jsx(Te,{"aria-hidden":"true",size:18,stroke:1.5})}),A.jsx(xI,{onClick:()=>c(),disabled:!o,title:o?"Add new page":"Maximum 100 pages reached","aria-label":o?"Add new page":"Maximum 100 pages reached","data-add-page-button":"true",children:A.jsx(KP,{"aria-hidden":"true",size:18,stroke:1.5})}),A.jsx($X,{onDrop:D,onDragOver:Se=>{P&&Se.preventDefault()},children:W.map(Se=>A.jsxs(z.Fragment,{children:[Ee(Se.id,"before","strip"),A.jsx(eG,{page:Se,isActive:Se.id===r,isDragging:Se.id===P,isDropTarget:L?.zone==="strip"&&L.targetId===Se.id,canDelete:t.length>1,onSelect:y,onClose:re,onRename:f,onContextMenu:V,onDragStart:N,onDragEnd:q,onDragOver:(ce,Oe)=>$(ce,Oe,"strip"),onDrop:D}),Ee(Se.id,"after","strip")]},Se.id))}),Z&&A.jsxs(qX,{"data-open":_,onClick:()=>T(!_),children:["More (",ae.length,")"]}),_&&Z&&A.jsx(tG,{pages:ge,activePageId:r,draggingPageId:P,dropState:L,onSelect:y,onContextMenu:V,onDragStart:N,onDragEnd:q,onDragOver:$,onDrop:D,onClose:()=>T(!1),onDuplicateActive:ie,onDeleteActive:be,canDuplicateActive:X,canDeleteActive:F}),A.jsx(ch,{state:M,closeMenu:H,resetMenu:U,components:dG}),A.jsx(iG,{zoom:b,onZoomIn:x,onZoomOut:C,onReset:S,onFitToScreen:E}),A.jsx(sG,{isOpen:!!ee,pageName:ee?.name??"",itemCount:(()=>{if(!ee)return 0;const{canvasState:Se}=ee,ce=Se.elements?.length??0,Oe=Se.connectors?.length??0;return ce+Oe})(),onConfirm:te,onCancel:J})]})});wI.displayName="PageStrip";const fG=(e,t)=>{const r=[...e.map((h,f)=>({kind:"element",data:h,zIndex:typeof h.zIndex=="number"&&Number.isFinite(h.zIndex)?Math.round(h.zIndex):void 0,order:f})),...t.map((h,f)=>({kind:"connector",data:h,zIndex:typeof h.zIndex=="number"&&Number.isFinite(h.zIndex)?Math.round(h.zIndex):void 0,order:e.length+f}))],o=new Set;let i=-1;r.forEach(h=>{h.zIndex!==void 0&&(o.has(h.zIndex)||(o.add(h.zIndex),h.zIndex>i&&(i=h.zIndex)))});let l=i+1;o.clear(),r.sort((h,f)=>{const p=h.zIndex??1/0,g=f.zIndex??1/0;return p===g?h.order-f.order:p-g}).forEach(h=>{let f=h.zIndex;(f===void 0||o.has(f))&&(f=l++),o.add(f),h.data={...h.data,zIndex:f}});const c=r.filter(h=>h.kind==="element").sort((h,f)=>h.order-f.order).map(h=>h.data),u=r.filter(h=>h.kind==="connector").sort((h,f)=>h.order-f.order).map(h=>h.data);return{elements:c,connectors:u}},br=e=>{const t=["posX","posY","width","height"],r=e.elements.some(p=>{const g=p.properties;return g?t.some(y=>!(y in g)):!0}),o=!e.connectors||!e.selectedConnectors,i=!e.selectedItemIds;if(!r&&!o&&!i){const p=e.connectors.map(Nn.normaliseConnector),g=bn(p,e.elements);return{...e,connectors:g}}const l=e.selectedItemIds?e.selectedItemIds:[...e.selectedElements??[],...e.selectedConnectors??[]],c=e.elements.map(Jl),u=bn((e.connectors||[]).map(Nn.normaliseConnector),e.elements),{elements:h,connectors:f}=fG(c,u);return{...e,elements:h,connectors:f,selectedConnectors:e.selectedConnectors||[],selectedItemIds:Array.from(new Set(l))}},zo=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return null},dR=e=>e==="HollowArrow"?"HollowArrow":"None",hG=(e,t,r,o)=>{if(!e.selectedConnectors.includes(t))return{changed:!1,nextConnectors:e.connectors};const i=e.connectors.findIndex(_=>_.id===t);if(i===-1)return{changed:!1,nextConnectors:e.connectors};const l=e.connectors[i],c=Nn.normaliseConnector(l),u=Nn.getConnectorDefaults(),h={},f={...c.startPoint},p={...c.endPoint};let g=!1;switch(r){case"lineWidth":{const _=zo(o);_!==null&&(h.lineWidth=_);break}case"lineColour":{typeof o=="string"&&o.trim().length>0&&(h.lineColour=o);break}case"lineStyle":{typeof o=="string"&&(h.lineStyle=o);break}case"lineRounding":{const _=zo(o);_!==null&&(h.lineRounding=_);break}case"opacity":{const _=zo(o);_!==null&&(h.opacity=_);break}case"shadow":case"dropShadow":{h.shadow=!!o;break}case"shadowColour":{typeof o=="string"&&o.trim().length>0&&(h.shadowColour=o);break}case"shadowOpacity":{const _=zo(o);_!==null&&(h.shadowOpacity=_);break}case"shadowBlurRadius":{const _=zo(o);_!==null&&(h.shadowBlurRadius=_);break}case"startMark":{h.startMark=dR(o);break}case"endMark":{h.endMark=dR(o);break}case"startX":{const _=zo(o);if(_!==null){const T=Math.round(_);T!==f.x&&(f.x=T,g=!0)}break}case"startY":{const _=zo(o);if(_!==null){const T=Math.round(_);T!==f.y&&(f.y=T,g=!0)}break}case"endX":{const _=zo(o);if(_!==null){const T=Math.round(_);T!==p.x&&(p.x=T,g=!0)}break}case"endY":{const _=zo(o);if(_!==null){const T=Math.round(_);T!==p.y&&(p.y=T,g=!0)}break}}if(!(Object.keys(h).length>0)&&!g)return{changed:!1,nextConnectors:e.connectors};const b=Nn.applyConnectorProperties({...l,startPoint:f,endPoint:p},h),x={...u,...Nn.normaliseConnector(l).properties??{}},C={...u,...Nn.normaliseConnector(b).properties??{}};if(!Object.keys({...x,...C}).some(_=>x[_]!==C[_])&&!g)return{changed:!1,nextConnectors:e.connectors};const E=[...e.connectors];return E[i]=b,{changed:!0,nextConnectors:bn(E,e.elements)}},It=e=>Math.round(e),pG=.01,gG=(e,t)=>Nn.applyElementBatch(e,t),CI=(e,t,r)=>{if(t===0&&r===0||e.selectedElements.length===0&&e.selectedConnectors.length===0)return e;const o=e.selectedElements.length?new Set(e.selectedElements):null,i=e.selectedConnectors.length?new Set(e.selectedConnectors):null;if(!o&&!i)return e;let l=!1;const c=o?e.elements.map(p=>{if(!o.has(p.id))return p;const g=It(p.x+t),y=It(p.y+r);return g===p.x&&y===p.y?p:(l=!0,{...p,x:g,y,properties:{...p.properties,posX:g,posY:y}})}):e.elements;let u=!1;const h=i?e.connectors.map(p=>{if(!i.has(p.id))return p;const g={x:It(p.startPoint.x+t),y:It(p.startPoint.y+r)},y={x:It(p.endPoint.x+t),y:It(p.endPoint.y+r)};if(g.x===p.startPoint.x&&g.y===p.startPoint.y&&y.x===p.endPoint.x&&y.y===p.endPoint.y)return p;u=!0;const b=p.waypoints?p.waypoints.map(x=>({x:It(x.x+t),y:It(x.y+r)})):void 0;return{...p,startPoint:g,endPoint:y,waypoints:b}}):e.connectors;if(!l&&!u)return e;const f=bn(h,c);return{...e,elements:c,connectors:f}},mG=(e,t,r,o)=>{if(r===0&&o===0)return e;if(e.selectedElements.includes(t))return CI(e,r,o);let i=!1;const l=e.elements.map(c=>{if(c.id!==t)return c;const u=It(c.x+r),h=It(c.y+o);return u===c.x&&h===c.y?c:(i=!0,{...c,x:u,y:h,properties:{...c.properties,posX:u,posY:h}})});return i?{...e,elements:l,connectors:bn(e.connectors,l)}:e},yG=(e,t,r,o)=>{if(r===0&&o===0)return e;if(e.selectedConnectors.includes(t))return CI(e,r,o);let i=!1;const l=e.connectors.map(c=>{if(c.id!==t)return c;const u={x:It(c.startPoint.x+r),y:It(c.startPoint.y+o)},h={x:It(c.endPoint.x+r),y:It(c.endPoint.y+o)};return u.x===c.startPoint.x&&u.y===c.startPoint.y&&h.x===c.endPoint.x&&h.y===c.endPoint.y?c:(i=!0,{...c,startPoint:u,endPoint:h})});return i?{...e,connectors:bn(l,e.elements)}:e},bG=(e,t,r)=>{if(t.length===0)return e;const o=new Map;t.forEach(y=>{o.set(y.id,{x:It(y.x),y:It(y.y)})});let i=!1,l=0,c=0,u=!1;const h=e.elements.map(y=>{const b=o.get(y.id);return!b||y.x===b.x&&y.y===b.y?y:(i=!0,u||(l=b.x-y.x,c=b.y-y.y,u=!0),{...y,x:b.x,y:b.y,properties:{...y.properties,posX:b.x,posY:b.y}})});if(!i)return e;if(r?.skipWaypointUpdates)return{...e,elements:h,connectors:bn(e.connectors,h)};const f=new Set(o.keys()),p=new Set;e.connectors.forEach(y=>{const b=e.selectedConnectors.includes(y.id);if(!b)return;const x=y.startAttachment&&f.has(y.startAttachment.elementId),C=y.endAttachment&&f.has(y.endAttachment.elementId),S=!y.startAttachment&&!y.endAttachment||x&&C,E=b&&(x&&!y.endAttachment||C&&!y.startAttachment);(S||E)&&p.add(y.id)});const g=e.connectors.map(y=>{if(!p.has(y.id)||!y.waypoints||y.waypoints.length===0)return y;const b=y.waypoints.map(x=>({x:It(x.x+l),y:It(x.y+c)}));return{...y,waypoints:b}});return{...e,elements:h,connectors:bn(g,h)}},vG=(e,t)=>{if(t.length===0)return e;const r=new Map;t.forEach(l=>{r.set(l.id,l)});let o=!1;const i=e.connectors.map(l=>{const c=r.get(l.id);if(!c)return l;const u=c.startPoint??l.startPoint,h=c.endPoint??l.endPoint,f={x:It(u.x),y:It(u.y)},p={x:It(h.x),y:It(h.y)};let g;if(c.waypoints!==void 0)g=c.waypoints.map(y=>({x:It(y.x),y:It(y.y)}));else{const y=f.x-l.startPoint.x,b=f.y-l.startPoint.y;g=l.waypoints?l.waypoints.map(x=>({x:It(x.x+y),y:It(x.y+b)})):void 0}return l.startPoint.x===f.x&&l.startPoint.y===f.y&&l.endPoint.x===p.x&&l.endPoint.y===p.y&&JSON.stringify(l.waypoints)===JSON.stringify(g)?l:(o=!0,{...l,startPoint:f,endPoint:p,waypoints:g})});return o?{...e,connectors:bn(i,e.elements)}:e},xG=(e,t,r)=>{if(t===0&&r===0||e.selectedElements.length===0&&e.selectedConnectors.length===0)return e;const o=new Set(e.selectedElements);let i=!1;const l=e.elements.map(p=>{if(!o.has(p.id))return p;const g=Nn.applyElementBatch(p,{posX:p.x+t,posY:p.y+r});return g!==p&&(i=!0),g});let c=!1;const u=e.connectors.map(p=>{const g=e.selectedConnectors.includes(p.id),y=p.startAttachment&&o.has(p.startAttachment.elementId),b=p.endAttachment&&o.has(p.endAttachment.elementId);if(!g&&!y&&!b)return p;c=!0;const x=(p.waypoints||[]).map(E=>({x:It(E.x+t),y:It(E.y+r)})),C={x:It(p.startPoint.x+t),y:It(p.startPoint.y+r)},S={x:It(p.endPoint.x+t),y:It(p.endPoint.y+r)};return{...p,startPoint:C,endPoint:S,waypoints:x}});if(!i&&!c)return e;const h=new Set;u.forEach(p=>{const g=e.selectedConnectors.includes(p.id),y=p.startAttachment&&o.has(p.startAttachment.elementId),b=p.endAttachment&&o.has(p.endAttachment.elementId);(g||y||b)&&h.add(p.id)});const f=bn(u,l,h);return{...e,elements:l,connectors:f}},Si=(e,t)=>Math.round(e/t)*t,Ai=(e,t)=>Math.abs(e-t)>pG,SI=(e,t)=>{if(e.selectedElements.length===0&&e.selectedConnectors.length===0)return{elementUpdates:[],connectorUpdates:[]};const r=new Set(e.selectedElements),o=new Set(e.selectedConnectors),i=[],l=[];return e.elements.forEach(c=>{if(!r.has(c.id))return;const u=Si(c.x,t),h=Si(c.y,t),f=Math.max(1,Si(c.width,t)),p=Math.max(1,Si(c.height,t));!Ai(c.x,u)&&!Ai(c.y,h)&&!Ai(c.width,f)&&!Ai(c.height,p)||i.push({id:c.id,posX:u,posY:h,width:f,height:p})}),e.connectors.forEach(c=>{if(!o.has(c.id))return;const u={id:c.id};if(!c.startAttachment){const h=Si(c.startPoint.x,t),f=Si(c.startPoint.y,t);(Ai(c.startPoint.x,h)||Ai(c.startPoint.y,f))&&(u.startPoint={x:h,y:f})}if(!c.endAttachment){const h=Si(c.endPoint.x,t),f=Si(c.endPoint.y,t);(Ai(c.endPoint.x,h)||Ai(c.endPoint.y,f))&&(u.endPoint={x:h,y:f})}(u.startPoint||u.endPoint)&&l.push(u)}),{elementUpdates:i,connectorUpdates:l}},wG=(e,t,r)=>{const o=SI(e,t),{elementUpdates:i,connectorUpdates:l}=o;if(i.length===0&&l.length===0)return{changed:!1,state:e};const c=new Map(i.map(b=>[b.id,b]));let u=!1;const h=e.elements.map(b=>{const x=c.get(b.id);if(!x)return b;const C=gG(b,{posX:x.posX,posY:x.posY,width:x.width,height:x.height});return C!==b&&(u=!0),C}),f=new Map(l.map(b=>[b.id,b]));let p=!1;const g=e.connectors.map(b=>{const x=f.get(b.id);if(!x)return b;const C=x.startPoint?{x:It(x.startPoint.x),y:It(x.startPoint.y)}:b.startPoint,S=x.endPoint?{x:It(x.endPoint.x),y:It(x.endPoint.y)}:b.endPoint;return b.startPoint.x===C.x&&b.startPoint.y===C.y&&b.endPoint.x===S.x&&b.endPoint.y===S.y?b:(p=!0,{...b,startPoint:C,endPoint:S})});if(!u&&!p)return{changed:!1,state:e};const y=bn(g,h);return{changed:!0,state:{...e,elements:h,connectors:y}}},zb=(e,t)=>{const{elementUpdates:r,connectorUpdates:o}=SI(e,t);return r.length>0||o.length>0},Yo=(e,t)=>Array.from(new Set([...e,...t])),mh=e=>[...e.elements,...e.connectors].reduce((o,i)=>{const l=typeof i.zIndex=="number"&&Number.isFinite(i.zIndex)?Math.round(i.zIndex):o;return l>o?l:o},-1)+1,AI=e=>Array.from(new Set(e)),CG=(e,t,r)=>{const o=e.elements.find(c=>c.id===t);if(o||console.log("selectElementById: element not found",t,e.elements.map(c=>c.id)),!o)return e;const i=o.groupId?e.elements.filter(c=>c.groupId===o.groupId).map(c=>c.id):[t];if(r){if(i.some(h=>e.selectedElements.includes(h))){const h=e.selectedElements.filter(f=>!i.includes(f));return{...e,selectedElements:h,selectedConnectors:e.selectedConnectors,selectedItemIds:Yo(h,e.selectedConnectors)}}const u=AI([...e.selectedElements,...i]);return{...e,selectedElements:u,selectedConnectors:e.selectedConnectors,selectedItemIds:Yo(u,e.selectedConnectors)}}const l=i;return{...e,selectedElements:l,selectedConnectors:[],selectedItemIds:Yo(l,[])}},SG=(e,t,r)=>{const o=e.connectors.find(c=>c.id===t);if(!o)return e;const i=o.groupId?e.connectors.filter(c=>c.groupId===o.groupId).map(c=>c.id):[t];if(r){if(i.some(h=>e.selectedConnectors.includes(h))){const h=e.selectedConnectors.filter(f=>!i.includes(f));return{...e,selectedElements:e.selectedElements,selectedConnectors:h,selectedItemIds:Yo(e.selectedElements,h)}}const u=AI([...e.selectedConnectors,...i]);return{...e,selectedElements:e.selectedElements,selectedConnectors:u,selectedItemIds:Yo(e.selectedElements,u)}}const l=i;return{...e,selectedElements:[],selectedConnectors:l,selectedItemIds:Yo([],l)}},AG=e=>{const t=e.elements.map(o=>o.id),r=e.connectors.map(o=>o.id);return{...e,selectedElements:t,selectedConnectors:r,selectedItemIds:Yo(t,r)}},EG=e=>e.selectedElements.length===0&&e.selectedConnectors.length===0?e:{...e,selectedElements:[],selectedConnectors:[],selectedItemIds:[]};let fR=0;function MG(e){return{...e,selectedElements:[],selectedConnectors:[],selectedItemIds:[]}}function Of(e,t){return fR+=1,{state:MG(e),description:t||"Canvas updated",timestamp:Date.now(),id:`history-${fR}`}}function _G({initialState:e,onStateChange:t,maxHistorySize:r=50}){const[o,i]=v.useState(()=>({past:[],present:Of(e,"Initial state"),future:[]})),l=v.useRef(!1),c=v.useRef({selectedElements:e.selectedElements,selectedConnectors:e.selectedConnectors,selectedItemIds:e.selectedItemIds});v.useEffect(()=>{i({past:[],present:Of(e,"Initial state"),future:[]})},[]);const u=v.useCallback((S,E)=>{c.current={selectedElements:S.selectedElements,selectedConnectors:S.selectedConnectors,selectedItemIds:S.selectedItemIds},i(R=>{const _=R.present.state;let T=!1;_.elements.length===S.elements.length&&(T=_.elements.every((H,U)=>H===S.elements[U]));let k=!1;_.connectors.length===S.connectors.length&&(k=_.connectors.every((H,U)=>H===S.connectors[U]));const O=_.zoom===S.zoom&&_.panX===S.panX&&_.panY===S.panY;if(T&&k&&O)return R;const M=Of(S,E),j=[...R.past,R.present];return j.length>r&&j.shift(),{past:j,present:M,future:[]}})},[r]),h=v.useCallback(()=>{i(S=>{if(S.past.length===0)return S;const E=S.past[S.past.length-1],R=S.past.slice(0,S.past.length-1);return l.current=!0,t({...E.state,selectedElements:c.current.selectedElements,selectedConnectors:c.current.selectedConnectors,selectedItemIds:c.current.selectedItemIds}),{past:R,present:E,future:[S.present,...S.future]}})},[t]),f=v.useCallback(()=>{i(S=>{if(S.future.length===0)return S;const E=S.future[0],R=S.future.slice(1);return l.current=!0,t({...E.state,selectedElements:c.current.selectedElements,selectedConnectors:c.current.selectedConnectors,selectedItemIds:c.current.selectedItemIds}),{past:[...S.past,S.present],present:E,future:R}})},[t]),p=v.useCallback((S,E)=>{l.current=!1,c.current={selectedElements:S.selectedElements,selectedConnectors:S.selectedConnectors,selectedItemIds:S.selectedItemIds},i({past:[],present:Of(S,E||"Initial state"),future:[]})},[]),g=v.useCallback(()=>o,[o]),y=v.useCallback(S=>{l.current=!1,c.current={selectedElements:S.present.state.selectedElements,selectedConnectors:S.present.state.selectedConnectors,selectedItemIds:S.present.state.selectedItemIds},i({past:S.past.map(E=>({...E})),present:{...S.present},future:S.future.map(E=>({...E}))}),t(S.present.state)},[t]),b=[...o.past.map(S=>({id:S.id,description:S.description,timestamp:S.timestamp,position:"past"})),{id:o.present.id,description:o.present.description,timestamp:o.present.timestamp,position:"present"},...o.future.map(S=>({id:S.id,description:S.description,timestamp:S.timestamp,position:"future"}))],x=o.past.length,C=v.useCallback(S=>{i(E=>{if(E.present.id===S)return E;const R=E.past.findIndex(T=>T.id===S);if(R>=0){const T=E.past[R],k=E.past.slice(0,R),M=[...E.past.slice(R+1),E.present,...E.future];return l.current=!0,t({...T.state,selectedElements:c.current.selectedElements,selectedConnectors:c.current.selectedConnectors,selectedItemIds:c.current.selectedItemIds}),{past:k,present:T,future:M}}const _=E.future.findIndex(T=>T.id===S);if(_>=0){const T=E.future[_],k=E.future.slice(0,_),O=E.future.slice(_+1),M=[...E.past,E.present,...k];return l.current=!0,t({...T.state,selectedElements:c.current.selectedElements,selectedConnectors:c.current.selectedConnectors,selectedItemIds:c.current.selectedItemIds}),{past:M,present:T,future:O}}return E})},[t]);return{undo:h,redo:f,canUndo:o.past.length>0,canRedo:o.future.length>0,recordState:u,resetHistory:p,historyEntries:b,historyIndex:x,jumpToHistoryEntry:C,getHistoryState:g,setHistoryState:y}}const RG=50;function TG(e){const{canvasState:t,setCanvasStateInternal:r}=e,o=v.useRef(t);v.useEffect(()=>{o.current=t},[t]);const i=v.useRef(!1),l=v.useRef(null),c=v.useRef(!1),u=v.useCallback(()=>{const k=l.current;k&&(r(()=>k,{persist:!0}),l.current=null)},[r]);v.useEffect(()=>()=>{u()},[u]);const h=v.useCallback(k=>{const O=!i.current,M=c.current?o.current:br(o.current),j=typeof k=="function"?k(M):k,H=c.current?j:br(j);return O?l.current=null:l.current=H,o.current=H,r(H,{persist:O}),H},[r]),f=_G({initialState:t,onStateChange:h,maxHistorySize:RG}),p=v.useRef(t),g=v.useRef(null),y=v.useRef("Edit elements"),b=v.useRef(null);v.useEffect(()=>{const k=JSON.stringify({elements:p.current.elements,connectors:p.current.connectors}),O=JSON.stringify({elements:t.elements,connectors:t.connectors});k!==O&&!c.current&&(p.current=t)},[t]);const x=v.useCallback((k="Edit elements")=>{c.current=!0,g.current=o.current,y.current=k,i.current=!0,l.current=null},[]),C=v.useCallback(()=>{const k=l.current??o.current,O=g.current,M=y.current;l.current=null,i.current=!1,c.current=!1,g.current=null,y.current="Edit elements";const j={...k,elements:k.elements.map(U=>({...U,properties:{...U.properties,posX:U.x,posY:U.y,width:U.width,height:U.height}}))},H=br(j);if(O){const U=JSON.stringify({elements:O.elements,connectors:O.connectors}),Y=JSON.stringify({elements:H.elements,connectors:H.connectors});U!==Y&&(f.recordState(H,M),p.current=H)}r(H,{persist:!0}),o.current=H},[f,r]),S=v.useCallback(k=>{b.current=k,i.current||u()},[u]),E=v.useCallback(k=>{h(O=>{const M=typeof k=="function"?k(O):k,j=c.current?M:br(M);if(!c.current){const H=JSON.stringify({elements:p.current.elements,connectors:p.current.connectors}),U=JSON.stringify({elements:j.elements,connectors:j.connectors});if(H!==U){const Y=b.current;Y?(f.recordState(j,Y),p.current=j):(f.recordState(j),p.current=j),b.current=null}}return j})},[f,h]),R=v.useCallback((k,O={})=>{const M=c.current?k:br(k);h(M);const j=br(M);c.current||(p.current=j,b.current=null),g.current=null,O.resetHistory&&(f.resetHistory(j,O.description),p.current=j)},[f,h]),_=v.useCallback(()=>{const k=f.getHistoryState(),O=br(o.current);return{past:k.past.map(M=>({...M,state:br(M.state)})),present:{...k.present,state:O},future:k.future.map(M=>({...M,state:br(M.state)}))}},[f]),T=v.useCallback(k=>{const O={past:k.past.map(j=>({...j,state:br(j.state)})),present:{...k.present,state:br(k.present.state)},future:k.future.map(j=>({...j,state:br(j.state)}))};f.setHistoryState(O);const M=br(O.present.state);h(M),p.current=M,g.current=null,c.current=!1,b.current=null},[f,h]);return{canvasStateRef:o,setCanvasState:E,replaceCanvasState:R,queueHistoryEntry:S,flushPendingPersistence:u,startTransaction:x,endTransaction:C,exportHistoryState:_,importHistoryState:T,undoRedo:f}}const $o=new Map,kG=100,hR=(e,t)=>{const r=$o.get(e);r!==void 0&&clearTimeout(r);const o=window.setTimeout(()=>{if($o.delete(e),!Ir())try{window.localStorage.setItem(e,JSON.stringify(t))}catch(i){console.warn(`Error persisting localStorage key "${e}":`,i)}},50);if($o.set(e,o),$o.size>kG){const i=$o.keys().next().value;if(i!==void 0){const l=$o.get(i);l!==void 0&&clearTimeout(l),$o.delete(i)}}};function OG(e,t){const[r,o]=v.useState(()=>{try{const u=window.localStorage.getItem(e);return u?JSON.parse(u):t}catch(u){return console.warn(`Error reading localStorage key "${e}":`,u),t}}),i=v.useRef(null),l=v.useRef(null);v.useEffect(()=>()=>{i.current!==null&&clearTimeout(i.current);const u=$o.get(e);u!==void 0&&(clearTimeout(u),$o.delete(e))},[e]);const c=v.useCallback((u,h={})=>{const f=h.persist!==!1;try{u instanceof Function?o(p=>{const g=u(p);return f&&hR(e,g),g}):(l.current=u,i.current!==null&&clearTimeout(i.current),i.current=window.setTimeout(()=>{o(p=>l.current??p),i.current=null},10),f&&hR(e,u))}catch(p){console.warn(`Error setting localStorage key "${e}":`,p)}},[e]);return[r,c]}function IG(e){const t={elements:[],connectors:[],selectedElements:[],selectedConnectors:[],selectedItemIds:[],zoom:1,panX:0,panY:0},[r,o]=OG(Zt("current-project"),e||t),i=v.useRef(null);v.useEffect(()=>{if(!e)return;const V=JSON.stringify({elements:e.elements,connectors:e.connectors});if(i.current===V)return;if(JSON.stringify({elements:r.elements,connectors:r.connectors})===V){i.current=V;return}o(e,{persist:!0}),i.current=V},[e,r.elements,r.connectors,o]),v.useEffect(()=>{r.elements.some(ee=>!ee.properties)&&o(ee=>br(ee),{persist:!0})},[r,o]);const l=v.useMemo(()=>br(r),[r]),{canvasStateRef:c,setCanvasState:u,replaceCanvasState:h,queueHistoryEntry:f,flushPendingPersistence:p,startTransaction:g,endTransaction:y,exportHistoryState:b,importHistoryState:x,undoRedo:C}=TG({canvasState:l,setCanvasStateInternal:o}),S=v.useCallback((V,ee=!1)=>{u(te=>{const J=CG(te,V,ee);return J===te?console.log("selectElement no change",V,te.selectedElements):console.log("selectElement updated",V,J.selectedElements),J})},[u]),E=v.useCallback((V,ee,te)=>{ee===0&&te===0||u(J=>mG(J,V,ee,te))},[u]),R=v.useCallback((V,ee=!1)=>{u(te=>SG(te,V,ee))},[u]),_=v.useCallback((V,ee,te)=>{ee===0&&te===0||u(J=>yG(J,V,ee,te))},[u]),T=v.useCallback((V,ee)=>{V.length&&u(te=>bG(te,V,ee))},[u]),k=v.useCallback(V=>{V.length&&u(ee=>vG(ee,V))},[u]),O=v.useCallback((V,ee,te)=>{u(J=>{const{changed:ie,nextConnectors:be}=hG(J,V,ee,te);return ie?(f("Edit connector properties"),{...J,connectors:be}):J})},[f,u]),M=v.useCallback((V,ee,te)=>{u(J=>{const ie=J.connectors.findIndex(ce=>ce.id===V);if(ie===-1)return J;const be=J.connectors[ie],ge=be.waypoints||[];if(ee<0||ee>=ge.length)return J;const Ee=ge[ee];if(Ee.x===te.x&&Ee.y===te.y)return J;const Te=[...ge];Te[ee]={x:te.x,y:te.y};const Se=[...J.connectors];return Se[ie]={...be,waypoints:Te},{...J,connectors:Se}})},[u]),j=v.useCallback((V,ee,te)=>{u(J=>{const ie=J.connectors.findIndex(Ce=>Ce.id===V);if(ie===-1)return J;const be=J.connectors[ie],ge=be.waypoints||[],Ee=[be.startPoint,...ge,be.endPoint];let Te=1/0,Se=ge.length;for(let Ce=0;Ce<Ee.length-1;Ce++){const Le=Ee[Ce],He=Ee[Ce+1],dt=He.x-Le.x,Qe=He.y-Le.y,tt=dt*dt+Qe*Qe;if(tt===0){const Ke=Math.hypot(ee-Le.x,te-Le.y);Ke<Te&&(Te=Ke,Se=Ce);continue}const $e=Math.max(0,Math.min(1,((ee-Le.x)*dt+(te-Le.y)*Qe)/tt)),Fe=Le.x+$e*dt,ze=Le.y+$e*Qe,rt=Math.hypot(ee-Fe,te-ze);rt<Te&&(Te=rt,Se=Ce)}const ce=[...ge];ce.splice(Se,0,{x:ee,y:te});const Oe=[...J.connectors];return Oe[ie]={...be,waypoints:ce},f("Add waypoint"),{...J,connectors:Oe}})},[u,f]),H=v.useCallback((V,ee)=>{u(te=>{const J=te.connectors.findIndex(Te=>Te.id===V);if(J===-1)return te;const ie=te.connectors[J],be=ie.waypoints||[];if(ee<0||ee>=be.length)return te;const ge=be.filter((Te,Se)=>Se!==ee),Ee=[...te.connectors];return Ee[J]={...ie,waypoints:ge},f("Delete waypoint"),{...te,connectors:Ee}})},[u,f]),U=v.useCallback((V,ee)=>{f("Edit text"),u(te=>({...te,elements:te.elements.map(J=>J.id===V?{...J,text:ee}:J)}))},[u,f]),Y=v.useCallback((V,ee)=>{const J=c.current.elements.find(Ee=>Ee.id===V);if(!J)return;const ie=typeof ee=="string"&&ee.trim().length>0?ee:void 0,be=typeof J.imageSrc=="string"&&J.imageSrc.trim().length>0?J.imageSrc:typeof J.properties?.imageSrc=="string"?J.properties.imageSrc:void 0,ge=!!(J.properties&&Object.prototype.hasOwnProperty.call(J.properties,"imageSrc"));be===ie&&!ge||(f("Update image"),u(Ee=>{const Te=Ee.elements.map(ce=>{if(ce.id!==V)return ce;let Oe;if(ce.properties){const Ce=Object.entries(ce.properties).filter(([Le])=>Le!=="imageSrc");Ce.length>0&&(Oe=Ce.reduce((Le,[He,dt])=>(Le[He]=dt,Le),{}))}return{...ce,imageSrc:ie,properties:Oe}}),Se=bn(Ee.connectors,Te);return{...Ee,elements:Te,connectors:Se}}))},[f,u]),Q=v.useCallback((V,ee,te)=>{f("Edit properties"),u(J=>{if(!J.selectedElements.includes(V)||!J.elements.some(ge=>ge.id===V))return J;const be=J.elements.map(ge=>ge.id===V?Nn.updateElement(ge,ee,te):ge);return{...J,elements:be,connectors:bn(J.connectors,be)}})},[f,u]),W=v.useCallback(V=>{f("Reset properties"),u(ee=>{const te=ee.elements.map(J=>J.id===V?x8(J):J);return{...ee,elements:te,connectors:bn(ee.connectors,te)}})},[f,u]),ae=v.useCallback((V,ee)=>{V.length!==0&&(f("Paste properties"),u(te=>{const J=te.elements.map(ie=>V.includes(ie.id)?Nn.applyElementBatch(ie,ee):ie);return{...te,elements:J,connectors:bn(te.connectors,J)}}))},[f,u]),Z=v.useCallback((V,ee)=>{V.length!==0&&(f("Paste properties"),u(te=>{const J=new Set(V);let ie=!1;const be=te.connectors.map(ge=>{if(!J.has(ge.id))return ge;const Ee=Nn.applyConnectorProperties(ge,ee),Te=ge.startAttachment??null,Se=ge.endAttachment??null,ce={...Ee,startAttachment:Te?{elementId:Te.elementId,anchor:{...Te.anchor}}:null,endAttachment:Se?{elementId:Se.elementId,anchor:{...Se.anchor}}:null,startPoint:Te?ge.startPoint:Ee.startPoint,endPoint:Se?ge.endPoint:Ee.endPoint};return(ce.startAttachment!==ge.startAttachment||ce.endAttachment!==ge.endAttachment||ce.startPoint!==ge.startPoint||ce.endPoint!==ge.endPoint||ce.properties!==ge.properties)&&(ie=!0),ce});return ie?{...te,connectors:be}:te}))},[f,u]),P=v.useCallback(V=>{V.length!==0&&(f("Reset properties"),u(ee=>{const te=new Set(V),J=Nn.getConnectorDefaults(),ie=ee.connectors.map(be=>te.has(be.id)?Nn.applyConnectorProperties(be,J):be);return{...ee,connectors:bn(ie,ee.elements)}}))},[f,u]),L=v.useCallback(()=>{u(V=>{const ee=V.selectedElements.length>0,te=V.selectedConnectors.length>0;if(!ee&&!te)return V;const J=new Set(V.selectedElements),ie=new Set(V.selectedConnectors);f("Delete selection");const be=ee?V.elements.filter(Se=>!J.has(Se.id)):V.elements,ge=te?V.connectors.filter(Se=>!ie.has(Se.id)):V.connectors,Ee=J.size>0?ge.map(Se=>{let ce=Se.startAttachment??null,Oe=Se.endAttachment??null,Ce=!1;return ce&&J.has(ce.elementId)&&(ce=null,Ce=!0),Oe&&J.has(Oe.elementId)&&(Oe=null,Ce=!0),Ce?{...Se,startAttachment:ce,endAttachment:Oe}:Se}):ge,Te=bn(Ee,be);return{...V,elements:be,connectors:Te,selectedElements:[],selectedConnectors:[],selectedItemIds:[]}})},[u,f]),N=v.useCallback((V,ee)=>{u(te=>{const J=xG(te,V,ee);return J===te?te:(f("Move selection"),J)})},[u,f]),q=v.useCallback(V=>{V.length<2||u(ee=>{f("Group elements");const te=crypto.randomUUID(),J=new Set;return V.forEach(ie=>{const be=ee.elements.find(ge=>ge.id===ie);be?.groupId&&J.add(be.groupId)}),{...ee,elements:ee.elements.map(ie=>V.includes(ie.id)||ie.groupId&&J.has(ie.groupId)?{...ie,groupId:te}:ie)}})},[u,f]),$=v.useCallback(V=>{V&&u(ee=>(f("Ungroup elements"),{...ee,elements:ee.elements.map(te=>te.groupId===V?{...te,groupId:void 0}:te)}))},[u,f]),D=v.useCallback(()=>{u(V=>AG(V))},[u]),F=v.useCallback(()=>{u(V=>EG(V))},[u]),X=v.useCallback(()=>{h({elements:[],connectors:[],selectedElements:[],selectedConnectors:[],selectedItemIds:[],zoom:1,panX:0,panY:0},{resetHistory:!0,description:"Cleared canvas"})},[h]),re=v.useCallback(()=>c.current,[]);return{canvasState:l,actions:{getCanvasStateSnapshot:re,setCanvasState:u,replaceCanvasState:h,queueHistoryEntry:f,flushPendingPersistence:p,selectElement:S,selectConnector:R,moveElement:E,moveConnector:_,moveElementsTo:T,moveConnectorsTo:k,moveWaypointTo:M,addWaypointToConnector:j,deleteWaypoint:H,updateElementText:U,updateElementImage:Y,updateElementProperty:Q,updateConnectorProperty:O,resetElementStyling:W,applyPropertiesToElements:ae,applyPropertiesToConnectors:Z,resetConnectorProperties:P,deleteSelectedElements:L,moveSelectedElements:N,selectAll:D,clearSelection:F,clearCanvas:X,groupElements:q,ungroupElements:$,undo:C.undo,redo:C.redo,startTransaction:g,endTransaction:y,jumpToHistoryEntry:C.jumpToHistoryEntry,exportHistoryState:b,importHistoryState:x},canUndo:C.canUndo,canRedo:C.canRedo,historyEntries:C.historyEntries,historyIndex:C.historyIndex}}const Cl=20;function PG({canvasState:e,setCanvasState:t}){const[r,o]=v.useState("drag"),[i,l]=v.useState(null),[c,u]=v.useState(!1),h=.1,f=v.useCallback(()=>{t(T=>{const k=Math.min(T.zoom+h,3);return{...T,zoom:Number(k.toFixed(4))}})},[t]),p=v.useCallback(()=>{t(T=>{const k=Math.max(T.zoom-h,.1);return{...T,zoom:Number(k.toFixed(4))}})},[t]),g=v.useCallback(T=>{const k=Math.min(Math.max(T,.1),3);t(O=>({...O,zoom:k}))},[t]),y=v.useCallback((T,k,O,M)=>{const j=Math.min(Math.max(T,.1),3);t(H=>{const U=H.zoom,Y=k-M.left-Cl,Q=O-M.top-Cl,W=Y*(1/j-1/U)+H.panX,ae=Q*(1/j-1/U)+H.panY;return{...H,zoom:j,panX:W,panY:ae}})},[t]),b=v.useCallback((T,k)=>{t(O=>({...O,panX:T,panY:k}))},[t]),x=v.useCallback(T=>{o(T),T==="select"&&(l(null),u(!1))},[]),C=v.useCallback(()=>{u(!0)},[]),S=v.useCallback(T=>{l(T)},[]),E=v.useCallback(()=>{t(T=>({...T,zoom:1,panX:0,panY:0}))},[t]),R=v.useCallback(()=>{t(T=>{const k=T.elements;if(k.length===0)return{...T,zoom:1,panX:0,panY:0};let O=1/0,M=1/0,j=-1/0,H=-1/0;k.forEach(F=>{O=Math.min(O,F.x),M=Math.min(M,F.y),j=Math.max(j,F.x+F.width),H=Math.max(H,F.y+F.height)});const U=j-O,Y=H-M,W=document.querySelector('[data-canvas-wrapper="true"]')?.getBoundingClientRect(),ae=W?W.width-Cl:window.innerWidth-Cl-280,Z=W?W.height-Cl:window.innerHeight-Cl-60,P=.9,L=ae/U*P,N=Z/Y*P,q=Math.min(Math.max(Math.min(L,N),.1),3),$=ae/2/q-(O+j)/2,D=Z/2/q-(M+H)/2;return{...T,zoom:q,panX:$,panY:D}})},[t]),_=v.useCallback((T,k)=>{const O=[],M=[],j=Math.min(T.startX,T.endX),H=Math.max(T.startX,T.endX),U=Math.min(T.startY,T.endY),Y=Math.max(T.startY,T.endY),Q=H-j,W=Y-U;return(Q>5||W>5)&&(k.elements.forEach(Z=>{const P=Z.x,L=Z.x+Z.width,N=Z.y,q=Z.y+Z.height;P>=j&&L<=H&&N>=U&&q<=Y&&O.push(Z.id)}),k.connectors.forEach(Z=>{Jq(Z,T)&&M.push(Z.id)}),(O.length>0||M.length>0)&&o("drag")),l(null),u(!1),{elementIds:O,connectorIds:M}},[o]);return{zoom:e.zoom,panX:e.panX,panY:e.panY,canvasMode:r,selectionArea:i,isSelecting:c,actions:{zoomIn:f,zoomOut:p,setZoom:g,setZoomAtPoint:y,resetZoom:E,fitToScreen:R,updatePan:b,setMode:x,startSelection:C,updateSelectionArea:S,completeSelection:_}}}function jG({canvasState:e,setCanvasState:t,queueHistoryEntry:r}){const o=e.selectedElements.length>0||e.selectedConnectors.length>0,i=v.useCallback(g=>[...g.elements.map((b,x)=>({kind:"element",id:b.id,zIndex:typeof b.zIndex=="number"?b.zIndex:x,orderIndex:x})),...g.connectors.map((b,x)=>({kind:"connector",id:b.id,zIndex:typeof b.zIndex=="number"?b.zIndex:g.elements.length+x,orderIndex:g.elements.length+x}))].sort((b,x)=>b.zIndex===x.zIndex?b.orderIndex-x.orderIndex:b.zIndex-x.zIndex),[]),l=v.useCallback((g,y)=>{const b=new Map;y.forEach((S,E)=>{b.set(`${S.kind}:${S.id}`,E)});const x=g.elements.map(S=>{const E=`element:${S.id}`,R=b.get(E);return R===void 0?S:{...S,zIndex:R}}),C=g.connectors.map(S=>{const E=`connector:${S.id}`,R=b.get(E);return R===void 0?S:{...S,zIndex:R}});return{...g,elements:x,connectors:C}},[]),c=v.useCallback(()=>{const g=new Set;return e.selectedElements.forEach(y=>g.add(`element:${y}`)),e.selectedConnectors.forEach(y=>g.add(`connector:${y}`)),g},[e.selectedElements,e.selectedConnectors]),u=v.useCallback(()=>{o&&(r("Send items to back"),t(g=>{const y=i(g),b=c(),x=y.filter(E=>b.has(`${E.kind}:${E.id}`));if(x.length===0)return g;const C=y.filter(E=>!b.has(`${E.kind}:${E.id}`)),S=[...x,...C].map((E,R)=>({...E,zIndex:R}));return l(g,S)}))},[o,r,t,i,c,l]),h=v.useCallback(()=>{o&&(r("Bring items to front"),t(g=>{const y=i(g),b=c(),x=y.filter(E=>b.has(`${E.kind}:${E.id}`));if(x.length===0)return g;const S=[...y.filter(E=>!b.has(`${E.kind}:${E.id}`)),...x].map((E,R)=>({...E,zIndex:R}));return l(g,S)}))},[o,r,t,i,c,l]),f=v.useCallback(()=>{o&&(r("Bring items forward"),t(g=>{const y=i(g),b=c(),x=S=>`${S.kind}:${S.id}`;for(let S=y.length-2;S>=0;S--){const E=y[S],R=y[S+1],_=b.has(x(E)),T=b.has(x(R));_&&!T&&([y[S],y[S+1]]=[R,E])}const C=y.map((S,E)=>({...S,zIndex:E}));return l(g,C)}))},[o,r,t,i,c,l]),p=v.useCallback(()=>{o&&(r("Send items backward"),t(g=>{const y=i(g),b=c(),x=S=>`${S.kind}:${S.id}`;for(let S=1;S<y.length;S++){const E=y[S],R=y[S-1],_=b.has(x(E)),T=b.has(x(R));_&&!T&&([y[S-1],y[S]]=[E,R])}const C=y.map((S,E)=>({...S,zIndex:E}));return l(g,C)}))},[o,r,t,i,c,l]);return{sendToBack:u,sendToFront:h,bringForward:f,bringBack:p}}const pR=50,gR=30;function DG({setCanvasState:e,zoom:t,onTransactionStart:r,onTransactionEnd:o,isShiftPressed:i=!1,snapGridSize:l=10}){const[c,u]=v.useState(!1),[h,f]=v.useState(null),[p,g]=v.useState(null),[y,b]=v.useState(null),[x,C]=v.useState(null),S=v.useRef(null),E=v.useCallback((T,k,O,M)=>{r?.("Resize element"),u(!0),f(T),g(k),b(O),C({width:M.width,height:M.height,x:M.x,y:M.y})},[r]),R=v.useCallback(T=>{!c||!h||!p||!y||!x||(S.current!==null&&cancelAnimationFrame(S.current),S.current=requestAnimationFrame(()=>{const k=(T.x-y.x)/t,O=(T.y-y.y)/t;e(M=>{const j=M.elements.find(V=>V.id===h);if(!j)return M;const H=j.constraints??lv[j.type],U=H?.minWidth??pR,Y=H?.minHeight??gR;let Q=x.width,W=x.height;switch(p){case"nw":Q=x.width-k,W=x.height-O;break;case"ne":Q=x.width+k,W=x.height-O;break;case"sw":Q=x.width-k,W=x.height+O;break;case"se":Q=x.width+k,W=x.height+O;break;case"n":W=x.height-O;break;case"s":W=x.height+O;break;case"w":Q=x.width-k;break;case"e":Q=x.width+k;break}const ae=!!j.properties?.constrainRatio,Z=x.height!==0?x.width/x.height:null;let P=Math.max(Q,U),L=Math.max(W,Y);if(ae&&Z&&Number.isFinite(Z)&&Z>0){const V=p.includes("w")||p.includes("e"),ee=p.includes("n")||p.includes("s"),te=ie=>{let be=Math.max(ie,U),ge=be/Z;return ge<Y&&(ge=Y,be=ge*Z),{width:be,height:ge}},J=ie=>{let be=Math.max(ie,Y),ge=be*Z;return ge<U&&(ge=U,be=ge/Z),{width:ge,height:be}};if(V&&!ee){const ie=te(Q);P=ie.width,L=ie.height}else if(!V&&ee){const ie=J(W);P=ie.width,L=ie.height}else if(V&&ee){const ie=te(Q),be=J(W),ge=Math.abs(ie.width-x.width),Ee=Math.abs(be.height-x.height);ge>=Ee?(P=ie.width,L=ie.height):(P=be.width,L=be.height)}else{const ie=te(Q);P=ie.width,L=ie.height}}P=Math.round(P),L=Math.round(L);const N=x.x,q=x.y,$=x.x+x.width,D=x.y+x.height;let F=j.x,X=j.y;if(ae){const V=p.includes("w")&&!p.includes("e"),ee=p.includes("n")&&!p.includes("s");F=V?$-P:N,X=ee?D-L:q}else p.includes("w")?F=$-P:p.includes("e")&&(F=N),p.includes("n")?X=D-L:p.includes("s")&&(X=q);const re=M.elements.map(V=>V.id===h?{...V,x:F,y:X,width:P,height:L,properties:{...V.properties,posX:F,posY:X,width:P,height:L}}:V);return{...M,elements:re,connectors:bn(M.connectors,re)}})}))},[c,h,p,y,x,t,e]),_=v.useCallback(()=>{h&&e(T=>{const k=T.elements.map(O=>{if(O.id!==h)return O;const M=O.constraints??lv[O.type],j=M?.minWidth??pR,H=M?.minHeight??gR,U=O.x,Y=O.x+O.width,Q=O.y,W=O.y+O.height;let ae=Math.round(U),Z=Math.round(Q),P=Math.max(Math.round(O.width),j),L=Math.max(Math.round(O.height),H);if(i&&l>0){const q=p??"",$=q.length===2,D=!!O.properties?.constrainRatio,F=q.includes("e")||q.includes("w"),X=q.includes("n")||q.includes("s"),re=F||$||D,V=X||$||D,ee=q.includes("w")&&!q.includes("e"),te=q.includes("n")&&!q.includes("s");if(re)if(ee){let J=Math.round(U/l)*l;const ie=Math.round((Y-j)/l)*l;J>ie&&(J=ie),ae=J,P=Math.max(Math.round(Y-ae),j)}else{const J=Math.round(Y/l)*l,ie=ae+j,be=Math.max(J,Math.ceil(ie/l)*l);P=Math.round(be-ae)}if(V)if(te){let J=Math.round(Q/l)*l;const ie=Math.round((W-H)/l)*l;J>ie&&(J=ie),Z=J,L=Math.max(Math.round(W-Z),H)}else{const J=Math.round(W/l)*l,ie=Z+H,be=Math.max(J,Math.ceil(ie/l)*l);L=Math.round(be-Z)}P=Math.round(P),L=Math.round(L)}return Xk(O,{width:P,height:L,posX:ae,posY:Z})});return{...T,elements:k,connectors:bn(T.connectors,k)}}),o?.(),u(!1),f(null),g(null),b(null),C(null)},[i,o,h,p,e,l]);return v.useEffect(()=>{if(!c)return;const T=O=>{R({x:O.clientX,y:O.clientY})},k=()=>{_()};return document.addEventListener("mousemove",T),document.addEventListener("mouseup",k),()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",k),S.current!==null&&(cancelAnimationFrame(S.current),S.current=null)}},[c,R,_]),{isResizing:c,resizeElementId:h,resizeHandle:p,resizeStartPos:y,resizeStartSize:x,actions:{handleResizeStart:E,handleResizeMove:R,handleResizeEnd:_}}}const BG=1,mR=.5;function zG({setCanvasState:e,zoom:t,onTransactionStart:r,onTransactionEnd:o,isShiftPressed:i=!1,snapGridSize:l=10,suppressAnchors:c=!1}){const[u,h]=v.useState(!1),[f,p]=v.useState(null),[g,y]=v.useState(null),[b,x]=v.useState(null),[C,S]=v.useState(null),[E,R]=v.useState(!1),[_,T]=v.useState({elementId:null,point:null}),[k,O]=v.useState({x:0,y:0}),[M,j]=v.useState(null),H=v.useRef(null),U=v.useRef(null),Y=v.useRef(null),Q=v.useRef(!1),W=v.useRef(!1),ae=v.useRef(null),Z=v.useRef(null),P=v.useCallback((F,X,re,V)=>{r?.("Resize connector"),h(!0),p(F),y(X),x(re),R(!1),T({elementId:null,point:null}),O(V?.pointerOffset??{x:0,y:0}),j(null),e(ee=>{const te=ee.connectors.findIndex(ge=>ge.id===F);if(te===-1)return ee;const J=ee.connectors[te],ie=X==="start"?J.startPoint:J.endPoint;S(ie);const be=X==="start"?J.startAttachment??null:J.endAttachment??null;return Y.current={connectorId:F,endpoint:X,originalAttachment:be,originalPoint:ie},be||(Q.current=!0),ee})},[r,e]),L=v.useCallback(()=>{if(W.current=!1,!Z.current)return;const F=Z.current;T(X=>X&&X.elementId===F.anchorPreview.elementId&&X.point===F.anchorPreview.point?X:F.anchorPreview),R(X=>X===F.hasAnchorPreview?X:F.hasAnchorPreview),F.shouldClearSnapPreview?j(null):j(X=>{const re=F.snapPreview;return re===null?X===null?X:null:X&&X.point.x===re.point.x&&X.point.y===re.point.y&&X.showHorizontal===re.showHorizontal&&X.showVertical===re.showVertical?X:re})},[]),N=v.useCallback(()=>{if(W.current)return;W.current=!0;const F=()=>L();typeof queueMicrotask=="function"?queueMicrotask(F):Promise.resolve().then(F)},[L]),q=v.useCallback(()=>{const F=ae.current;if(!F||!u||!f||!g||!b||!C)return;const X=(F.x-b.x)/t,re=(F.y-b.y)/t,V=X+k.x,ee=re+k.y,te=Math.hypot(X,re),J=C.x+V,ie=C.y+ee;let be={elementId:null,point:null},ge=null;const Ee=Y.current;let Te=!1,Se=!1;if(!Q.current&&Ee){const He=Ee.originalAttachment?.elementId??null;te<BG?(be=He?{elementId:He,point:Be(Ee.originalPoint)}:{elementId:null,point:null},j(null),H.current=null,Te=!0):(Q.current=!0,Y.current=null,Se=!0,be={elementId:null,point:null})}let ce=null,Oe=!1;Te||e(He=>{let dt=He.connectors;Se&&Ee&&(dt=He.connectors.map($e=>$e.id!==Ee.connectorId?$e:Ee.endpoint==="start"?{...$e,startAttachment:null}:{...$e,endAttachment:null}));const Qe=dt.map($e=>{if($e.id!==f)return $e;const Fe=!i&&!c&&He.elements.length>0,ze=Fe?Kh(He.elements,{x:J,y:ie}):null,rt=ze?ze.position:{x:J,y:ie},Ke=Be(rt),ft=g==="start"?$e.startPoint:$e.endPoint,$t=g==="start"?$e.startAttachment:$e.endAttachment,Re=ze?ze.attachment:null;if(ft.x===Ke.x&&ft.y===Ke.y&&$t===Re)return $e;if(Oe=!!(ze&&Fe),!i&&l>0){const Pe={x:Math.round(rt.x/l)*l,y:Math.round(rt.y/l)*l},_e=Math.abs(Pe.x-Ke.x),Ne=Math.abs(Pe.y-Ke.y),Ve=_e<=mR,Je=Ne<=mR;Ve||Je?ce={point:Be({x:Ve?Pe.x:Ke.x,y:Je?Pe.y:Ke.y}),showHorizontal:Je,showVertical:Ve}:ce=null}const Ie=i&&l>0?{x:Math.round(rt.x/l)*l,y:Math.round(rt.y/l)*l}:null;return Ie?ge=Be(Ie):ge=null,be=ze&&Fe?{elementId:ze.elementId??null,point:Ke}:{elementId:null,point:null},g==="start"?{...$e,startPoint:Ke,startAttachment:Re,endAttachment:$e.endAttachment??null}:{...$e,endPoint:Ke,endAttachment:Re,startAttachment:$e.startAttachment??null}}),tt=Qe.some($e=>$e.startAttachment!==null||$e.endAttachment!==null);return{...He,connectors:tt?bn(Qe,He.elements):Qe}}),Te?H.current=null:i&&ge?H.current=ge:H.current=null;let Ce=null,Le=!1;Te?Le=!0:i&&ge?Ce={point:ge,showHorizontal:!0,showVertical:!0}:Ce=i?null:ce,Z.current={anchorPreview:be,hasAnchorPreview:Oe,snapPreview:Ce,shouldClearSnapPreview:Le},N()},[u,f,g,b,C,k,e,t,i,c,l,N]),$=v.useCallback(F=>{!u||!f||!g||!b||!C||(ae.current=F,U.current!==null&&cancelAnimationFrame(U.current),U.current=requestAnimationFrame(()=>{U.current=null;const X=performance.now();q();const re=performance.now();re-X>5&&console.log(`[PERF] processPendingResize took ${(re-X).toFixed(2)}ms`)}))},[u,f,g,b,C,q]),D=v.useCallback(()=>{if(Y.current=null,Q.current=!1,U.current!==null&&(cancelAnimationFrame(U.current),U.current=null),i&&H.current&&f&&g){const F=H.current;e(X=>{const re=X.connectors.map(V=>V.id!==f?V:g==="start"?{...V,startPoint:Be(F),startAttachment:null}:{...V,endPoint:Be(F),endAttachment:null});return{...X,connectors:bn(re,X.elements)}})}h(!1),p(null),y(null),x(null),S(null),R(!1),T({elementId:null,point:null}),O({x:0,y:0}),j(null),H.current=null,o?.()},[i,o,f,g,e]);return v.useEffect(()=>{if(!u)return;const F=re=>{$({x:re.clientX,y:re.clientY})},X=()=>{D()};return document.addEventListener("mousemove",F),document.addEventListener("mouseup",X),()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",X)}},[u,$,D]),v.useEffect(()=>{i||(H.current=null,j(F=>F&&null))},[i]),v.useEffect(()=>()=>{U.current!==null&&cancelAnimationFrame(U.current)},[]),{isResizing:u,resizeConnectorId:f,resizeEndpoint:g,resizeStartPos:b,resizeOriginalPoint:C,resizeHasAnchorPreview:E,resizeAnchorPreview:_,pointerOffset:k,resizeSnapPreview:M,actions:{handleResizeStart:P,handleResizeMove:$,handleResizeEnd:D}}}const yR=.5;function NG({connectors:e,onMoveWaypoint:t,zoom:r,onTransactionStart:o,onTransactionEnd:i,isShiftPressed:l=!1,snapGridSize:c=10}){const[u,h]=v.useState(!1),[f,p]=v.useState(null),[g,y]=v.useState(null),[b,x]=v.useState(null),[C,S]=v.useState(null),[E,R]=v.useState({x:0,y:0}),[_,T]=v.useState(null),k=v.useRef(!1),O=v.useRef(null),M=v.useRef(null),j=v.useRef({connectorId:null,waypointIndex:null}),H=v.useCallback((Z,P,L)=>{o?.("Move waypoint"),k.current=!0;const q=e.find($=>$.id===Z)?.waypoints?.[P]??null;j.current={connectorId:Z,waypointIndex:P},h(!0),p(Z),y(P),x(L),S(q),R({x:0,y:0}),T(null),M.current=null},[e,o]),U=v.useCallback(()=>{if(!M.current){O.current=null;return}const{connectorId:Z,waypointIndex:P}=j.current;if(Z===null||P===null){O.current=null;return}const{point:L,snapPreview:N}=M.current;R(L),T(N),t?.(Z,P,L),O.current=null},[t]),Y=v.useCallback(()=>{O.current===null&&(O.current=requestAnimationFrame(U))},[U]),Q=v.useCallback(Z=>{if(!u||!b||f===null||g===null)return;const P=(Z.x-b.x)/r,L=(Z.y-b.y)/r,N=Be({x:(C?.x??0)+P,y:(C?.y??0)+L}),q=l?Math.round(N.x/c)*c:N.x,$=l?Math.round(N.y/c)*c:N.y,D=l&&Math.abs(N.x-q)<yR,F=l&&Math.abs(N.y-$)<yR;M.current={point:N,snapPreview:{point:{x:q,y:$},showHorizontal:D,showVertical:F}},Y()},[u,b,f,g,C,r,l,c,Y]);v.useEffect(()=>()=>{O.current!==null&&(cancelAnimationFrame(O.current),O.current=null)},[]);const W=v.useCallback(()=>{O.current!==null&&(cancelAnimationFrame(O.current),O.current=null);const{connectorId:Z,waypointIndex:P}=j.current;if(!u||Z===null||P===null||!C){h(!1),p(null),y(null),x(null),S(null),R({x:0,y:0}),T(null),M.current=null,j.current={connectorId:null,waypointIndex:null},k.current&&(i?.(),k.current=!1);return}if(M.current){const{point:L,snapPreview:N}=M.current;R(L),T(N),t?.(Z,P,L),M.current=null}l&&_&&t?.(Z,P,_.point),h(!1),p(null),y(null),x(null),S(null),R({x:0,y:0}),T(null),j.current={connectorId:null,waypointIndex:null},k.current&&(i?.(),k.current=!1)},[u,C,_,l,t,i]),ae=v.useCallback(()=>{h(!1),p(null),y(null),x(null),S(null),R({x:0,y:0}),T(null),k.current&&(i?.(),k.current=!1)},[i]);return{isResizing:u,resizeConnectorId:f,resizeWaypointIndex:g,resizeStartPos:b,resizeOriginalPoint:C,pointerOffset:E,resizeSnapPreview:_,actions:{handleResizeStart:H,handleResizeMove:Q,handleResizeEnd:W,cancelResize:ae}}}const Mv={elements:[],connectors:[]},Zx="rewired:shared-clipboard",EI=1,_v="rewired::clipboard::v1::",MI=()=>{if(typeof window>"u")return null;const e=window.__wiremeshClipboardBridge;if(e&&typeof e.readText=="function"&&typeof e.writeText=="function")return e;const t=window.navigator?.clipboard;return t&&typeof t.readText=="function"&&typeof t.writeText=="function"?t:null},_I=e=>{if(!e)return Mv;const t=Array.isArray(e.elements)?e.elements:[],r=Array.isArray(e.connectors)?e.connectors:[];return{elements:t,connectors:r}},RI=e=>{if(!e)return null;try{const t=JSON.parse(e);return!t||t.version!==EI||!t.snapshot?null:_I(t.snapshot)}catch(t){return console.warn("Failed to parse shared clipboard payload",t),null}},LG=()=>{if(typeof window>"u")return null;try{return RI(window.localStorage.getItem(Zx))}catch(e){return console.warn("Failed to read shared clipboard snapshot",e),null}},HG=e=>{if(!(typeof window>"u"))try{const t={version:EI,timestamp:Date.now(),snapshot:e};window.localStorage.setItem(Zx,JSON.stringify(t))}catch(t){console.warn("Failed to persist shared clipboard snapshot",t)}},$G=e=>{try{return`${_v}${JSON.stringify(e)}`}catch(t){return console.warn("Failed to encode clipboard snapshot for system clipboard",t),null}},FG=e=>{if(!e||!e.startsWith(_v))return null;try{const t=e.slice(_v.length),r=JSON.parse(t);return _I(r)}catch(t){return console.warn("Failed to decode system clipboard snapshot",t),null}},Nb=async e=>{const t=MI();if(!t)return;const r=$G(e);if(r)try{await t.writeText(r)}catch(o){console.warn("Failed to write clipboard snapshot to system clipboard",o)}},YG=async()=>{const e=MI();if(!e)return null;try{const t=await e.readText();return FG(t)}catch(t){return console.warn("Failed to read clipboard snapshot from system clipboard",t),null}},Lb=(e,t)=>{if(e===t)return!0;try{return JSON.stringify(e)===JSON.stringify(t)}catch{return!1}},bR=e=>e.elements.length===0&&e.connectors.length===0;function UG({getCanvasStateSnapshot:e,setCanvasState:t,queueHistoryEntry:r}){const[o,i]=v.useState(Mv),l=v.useRef(Mv),[c,u]=v.useState(0),h=v.useCallback((b,x)=>{i(b),l.current=b,x?.resetPasteHistory!==!1&&u(0),x?.persist!==!1&&HG(b)},[]);v.useEffect(()=>{l.current=o},[o]),v.useEffect(()=>{if(typeof window>"u")return;(()=>{const C=LG();C&&!Lb(C,l.current)&&h(C,{persist:!1})})();const x=C=>{if(C.key!==Zx)return;const S=RI(C.newValue);S&&!Lb(S,l.current)&&h(S,{persist:!1})};return window.addEventListener("storage",x),()=>{window.removeEventListener("storage",x)}},[h]);const f=v.useCallback(()=>{const b=e(),x=b.elements.filter(E=>b.selectedElements.includes(E.id)),C=b.connectors.filter(E=>b.selectedConnectors.includes(E.id));if(x.length===0&&C.length===0)return;const S={elements:x,connectors:C};h(S),Nb(S),console.log(`Copied ${x.length} element(s) and ${C.length} connector(s) to clipboard`)},[e]),p=v.useCallback(()=>{const b=e(),x=b.elements.filter(E=>b.selectedElements.includes(E.id)),C=b.connectors.filter(E=>b.selectedConnectors.includes(E.id));if(x.length===0&&C.length===0)return;const S={elements:x,connectors:C};h(S),Nb(S),r("Cut items"),t(E=>({...E,...(()=>{const R=new Set(E.selectedElements),_=new Set(E.selectedConnectors),T=R.size?E.elements.filter(j=>!R.has(j.id)):E.elements,k=_.size?E.connectors.filter(j=>!_.has(j.id)):E.connectors,O=R.size?k.map(j=>{let H=j.startAttachment??null,U=j.endAttachment??null,Y=!1;return H&&R.has(H.elementId)&&(H=null,Y=!0),U&&R.has(U.elementId)&&(U=null,Y=!0),Y?{...j,startAttachment:H,endAttachment:U}:j}):k,M=bn(O,T);return{elements:T,connectors:M,selectedElements:[],selectedConnectors:[],selectedItemIds:[]}})()})),console.log(`Cut ${x.length} element(s) and ${C.length} connector(s) to clipboard`)},[e,r,t]),g=v.useCallback(b=>{if(bR(b))return;const x=c+1,C=20*x,S=20*x,E=new Map,R=b.elements.map((k,O)=>({element:k,index:O})).sort((k,O)=>{const M=typeof k.element.zIndex=="number"?k.element.zIndex:0,j=typeof O.element.zIndex=="number"?O.element.zIndex:0;return M===j?k.index-O.index:M-j}).map(k=>k.element);R.forEach(k=>{k.groupId&&!E.has(k.groupId)&&E.set(k.groupId,crypto.randomUUID())});const _=new Map,T=R.map(k=>{const O=jr();return _.set(k.id,O),Jl({...k,id:O,x:k.x+C,y:k.y+S,groupId:k.groupId?E.get(k.groupId):void 0})});r("Paste items"),t(k=>{let O=mh(k);const M=new Map,j=b.connectors.map(P=>{const L=jr();M.set(P.id,L);const N=X=>{if(!X)return null;const re=_.get(X.elementId);return re?{...X,elementId:re}:null},q=N(P.startAttachment??null),$=N(P.endAttachment??null),D=P.waypoints?P.waypoints.map(X=>Be({x:X.x+C,y:X.y+S})):void 0;return{...P,id:L,startPoint:Be({x:P.startPoint.x+C,y:P.startPoint.y+S}),endPoint:Be({x:P.endPoint.x+C,y:P.endPoint.y+S}),waypoints:D,startAttachment:q,endAttachment:$}}),H=[...b.elements.map((P,L)=>({kind:"element",id:P.id,zIndex:typeof P.zIndex=="number"?P.zIndex:0,order:L})),...b.connectors.map((P,L)=>({kind:"connector",id:P.id,zIndex:typeof P.zIndex=="number"?P.zIndex:0,order:b.elements.length+L}))].sort((P,L)=>P.zIndex===L.zIndex?P.order-L.order:P.zIndex-L.zIndex),U=new Map(T.map(P=>[P.id,P])),Y=new Map(j.map(P=>[P.id,P]));H.forEach(P=>{if(P.kind==="element"){const L=_.get(P.id);if(!L)return;const N=U.get(L);N&&(N.zIndex=O++)}else{const L=M.get(P.id);if(!L)return;const N=Y.get(L);N&&(N.zIndex=O++)}});const Q=[...k.elements,...T],W=bn([...k.connectors,...j],Q),ae=j.map(P=>P.id),Z=T.map(P=>P.id);return{...k,elements:Q,connectors:W,selectedElements:Z,selectedConnectors:ae,selectedItemIds:Yo(Z,ae)}}),u(k=>k+1),console.log(`Pasted ${T.length} element(s) and ${b.connectors.length} connector(s) from clipboard (paste #${x})`)},[c,r,t]),y=v.useCallback(async()=>{const x=await(async()=>{const C=await YG();return C?(Lb(C,l.current)||h(C),C):l.current})();bR(x)||g(x)},[g,h]);return{clipboard:o,actions:{copy:f,cut:p,paste:y},testHooks:{setSnapshot:b=>{h(b),Nb(b)}}}}const yh="#ffffff",ji=10,Hb=253,bh=1,qG=[{description:"PNG images",accept:{"image/png":[".png"]}}],XG=8e3,GG=5e3,vR=(e,t)=>{if(!e)return t;const r=parseFloat(e);return Number.isFinite(r)&&r>0?r:t};function WG(e){const t=e.style.width,r=e.style.height,o=vR(t,XG),i=vR(r,GG),l=document.createElement("div");l.style.position="fixed",l.style.left="0",l.style.top="0",l.style.pointerEvents="none",l.style.opacity="0",l.style.zIndex="-1000",l.style.width=`${o}px`,l.style.height=`${i}px`,l.style.background=yh,l.style.overflow="visible";const c=e.cloneNode(!0);c.style.transform="none",c.style.transformOrigin="0 0",c.style.width=`${o}px`,c.style.height=`${i}px`,c.style.background=yh,c.style.overflow="visible",l.appendChild(c),document.body.appendChild(l);const u=()=>{l.remove()},h=Array.from(c.querySelectorAll('[data-element-container="true"]')),f=Array.from(c.querySelectorAll('[data-connector-container="true"]'));return{exportContainer:l,clonedContent:c,elementContainers:h,connectorContainers:f,cleanup:u,effectiveWidth:o,effectiveHeight:i}}const QG=(e,t)=>{if(!t)return e;const r=t.blur+Math.max(t.spread,0),o=Math.max(0,r-t.offsetX),i=Math.max(0,r+t.offsetX),l=Math.max(0,r-t.offsetY),c=Math.max(0,r+t.offsetY);return{left:e.left-o,top:e.top-l,width:e.width+o+i,height:e.height+l+c}},KG=e=>{const t=e.getContext("2d");if(!t)throw new Error("Failed to get canvas context");const{width:r,height:o}=e,{data:i}=t.getImageData(0,0,r,o);let l=r,c=o,u=-1,h=-1;for(let f=0;f<o;f+=1)for(let p=0;p<r;p+=1){const g=(f*r+p)*4,y=i[g],b=i[g+1],x=i[g+2],C=i[g+3];C>0&&(y<Hb||b<Hb||x<Hb||C<255)&&(p<l&&(l=p),f<c&&(c=f),p>u&&(u=p),f>h&&(h=f))}return u===-1||h===-1?null:{minX:l,minY:c,maxX:u,maxY:h}},VG=(e,t,r,o,i)=>{const l=Math.max(0,o-t),c=Math.max(0,i-r);if(l<=0||c<=0)throw new Error("Invalid crop dimensions for exported image");const u=document.createElement("canvas");u.width=l,u.height=c;const h=u.getContext("2d");if(!h)throw new Error("Failed to create cropped canvas context");return h.drawImage(e,t,r,l,c,0,0,l,c),u},ZG=(e,t)=>{const r=KG(e),o=e.getBoundingClientRect(),i=t?.rootWidth??o.width??e.width,l=t?.rootHeight??o.height??e.height,c=i>0?e.width/i:1,u=l>0?e.height/l:1,h=ji*c,f=ji*u;let p=null,g=null,y=null,b=null;if(r?(p=r.minX,g=r.minY,y=r.maxX,b=r.maxY):t&&(p=t.contentLeft*c,g=t.contentTop*u,y=(t.contentLeft+t.contentWidth)*c,b=(t.contentTop+t.contentHeight)*u),p===null||g===null||y===null||b===null||y<p||b<g)throw new Error("Failed to detect content in exported image");const x=Math.max(0,Math.floor(p-h)),C=Math.max(0,Math.floor(g-f)),S=Math.min(e.width,Math.ceil(y+h)),E=Math.min(e.height,Math.ceil(b+f));return VG(e,x,C,S,E)},JG=(e,t)=>{const r=t?.rootWidth??e.width;if(r<=0)return 1;const o=e.width/r;return Number.isFinite(o)&&o>0?o:1};function mt(e,t=0){if(e==null)return t;const r=Number(e);return Number.isFinite(r)?r:t}const xR=(e,t=!0)=>{const r=e.querySelector('[data-element-canvas="true"]');if(!r)return;const o=Math.max(1,bh),i=parseFloat(r.style.width||"")||null,l=parseFloat(r.style.height||"")||null,c=i&&i>0?i:Math.max(1,Math.round(r.width/o)),u=l&&l>0?l:Math.max(1,Math.round(r.height/o)),h=mt(e.getAttribute("data-element-width"),c),f=mt(e.getAttribute("data-element-height"),u),p=mq(r,{width:h,height:f});rI(r,p.renderOptions,p.textOptions,t,o,p.decorations);const g=e.querySelector('[data-element-shadow-canvas="true"]');if(g){const C=yq(g),S=aI(g,p.renderOptions,C,o);g.style.left=`${-S.left}px`,g.style.top=`${-S.top}px`,tI(g,S)}const y=e.getAttribute("data-element-text-colour"),b=e.getAttribute("data-element-background"),x=e.getAttribute("data-element-line-colour");y&&(e.setAttribute("data-element-text-colour-original",y),e.style.color="transparent"),b&&e.style.setProperty("--element-background","transparent"),x&&e.style.setProperty("--element-border","0px solid transparent")},If=e=>{if(e===null)return null;const t=Number(e);return Number.isFinite(t)?t:null};function TI(e,t,r,o,i){const l=If(e.getAttribute(t)),c=If(e.getAttribute(r)),u=If(e.getAttribute(o)),h=If(e.getAttribute(i));return l!==null&&c!==null&&u!==null&&h!==null?{left:l,top:c,width:u,height:h}:null}function eW(e){const t=new Map;return e.forEach(r=>{if(r.style.display==="none")return;const o=TI(r,"data-element-left","data-element-top","data-element-width","data-element-height");if(!o)return;const i=r.getAttribute("data-element-base-shadow"),l=hh(i);t.set(r,{actual:o,extended:QG(o,l)});const c=r.getAttribute("data-element-base-border"),u=r.getAttribute("data-element-base-shadow");r.getAttribute("data-element-selected")==="true"&&c&&(r.style.border=c),u?r.style.boxShadow=u:r.style.boxShadow="none";const f=window.getComputedStyle(r);if(!!!r.getAttribute("data-shape"))xR(r,!0);else{const S=r.querySelector('[data-element-shadow-canvas="true"]'),E=r.getAttribute("data-element-type");if(S&&E){const R=mt(r.getAttribute("data-element-width"),0),_=mt(r.getAttribute("data-element-height"),0),T=mt(r.getAttribute("data-element-stroke-width"),0),k=r.getAttribute("data-element-background")??"#ffffff",O=r.getAttribute("data-element-line-colour")??"#6c757d",M=hh(u);nI(S,{shapeType:E,width:R,height:_,strokeWidth:T,fillColour:k,strokeColour:O,shadow:{colour:M?.color??"rgba(0,0,0,0)",offsetX:M?.offsetX??0,offsetY:M?.offsetY??0,blur:M?.blur??0,spread:M?.spread??0,enabled:!!M}})}}const g=f.display,y=f.alignItems;if(g==="flex"&&y==="center"){const S=r.getAttribute("data-element-height"),E=parseFloat(f.paddingLeft||"0"),R=parseFloat(f.paddingRight||"0"),_=parseFloat(f.fontSize||"14");if(S){const T=parseFloat(S);r.style.display="block",r.style.alignItems="initial";const k=_*1,O=(T-k)/2,M=_*.21;r.style.paddingTop=`${O-M}px`,r.style.paddingBottom=`${O+M}px`,r.style.paddingLeft=`${E}px`,r.style.paddingRight=`${R}px`,r.style.lineHeight=`${k}px`}}xR(r);const b=r.querySelector('[data-element-text-layer="true"]');b&&(b.style.visibility="hidden");const x=r.querySelector('[data-element-canvas="true"]');x&&(x.style.visibility="hidden",x.style.display="none");const C=r.querySelector('[data-element-shadow-canvas="true"]');C&&(C.style.visibility="hidden",C.style.display="none"),r.style.opacity="0"}),{basePositions:t}}function tW(e){const t=new Map;return e.forEach(r=>{if(r.style.display==="none")return;const o=r.querySelector('[data-connector-line="true"]'),i=r.querySelector('[data-connector-visual="true"]'),l=r.querySelector('[data-connector-shadow="true"]'),c=i??o,u=c?mt(c.getAttribute("data-connector-base-line-width"),2):2,h=c?.getAttribute("data-connector-base-colour")??"#6c757d";if(o&&(o.style.height=`${u}px`,o.style.borderRadius=`${u/2}px`,o.style.backgroundColor=h),i){const p=mt(r.getAttribute("data-connector-width"),i.width||0),g=mt(r.getAttribute("data-connector-height"),i.height||0),y=mt(r.getAttribute("data-connector-left"),0),b=mt(r.getAttribute("data-connector-top"),0),x=mt(r.getAttribute("data-connector-start-x")),C=mt(r.getAttribute("data-connector-start-y")),S=mt(r.getAttribute("data-connector-end-x")),E=mt(r.getAttribute("data-connector-end-y")),R=mt(r.getAttribute("data-connector-opacity"),1),_=r.getAttribute("data-connector-line-style")||"Solid",T=mt(r.getAttribute("data-connector-line-rounding"),0),k=!!r.querySelector('[data-connector-arrow-endpoint="start"]'),O=!!r.querySelector('[data-connector-arrow-endpoint="end"]'),{arrowLength:M,arrowWidth:j}=Vx(u),H=mt(i.getAttribute("data-connector-shadow-offset-x"),0),U=mt(i.getAttribute("data-connector-shadow-offset-y"),2),Y=mt(i.getAttribute("data-connector-shadow-blur"),4),Q=i.getAttribute("data-connector-shadow-colour")??"rgba(0,0,0,0.25)",W=r.getAttribute("data-connector-waypoints");let ae=[];if(W)try{const Z=JSON.parse(W);Array.isArray(Z)&&(ae=Z.map(P=>({x:P.x-y,y:P.y-b})))}catch{}xv(i,p,g,{startX:x,startY:C,endX:S,endY:E,waypoints:ae,lineWidth:u,colour:h,opacity:R,lineStyle:_,lineRounding:T,hasStartArrow:k,hasEndArrow:O,arrowLength:M,arrowWidth:j,enableShadow:!1,shadowOffsetX:H,shadowOffsetY:U,shadowBlur:Y,shadowColour:Q},bh),l&&xv(l,p,g,{startX:x,startY:C,endX:S,endY:E,waypoints:ae,lineWidth:u,colour:h,opacity:R,lineStyle:_,lineRounding:T,hasStartArrow:k,hasEndArrow:O,arrowLength:M,arrowWidth:j,enableShadow:!0,shadowOffsetX:H,shadowOffsetY:U,shadowBlur:Y,shadowColour:Q},bh)}const f=TI(r,"data-connector-left","data-connector-top","data-connector-width","data-connector-height");f&&t.set(r,f)}),t}function Jx(e={}){const t=e.elementIds??[],r=e.connectorIds??[],o=document.querySelector('[data-canvas="true"]');if(!o)throw new Error("Canvas element not found");const i=o.querySelector('[data-canvas-content="true"]')??o.firstElementChild;if(!i)throw new Error("Canvas content not found");const{exportContainer:l,clonedContent:c,elementContainers:u,connectorContainers:h,cleanup:f,effectiveWidth:p,effectiveHeight:g}=WG(i),{basePositions:y}=eW(u),b=tW(h),x=t.length>0||r.length>0;let C=null;if(!u.length&&!h.length)throw f(),new Error("No items to export");const S=j=>{c.querySelectorAll(j).forEach(H=>{H.style.cssText="display: none !important;"})};S("[data-resize-container]"),S("[data-connector-handle]"),S('[data-selection-rectangle="true"]'),S("input, textarea"),S("[data-zoom-controls],[data-floating-toolbar]"),S('[data-connector-halo="true"]'),S('[data-connector-hit-area="true"]');const E=t.length>0,R=r.length>0;let _=u.length,T=0;if(E){const j=new Set(t);_=0,u.forEach(H=>{const U=H.getAttribute("data-element-id")??"";j.has(U)?(H.setAttribute("data-element-selected","false"),_+=1):H.style.display="none"})}else u.forEach(j=>{R&&(j.style.display="none"),j.setAttribute("data-element-selected","false")}),R&&(_=0);if(R){const j=new Set(r);T=0,h.forEach(H=>{const U=H.getAttribute("data-connector-id")??"";j.has(U)?T+=1:H.style.display="none"})}else h.forEach(j=>{j.setAttribute("data-connector-selected","false"),E&&(j.style.display="none")});if((E||R)&&_+T===0)throw f(),new Error("Selected items not found in DOM");const k=u.filter(j=>j.style.display!=="none").map(j=>{const H=y.get(j);return H?{element:j,bounds:H}:null}).filter(j=>!!j),O=h.filter(j=>j.style.display!=="none").map(j=>{const H=b.get(j);return H?{connector:j,bounds:H}:null}).filter(j=>!!j),M=[...k.map(j=>j.bounds.extended),...O.map(j=>j.bounds)];if(M.length>0){const j=Math.min(...M.map(N=>N.left)),H=Math.min(...M.map(N=>N.top)),U=Math.max(...M.map(N=>N.left+N.width)),Y=Math.max(...M.map(N=>N.top+N.height)),Q=ji-j,W=ji-H;k.forEach(({element:N,bounds:q})=>{const $=q.actual.left+Q,D=q.actual.top+W;N.style.setProperty("--element-left",`${$}px`),N.style.setProperty("--element-top",`${D}px`),N.setAttribute("data-element-left",`${$}`),N.setAttribute("data-element-top",`${D}`);const F=N.querySelector('[data-element-snapshot="true"]');F&&(F.style.left="0",F.style.top="0",F.style.width=`${q.actual.width}px`,F.style.height=`${q.actual.height}px`)}),O.forEach(({connector:N,bounds:q})=>{const $=q.left+Q,D=q.top+W;N.style.left=`${$}px`,N.style.top=`${D}px`,N.setAttribute("data-connector-left",`${$}`),N.setAttribute("data-connector-top",`${D}`)});const ae=Math.max(1,U-j+ji*2),Z=Math.max(1,Y-H+ji*2),P=x?ae:Math.max(ae,p),L=x?Z:Math.max(Z,g);c.style.left="0px",c.style.top="0px",c.style.width=`${P}px`,c.style.height=`${L}px`,l.style.width=`${P}px`,l.style.height=`${L}px`,C={rootWidth:P,rootHeight:L,contentLeft:ji,contentTop:ji,contentWidth:Math.max(0,U-j),contentHeight:Math.max(0,Y-H)}}return typeof window<"u"&&window[_u]?.onPrepareExportSnapshot?.({root:c,selectedElementIds:t,selectedConnectorIds:r}),{root:c,cleanup:f,metrics:C}}function Pf(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $b={exports:{}};var wR;function nW(){return wR||(wR=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function(){function r(o,i,l){function c(f,p){if(!i[f]){if(!o[f]){var g=typeof Pf=="function"&&Pf;if(!p&&g)return g(f,!0);if(u)return u(f,!0);var y=new Error("Cannot find module '"+f+"'");throw y.code="MODULE_NOT_FOUND",y}var b=i[f]={exports:{}};o[f][0].call(b.exports,function(x){var C=o[f][1][x];return c(C||x)},b,b.exports,r,o,i,l)}return i[f].exports}for(var u=typeof Pf=="function"&&Pf,h=0;h<l.length;h++)c(l[h]);return c}return r})()({1:[function(r,o,i){var l=r("multimath"),c=r("./mm_unsharp_mask"),u=r("./mm_resize");function h(f){var p=f||[],g={js:p.indexOf("js")>=0,wasm:p.indexOf("wasm")>=0};l.call(this,g),this.features={js:g.js,wasm:g.wasm&&this.has_wasm()},this.use(c),this.use(u)}h.prototype=Object.create(l.prototype),h.prototype.constructor=h,h.prototype.resizeAndUnsharp=function(p,g){var y=this.resize(p,g);return p.unsharpAmount&&this.unsharp_mask(y,p.toWidth,p.toHeight,p.unsharpAmount,p.unsharpRadius,p.unsharpThreshold),y},o.exports=h},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(r,o,i){function l(g){return g<0?0:g>255?255:g}function c(g){return g>=0?g:0}function u(g,y,b,x,C,S){var E,R,_,T,k,O,M,j,H,U,Y,Q=0,W=0;for(H=0;H<x;H++){for(k=0,U=0;U<C;U++){for(O=S[k++],M=S[k++],j=Q+O*4|0,E=R=_=T=0;M>0;M--)Y=S[k++],T=T+Y*g[j+3]|0,_=_+Y*g[j+2]|0,R=R+Y*g[j+1]|0,E=E+Y*g[j]|0,j=j+4|0;y[W+3]=c(T>>7),y[W+2]=c(_>>7),y[W+1]=c(R>>7),y[W]=c(E>>7),W=W+x*4|0}W=(H+1)*4|0,Q=(H+1)*b*4|0}}function h(g,y,b,x,C,S){var E,R,_,T,k,O,M,j,H,U,Y,Q=0,W=0;for(H=0;H<x;H++){for(k=0,U=0;U<C;U++){for(O=S[k++],M=S[k++],j=Q+O*4|0,E=R=_=T=0;M>0;M--)Y=S[k++],T=T+Y*g[j+3]|0,_=_+Y*g[j+2]|0,R=R+Y*g[j+1]|0,E=E+Y*g[j]|0,j=j+4|0;E>>=7,R>>=7,_>>=7,T>>=7,y[W+3]=l(T+8192>>14),y[W+2]=l(_+8192>>14),y[W+1]=l(R+8192>>14),y[W]=l(E+8192>>14),W=W+x*4|0}W=(H+1)*4|0,Q=(H+1)*b*4|0}}function f(g,y,b,x,C,S){var E,R,_,T,k,O,M,j,H,U,Y,Q,W=0,ae=0;for(U=0;U<x;U++){for(O=0,Y=0;Y<C;Y++){for(M=S[O++],j=S[O++],H=W+M*4|0,E=R=_=T=0;j>0;j--)Q=S[O++],k=g[H+3],T=T+Q*k|0,_=_+Q*g[H+2]*k|0,R=R+Q*g[H+1]*k|0,E=E+Q*g[H]*k|0,H=H+4|0;_=_/255|0,R=R/255|0,E=E/255|0,y[ae+3]=c(T>>7),y[ae+2]=c(_>>7),y[ae+1]=c(R>>7),y[ae]=c(E>>7),ae=ae+x*4|0}ae=(U+1)*4|0,W=(U+1)*b*4|0}}function p(g,y,b,x,C,S){var E,R,_,T,k,O,M,j,H,U,Y,Q=0,W=0;for(H=0;H<x;H++){for(k=0,U=0;U<C;U++){for(O=S[k++],M=S[k++],j=Q+O*4|0,E=R=_=T=0;M>0;M--)Y=S[k++],T=T+Y*g[j+3]|0,_=_+Y*g[j+2]|0,R=R+Y*g[j+1]|0,E=E+Y*g[j]|0,j=j+4|0;E>>=7,R>>=7,_>>=7,T>>=7,T=l(T+8192>>14),T>0&&(E=E*255/T|0,R=R*255/T|0,_=_*255/T|0),y[W+3]=T,y[W+2]=l(_+8192>>14),y[W+1]=l(R+8192>>14),y[W]=l(E+8192>>14),W=W+x*4|0}W=(H+1)*4|0,Q=(H+1)*b*4|0}}o.exports={convolveHor:u,convolveVert:h,convolveHorWithPre:f,convolveVertWithPre:p}},{}],3:[function(r,o,i){o.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(r,o,i){o.exports={name:"resize",fn:r("./resize"),wasm_fn:r("./resize_wasm"),wasm_src:r("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(r,o,i){var l=r("./resize_filter_gen"),c=r("./convolve"),u=c.convolveHor,h=c.convolveVert,f=c.convolveHorWithPre,p=c.convolveVertWithPre;function g(b,x,C){for(var S=3,E=x*C*4|0;S<E;){if(b[S]!==255)return!0;S=S+4|0}return!1}function y(b,x,C){for(var S=3,E=x*C*4|0;S<E;)b[S]=255,S=S+4|0}o.exports=function(x){var C=x.src,S=x.width,E=x.height,R=x.toWidth,_=x.toHeight,T=x.scaleX||x.toWidth/x.width,k=x.scaleY||x.toHeight/x.height,O=x.offsetX||0,M=x.offsetY||0,j=x.dest||new Uint8Array(R*_*4),H=typeof x.filter>"u"?"mks2013":x.filter,U=l(H,S,R,T,O),Y=l(H,E,_,k,M),Q=new Uint16Array(R*E*4);return g(C,S,E)?(f(C,Q,S,E,R,U),p(Q,j,E,R,_,Y)):(u(C,Q,S,E,R,U),h(Q,j,E,R,_,Y),y(j,R,_)),j}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(r,o,i){var l=r("./resize_filter_info"),c=14;function u(h){return Math.round(h*((1<<c)-1))}o.exports=function(f,p,g,y,b){var x=l.filter[f].fn,C=1/y,S=Math.min(1,y),E=l.filter[f].win/S,R,_,T,k,O,M,j,H,U,Y,Q,W,ae,Z,P,L,N,q=Math.floor((E+1)*2),$=new Int16Array((q+2)*g),D=0,F=!$.subarray||!$.set;for(R=0;R<g;R++){for(_=(R+.5)*C+b,T=Math.max(0,Math.floor(_-E)),k=Math.min(p-1,Math.ceil(_+E)),O=k-T+1,M=new Float32Array(O),j=new Int16Array(O),H=0,U=T,Y=0;U<=k;U++,Y++)Q=x((U+.5-_)*S),H+=Q,M[Y]=Q;for(W=0,Y=0;Y<M.length;Y++)ae=M[Y]/H,W+=ae,j[Y]=u(ae);for(j[g>>1]+=u(1-W),Z=0;Z<j.length&&j[Z]===0;)Z++;if(Z<j.length){for(P=j.length-1;P>0&&j[P]===0;)P--;if(L=T+Z,N=P-Z+1,$[D++]=L,$[D++]=N,!F)$.set(j.subarray(Z,P+1),D),D+=N;else for(Y=Z;Y<=P;Y++)$[D++]=j[Y]}else $[D++]=0,$[D++]=0}return $}},{"./resize_filter_info":7}],7:[function(r,o,i){var l={box:{win:.5,fn:function(u){return u<0&&(u=-u),u<.5?1:0}},hamming:{win:1,fn:function(u){if(u<0&&(u=-u),u>=1)return 0;if(u<11920929e-14)return 1;var h=u*Math.PI;return Math.sin(h)/h*(.54+.46*Math.cos(h/1))}},lanczos2:{win:2,fn:function(u){if(u<0&&(u=-u),u>=2)return 0;if(u<11920929e-14)return 1;var h=u*Math.PI;return Math.sin(h)/h*Math.sin(h/2)/(h/2)}},lanczos3:{win:3,fn:function(u){if(u<0&&(u=-u),u>=3)return 0;if(u<11920929e-14)return 1;var h=u*Math.PI;return Math.sin(h)/h*Math.sin(h/3)/(h/3)}},mks2013:{win:2.5,fn:function(u){return u<0&&(u=-u),u>=2.5?0:u>=1.5?-.125*(u-2.5)*(u-2.5):u>=.5?.25*(4*u*u-11*u+7):1.0625-1.75*u*u}}};o.exports={filter:l,f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(r,o,i){var l=r("./resize_filter_gen");function c(g,y,b){for(var x=3,C=y*b*4|0;x<C;){if(g[x]!==255)return!0;x=x+4|0}return!1}function u(g,y,b){for(var x=3,C=y*b*4|0;x<C;)g[x]=255,x=x+4|0}function h(g){return new Uint8Array(g.buffer,0,g.byteLength)}var f=!0;try{f=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1}catch{}function p(g,y,b){if(f){y.set(h(g),b);return}for(var x=b,C=0;C<g.length;C++){var S=g[C];y[x++]=S&255,y[x++]=S>>8&255}}o.exports=function(y){var b=y.src,x=y.width,C=y.height,S=y.toWidth,E=y.toHeight,R=y.scaleX||y.toWidth/y.width,_=y.scaleY||y.toHeight/y.height,T=y.offsetX||0,k=y.offsetY||0,O=y.dest||new Uint8Array(S*E*4),M=typeof y.filter>"u"?"mks2013":y.filter,j=l(M,x,S,R,T),H=l(M,C,E,_,k),U=0,Y=Math.max(b.byteLength,O.byteLength),Q=this.__align(U+Y),W=C*S*4*2,ae=this.__align(Q+W),Z=this.__align(ae+j.byteLength),P=Z+H.byteLength,L=this.__instance("resize",P),N=new Uint8Array(this.__memory.buffer),q=new Uint32Array(this.__memory.buffer),$=new Uint32Array(b.buffer);q.set($),p(j,N,ae),p(H,N,Z);var D=L.exports.convolveHV||L.exports._convolveHV;c(b,x,C)?D(ae,Z,Q,x,C,S,E,1):(D(ae,Z,Q,x,C,S,E,0),u(O,S,E));var F=new Uint32Array(O.buffer);return F.set(new Uint32Array(this.__memory.buffer,0,E*S)),O}},{"./resize_filter_gen":6}],9:[function(r,o,i){o.exports={name:"unsharp_mask",fn:r("./unsharp_mask"),wasm_fn:r("./unsharp_mask_wasm"),wasm_src:r("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(r,o,i){var l=r("glur/mono16");function c(u,h,f){for(var p=h*f,g=new Uint16Array(p),y,b,x,C,S=0;S<p;S++)y=u[4*S],b=u[4*S+1],x=u[4*S+2],C=y>=b&&y>=x?y:b>=x&&b>=y?b:x,g[S]=C<<8;return g}o.exports=function(h,f,p,g,y,b){var x,C,S,E,R;if(!(g===0||y<.5)){y>2&&(y=2);var _=c(h,f,p),T=new Uint16Array(_);l(T,f,p,y);for(var k=g/100*4096+.5|0,O=b<<8,M=f*p,j=0;j<M;j++)x=_[j],E=x-T[j],Math.abs(E)>=O&&(C=x+(k*E+2048>>12),C=C>65280?65280:C,C=C<0?0:C,x=x!==0?x:1,S=(C<<12)/x|0,R=j*4,h[R]=h[R]*S+2048>>12,h[R+1]=h[R+1]*S+2048>>12,h[R+2]=h[R+2]*S+2048>>12)}}},{"glur/mono16":18}],11:[function(r,o,i){o.exports=function(c,u,h,f,p,g){if(!(f===0||p<.5)){p>2&&(p=2);var y=u*h,b=y*4,x=y*2,C=y*2,S=Math.max(u,h)*4,E=32,R=0,_=b,T=_+x,k=T+C,O=k+C,M=O+S,j=this.__instance("unsharp_mask",b+x+C*2+S+E,{exp:Math.exp}),H=new Uint32Array(c.buffer),U=new Uint32Array(this.__memory.buffer);U.set(H);var Y=j.exports.hsv_v16||j.exports._hsv_v16;Y(R,_,u,h),Y=j.exports.blurMono16||j.exports._blurMono16,Y(_,T,k,O,M,u,h,p),Y=j.exports.unsharp||j.exports._unsharp,Y(R,R,_,T,u,h,f,g),H.set(new Uint32Array(this.__memory.buffer,0,y))}}},{}],12:[function(r,o,i){o.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(r,o,i){var l=100;function c(u,h){this.create=u,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=h||2e3}c.prototype.acquire=function(){var u=this,h;return this.available.length!==0?h=this.available.pop():(h=this.create(),h.id=this.lastId++,h.release=function(){return u.release(h)}),this.acquired[h.id]=h,h},c.prototype.release=function(u){var h=this;delete this.acquired[u.id],u.lastUsed=Date.now(),this.available.push(u),this.timeoutId===0&&(this.timeoutId=setTimeout(function(){return h.gc()},l))},c.prototype.gc=function(){var u=this,h=Date.now();this.available=this.available.filter(function(f){return h-f.lastUsed>u.idle?(f.destroy(),!1):!0}),this.available.length!==0?this.timeoutId=setTimeout(function(){return u.gc()},l):this.timeoutId=0},o.exports=c},{}],14:[function(r,o,i){var l=2;o.exports=function(u,h,f,p,g,y){var b=f/u,x=p/h,C=(2*y+l+1)/g;if(C>.5)return[[f,p]];var S=Math.ceil(Math.log(Math.min(b,x))/Math.log(C));if(S<=1)return[[f,p]];for(var E=[],R=0;R<S;R++){var _=Math.round(Math.pow(Math.pow(u,S-R-1)*Math.pow(f,R+1),1/S)),T=Math.round(Math.pow(Math.pow(h,S-R-1)*Math.pow(p,R+1),1/S));E.push([_,T])}return E}},{}],15:[function(r,o,i){var l=1e-5;function c(h){var f=Math.round(h);return Math.abs(h-f)<l?f:Math.floor(h)}function u(h){var f=Math.round(h);return Math.abs(h-f)<l?f:Math.ceil(h)}o.exports=function(f){var p=f.toWidth/f.width,g=f.toHeight/f.height,y=c(f.srcTileSize*p)-2*f.destTileBorder,b=c(f.srcTileSize*g)-2*f.destTileBorder;if(y<1||b<1)throw new Error("Internal error in pica: target tile width/height is too small.");var x,C,S,E,R,_,T=[],k;for(E=0;E<f.toHeight;E+=b)for(S=0;S<f.toWidth;S+=y)x=S-f.destTileBorder,x<0&&(x=0),R=S+y+f.destTileBorder-x,x+R>=f.toWidth&&(R=f.toWidth-x),C=E-f.destTileBorder,C<0&&(C=0),_=E+b+f.destTileBorder-C,C+_>=f.toHeight&&(_=f.toHeight-C),k={toX:x,toY:C,toWidth:R,toHeight:_,toInnerX:S,toInnerY:E,toInnerWidth:y,toInnerHeight:b,offsetX:x/p-c(x/p),offsetY:C/g-c(C/g),scaleX:p,scaleY:g,x:c(x/p),y:c(C/g),width:u(R/p),height:u(_/g)},T.push(k);return T}},{}],16:[function(r,o,i){function l(c){return Object.prototype.toString.call(c)}o.exports.isCanvas=function(u){var h=l(u);return h==="[object HTMLCanvasElement]"||h==="[object OffscreenCanvas]"||h==="[object Canvas]"},o.exports.isImage=function(u){return l(u)==="[object HTMLImageElement]"},o.exports.isImageBitmap=function(u){return l(u)==="[object ImageBitmap]"},o.exports.limiter=function(u){var h=0,f=[];function p(){h<u&&f.length&&(h++,f.shift()())}return function(y){return new Promise(function(b,x){f.push(function(){y().then(function(C){b(C),h--,p()},function(C){x(C),h--,p()})}),p()})}},o.exports.cib_quality_name=function(u){switch(u){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},o.exports.cib_support=function(u){return Promise.resolve().then(function(){if(typeof createImageBitmap>"u")return!1;var h=u(100,100);return createImageBitmap(h,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(f){var p=f.width===10;return f.close(),h=null,p})}).catch(function(){return!1})},o.exports.worker_offscreen_canvas_support=function(){return new Promise(function(u,h){if(typeof OffscreenCanvas>"u"){u(!1);return}function f(y){if(typeof createImageBitmap>"u"){y.postMessage(!1);return}Promise.resolve().then(function(){var b=new OffscreenCanvas(10,10),x=b.getContext("2d");return x.rect(0,0,1,1),createImageBitmap(b,0,0,1,1)}).then(function(){return y.postMessage(!0)},function(){return y.postMessage(!1)})}var p=btoa("(".concat(f.toString(),")(self);")),g=new Worker("data:text/javascript;base64,".concat(p));g.onmessage=function(y){return u(y.data)},g.onerror=h}).then(function(u){return u},function(){return!1})},o.exports.can_use_canvas=function(u){var h=!1;try{var f=u(2,1),p=f.getContext("2d"),g=p.createImageData(2,1);g.data[0]=12,g.data[1]=23,g.data[2]=34,g.data[3]=255,g.data[4]=45,g.data[5]=56,g.data[6]=67,g.data[7]=255,p.putImageData(g,0,0),g=null,g=p.getImageData(0,0,2,1),g.data[0]===12&&g.data[1]===23&&g.data[2]===34&&g.data[3]===255&&g.data[4]===45&&g.data[5]===56&&g.data[6]===67&&g.data[7]===255&&(h=!0)}catch{}return h},o.exports.cib_can_use_region=function(){return new Promise(function(u){if(typeof Image>"u"||typeof createImageBitmap>"u"){u(!1);return}var h=new Image;h.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",h.onload=function(){createImageBitmap(h,0,0,h.width,h.height).then(function(f){f.width===h.width&&f.height===h.height?u(!0):u(!1)},function(){return u(!1)})},h.onerror=function(){return u(!1)}})}},{}],17:[function(r,o,i){o.exports=function(){var l=r("./mathlib"),c;onmessage=function(h){var f=h.data.opts;if(!f.src&&f.srcBitmap){var p=new OffscreenCanvas(f.width,f.height),g=p.getContext("2d");g.drawImage(f.srcBitmap,0,0),f.src=g.getImageData(0,0,f.width,f.height).data,p.width=p.height=0,p=null,f.srcBitmap.close(),f.srcBitmap=null}c||(c=new l(h.data.features));var y=c.resizeAndUnsharp(f);postMessage({data:y},[y.buffer])}}},{"./mathlib":1}],18:[function(r,o,i){var l,c,u,h,f,p,g,y;function b(S){S<.5&&(S=.5);var E=Math.exp(.726*.726)/S,R=Math.exp(-E),_=Math.exp(-2*E),T=(1-R)*(1-R)/(1+2*E*R-_);return l=T,c=T*(E-1)*R,u=T*(E+1)*R,h=-T*_,f=2*R,p=-_,g=(l+c)/(1-f-p),y=(u+h)/(1-f-p),new Float32Array([l,c,u,h,f,p,g,y])}function x(S,E,R,_,T,k){var O,M,j,H,U,Y,Q,W,ae,Z,P,L,N,q;for(ae=0;ae<k;ae++){for(Y=ae*T,Q=ae,W=0,O=S[Y],U=O*_[6],H=U,P=_[0],L=_[1],N=_[4],q=_[5],Z=0;Z<T;Z++)M=S[Y],j=M*P+O*L+H*N+U*q,U=H,H=j,O=M,R[W]=H,W++,Y++;for(Y--,W--,Q+=k*(T-1),O=S[Y],U=O*_[7],H=U,M=O,P=_[2],L=_[3],Z=T-1;Z>=0;Z--)j=M*P+O*L+H*N+U*q,U=H,H=j,O=M,M=S[Y],E[Q]=R[W]+H,Y--,W--,Q-=k}}function C(S,E,R,_){if(_){var T=new Uint16Array(S.length),k=new Float32Array(Math.max(E,R)),O=b(_);x(S,T,k,O,E,R),x(T,S,k,O,R,E)}}o.exports=C},{}],19:[function(r,o,i){var l=r("object-assign"),c=r("./lib/base64decode"),u=r("./lib/wa_detect"),h={js:!0,wasm:!0};function f(p){if(!(this instanceof f))return new f(p);var g=l({},h,p||{});if(this.options=g,this.__cache={},this.__init_promise=null,this.__modules=g.modules||{},this.__memory=null,this.__wasm={},this.__isLE=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1,!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}f.prototype.has_wasm=u,f.prototype.use=function(p){return this.__modules[p.name]=p,this.options.wasm&&this.has_wasm()&&p.wasm_fn?this[p.name]=p.wasm_fn:this[p.name]=p.fn,this},f.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error(`mathlib: only "wasm" was enabled, but it's not supported`));var p=this;return this.__init_promise=Promise.all(Object.keys(p.__modules).map(function(g){var y=p.__modules[g];return!p.options.wasm||!p.has_wasm()||!y.wasm_fn||p.__wasm[g]?null:WebAssembly.compile(p.__base64decode(y.wasm_src)).then(function(b){p.__wasm[g]=b})})).then(function(){return p}),this.__init_promise},f.prototype.__base64decode=c,f.prototype.__reallocate=function(g){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(g/(64*1024))}),this.__memory;var y=this.__memory.buffer.byteLength;return y<g&&this.__memory.grow(Math.ceil((g-y)/(64*1024))),this.__memory},f.prototype.__instance=function(g,y,b){if(y&&this.__reallocate(y),!this.__wasm[g]){var x=this.__modules[g];this.__wasm[g]=new WebAssembly.Module(this.__base64decode(x.wasm_src))}if(!this.__cache[g]){var C={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[g]=new WebAssembly.Instance(this.__wasm[g],{env:l(C,b||{})})}return this.__cache[g]},f.prototype.__align=function(g,y){y=y||8;var b=g%y;return g+(b?y-b:0)},o.exports=f},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(r,o,i){var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";o.exports=function(u){for(var h=u.replace(/[\r\n=]/g,""),f=h.length,p=new Uint8Array(f*3>>2),g=0,y=0,b=0;b<f;b++)b%4===0&&b&&(p[y++]=g>>16&255,p[y++]=g>>8&255,p[y++]=g&255),g=g<<6|l.indexOf(h.charAt(b));var x=f%4*6;return x===0?(p[y++]=g>>16&255,p[y++]=g>>8&255,p[y++]=g&255):x===18?(p[y++]=g>>10&255,p[y++]=g>>2&255):x===12&&(p[y++]=g>>4&255),p}},{}],21:[function(r,o,i){var l;o.exports=function(){if(typeof l<"u"||(l=!1,typeof WebAssembly>"u"))return l;try{var u=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),h=new WebAssembly.Module(u),f=new WebAssembly.Instance(h,{});return f.exports.test(4)!==0&&(l=!0),l}catch{}return l}},{}],22:[function(r,o,i){var l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;function h(p){if(p==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(p)}function f(){try{if(!Object.assign)return!1;var p=new String("abc");if(p[5]="de",Object.getOwnPropertyNames(p)[0]==="5")return!1;for(var g={},y=0;y<10;y++)g["_"+String.fromCharCode(y)]=y;var b=Object.getOwnPropertyNames(g).map(function(C){return g[C]});if(b.join("")!=="0123456789")return!1;var x={};return"abcdefghijklmnopqrst".split("").forEach(function(C){x[C]=C}),Object.keys(Object.assign({},x)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}o.exports=f()?Object.assign:function(p,g){for(var y,b=h(p),x,C=1;C<arguments.length;C++){y=Object(arguments[C]);for(var S in y)c.call(y,S)&&(b[S]=y[S]);if(l){x=l(y);for(var E=0;E<x.length;E++)u.call(y,x[E])&&(b[x[E]]=y[x[E]])}}return b}},{}],23:[function(r,o,i){var l=arguments[3],c=arguments[4],u=arguments[5],h=JSON.stringify;o.exports=function(f,p){for(var g,y=Object.keys(u),b=0,x=y.length;b<x;b++){var C=y[b],S=u[C].exports;if(S===f||S&&S.default===f){g=C;break}}if(!g){g=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var E={},b=0,x=y.length;b<x;b++){var C=y[b];E[C]=C}c[g]=["function(require,module,exports){"+f+"(self); }",E]}var R=Math.floor(Math.pow(16,8)*Math.random()).toString(16),_={};_[g]=g,c[R]=["function(require,module,exports){var f = require("+h(g)+");(f.default ? f.default : f)(self);}",_];var T={};k(R);function k(Y){T[Y]=!0;for(var Q in c[Y][1]){var W=c[Y][1][Q];T[W]||k(W)}}var O="("+l+")({"+Object.keys(T).map(function(Y){return h(Y)+":["+c[Y][0]+","+h(c[Y][1])+"]"}).join(",")+"},{},["+h(R)+"])",M=window.URL||window.webkitURL||window.mozURL||window.msURL,j=new Blob([O],{type:"text/javascript"});if(p&&p.bare)return j;var H=M.createObjectURL(j),U=new Worker(H);return U.objectURL=H,U}},{}],"/index.js":[function(r,o,i){function l(P,L){return p(P)||f(P,L)||u(P,L)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(P,L){if(P){if(typeof P=="string")return h(P,L);var N=Object.prototype.toString.call(P).slice(8,-1);if(N==="Object"&&P.constructor&&(N=P.constructor.name),N==="Map"||N==="Set")return Array.from(P);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return h(P,L)}}function h(P,L){(L==null||L>P.length)&&(L=P.length);for(var N=0,q=new Array(L);N<L;N++)q[N]=P[N];return q}function f(P,L){var N=P==null?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(N!=null){var q=[],$=!0,D=!1,F,X;try{for(N=N.call(P);!($=(F=N.next()).done)&&(q.push(F.value),!(L&&q.length===L));$=!0);}catch(re){D=!0,X=re}finally{try{!$&&N.return!=null&&N.return()}finally{if(D)throw X}}return q}}function p(P){if(Array.isArray(P))return P}var g=r("object-assign"),y=r("webworkify"),b=r("./lib/mathlib"),x=r("./lib/pool"),C=r("./lib/utils"),S=r("./lib/worker"),E=r("./lib/stepper"),R=r("./lib/tiler"),_=r("./lib/mm_resize/resize_filter_info"),T={},k=!1;try{typeof navigator<"u"&&navigator.userAgent&&(k=navigator.userAgent.indexOf("Safari")>=0)}catch{}var O=1;typeof navigator<"u"&&(O=Math.min(navigator.hardwareConcurrency||1,4));var M={tile:1024,concurrency:O,features:["js","wasm","ww"],idle:2e3,createCanvas:function(L,N){var q=document.createElement("canvas");return q.width=L,q.height=N,q}},j={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},H=!1,U=!1,Y=!1,Q=!1,W=!1;function ae(){return{value:y(S),destroy:function(){if(this.value.terminate(),typeof window<"u"){var L=window.URL||window.webkitURL||window.mozURL||window.msURL;L&&L.revokeObjectURL&&this.value.objectURL&&L.revokeObjectURL(this.value.objectURL)}}}}function Z(P){if(!(this instanceof Z))return new Z(P);this.options=g({},M,P||{});var L="lk_".concat(this.options.concurrency);this.__limit=T[L]||C.limiter(this.options.concurrency),T[L]||(T[L]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}Z.prototype.init=function(){var P=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData<"u"&&typeof Uint8ClampedArray<"u")try{new ImageData(new Uint8ClampedArray(400),10,10),H=!0}catch{}typeof ImageBitmap<"u"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?U=!0:this.debug("ImageBitmap does not support .close(), disabled"));var L=this.options.features.slice();if(L.indexOf("all")>=0&&(L=["cib","wasm","js","ww"]),this.__requested_features=L,this.__mathlib=new b(L),L.indexOf("ww")>=0&&typeof window<"u"&&"Worker"in window)try{var N=r("webworkify")(function(){});N.terminate(),this.features.ww=!0;var q="wp_".concat(JSON.stringify(this.options));T[q]?this.__workersPool=T[q]:(this.__workersPool=new x(ae,this.options.idle),T[q]=this.__workersPool)}catch{}var $=this.__mathlib.init().then(function(re){g(P.features,re.features)}),D;U?D=C.cib_support(this.options.createCanvas).then(function(re){if(P.features.cib&&L.indexOf("cib")<0){P.debug("createImageBitmap() resize supported, but disabled by config");return}L.indexOf("cib")>=0&&(P.features.cib=re)}):D=Promise.resolve(!1),Y=C.can_use_canvas(this.options.createCanvas);var F;U&&H&&L.indexOf("ww")!==-1?F=C.worker_offscreen_canvas_support():F=Promise.resolve(!1),F=F.then(function(re){Q=re});var X=C.cib_can_use_region().then(function(re){W=re});return this.__initPromise=Promise.all([$,D,F,X]).then(function(){return P}),this.__initPromise},Z.prototype.__invokeResize=function(P,L){var N=this;return L.__mathCache=L.__mathCache||{},Promise.resolve().then(function(){return N.features.ww?new Promise(function(q,$){var D=N.__workersPool.acquire();L.cancelToken&&L.cancelToken.catch(function(X){return $(X)}),D.value.onmessage=function(X){D.release(),X.data.err?$(X.data.err):q(X.data)};var F=[];P.src&&F.push(P.src.buffer),P.srcBitmap&&F.push(P.srcBitmap),D.value.postMessage({opts:P,features:N.__requested_features,preload:{wasm_nodule:N.__mathlib.__}},F)}):{data:N.__mathlib.resizeAndUnsharp(P,L.__mathCache)}})},Z.prototype.__extractTileData=function(P,L,N,q,$){if(this.features.ww&&Q&&(C.isCanvas(L)||W))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(q.srcImageBitmap||L,P.x,P.y,P.width,P.height).then(function(X){return $.srcBitmap=X,$});if(C.isCanvas(L))return q.srcCtx||(q.srcCtx=L.getContext("2d")),this.debug("Get tile pixel data"),$.src=q.srcCtx.getImageData(P.x,P.y,P.width,P.height).data,$;this.debug("Draw tile imageBitmap/image to temporary canvas");var D=this.options.createCanvas(P.width,P.height),F=D.getContext("2d");return F.globalCompositeOperation="copy",F.drawImage(q.srcImageBitmap||L,P.x,P.y,P.width,P.height,0,0,P.width,P.height),this.debug("Get tile pixel data"),$.src=F.getImageData(0,0,P.width,P.height).data,D.width=D.height=0,$},Z.prototype.__landTileData=function(P,L,N){var q;if(this.debug("Convert raw rgba tile result to ImageData"),L.bitmap)return N.toCtx.drawImage(L.bitmap,P.toX,P.toY),null;if(H)q=new ImageData(new Uint8ClampedArray(L.data),P.toWidth,P.toHeight);else if(q=N.toCtx.createImageData(P.toWidth,P.toHeight),q.data.set)q.data.set(L.data);else for(var $=q.data.length-1;$>=0;$--)q.data[$]=L.data[$];return this.debug("Draw tile"),k?N.toCtx.putImageData(q,P.toX,P.toY,P.toInnerX-P.toX,P.toInnerY-P.toY,P.toInnerWidth+1e-5,P.toInnerHeight+1e-5):N.toCtx.putImageData(q,P.toX,P.toY,P.toInnerX-P.toX,P.toInnerY-P.toY,P.toInnerWidth,P.toInnerHeight),null},Z.prototype.__tileAndResize=function(P,L,N){var q=this,$={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null},D=function(X){return q.__limit(function(){if(N.canceled)return N.cancelToken;var re={width:X.width,height:X.height,toWidth:X.toWidth,toHeight:X.toHeight,scaleX:X.scaleX,scaleY:X.scaleY,offsetX:X.offsetX,offsetY:X.offsetY,filter:N.filter,unsharpAmount:N.unsharpAmount,unsharpRadius:N.unsharpRadius,unsharpThreshold:N.unsharpThreshold};return q.debug("Invoke resize math"),Promise.resolve(re).then(function(V){return q.__extractTileData(X,P,N,$,V)}).then(function(V){return q.debug("Invoke resize math"),q.__invokeResize(V,N)}).then(function(V){return N.canceled?N.cancelToken:($.srcImageData=null,q.__landTileData(X,V,$))})})};return Promise.resolve().then(function(){if($.toCtx=L.getContext("2d"),C.isCanvas(P))return null;if(C.isImageBitmap(P))return $.srcImageBitmap=P,$.isImageBitmapReused=!0,null;if(C.isImage(P))return U?(q.debug("Decode image via createImageBitmap"),createImageBitmap(P).then(function(F){$.srcImageBitmap=F}).catch(function(F){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(N.canceled)return N.cancelToken;q.debug("Calculate tiles");var F=R({width:N.width,height:N.height,srcTileSize:q.options.tile,toWidth:N.toWidth,toHeight:N.toHeight,destTileBorder:N.__destTileBorder}),X=F.map(function(V){return D(V)});function re(V){V.srcImageBitmap&&(V.isImageBitmapReused||V.srcImageBitmap.close(),V.srcImageBitmap=null)}return q.debug("Process tiles"),Promise.all(X).then(function(){return q.debug("Finished!"),re($),L},function(V){throw re($),V})})},Z.prototype.__processStages=function(P,L,N,q){var $=this;if(q.canceled)return q.cancelToken;var D=P.shift(),F=l(D,2),X=F[0],re=F[1],V=P.length===0,ee;V||_.q2f.indexOf(q.filter)<0?ee=q.filter:q.filter==="box"?ee="box":ee="hamming",q=g({},q,{toWidth:X,toHeight:re,filter:ee});var te;return V||(te=this.options.createCanvas(X,re)),this.__tileAndResize(L,V?N:te,q).then(function(){return V?N:(q.width=X,q.height=re,$.__processStages(P,te,N,q))}).then(function(J){return te&&(te.width=te.height=0),J})},Z.prototype.__resizeViaCreateImageBitmap=function(P,L,N){var q=this,$=L.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(P,{resizeWidth:N.toWidth,resizeHeight:N.toHeight,resizeQuality:C.cib_quality_name(_.f2q[N.filter])}).then(function(D){if(N.canceled)return N.cancelToken;if(!N.unsharpAmount)return $.drawImage(D,0,0),D.close(),$=null,q.debug("Finished!"),L;q.debug("Unsharp result");var F=q.options.createCanvas(N.toWidth,N.toHeight),X=F.getContext("2d");X.drawImage(D,0,0),D.close();var re=X.getImageData(0,0,N.toWidth,N.toHeight);return q.__mathlib.unsharp_mask(re.data,N.toWidth,N.toHeight,N.unsharpAmount,N.unsharpRadius,N.unsharpThreshold),$.putImageData(re,0,0),F.width=F.height=0,re=X=F=$=null,q.debug("Finished!"),L})},Z.prototype.resize=function(P,L,N){var q=this;this.debug("Start resize...");var $=g({},j);if(isNaN(N)?N&&($=g($,N)):$=g($,{quality:N}),$.toWidth=L.width,$.toHeight=L.height,$.width=P.naturalWidth||P.width,$.height=P.naturalHeight||P.height,Object.prototype.hasOwnProperty.call($,"quality")){if($.quality<0||$.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat($.quality));$.filter=_.q2f[$.quality]}if(L.width===0||L.height===0)return Promise.reject(new Error("Invalid output size: ".concat(L.width,"x").concat(L.height)));$.unsharpRadius>2&&($.unsharpRadius=2),$.canceled=!1,$.cancelToken&&($.cancelToken=$.cancelToken.then(function(F){throw $.canceled=!0,F},function(F){throw $.canceled=!0,F}));var D=3;return $.__destTileBorder=Math.ceil(Math.max(D,2.5*$.unsharpRadius|0)),this.init().then(function(){if($.canceled)return $.cancelToken;if(q.features.cib){if(_.q2f.indexOf($.filter)>=0)return q.__resizeViaCreateImageBitmap(P,L,$);q.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!Y){var F=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw F.code="ERR_GET_IMAGE_DATA",F}var X=E($.width,$.height,$.toWidth,$.toHeight,q.options.tile,$.__destTileBorder);return q.__processStages(X,P,L,$)})},Z.prototype.resizeBuffer=function(P){var L=this,N=g({},j,P);if(Object.prototype.hasOwnProperty.call(N,"quality")){if(N.quality<0||N.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(N.quality));N.filter=_.q2f[N.quality]}return this.init().then(function(){return L.__mathlib.resizeAndUnsharp(N)})},Z.prototype.toBlob=function(P,L,N){return L=L||"image/png",new Promise(function(q){if(P.toBlob){P.toBlob(function(re){return q(re)},L,N);return}if(P.convertToBlob){q(P.convertToBlob({type:L,quality:N}));return}for(var $=atob(P.toDataURL(L,N).split(",")[1]),D=$.length,F=new Uint8Array(D),X=0;X<D;X++)F[X]=$.charCodeAt(X);q(new Blob([F],{type:L}))})},Z.prototype.debug=function(){},o.exports=Z},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")})})($b)),$b.exports}var rW=nW();const aW=$i(rW),CR=typeof window<"u"?aW():null,oW=e=>{const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");return r?(r.fillStyle=yh,r.fillRect(0,0,t.width,t.height),r.drawImage(e,0,0),t):e},iW=async(e,t)=>{if(!CR||t<=1.0001)return e;const r=Math.max(1,Math.round(e.width/t)),o=Math.max(1,Math.round(e.height/t)),i=document.createElement("canvas");return i.width=r,i.height=o,await CR.resize(e,i,{unsharpAmount:80,unsharpRadius:.6,unsharpThreshold:1}),i};async function sW(e,t,r,o){if(t.style.display==="none")return;const i=mt(t.getAttribute("data-connector-left"),0),l=mt(t.getAttribute("data-connector-top"),0),c=t.querySelector('[data-connector-visual="true"]'),u=t.querySelector('[data-connector-shadow="true"]');u&&u.width>0&&u.height>0&&e.drawImage(u,i*r,l*o),c&&c.width>0&&c.height>0&&e.drawImage(c,i*r,l*o)}const kI=e=>new Promise((t,r)=>{const o=new Image;o.onload=()=>t(o),o.onerror=r,o.src=e}),lW=(e,t)=>{const r=[e,...Array.from(e.querySelectorAll("*"))],o=[t,...Array.from(t.querySelectorAll("*"))],i=[];for(let l=0;l<o.length;l++){const c=o[l],u=r[l];if(!u||!c)continue;const h=window.getComputedStyle(u);i.push({node:c,fill:h.fill,stroke:h.stroke,strokeWidth:h.strokeWidth,strokeLinecap:h.strokeLinecap,strokeLinejoin:h.strokeLinejoin})}for(const{node:l,fill:c,stroke:u,strokeWidth:h,strokeLinecap:f,strokeLinejoin:p}of i)c&&c!=="none"&&l.setAttribute("fill",c),u&&u!=="none"&&l.setAttribute("stroke",u),h&&l.setAttribute("stroke-width",h),f&&l.setAttribute("stroke-linecap",f),p&&l.setAttribute("stroke-linejoin",p)},cW=(e,t,r,o,i,l,c,u)=>{c&&(e.save(),e.shadowColor=c.color,e.shadowBlur=(c.blur+Math.max(c.spread,0))*u,e.shadowOffsetX=c.offsetX*u,e.shadowOffsetY=c.offsetY*u,e.drawImage(t,r,o,i,l),e.restore()),e.drawImage(t,r,o,i,l)},OI=(e,t,r,o)=>{const i=r.split(/\s+/),l=[];let c="";const u=f=>e.measureText(f).width/t,h=()=>{c.trim().length>0&&(l.push(c.trim()),c="")};for(const f of i){if(!f)continue;const p=c?`${c} ${f}`:f;if(u(p)<=o){c=p;continue}if(u(f)>o){let g="";for(const y of f){const b=g+y;if(u(b)>o&&g){const x=c?`${c} ${g}`.trim():g;x&&l.push(x),g=y,c=""}else g=b}if(g)if(c){const y=`${c} ${g}`.trim();u(y)<=o?c=y:(l.push(c.trim()),c=g)}else c=g;continue}h(),c=f}return h(),l.length?l:[r]};async function uW(e,t,r,o,i,l,c,u,h){const f=mt(h?.dataset.elementCanvasShadowMarginTop,0),p=mt(h?.dataset.elementCanvasShadowMarginRight,0),g=mt(h?.dataset.elementCanvasShadowMarginBottom,0),y=mt(h?.dataset.elementCanvasShadowMarginLeft,0);if(h&&h.width>0&&h.height>0){const T=(i+y+p)*r,k=(l+f+g)*o;e.drawImage(h,(c-y)*r,(u-f)*o,T,k)}const b=t.querySelector("svg");if(!b)return!1;const x=t.getAttribute("data-element-base-shadow"),C=hh(x),S=b.cloneNode(!0);S.setAttribute("width",`${i}`),S.setAttribute("height",`${l}`),lW(b,S);const E=new XMLSerializer().serializeToString(S),_=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(E)}`;try{const T=await kI(_),k=i*r,O=l*o,M=(r+o)/2,j=h&&h.width>0?null:C;cW(e,T,c*r,u*o,k,O,j,M)}catch(T){console.warn("Failed to rasterize shape element",T)}return!0}function dW(e,t,r,o,i,l,c,u){const h=t.querySelector('[data-element-text-layer="true"]');if(!h)return;const f=h.textContent?.trim()??"";if(!f)return;const p=window.getComputedStyle(h),g=parseFloat(p.fontSize||"14")||14,y=p.fontFamily||aa,b=p.fontWeight||"normal",x=p.color||"#2c3e50",C=p.textAlign||"center",S=parseFloat(p.lineHeight||"0"),E=Number.isFinite(S)&&S>0?S:g*1.2,R=4;let _=R,T=R,k=R,O=R;const M=p.alignItems||"center";e.save(),e.fillStyle=x,e.font=`${b} ${g*o}px ${y}`,e.textBaseline="middle";let j="center";(C==="left"||C==="right")&&(j=C),e.textAlign=j;const H=i-O-T,U=Math.max(1,H),Y=f.split(`
`),Q=[];for(const N of Y)N.trim()?Q.push(...OI(e,r,N,U)):Q.push("");const W=Q.length*E,ae=l-_-k;let Z;M==="flex-start"?Z=u+_+E/2:M==="flex-end"?Z=u+l-k-W+E/2:Z=u+_+Math.max(0,(ae-W)/2)+E/2;let P;j==="center"?P=(c+i/2)*r:j==="right"?P=(c+i-T)*r:P=(c+O)*r;let L=Z;for(const N of Q)e.fillText(N,P,L*o),L+=E;e.restore()}function fW(e,t,r,o,i,l,c,u){const h=t.querySelector("span"),f=h?.textContent?.trim()??t.textContent?.trim()??"";if(!f)return;const p=window.getComputedStyle(h??t),g=parseFloat(p.fontSize||"12")||12,y=p.fontFamily||aa,b=p.fontWeight&&p.fontWeight!=="normal"?p.fontWeight:"600",x=parseFloat(p.lineHeight||"0"),C=Number.isFinite(x)&&x>0?x:g*1.3,S=p.color||"#6c757d",E=Math.max(1,i-8);e.save(),e.fillStyle=S,e.textAlign="center",e.textBaseline="middle",e.font=`${b} ${g*o}px ${y}`;const R=OI(e,r,f,E),_=R.length*C;let T=u+(l-_)/2+C/2;const k=c+i/2;for(const O of R)e.fillText(O,k*r,T*o),T+=C;e.restore()}async function hW(e,t,r,o){if(t.style.display==="none")return!0;const i=mt(t.getAttribute("data-element-left"),0),l=mt(t.getAttribute("data-element-top"),0),c=mt(t.getAttribute("data-element-width"),0),u=mt(t.getAttribute("data-element-height"),0),h=t.querySelector('[data-element-canvas="true"]'),f=t.querySelector('[data-element-shadow-canvas="true"]');if(t.getAttribute("data-shape"))return await uW(e,t,r,o,c,u,i,l,f)?(dW(e,t,r,o,c,u,i,l),!0):!1;if(f&&f.width>0&&f.height>0){const y=mt(f.dataset.elementCanvasShadowMarginTop,0),b=mt(f.dataset.elementCanvasShadowMarginRight,0),x=mt(f.dataset.elementCanvasShadowMarginBottom,0),C=mt(f.dataset.elementCanvasShadowMarginLeft,0),S=(c+C+b)*r,E=(u+y+x)*o;e.drawImage(f,(i-C)*r,(l-y)*o,S,E)}h&&h.width>0&&h.height>0&&e.drawImage(h,i*r,l*o);const g=t.querySelector('[data-element-image-layer="true"]');if(g){const y=t.getAttribute("data-element-image-src")||"";if(y.trim().length>0){const b=g.querySelector("img"),x=b&&(b.complete||b.naturalWidth>0)?b:await kI(y),C=x.naturalWidth||x.width||c,S=x.naturalHeight||x.height||u;if(C>0&&S>0){const E=c/Math.max(u,1),R=C/S;let _=c,T=u;R>E?(_=c,T=Math.max(1,c/R)):(T=u,_=Math.max(1,u*R));const k=i+(c-_)/2,O=l+(u-T)/2;e.drawImage(x,k*r,O*o,_*r,T*o)}}else fW(e,g,r,o,c,u,i,l)}return!0}async function pW(e,t,r){const o=e.getContext("2d");if(!o)return;const i=r?.rootWidth??e.width,l=r?.rootHeight??e.height,c=i>0?e.width/i:1,u=l>0?e.height/l:1,h=Array.from(t.querySelectorAll('[data-element-container="true"]'));h.sort((g,y)=>{const b=mt(g.getAttribute("data-element-z-index"),0),x=mt(y.getAttribute("data-element-z-index"),0);if(b===x){const C=mt(g.getAttribute("data-element-order"),0),S=mt(y.getAttribute("data-element-order"),0);return C-S}return b-x});const f=Array.from(t.querySelectorAll('[data-connector-container="true"]'));f.sort((g,y)=>{const b=mt(g.getAttribute("data-connector-z-index"),0),x=mt(y.getAttribute("data-connector-z-index"),0);if(b===x){const C=mt(g.getAttribute("data-connector-order"),0),S=mt(y.getAttribute("data-connector-order"),0);return C-S}return b-x});const p=[...h.map(g=>({kind:"element",node:g})),...f.map(g=>({kind:"connector",node:g}))];p.sort((g,y)=>{const b=mt(g.node.getAttribute(g.kind==="element"?"data-element-z-index":"data-connector-z-index"),0),x=mt(y.node.getAttribute(y.kind==="element"?"data-element-z-index":"data-connector-z-index"),0);if(b===x){const C=mt(g.node.getAttribute(g.kind==="element"?"data-element-order":"data-connector-order"),0),S=mt(y.node.getAttribute(y.kind==="element"?"data-element-order":"data-connector-order"),0);return C-S}return b-x});for(const g of p){if(g.kind==="connector"){await sW(o,g.node,c,u);continue}if(!await hW(o,g.node,c,u))return}}async function e1(e,t={}){const{root:r,metrics:o}=e;let i,l;if(o)i=o.rootWidth,l=o.rootHeight;else{const b=r.getBoundingClientRect();i=b.width??1,l=b.height??1}const c=Math.max(1,bh),u=document.createElement("canvas"),h=c;u.width=Math.max(1,Math.round(i*h)),u.height=Math.max(1,Math.round(l*h));const f=u.getContext("2d");f&&(f.fillStyle=t.backgroundColor??yh,f.fillRect(0,0,u.width,u.height)),await pW(u,r,o);const p=ZG(u,o),g=JG(u,o),y=await iW(p,g);return oW(y)}const nu=(e,t,r)=>{if(typeof window>"u")return;const o=window[_u]?.onSaveFile;if(typeof o=="function")try{o({content:e,filename:t,mimeType:r})}catch(i){console.warn("onSaveFile hook threw an error",i)}},gW=(e,t)=>{for(const o of e)for(const i of Object.values(o.accept))if(i.length>0)return i[0];const r=t.split(".");return r.length>1?`.${r.pop()}`:""},mW=(e,t)=>!t||e.toLowerCase().endsWith(t.toLowerCase())?e:`${e}${t}`,II=()=>"showSaveFilePicker"in window,yW=async e=>{if(!II())throw new Error("File System Access API not supported");try{return await window.showSaveFilePicker({suggestedName:e.suggestedName,types:e.types})}catch(t){if(t.name==="AbortError")return null;throw t}},bW=async(e,t)=>{const r=await e.createWritable();await r.write(t),await r.close()},vW=async(e,t)=>{const r=await e.createWritable();await r.write(t),await r.close()},Fb=(e,t,r)=>{let o;typeof e=="string"?o=new Blob([e],{type:r}):o=e;const i=URL.createObjectURL(o),l=document.createElement("a");l.href=i,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i)},SR=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),AR=e=>{const t=new FileReader;t.onloadend=()=>{const r=typeof t.result=="string"?t.result:void 0;if(!r)return;window.open(r,"_blank")||(window.location.href=r)},t.readAsDataURL(e)},xW=e=>new Promise(t=>{const r=document.createElement("input");r.type="file",r.accept=e.join(","),r.style.display="none",r.value="",r.onchange=o=>{const i=o.target.files?.[0];r.parentElement&&r.parentElement.removeChild(r),t(i||null)},r.oncancel=()=>{r.parentElement&&r.parentElement.removeChild(r),t(null)},document.body.appendChild(r),r.click()}),wW=async()=>{if(typeof window<"u"&&window.location.search.includes("playwright"))return;const e=window.location.hash;window.location.hash="#file-cache-clear",await new Promise(t=>setTimeout(t,0)),e?window.location.hash=e:window.history.replaceState({},"",window.location.pathname+window.location.search),await new Promise(t=>setTimeout(t,0))},ER=e=>new Promise((t,r)=>{const o=new FileReader;o.onload=()=>{if(o.result instanceof ArrayBuffer){const i=new TextDecoder("utf-8");t(i.decode(o.result))}else r(new Error("FileReader did not return an ArrayBuffer"))},o.onerror=()=>r(o.error),o.readAsArrayBuffer(e)}),CW=async e=>{const t=typeof window.showOpenFilePicker=="function",r=typeof window.__rewiredImportPayload=="string",o=window.location.search.includes("playwright")||r;if(t&&o)try{const[u]=await window.showOpenFilePicker({types:e,multiple:!1});if(u){const h=await u.getFile();return{content:await ER(h),filename:h.name}}return null}catch(u){if(u.name==="AbortError")return null;throw u}await wW();const l=e.flatMap(u=>Object.values(u.accept).flat()),c=await xW(l);return c?{content:await ER(c),filename:c.name}:null},t1=async(e,t,r,o,i)=>{if(II())try{const l=await yW({suggestedName:t,types:r});if(l){typeof e=="string"?await bW(l,e):await vW(l,e);const c=l.name??t;return nu(e,c,o),i?.({filename:c}),!0}return!1}catch(l){return console.warn("File System Access API failed, falling back to download:",l),nu(e,t,o),i?.({filename:t}),Fb(e,t,o),!0}else{const l=gW(r,t);nu(e,t,o);const c=window.prompt("Save file as",t);if(c===null)return!1;const u=mW(c.trim()||t,l);return typeof e=="string"?(nu(e,u,o),SR()?AR(new Blob([e],{type:o})):Fb(e,u,o)):(nu(e,u,o),SR()?AR(e):Fb(e,u,o)),i?.({filename:u}),!0}};function SW(e){const[t,r]=e.split(","),o=t.match(/data:(.*?);base64/),i=o?o[1]:"image/png",l=atob(r),c=new Uint8Array(l.length);for(let u=0;u<l.length;u+=1)c[u]=l.charCodeAt(u);return new Blob([c],{type:i})}async function PI(e,t){const r=await new Promise(i=>e.toBlob(l=>i(l),"image/png"));if(!r)throw new Error("Failed to convert canvas to PNG");const o=t??`${oz}.png`;return await t1(r,o,qG,"image/png")}async function jI(e){const t=Jx(),{cleanup:r}=t;try{const o=await e1(t);return await PI(o,e??"wireframe.png")}catch(o){throw console.error("Export canvas failed:",o),o}finally{r()}}async function DI(){const e=Jx(),{cleanup:t}=e;try{const o=(await e1(e)).toDataURL("image/png",1);return SW(o)}catch(r){throw console.error("Export canvas failed:",r),r}finally{t()}}async function BI(e,t){const{elementIds:r,connectorIds:o}=e;if(!r.length&&!o.length)throw new Error("No elements were selected for export");const i=Jx({elementIds:r,connectorIds:o}),{cleanup:l}=i;try{const c=await e1(i);return await PI(c,t??"wireframe-selection.png")}catch(c){throw console.error("Export selection failed:",c),c}finally{l()}}function AW(){const e=_u,t=window[e]=window[e]??{};t.exportSelectedElementsToPNG||(t.exportSelectedElementsToPNG=(r,o)=>BI(r,o)),t.exportCanvasToPNG||(t.exportCanvasToPNG=r=>jI(r)),t.exportCanvasToPNGBlob||(t.exportCanvasToPNGBlob=()=>DI())}typeof window<"u"&&AW();const zI=new Set(["posX","posY","width","height","id","type","imageSrc"]),Ma=e=>typeof e=="object"&&e!==null,NI=e=>{const t={};for(const[r,o]of e)o!==void 0&&(t[r]=o);return Object.keys(t).length>0?t:void 0},EW=e=>{if(!e)return;const t=Object.entries(e).filter(([r])=>!zI.has(r)&&r!=="imageSrc");if(t.length!==0)return NI(t)},MW=e=>{const t=e.style;if(!t)return;const r={};return typeof t.backgroundColor=="string"&&t.backgroundColor.length>0&&(r.backgroundColour=t.backgroundColor),typeof t.borderColor=="string"&&t.borderColor.length>0&&(r.lineColour=t.borderColor),typeof t.textColor=="string"&&t.textColor.length>0&&(r.textColour=t.textColor),typeof t.fontSize=="number"&&Number.isFinite(t.fontSize)&&(r.fontSize=t.fontSize),typeof t.fontWeight=="string"&&t.fontWeight.length>0&&(r.fontWeight=t.fontWeight),typeof t.textAlign=="string"&&t.textAlign.length>0&&(r.textAlign=t.textAlign),typeof t.fontFamily=="string"&&t.fontFamily.length>0&&(r.fontFamily=t.fontFamily),Object.keys(r).length>0?r:void 0},_W=e=>{const{id:t,type:r,x:o,y:i,width:l,height:c,zIndex:u,text:h,imageSrc:f,groupId:p,properties:g}=e,y={id:t,type:r,x:o,y:i,width:l,height:c};typeof u=="number"&&(y.zIndex=u),typeof h=="string"&&h.length>0&&(y.text=h),p&&(y.groupId=p);const b=typeof f=="string"&&f.trim().length>0?f:typeof g?.imageSrc=="string"&&g.imageSrc.trim().length>0?g.imageSrc:void 0;b&&(y.imageSrc=b);const x=MW(e),C=(()=>{if(!(!x&&!g))return x?{...x,...g??{}}:g?{...g}:void 0})(),S=C?bs(e,C):void 0,E=EW(S);return E&&Object.keys(E).length>0&&(y.properties=E),y},RW=e=>{const t=(e.type==="line","line"),r={id:e.id,type:t,startPoint:{...e.startPoint},endPoint:{...e.endPoint}};return e.waypoints&&e.waypoints.length>0&&(r.waypoints=e.waypoints.map(o=>({...o}))),typeof e.zIndex=="number"&&(r.zIndex=e.zIndex),e.groupId&&(r.groupId=e.groupId),e.properties&&(r.properties={...e.properties},"connectorType"in r.properties&&delete r.properties.connectorType),e.startAttachment&&(r.startAttachment={elementId:e.startAttachment.elementId}),e.endAttachment&&(r.endAttachment={elementId:e.endAttachment.elementId}),r},TW=e=>({elements:e.elements.map(_W),connectors:e.connectors.map(RW),zoom:e.zoom,panX:e.panX,panY:e.panY,selectedItems:e.selectedItemIds.length?[...e.selectedItemIds]:void 0}),kW=e=>{const t=TW(e.canvasState);return{id:e.id,name:e.name,order:e.order,...t}},LI=(e,t)=>({version:nx,exportDate:new Date().toISOString(),pages:e.map(kW),activePageId:t}),OW=(e,t)=>LI([e],t??e.id),HI=(e,t)=>{const r=JSON.stringify(e,null,2),o=new Blob([r],{type:"application/json"}),i=URL.createObjectURL(o),l=document.createElement("a");l.href=i,l.download=t||`wireframe-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i)},$I=()=>{const e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${o}`},FI=[{description:"Wireframe JSON files",accept:{"application/json":[".json"]}}],IW=async(e,t,r)=>{const o=OW(e,t),i=JSON.stringify(o,null,2),c=`wireframe-${e.name.replace(/\s+/g,"-").toLowerCase()||"page"}-${$I()}.json`;try{return await t1(i,c,FI,"application/json")}catch(u){return console.error("Failed to save JSON file:",u),HI(o,c),!0}},PW=async(e,t,r)=>{const o=LI(e,t),i=JSON.stringify(o,null,2),c=(()=>{if(typeof window>"u")return{exportInfo:null,importInfo:null};const p=g=>{if(!g)return null;try{const y=JSON.parse(g);if(y&&typeof y.name=="string")return{name:y.name,at:Number(y.at)||0}}catch(y){console.warn("Failed to parse project filename metadata",y)}return null};return{exportInfo:p(window.localStorage.getItem(AA)),importInfo:p(window.localStorage.getItem(zk))}})(),h=[c.exportInfo,c.importInfo].filter(p=>!!p).sort((p,g)=>g.at-p.at)[0]?.name||`wireframe-project-${$I()}.json`,f=p=>{if(!(typeof window>"u"))try{const g=JSON.stringify({name:p,at:Date.now()});window.localStorage.setItem(AA,g)}catch(g){console.warn("Failed to persist last project export metadata:",g)}};try{return await t1(i,h,FI,"application/json",p=>{f(p.filename)})}catch(p){return console.error("Failed to save JSON file:",p),f(h),HI(o,h),!0}},Sa=(e,t=0)=>{const r=typeof e=="number"?e:Number(e);return Number.isFinite(r)?r:t},jW=e=>{if(!Ma(e))return;const t=Object.entries(e).filter(([r])=>!zI.has(r));return NI(t)},Yb=e=>({x:Sa(e?.x,0),y:Sa(e?.y,0)}),MR=e=>!e||typeof e!="object"||!e.elementId?null:{elementId:String(e.elementId),anchor:e.anchor},DW=e=>{if(!Ma(e))throw new Error("Invalid element payload");const t=typeof e.id=="string"&&e.id.trim().length>0?e.id:jr(),r=typeof e.type=="string"?e.type:void 0,o=r==="heading",l=o?"text":r??"button",c=Sa(e.x,0),u=Sa(e.y,0),h=Math.max(1,Sa(e.width,120)),f=Math.max(1,Sa(e.height,40)),p={id:t,type:l,x:c,y:u,width:h,height:f};e.zIndex!==void 0&&(p.zIndex=Sa(e.zIndex,0)),typeof e.text=="string"&&(p.text=e.text),typeof e.groupId=="string"&&e.groupId.length>0&&(p.groupId=e.groupId);const g=e.properties??e.props??e.elementProperties;let y;typeof e.imageSrc=="string"&&e.imageSrc.trim().length>0&&(y=e.imageSrc),!y&&Ma(g)&&typeof g.imageSrc=="string"&&g.imageSrc.trim().length>0&&(y=g.imageSrc);let b=jW(g);return o&&(b={...{fontSize:24,fontWeight:"bold",textAlign:"left"},...b??{}}),b&&(typeof b.imageSrc=="string"&&b.imageSrc.trim().length>0&&(y=y??b.imageSrc,delete b.imageSrc),Object.keys(b).length===0&&(b=void 0)),b&&(p.properties=b),y&&(p.imageSrc=y),p},BW=e=>{if(!Ma(e))throw new Error("Invalid connector payload");const t=typeof e.id=="string"&&e.id.trim().length>0?e.id:jr(),r=(e.type==="line","line"),o={id:t,type:r,startPoint:Yb(e.startPoint??e.start??{}),endPoint:Yb(e.endPoint??e.end??{})};if(e.zIndex!==void 0&&(o.zIndex=Sa(e.zIndex,0)),e.groupId&&(o.groupId=String(e.groupId)),Ma(e.properties)){const c={...e.properties};delete c.connectorType,o.properties=c}const i=MR(e.startAttachment);i&&(o.startAttachment=i);const l=MR(e.endAttachment);return l&&(o.endAttachment=l),Array.isArray(e.waypoints)&&e.waypoints.length>0&&(o.waypoints=e.waypoints.map(Yb)),o},YI=e=>{const t=Array.isArray(e?.elements)?e.elements:[],r=Array.isArray(e?.connectors)?e.connectors:[],o=Array.isArray(e?.selectedItems)?e.selectedItems:Array.isArray(e?.selectedItemIds)?e.selectedItemIds:[...Array.isArray(e?.selectedElements)?e.selectedElements:[],...Array.isArray(e?.selectedConnectors)?e.selectedConnectors:[]];return{elements:t.map(DW),connectors:r.map(BW),zoom:Sa(e?.zoom,1)||1,panX:Sa(e?.panX,0),panY:Sa(e?.panY,0),selectedItems:o.length?o.map(i=>String(i)):void 0}},zW=e=>{if(!Ma(e))return;const t=e,r=Ma(t.canvasState)?t.canvasState:void 0,o=Ma(t.canvas)?t.canvas:void 0,i=[t.name,t.pageName,t.title,r?.name,r?.pageName,o?.name,o?.pageName];for(const l of i)if(typeof l=="string"){const c=l.trim();if(c.length>0)return c}},NW=(e,t=0)=>{if(!Ma(e))throw new Error("Invalid page payload");const r=typeof e.id=="string"&&e.id.trim().length>0?e.id:jr(),o=zW(e)??`Imported Page ${t+1}`,i=Sa(e.order,t),l=e.canvasState??e.canvas??e,c=YI(l);return{id:r,name:o,order:i,...c}},LW=e=>{const t=typeof e?.version=="string"?e.version:"1.0.0",r=typeof e?.exportDate=="string"?e.exportDate:new Date().toISOString();if(Array.isArray(e?.pages)&&e.pages.length>0){const u=e.pages.map((p,g)=>NW(p,g)),h=typeof e.activePageId=="string"?e.activePageId:void 0,f=u.slice().sort((p,g)=>p.order-g.order).map((p,g)=>({id:p.id,name:p.name,order:g,elements:[...p.elements],connectors:[...p.connectors],zoom:p.zoom,panX:p.panX,panY:p.panY,selectedItems:p.selectedItems?[...p.selectedItems]:void 0}));return{version:t,exportDate:r,pages:f,activePageId:h}}const o=YI(e?.canvasState??e),l=(typeof e?.ownerPageId=="string"?e.ownerPageId:typeof e?.canvasState?.ownerPageId=="string"?e.canvasState.ownerPageId:void 0)??jr(),c=typeof e?.pageName=="string"&&e.pageName.trim().length>0?e.pageName:"Imported Page";return{version:t,exportDate:r,pages:[{id:l,name:c,order:0,...o}],activePageId:l}},HW=e=>{if(!Ma(e))return!1;if(Array.isArray(e.pages)&&e.pages.length>0)return e.pages.every(r=>{const o=r?.canvasState??r?.canvas??r;return!Ma(o)||!Array.isArray(o.elements)?!1:o.elements.every(i=>i&&typeof i.id=="string"&&typeof i.type=="string")});const t=e.canvasState??e.canvas??e;return!Ma(t)||!Array.isArray(t.elements)?!1:t.elements.every(r=>r&&typeof r.id=="string"&&typeof r.type=="string")},UI=e=>{const t=new Set,r=[];for(const o of e)t.has(o)||(t.add(o),r.push(o));return r},$W=(e,t,r)=>{if(!e?.length)return[];const o=e.map(i=>t&&t[i]?t[i]:r&&r[i]?r[i]:i);return UI(o)},Rv=(e,t,r)=>{if(!r?.length)return{selectedElements:[],selectedConnectors:[],selectedItemIds:[]};const o=new Set(e.map(h=>h.id)),i=new Set(t.map(h=>h.id)),l=UI(r.filter(h=>o.has(h)||i.has(h))),c=l.filter(h=>o.has(h)),u=l.filter(h=>i.has(h));return{selectedElements:c,selectedConnectors:u,selectedItemIds:l}},qI=e=>{const t={id:e.id,type:e.type,x:e.x,y:e.y,width:e.width,height:e.height,text:e.text,zIndex:e.zIndex,groupId:e.groupId,imageSrc:e.imageSrc,properties:e.properties?{...e.properties}:void 0};return Jl(t)},XI=e=>{const t=(e.type==="line","line"),r=e.properties?{...e.properties}:void 0;return r&&"connectorType"in r&&delete r.connectorType,{id:e.id,type:t,startPoint:{...e.startPoint},endPoint:{...e.endPoint},waypoints:e.waypoints?e.waypoints.map(o=>({...o})):void 0,zIndex:e.zIndex,properties:r,groupId:e.groupId,startAttachment:e.startAttachment?.anchor?{elementId:e.startAttachment.elementId,anchor:e.startAttachment.anchor}:null,endAttachment:e.endAttachment?.anchor?{elementId:e.endAttachment.elementId,anchor:e.endAttachment.anchor}:null}},GI=(e,t,r)=>{if(!r.size)return e;if(!t.length)return e.map(c=>({...c,startAttachment:null,endAttachment:null}));const o=new Map(t.map(c=>[c.id,c]));let i=!1;const l=e.map(c=>{const u=r.get(c.id);if(!u)return c;let h=c.startAttachment??null,f=c.endAttachment??null;const p=(g,y)=>{if(!g)return null;const b=o.get(g);if(!b)return null;const x=Kh([b],y,Wh);return!x||x.attachment.elementId!==g?null:x.attachment};if(!h&&u.startElementId){const g=p(u.startElementId,c.startPoint);g&&(h=g)}if(!f&&u.endElementId){const g=p(u.endElementId,c.endPoint);g&&(f=g)}return h===c.startAttachment&&f===c.endAttachment?c:(i=!0,{...c,startAttachment:h,endAttachment:f})});return i?bn(l,t):e},FW=e=>{const t={};return{elements:e.map(o=>{const i=jr();return t[o.id]=i,{...o,id:i}}),idMap:t}},YW=e=>{const t={};return{connectors:e.map(o=>{const i=jr();return t[o.id]=i,{...o,id:i}}),idMap:t}},UW=(e,t)=>{const r=o=>{if(!o)return o??null;const i=t[o.elementId];return i?{...o,elementId:i}:o};return{...e,startAttachment:r(e.startAttachment)??null,endAttachment:r(e.endAttachment)??null}},qW=(e,t)=>{const r=e.elements.map(qI),o=e.connectors.map(u=>({connector:XI(u),hints:{startElementId:u.startAttachment?.elementId??null,endElementId:u.endAttachment?.elementId??null}})),i=new Map(o.map(u=>[u.connector.id,u.hints])),l=GI(o.map(u=>u.connector),r,i),c=Rv(r,l,e.selectedItems);return{elements:r,connectors:l,selectedElements:c.selectedElements,selectedConnectors:c.selectedConnectors,selectedItemIds:c.selectedItemIds,zoom:e.zoom||1,panX:e.panX||0,panY:e.panY||0,ownerPageId:t}},XW=(e,t,r)=>{const o=t.elements.map(qI),i=t.connectors.map(x=>({connector:XI(x),hints:{startElementId:x.startAttachment?.elementId??null,endElementId:x.endAttachment?.elementId??null}})),l=new Map(i.map(x=>[x.connector.id,x.hints])),c=GI(i.map(x=>x.connector),o,l);if(r){const x=Rv(o,c,t.selectedItems);return{elements:o,connectors:c,selectedElements:x.selectedElements,selectedConnectors:x.selectedConnectors,selectedItemIds:x.selectedItemIds,zoom:t.zoom||1,panX:t.panX||0,panY:t.panY||0,ownerPageId:e.ownerPageId}}const{elements:u,idMap:h}=FW(o),{connectors:f,idMap:p}=YW(c),g=f.map(x=>UW(x,h)),y=$W(t.selectedItems,h,p),b=Rv([...e.elements,...u],[...e.connectors,...g],y);return{...e,elements:[...e.elements,...u],connectors:[...e.connectors,...g],selectedElements:b.selectedElements,selectedConnectors:b.selectedConnectors,selectedItemIds:b.selectedItemIds}},GW=e=>e.pages.map(t=>({id:t.id,name:t.name,order:t.order,canvasState:qW(t,t.id)})),_R=async()=>{const e=[{description:"Wireframe JSON files",accept:{"application/json":[".json"]}}];try{const t=await CW(e);if(!t)return null;const{content:r,filename:o}=t;let i;try{i=JSON.parse(r)}catch{throw new Error("Invalid JSON file. Please select a valid wireframe export file.")}if(!HW(i))throw new Error("Invalid wireframe file format. Please select a valid wireframe export file.");const l=LW(i);return l.sourceFilename=o,l}catch(t){throw console.error("Import failed:",t),t}},WW=(e,t,r)=>XW(e,t,r.clearCanvas),QW=e=>GW(e),Di=e=>{try{return{elements:e.elements?e.elements.map(KW):[],connectors:e.connectors?e.connectors.map(VW):[],selectedElements:e.selectedElements?[...e.selectedElements]:[],selectedConnectors:e.selectedConnectors?[...e.selectedConnectors]:[],selectedItemIds:e.selectedItemIds?[...e.selectedItemIds]:[],zoom:e.zoom,panX:e.panX,panY:e.panY,ownerPageId:e.ownerPageId}}catch(t){return console.error("Failed to clone canvas state, returning original reference. Some operations may mutate shared state.",t),e}},KW=e=>({...e,properties:e.properties?{...e.properties}:void 0,style:e.style?{...e.style}:void 0,text:e.text,imageSrc:e.imageSrc,x:e.x,y:e.y,width:e.width,height:e.height,zIndex:e.zIndex,id:e.id,type:e.type}),VW=e=>{const t=Nn.normaliseConnector(e);return{...t,startPoint:{...t.startPoint},endPoint:{...t.endPoint},waypoints:t.waypoints?t.waypoints.map(r=>({...r})):void 0,startAttachment:t.startAttachment?{...t.startAttachment}:null,endAttachment:t.endAttachment?{...t.endAttachment}:null,properties:t.properties?{...t.properties}:void 0}};function ZW({canvasState:e,setCanvasState:t,replaceCanvasState:r,queueHistoryEntry:o,onSaveTimestampUpdate:i,activePageId:l,activePage:c,pages:u,commitCanvasSnapshot:h,onImportApplied:f,replaceProject:p,startTransaction:g,endTransaction:y}){const[b,x]=v.useState(null),[C,S]=v.useState(()=>({project:null})),[E,R]=v.useState(()=>({project:null})),_=v.useCallback($=>{if(!(!$||typeof window>"u"))try{window.localStorage.setItem(zk,JSON.stringify({name:$,at:Date.now()}))}catch(D){console.warn("Failed to persist last project import metadata:",D)}},[]),T=v.useCallback(async()=>{try{await jI()}catch($){console.error("Failed to export PNG:",$),alert("Failed to export PNG: "+$.message)}},[]),k=v.useCallback(async()=>{try{return await DI()}catch($){throw console.error("Failed to export PNG blob:",$),$}},[]),O=v.useCallback(async()=>{const{selectedElements:$,selectedConnectors:D}=e;if($.length===0&&D.length===0){alert("Please select items to export");return}try{await BI({elementIds:$,connectorIds:D})}catch(F){console.error("Failed to export selection as PNG:",F),alert("Failed to export selection: "+F.message)}},[e]),M=v.useCallback(async()=>{try{await IW(c,l)}catch($){console.error("Failed to export page JSON:",$),alert("Failed to export JSON: "+$.message)}},[c,l]),j=v.useCallback($=>{const D=QW($);if(D.length===0){console.warn("Imported project contains no pages.");return}const F=te=>({...Di(te),selectedElements:[],selectedConnectors:[],selectedItemIds:[]}),X=D.map(te=>({...te,canvasState:F(te.canvasState)}));g?.("Import project (replace)");const re=X[0].id,V=X[0],ee={...Di(V.canvasState),selectedElements:[],selectedConnectors:[],selectedItemIds:[],ownerPageId:V.id};try{p(X,re),r(ee,{resetHistory:!0,description:"Imported project (replace)"}),f(ee,re),i(),_($.sourceFilename)}finally{y?.()}},[y,f,i,_,r,p,g]),H=v.useCallback(async()=>{const $=u.map(D=>D.id===l?{...D,canvasState:{...Di(e),ownerPageId:l}}:{...D,canvasState:Di(D.canvasState)});try{await PW($,l)}catch(D){console.error("Failed to export project JSON:",D),alert("Failed to export project JSON: "+D.message)}},[e,u,l]),U=v.useCallback(($,D)=>{const X={...WW(e,$.canvasState,{clearCanvas:D}),ownerPageId:l};D?r(X,{resetHistory:!0,description:"Imported canvas (replace)"}):(o("Import items (append)"),t(Di(X))),h(l,X),f(X,l),i()},[e,l,r,o,t,h,f,i]),Y=v.useCallback(($,D)=>{const F=$.pages.find(V=>V.id===D)??$.pages[0];if(!F){alert("No pages found in the imported file.");return}const X={pageId:F.id,pageName:F.name,canvasState:{elements:F.elements,connectors:F.connectors,zoom:F.zoom,panX:F.panX,panY:F.panY,selectedItems:F.selectedItems},sourceFilename:$.sourceFilename};if(!((e.elements?.length??0)>0||(e.connectors?.length??0)>0)){S({project:null}),U(X,!0);return}x(X),S({project:null})},[e,U]),Q=v.useCallback(async()=>{try{const $=await _R();if(!$)return;if($.pages.length===0){alert("The imported file does not contain any pages.");return}if($.pages.length===1){Y($,$.pages[0].id);return}S({project:$})}catch($){console.error("Import failed:",$),alert("Import failed: "+$.message)}},[Y]),W=v.useCallback(async()=>{try{const $=await _R();if(!$)return;if($.pages.length===0){alert("The imported file does not contain any pages.");return}if(!u.some(F=>(F.canvasState.elements?.length??0)>0||(F.canvasState.connectors?.length??0)>0)){R({project:null}),j($);return}R({project:$})}catch($){console.error("Import failed:",$),alert("Import failed: "+$.message)}},[u,j]),ae=v.useCallback($=>{if(!b)return;if(!((e.elements?.length??0)>0||(e.connectors?.length??0)>0)){U(b,!0),x(null);return}U(b,$),x(null)},[b,e,U]),Z=v.useCallback(()=>{x(null)},[]),P=v.useCallback($=>{const D=C.project;D&&Y(D,$)},[C.project,Y]),L=v.useCallback(()=>{S({project:null})},[]),N=v.useCallback(()=>{const $=E.project;$&&(j($),R({project:null}))},[E.project,j]),q=v.useCallback(()=>{R({project:null})},[]);return{importModal:{isOpen:!!b,pendingImportData:b,onConfirm:ae,onCancel:Z},pagePickerModal:{isOpen:!!(C.project&&C.project.pages.length>1),pages:C.project?.pages.map($=>({id:$.id,name:$.name,order:$.order}))??[],onSelect:P,onCancel:L},projectImportModal:{isOpen:!!E.project,pageCount:E.project?.pages.length??0,onConfirm:N,onCancel:q},actions:{exportPNG:T,exportPNGToBlob:k,exportSelectedPNG:O,exportPageJSON:M,exportProjectJSON:H,importPageJSON:Q,importProjectJSON:W},testHooks:{openImportModal:$=>x($),closeImportModal:()=>x(null)}}}const ru=20,jf=(e,t)=>{const{constraints:r}=e,o=t==="width"?r?.minWidth:r?.minHeight,i=typeof o=="number"?o:t==="width"?100:40,l=e.defaultProps[t]??i;return typeof o=="number"?Math.max(l,o):l};function JW({setCanvasState:e,queueHistoryEntry:t}){const r=v.useRef(null),o=v.useCallback(u=>{r.current=u},[]),i=v.useCallback(()=>{},[]),l=v.useCallback(u=>{const h=r.current;if(!h)return;const f=document.querySelector('[data-canvas="true"]');if(f){const p=f.getBoundingClientRect();u.x>=p.left&&u.x<=p.right&&u.y>=p.top&&u.y<=p.bottom&&(t("Add element from library"),e(y=>{const b=mh(y),x=(u.x-p.left-ru-y.panX*y.zoom)/y.zoom,C=(u.y-p.top-ru-y.panY*y.zoom)/y.zoom,S=jf(h,"width"),E=jf(h,"height"),R={id:jr(),type:h.type,x:Math.max(0,x-S/2),y:Math.max(0,C-E/2),width:S,height:E,text:h.defaultProps.text??"",imageSrc:typeof h.defaultProps.imageSrc=="string"?h.defaultProps.imageSrc:void 0,style:h.defaultProps.style,constraints:h.constraints,properties:h.defaultProps.properties?{...h.defaultProps.properties}:void 0,zIndex:b},_=Jl(R);return{...y,elements:[...y.elements,_],selectedElements:[_.id],selectedConnectors:[],selectedItemIds:[_.id]}}))}r.current=null},[t,e]),c=v.useCallback(u=>{const h=jf(u,"width"),f=jf(u,"height"),g=(typeof document<"u"?document.querySelector('[data-canvas="true"]'):null)?.getBoundingClientRect()??null;t("Add element from library"),e(y=>{const b=mh(y),x=g?yI(g,y.zoom,y.panX,y.panY,ru):null,C=(T,k,O)=>Math.min(Math.max(T,k),O);let S=100+Math.random()*200,E=100+Math.random()*200;if(x&&g){const T=h*y.zoom,k=f*y.zoom,O=g.left+ru,M=g.top+ru,j=Math.max(O,g.right-T),H=Math.max(M,g.bottom-k),U=O+Math.random()*(j-O),Y=M+Math.random()*(H-M),Q=bI(x,{clientX:U,clientY:Y});S=C(Q.x,0,uh-h),E=C(Q.y,0,dh-f)}else S=C(-y.panX+40+Math.random()*120,0,uh-h),E=C(-y.panY+40+Math.random()*120,0,dh-f);const R={id:jr(),type:u.type,x:S,y:E,width:h,height:f,text:u.defaultProps.text??"",imageSrc:typeof u.defaultProps.imageSrc=="string"?u.defaultProps.imageSrc:void 0,style:u.defaultProps.style,constraints:u.constraints,properties:u.defaultProps.properties?{...u.defaultProps.properties}:void 0,zIndex:b},_=Jl(R);return{...y,elements:[...y.elements,_],selectedElements:[_.id],selectedConnectors:[],selectedItemIds:[_.id]}})},[t,e]);return{handleDragStart:o,handleDragMove:i,handleDragEnd:l,handleElementClick:c}}function eQ({handlers:e,hasSelection:t}){const r=v.useRef(e),o=v.useRef(t);v.useEffect(()=>{r.current=e},[e]),v.useEffect(()=>{o.current=t},[t]),v.useEffect(()=>{const i=l=>{const c=r.current,u=o.current,h=document.activeElement,f=h?.tagName==="INPUT"||h?.tagName==="TEXTAREA"||h?.hasAttribute("data-inline-editor"),p=typeof l.key=="string"?l.key.toLowerCase():"";if(l.key==="Escape"&&!f&&u&&c.onClearSelection){l.preventDefault(),c.onClearSelection();return}if(p==="a"&&(l.ctrlKey||l.metaKey)&&!f){l.preventDefault(),c.onSelectAll();return}if(l.ctrlKey||l.metaKey){if(p==="d"&&l.shiftKey&&c.onOpenDebugOptions){l.preventDefault(),c.onOpenDebugOptions();return}if(p==="z"&&!l.shiftKey&&c.onUndo){l.preventDefault(),c.onUndo();return}if(p==="z"&&l.shiftKey&&c.onRedo){l.preventDefault(),c.onRedo();return}if(p==="h"&&c.onToggleHistory){l.preventDefault(),c.onToggleHistory();return}if(p==="s"&&c.onExportProjectJSON){l.preventDefault(),c.onExportProjectJSON();return}if(p==="o"&&l.shiftKey&&c.onImportProjectJSON){l.preventDefault(),c.onImportProjectJSON();return}}if(!f&&(l.ctrlKey||l.metaKey)){if(l.shiftKey){if(p==="c"&&c.onCopyProperties){l.preventDefault(),c.onCopyProperties();return}if(p==="v"&&c.onPasteProperties){l.preventDefault(),c.onPasteProperties();return}}if(!l.shiftKey){if(p==="c"){l.preventDefault(),c.onCopy();return}if(p==="x"){l.preventDefault(),c.onCut();return}if(p==="v"){l.preventDefault(),c.onPaste();return}}}if(!f&&!l.ctrlKey&&!l.metaKey){if(p==="s"){l.preventDefault(),c.onSetMode("select");return}if(p==="d"){l.preventDefault(),c.onSetMode("drag");return}}if((l.key==="Delete"||l.key==="Backspace")&&u&&(f||(l.preventDefault(),c.onDelete())),!f&&u&&c.onMoveSelection){if(l.key==="ArrowUp"){l.preventDefault(),c.onMoveSelection(0,-1);return}if(l.key==="ArrowDown"){l.preventDefault(),c.onMoveSelection(0,1);return}if(l.key==="ArrowLeft"){l.preventDefault(),c.onMoveSelection(-1,0);return}if(l.key==="ArrowRight"){l.preventDefault(),c.onMoveSelection(1,0);return}}if(!f&&u&&(l.ctrlKey||l.metaKey)){if(p==="j"){const g=l.shiftKey?c.onSendToFront:c.onBringForward;if(g){l.preventDefault(),g();return}}if(p==="k"){const g=l.shiftKey?c.onSendToBack:c.onBringBack;if(g){l.preventDefault(),g();return}}if(p==="g"){if(l.shiftKey&&c.onUngroup){l.preventDefault(),c.onUngroup();return}if(!l.shiftKey&&l.altKey&&c.onGroup){l.preventDefault(),c.onGroup();return}if(!l.shiftKey&&!l.altKey&&c.onSnapToGrid){l.preventDefault(),c.onSnapToGrid();return}}}if(!f&&(l.ctrlKey||l.metaKey)){if(l.key==="["&&c.onZoomOut){l.preventDefault(),c.onZoomOut();return}if(l.key==="]"&&c.onZoomIn){l.preventDefault(),c.onZoomIn();return}if((l.key==="'"||l.key==='"'||l.code==="Quote")&&c.onResetZoom){l.preventDefault(),c.onResetZoom();return}if((l.key==="\\"||l.key==="|")&&c.onFitToScreen){l.preventDefault(),c.onFitToScreen();return}}};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[]),v.useEffect(()=>(document.body.style.userSelect="none",()=>{document.body.style.userSelect=""}),[])}const WI=Zt("project-v2"),au=100,xu=e=>({elements:[],connectors:[],selectedElements:[],selectedConnectors:[],selectedItemIds:[],zoom:1,panX:0,panY:0,ownerPageId:e}),wu=()=>{const e=jr();return{pages:[{id:e,name:"Page 1",order:0}],canvases:{[e]:xu(e)},activePageId:e}},Fl=(e,t)=>{if(!e)return xu(t);const r=Di(e);return r.ownerPageId=t,r},tQ=()=>{try{const e=window.localStorage.getItem(WI);if(!e)return wu();const t=JSON.parse(e);if(!t.pages?.length||!t.canvases)return wu();const r={};t.pages.forEach(i=>{r[i.id]=Fl(t.canvases[i.id],i.id)});const o=r[t.activePageId]?t.activePageId:t.pages[0].id;return{pages:t.pages.slice().sort((i,l)=>i.order-l.order).map((i,l)=>({...i,order:l})),canvases:r,activePageId:o}}catch(e){return console.error("Failed to load project metadata",e),wu()}},nQ=()=>{const[e,t]=v.useState(()=>typeof window>"u"?wu():tQ()),r=v.useCallback(C=>{if(!(typeof window>"u"||Ir()))try{window.localStorage.setItem(WI,JSON.stringify(C))}catch(S){console.error("Failed to persist project",S)}},[]);v.useEffect(()=>{Ir()||r(e)},[r,e]);const o=v.useCallback(C=>{t(S=>{if(Ir())return S;const E=C(S);return E===S?S:(r(E),E)})},[r]),i=v.useCallback((C,S)=>{o(E=>{const R=Fl(S,C);return{...E,canvases:{...E.canvases,[C]:R}}})},[o]),l=v.useCallback(C=>{o(S=>{if(S.activePageId===C)return S;const E=S.canvases[C]?S.canvases:{...S.canvases,[C]:xu(C)};return{...S,canvases:E,activePageId:C}})},[o]),c=v.useCallback(()=>{o(C=>{if(C.pages.length>=au)return console.warn(`Cannot add page. Maximum ${au} pages reached.`),C;const S=jr(),E=new Set(C.pages.map(O=>O.name));let R=C.pages.length+1,_=`Page ${R}`;for(;E.has(_);)R+=1,_=`Page ${R}`;const T=[...C.pages,{id:S,name:_,order:C.pages.length}],k={...C.canvases,[S]:xu(S)};return{pages:T,canvases:k,activePageId:S}})},[o]),u=v.useCallback(C=>{o(S=>{if(S.pages.length<=1)return console.warn("Cannot delete the last page"),S;const E=S.pages.filter(k=>k.id!==C).map((k,O)=>({...k,order:O})),{[C]:R,..._}=S.canvases,T=S.activePageId===C?E[0].id:S.activePageId;return{pages:E,canvases:_,activePageId:T}})},[o]),h=v.useCallback((C,S)=>{const E=S.trim();if(!E)return!1;let R=!0;return o(_=>{if(_.pages.some(k=>k.id!==C&&k.name===E))return console.warn("Page name already in use"),R=!1,_;const T=_.pages.map(k=>k.id===C?{...k,name:E}:k);return{..._,pages:T}}),R},[o]),f=v.useCallback(C=>{o(S=>{if(S.pages.length>=au)return console.warn(`Cannot duplicate page. Maximum ${au} pages reached.`),S;const E=S.pages.find(j=>j.id===C);if(!E)return S;const R=S.canvases[C]??xu(C);let _=`${E.name} (Copy)`,T=1;for(;S.pages.some(j=>j.name===_);)_=`${E.name} (Copy ${T++})`;const k=jr(),O=[...S.pages,{id:k,name:_,order:S.pages.length}],M={...S.canvases,[k]:Fl(R,k)};return{pages:O,canvases:M,activePageId:k}})},[o]),p=v.useCallback((C,S)=>{o(E=>{const R=[...E.pages],_=R.findIndex(O=>O.id===C);if(_===-1)return E;const[T]=R.splice(_,1);R.splice(S,0,T);const k=R.map((O,M)=>({...O,order:M}));return{...E,pages:k}})},[o]),g=v.useCallback(()=>{const C=wu();Ir()||r(C),t(C)},[r]),y=v.useCallback((C,S)=>{if(!C.length){console.warn("Cannot replace project with zero pages.");return}o(()=>{const E=C.slice().sort((k,O)=>k.order-O.order).map((k,O)=>({...k,order:O})),R={};E.forEach(k=>{R[k.id]=Fl(k.canvasState,k.id)});const _=E.map(k=>({id:k.id,name:k.name,order:k.order})),T=S&&R[S]?S:E[0].id;return{pages:_,canvases:R,activePageId:T}})},[o]),b=v.useMemo(()=>e.pages.map(C=>({...C,canvasState:Fl(e.canvases[C.id],C.id)})),[e]),x=v.useMemo(()=>Fl(e.canvases[e.activePageId],e.activePageId),[e]);return{pages:b,activePageId:e.activePageId,activeCanvas:x,canAddPage:e.pages.length<au,setActivePage:l,commitCanvasSnapshot:i,addPage:c,deletePage:u,renamePage:h,duplicatePage:f,reorderPages:p,resetProject:g,replaceProject:y}},rQ=se.div.attrs(e=>({style:{top:`${e.$top}px`,left:`${e.$left}px`}}))`
  position: fixed;
  width: 240px;
  min-height: 160px;
  max-height: 70vh;
  resize: vertical;
  background: #ffffff;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  box-shadow: 0 18px 36px rgba(15, 23, 42, 0.14);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  z-index: 1100;
  backdrop-filter: blur(12px);
`,aQ=se.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 8px 14px;
  background: #f8fafc;
  border-bottom: 1px solid #e2e8f0;
  cursor: grab;

  &:active {
    cursor: grabbing;
  }
`,oQ=se.h3`
  margin: 0;
  font-size: 14px;
  font-weight: 600;
  color: #1f2937;
`,iQ=se.button`
  border: none;
  background: transparent;
  color: #64748b;
  font-size: 16px;
  cursor: pointer;
  padding: 2px 6px;
  border-radius: 4px;

  &:hover {
    background: rgba(226, 232, 240, 0.45);
    color: #0f172a;
  }
`,sQ=se.ul`
  list-style: none;
  margin: 0;
  padding: 0;
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: auto;
`,lQ=se.li`
  padding: 10px 16px;
  display: flex;
  flex-direction: column;
  gap: 4px;
  background: ${e=>e.$isCurrent?"#eef2ff":"transparent"};
  border-bottom: 1px solid #e5e7eb;

  &:last-child {
    border-bottom: none;
  }
`,cQ=se.span`
  font-size: 14px;
  color: #1f2937;
  font-weight: 500;
`,uQ=se.button`
  border: none;
  background: none;
  padding: 0;
  margin: 0;
  font-size: 14px;
  font-weight: 500;
  text-align: left;
  color: ${e=>e.$position==="past"?"#1d4ed8":"#047857"};
  cursor: pointer;

  &:hover {
    text-decoration: underline;
  }
`,dQ=se.span`
  font-size: 12px;
  color: #6b7280;
`,fQ=se.div`
  padding: 24px 16px;
  text-align: center;
  color: #6b7280;
  font-size: 13px;
`;function hQ(e){const t=new Date(e);return`${t.toLocaleDateString()} ${t.toLocaleTimeString()}`}function pQ({entries:e,currentIndex:t,onClose:r,onSelectEntry:o,position:i,onPositionChange:l}){const c=v.useRef(null),u=v.useRef(null),h=v.useCallback(g=>{if(!c.current)return;const y=g.clientX-c.current.x,b=g.clientY-c.current.y;l({x:Math.max(12,y),y:Math.max(12,b)})},[l]),f=v.useCallback(()=>{c.current=null,document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",f)},[h]),p=v.useCallback(g=>{g.preventDefault(),c.current={x:g.clientX-i.x,y:g.clientY-i.y},document.addEventListener("mousemove",h),document.addEventListener("mouseup",f)},[h,f,i.x,i.y]);return v.useEffect(()=>()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",f)},[h,f]),v.useEffect(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[e.length]),A.jsxs(rQ,{"data-history-panel":!0,$top:i.y,$left:i.x,children:[A.jsxs(aQ,{"data-history-header":!0,onMouseDown:p,children:[A.jsx(oQ,{children:"History"}),A.jsx(iQ,{type:"button",onClick:r,children:""})]}),e.length===0?A.jsx(fQ,{children:"No history recorded yet."}):A.jsx(sQ,{ref:u,children:e.map((g,y)=>{const b=g.position==="present"?"Current":g.position==="past"?"Undo":"Redo",x=g.position!=="present";return A.jsxs(lQ,{$isCurrent:y===t,"data-history-entry":!0,"data-entry-position":g.position,children:[x?A.jsx(uQ,{type:"button",$position:g.position==="past"?"past":"future",onClick:()=>o(g.id),"data-history-action":g.position==="past"?"undo":"redo","data-entry-id":g.id,children:g.description}):A.jsx(cQ,{children:g.description}),A.jsxs(dQ,{children:[b,"  ",hQ(g.timestamp)]})]},g.id)})})]})}const n1=["lineColour","lineWidth","opacity","shadow","shadowColour","shadowOpacity","shadowBlurRadius"],gQ=["startMark","endMark"],mQ=new Set(Gk()),yQ=new Set(w8()),bQ=e=>{const t={};return n1.forEach(r=>{const o=e[r];o!==void 0&&(t[r]=o)}),t},vQ=e=>{const t={};return n1.forEach(r=>{const o=e[r];o!==void 0&&(t[r]=o)}),t},xQ=e=>{const t=Nn.getConnectorDefaults(),r=Nn.normaliseConnector(e),o={...t,...r.properties??{}},i={};return[...n1,...gQ].forEach(l=>{const c=o[l];c!==void 0&&(i[l]=c)}),i},wQ=e=>{const t=Ss(e.type),r=bs(e,e.properties);return t.reduce((o,i)=>{if(mQ.has(i.id)||yQ.has(i.id))return o;const l=r[i.id];return l!==void 0&&(o[i.id]=l),o},{})},CQ=e=>{const t=wQ(e);return{source:"element",element:t,connector:bQ(t)}},SQ=e=>{const t=xQ(e);return{source:"connector",element:vQ(t),connector:t}},RR=e=>Object.keys(e.element).length>0,TR=e=>Object.keys(e.connector).length>0,AQ=({isOpen:e,onClose:t,onRefresh:r})=>A.jsxs(ic,{isOpen:e,onClose:t,role:"alertdialog",ariaLabelledBy:"reset-notice-title",dataAttributes:{"data-reset-notice":"true"},closeOnOverlayClick:!1,children:[A.jsxs(rc,{id:"reset-notice-title",children:[uo," Reset Complete"]}),A.jsx(ac,{children:A.jsxs("p",{children:["Your local ",uo," data has been cleared. To finish applying the reset, refresh this browser tab."]})}),A.jsxs(oc,{children:[A.jsx(ra,{onClick:t,children:"Close"}),A.jsx(ra,{$variant:"primary",onClick:r,children:"Refresh Now"})]})]}),fs={lineColour:"#6c757d",lineWidth:2,opacity:1,shadow:!1,shadowColour:"#000000",shadowOpacity:.36,shadowBlurRadius:6,startMark:"None",endMark:"None"},hs="Untitled project",ou=Zt("project-name"),EQ=()=>{if(typeof navigator>"u")return"Unknown";const e=navigator.userAgent||"",t=[{name:"Microsoft Edge",regex:/Edg\/([\d.]+)/},{name:"Chrome",regex:/Chrome\/([\d.]+)/,skipIf:/Edg\//},{name:"Firefox",regex:/Firefox\/([\d.]+)/},{name:"Safari",regex:/Version\/([\d.]+).*Safari/,skipIf:/Chrome\//}];for(const r of t){if(r.skipIf&&r.skipIf.test(e))continue;const o=e.match(r.regex);if(o&&o[1])return`${r.name} ${o[1]}`}return e},MQ=()=>{const{pages:e,activePageId:t,activeCanvas:r,canAddPage:o,setActivePage:i,commitCanvasSnapshot:l,addPage:c,deletePage:u,renamePage:h,duplicatePage:f,reorderPages:p,resetProject:g,replaceProject:y}=nQ(),b=v.useRef(null),[x,C]=v.useState(!1),[S,E]=v.useState(!1),[R,_]=v.useState(()=>typeof window>"u"?!1:window.localStorage.getItem(Zt("show-anchoring-perimeter"))==="true"),[T,k]=v.useState(()=>{if(typeof window>"u")return hs;const G=window.localStorage.getItem(ou);if(typeof G=="string"){const ye=G.trim();if(ye.length>0)return ye}return hs}),{canvasState:O,actions:M,canUndo:j,canRedo:H,historyEntries:U,historyIndex:Y}=IG(r),Q=v.useRef(O);Q.current=O;const W=M.exportHistoryState,ae=M.importHistoryState,Z=M.replaceCanvasState,[P,L]=v.useState(()=>typeof window>"u"?!1:window.localStorage.getItem(Zt("history-panel-open"))==="true"),[N,q]=v.useState({x:24,y:80}),[$,D]=v.useState(null),F=v.useRef({}),X=50,re=v.useRef(null),V=v.useRef(0),ee=v.useRef(!1),te=v.useRef(null),J=v.useRef(null),ie=v.useRef(null),be=v.useRef(null),ge=v.useRef(!1),Ee=v.useCallback(G=>JSON.parse(JSON.stringify(G)),[]),Te=v.useCallback(()=>{typeof window<"u"&&(te.current!==null&&(window.cancelAnimationFrame(te.current),te.current=null),J.current!==null&&(window.clearTimeout(J.current),J.current=null)),ie.current&&(ie.current(),ie.current=null)},[]),Se=v.useCallback(()=>{if(ee.current=!0,typeof window>"u"){V.current===0&&(ee.current=!1,Sn.current());return}Te();const G=window,ye=G.__wiremeshTestHooks??{};G.__wiremeshTestHooks||(G.__wiremeshTestHooks=ye);const ve=ye.__rafFlushers??new Set;ye.__rafFlushers||(ye.__rafFlushers=ve);const Ae=()=>{typeof window<"u"&&(te.current!==null&&(window.cancelAnimationFrame(te.current),te.current=null),J.current!==null&&(window.clearTimeout(J.current),J.current=null));const ot=ie.current;if(ie.current=null,ot?.(),V.current>0){ee.current=!0;return}ee.current=!1,Sn.current()};ve.add(Ae),ie.current=()=>{ve.delete(Ae)},te.current=window.requestAnimationFrame(()=>{te.current=null,J.current=window.setTimeout(()=>{if(J.current=null,V.current>0){ee.current=!0;return}ee.current=!1;const ot=ie.current;ie.current=null,ot?.(),Sn.current()},0)})},[Te]),ce=v.useCallback(G=>{ee.current=!0,G?.forceTimestamp&&(ge.current=!0),V.current===0&&Se()},[Se]),Oe=v.useRef(!1),[Ce,Le]=v.useState(()=>typeof window>"u"?!1:window.localStorage.getItem(Zt("library-collapsed"))==="true"),[He,dt]=v.useState(()=>{if(typeof window>"u")return!0;const G=window.localStorage.getItem(Zt("rulers-visible"));return G===null?!0:G==="true"}),[Qe,tt]=v.useState(()=>{if(typeof window>"u")return!0;const G=window.localStorage.getItem(Zt("grid-visible"));return G===null?!0:G==="true"}),[$e,Fe]=v.useState(()=>{if(typeof window<"u"){const G=window.localStorage.getItem(Zt("floating-toolbar-position"));if(G)try{const ve=JSON.parse(G);if(typeof ve.x=="number"&&typeof ve.y=="number"&&Number.isFinite(ve.x)&&Number.isFinite(ve.y))return Oe.current=!0,{x:ve.x,y:ve.y}}catch(ve){console.warn("Failed to parse stored toolbar position",ve)}return{x:Math.max(0,Math.round(window.innerWidth/2-160)),y:24}}return{x:0,y:26}}),[ze,rt]=v.useState(()=>{if(typeof window>"u")return!0;const G=window.localStorage.getItem(Zt("floating-toolbar-docked"));return G===null?!0:G==="true"}),[Ke,ft]=v.useState(!1),[$t,Re]=v.useState(!1),[Ie,Pe]=v.useState(!1),[_e,Ne]=v.useState(!1),Ve=v.useRef(!0),Je=v.useRef(null),ke=v.useRef(null),Xe=4,[Ge,ct]=v.useState(null),{state:Jt,openMenu:on,closeMenu:at,resetMenu:vn}=lh(),Ln=v.useCallback(G=>{Promise.resolve().then(()=>{Ve.current&&Re(G)})},[]),Cn=v.useCallback(()=>{tt(G=>!G)},[]);v.useEffect(()=>{const G=Ae=>{Ae.key==="Shift"&&Pe(!0),(Ae.key==="Control"||Ae.key==="Meta")&&Ne(!0)},ye=Ae=>{Ae.key==="Shift"&&Pe(!1),(Ae.key==="Control"||Ae.key==="Meta")&&!Ae.ctrlKey&&!Ae.metaKey&&Ne(!1)},ve=()=>{Pe(!1),Ne(!1)};return window.addEventListener("keydown",G),window.addEventListener("keyup",ye),window.addEventListener("blur",ve),()=>{window.removeEventListener("keydown",G),window.removeEventListener("keyup",ye),window.removeEventListener("blur",ve)}},[]),v.useEffect(()=>(Ve.current=!0,()=>{Ve.current=!1}),[]);const{state:xr,openMenu:Hn,closeMenu:Wt,resetMenu:qn}=lh(),Xn=v.useMemo(()=>typeof navigator<"u"&&navigator.platform.toUpperCase().includes("MAC"),[]),pr=Xn?"":"Ctrl",We=Xn?"":"Alt",ht=Xn?" Delete":"Delete",et=`${pr}+[`,kn=`${pr}+]`,zr=`${pr}+'`,pn=`${pr}+\\`,[en,tn]=v.useState(!1),[Gn,Nr]=v.useState(!1),Qo=v.useMemo(()=>EQ(),[]),Wn=v.useCallback(G=>{const ye=Ae=>({id:Ae.id,type:Ae.type,x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height,text:Ae.text,groupId:Ae.groupId,zIndex:Ae.zIndex}),ve=Ae=>({id:Ae.id,type:Ae.type,startPoint:Ae.startPoint,endPoint:Ae.endPoint,startAttachment:Ae.startAttachment,endAttachment:Ae.endAttachment,waypoints:Ae.waypoints,zIndex:Ae.zIndex});return JSON.stringify({elements:G.elements.map(ye),connectors:G.connectors.map(ve),zoom:G.zoom,panX:G.panX,panY:G.panY})},[]),Sn=v.useRef(()=>{}),xn=v.useRef(null),ir=v.useCallback(()=>{tn(!1)},[]),Lr=v.useCallback(()=>{window.location.reload()},[]),Ga=v.useCallback(()=>{if(typeof window>"u")return;const G=new URLSearchParams({version:nx,browser:Qo});window.open(`/assets/bug-report/index.html?${G.toString()}`,"_blank","noopener")},[Qo]),nn=v.useCallback(()=>e.some(G=>(G.canvasState.elements?.length??0)>0||(G.canvasState.connectors?.length??0)>0),[e]),wr=v.useCallback(()=>{g(),k(hs),typeof window<"u"&&window.localStorage.removeItem(ou)},[g,k]),An=v.useCallback(()=>{Nr(!1),wr()},[wr]),qi=v.useCallback(()=>{Nr(!1)},[]),Os=v.useCallback((G,ye)=>{F.current={},F.current[ye]=Ee(W()),xn.current=Wn(G),re.current=ye},[Ee,W,Wn]),Cr=v.useCallback(()=>{const G=Object.keys(F.current);G.length>X&&G.slice(0,G.length-X).forEach(ve=>{delete F.current[ve]})},[]);v.useEffect(()=>{Sn.current=()=>{if(V.current>0){ee.current=!0;return}const ye=M.exportHistoryState().present?.state??O,ve={...Di(ye),ownerPageId:t},Ae=xn.current,ot=Wn(ve);l(t,ve),F.current[t]=Ee(W()),Cr(),xn.current=ot,(Ae!==ot||ge.current)&&D(new Date),ee.current=!1,be.current=null,ge.current=!1}},[t,M,O,l,Ee,W,D,Wn]),v.useEffect(()=>()=>{Sn.current()},[]),v.useEffect(()=>()=>{Te()},[Te]),v.useEffect(()=>{typeof window>"u"||Ir()||window.localStorage.setItem(Zt("history-panel-open"),String(P))},[P]),v.useEffect(()=>{typeof window>"u"||Ir()||window.localStorage.setItem(Zt("rulers-visible"),String(He))},[He]),v.useEffect(()=>{typeof window>"u"||Ir()||window.localStorage.setItem(Zt("grid-visible"),String(Qe))},[Qe]),v.useEffect(()=>{typeof window>"u"||Ir()||window.localStorage.setItem(Zt("library-collapsed"),String(Ce))},[Ce]),v.useEffect(()=>{typeof window>"u"||Ir()||window.localStorage.setItem(Zt("floating-toolbar-docked"),String(ze))},[ze]),v.useEffect(()=>{typeof window>"u"||Ir()||window.localStorage.setItem(Zt("show-anchoring-perimeter"),String(R))},[R]),v.useEffect(()=>{if(typeof window>"u"||Ir())return;const G=T.trim();G.length===0||G===hs?window.localStorage.removeItem(ou):window.localStorage.setItem(ou,G)},[T]),v.useEffect(()=>{if(typeof document>"u")return;const G=T.trim(),ye=G.length>0?G:hs;document.title=`${uo} - ${ye}`},[T]),v.useEffect(()=>{const G=e.find(Nt=>Nt.id===t);if(!G)return;const ye={...Di(G.canvasState),ownerPageId:t},ve=Wn(ye),Ae=xn.current===ve,ot=re.current===t;if(Ae&&ot){re.current=t;return}const Et=F.current[t];Et?ae(Ee(Et)):(Z(ye,{resetHistory:!0}),F.current[t]=Ee(W()),Cr()),xn.current=ve,re.current=t},[t,e,Ee,W,ae,Z,Wn,Cr]),v.useEffect(()=>{const G=()=>{Sn.current()};return window.addEventListener("beforeunload",G),()=>{window.removeEventListener("beforeunload",G)}},[]);const Hr=v.useCallback(G=>{V.current+=1,ee.current=!0,Te(),M.startTransaction(G)},[Te,M]),Ko=v.useCallback(()=>{M.endTransaction(),V.current>0&&(V.current-=1),V.current===0?Se():ee.current=!0},[M,Se]);v.useEffect(()=>{const G=Wn(O);G!==be.current&&(be.current=G,G!==xn.current&&ce())},[O,ce,Wn]);const ln=PG({canvasState:O,setCanvasState:M.setCanvasState}),pt=ln.actions,ia=e.length>1,Sr=o&&!!t,Oa=v.useCallback(()=>{!Sr||!t||(f(t),ce({forceTimestamp:!0}))},[Sr,t,f,ce]),$r=v.useCallback(()=>{!ia||!t||b.current?.requestDeletePage(t)},[ia,t]),$n=v.useCallback(G=>{u(G),ce({forceTimestamp:!0})},[u,ce]),En=v.useCallback(G=>{f(G),ce({forceTimestamp:!0})},[f,ce]),go=v.useCallback((G,ye)=>{const ve=h(G,ye);return ve&&ce({forceTimestamp:!0}),ve},[ce,h]),Qn=v.useCallback((G,ye)=>{p(G,ye),ce({forceTimestamp:!0})},[ce,p]),Fr=v.useCallback(G=>{const ye=G.trim();k(ye.length>0?ye:hs),ce({forceTimestamp:!0})},[ce]),sa=v.useCallback(()=>{const G={elements:[],connectors:[],selectedElements:[],selectedConnectors:[],selectedItemIds:[],zoom:1,panX:0,panY:0,ownerPageId:t};g(),M.replaceCanvasState(G,{resetHistory:!0}),M.clearSelection(),pt.resetZoom(),pt.updatePan(0,0),pt.setMode("drag"),pt.updateSelectionArea(null),L(!1),q({x:24,y:80}),ct(null),Ar(null),la({...fs}),Le(!1),D(null),k(hs),typeof window<"u"&&window.localStorage.removeItem(ou),Oe.current=!1;const ye=typeof window<"u"?{x:Math.max(0,Math.round(window.innerWidth/2-160)),y:24}:{x:0,y:26};Fe(ye),F.current={},re.current=null,xn.current=null},[t,M,pt,g]);v.useEffect(()=>{if(typeof window>"u")return;const G=()=>{try{window.sessionStorage.getItem(sv)==="true"&&(window.sessionStorage.removeItem(sv),sa(),tn(!0))}catch(ve){console.error("Failed to read reset notice flag:",ve)}},ye=()=>{G()};return G(),window.addEventListener(Ru,ye),()=>{window.removeEventListener(Ru,ye)}},[sa]);const Vo=ln.canvasMode,[Fn,Ar]=v.useState(null),[Is,la]=v.useState({...fs}),ca=v.useCallback(G=>{pt.setMode(G),G!=="draw-connector"&&(Ar(null),la({...fs}))},[pt]),Xi=v.useCallback(G=>{const ye=G.label;if((Fn?.label??null)===ye&&Vo==="draw-connector"){Ar(null),la({...fs}),pt.setMode("drag");return}const Ae=G.defaultProps?.properties;Ar(G),la({...fs,...Ae??{}}),pt.setMode("draw-connector")},[Fn,Vo,pt]),Er=jG({canvasState:O,setCanvasState:M.setCanvasState,queueHistoryEntry:M.queueHistoryEntry}),fe=DG({setCanvasState:M.setCanvasState,zoom:ln.zoom,onTransactionStart:Hr,onTransactionEnd:Ko,isShiftPressed:Ie,snapGridSize:Jn}),pe=zG({setCanvasState:M.setCanvasState,zoom:ln.zoom,onTransactionStart:Hr,onTransactionEnd:Ko,isShiftPressed:Ie,snapGridSize:Jn,suppressAnchors:_e}),De=NG({connectors:O.connectors,onMoveWaypoint:M.moveWaypointTo,zoom:ln.zoom,onTransactionStart:Hr,onTransactionEnd:Ko,isShiftPressed:Ie,snapGridSize:Jn}),nt=v.useCallback(()=>{Sn.current(),c(),ce({forceTimestamp:!0})},[c,ce]),Me=UG({getCanvasStateSnapshot:M.getCanvasStateSnapshot,setCanvasState:M.setCanvasState,queueHistoryEntry:M.queueHistoryEntry}),zt=v.useMemo(()=>{const G=e.find(ye=>ye.id===t);return G||{id:t,name:"Current Page",order:0,canvasState:O}},[e,t,O]),yt=ZW({canvasState:O,setCanvasState:M.setCanvasState,replaceCanvasState:Z,queueHistoryEntry:M.queueHistoryEntry,onSaveTimestampUpdate:()=>D(new Date),activePageId:t,activePage:zt,pages:e,commitCanvasSnapshot:l,onImportApplied:Os,replaceProject:y,startTransaction:M.startTransaction,endTransaction:M.endTransaction}),[lt,cn]=v.useState({isOpen:!1,imageSrc:null,imageBlob:null,isGenerating:!1}),wt=v.useRef(null),qt=v.useCallback(async()=>{if(!lt.isGenerating){cn({isOpen:!0,imageSrc:null,imageBlob:null,isGenerating:!0});try{const G=await yt.actions.exportPNGToBlob(),ye=URL.createObjectURL(G);wt.current?.(),wt.current=()=>URL.revokeObjectURL(ye),cn({isOpen:!0,imageSrc:ye,imageBlob:G,isGenerating:!1})}catch(G){console.error("Failed to generate print preview:",G),alert("Failed to generate print preview: "+G.message),cn({isOpen:!1,imageSrc:null,imageBlob:null,isGenerating:!1})}}},[yt.actions,lt.isGenerating]),sn=v.useCallback(()=>{wt.current?.(),wt.current=null,cn(G=>({...G,isOpen:!1,imageSrc:null,imageBlob:null}))},[]),gt=v.useCallback(()=>{if(!lt.imageSrc)return;const G=window.open(lt.imageSrc,"_blank");G?.addEventListener("load",()=>G.print(),{once:!0})},[lt.imageSrc]),Rt=v.useCallback(async()=>{try{await yt.actions.exportPNG()}catch(G){console.error("Failed to export PNG from preview:",G),alert("Failed to export PNG: "+G.message)}},[yt.actions]),Ft=v.useCallback(async()=>{try{const G=lt.imageBlob;if(!G)throw new Error("Preview image is not ready yet.");if(!navigator.clipboard||typeof navigator.clipboard.write!="function"||typeof ClipboardItem>"u")throw new Error("Clipboard copy is not supported in this browser.");const ye=new ClipboardItem({"image/png":G});await navigator.clipboard.write([ye])}catch(G){throw console.error("Failed to copy preview to clipboard:",G),alert("Failed to copy preview to clipboard: "+G.message),G}},[lt.imageBlob]);v.useEffect(()=>()=>{wt.current?.(),wt.current=null},[]),v.useEffect(()=>{const G=ye=>{if(ye.defaultPrevented||ye.key.toLowerCase()!=="p"||!(Xn?ye.metaKey:ye.ctrlKey))return;const Ae=ye.target;Ae&&(Ae instanceof HTMLInputElement||Ae instanceof HTMLTextAreaElement||Ae.isContentEditable||Ae.closest('[contenteditable="true"]'))||(ye.preventDefault(),ye.stopPropagation(),qt())};return window.addEventListener("keydown",G,!0),()=>{window.removeEventListener("keydown",G,!0)}},[qt,Xn]);const st=yt.actions.importProjectJSON;v.useEffect(()=>{const G=ye=>{if(ye.defaultPrevented||ye.key.toLowerCase()!=="o"||!(Xn?ye.metaKey:ye.ctrlKey))return;const Ae=ye.target;Ae&&(Ae instanceof HTMLInputElement||Ae instanceof HTMLTextAreaElement||Ae.isContentEditable||Ae.closest('[contenteditable="true"]'))||(ye.preventDefault(),ye.stopPropagation(),st())};return window.addEventListener("keydown",G,!0),()=>{window.removeEventListener("keydown",G,!0)}},[st,Xn]);const St=JW({setCanvasState:M.setCanvasState,queueHistoryEntry:M.queueHistoryEntry}),Dt=Ce?0:280;v.useEffect(()=>{typeof window>"u"||Ir()||window.localStorage.setItem(Zt("floating-toolbar-position"),JSON.stringify($e))},[$e]);const Kn=O.selectedItemIds.length,sr=O.selectedElements.length>0||O.selectedConnectors.length>0,gr=v.useMemo(()=>O.selectedElements.length>1,[O.selectedElements.length]),Ia=v.useMemo(()=>O.selectedElements.some(G=>O.elements.find(ye=>ye.id===G&&ye.groupId)),[O.elements,O.selectedElements]),mo=v.useMemo(()=>zb(O,Jn),[O,Jn]),{singleElement:mr,singleConnector:On}=v.useMemo(()=>{if(Kn!==1)return{singleElement:null,singleConnector:null};const G=O.selectedElements[0]??null;if(G)return{singleElement:O.elements.find(Ae=>Ae.id===G)??null,singleConnector:null};const ye=O.selectedConnectors[0]??null;return ye?{singleElement:null,singleConnector:O.connectors.find(Ae=>Ae.id===ye)??null??null}:{singleElement:null,singleConnector:null}},[O.elements,O.connectors,O.selectedElements,O.selectedConnectors,Kn]),Gi=v.useCallback((G,ye)=>{On&&(M.updateConnectorProperty(On.id,G,ye),ce({forceTimestamp:!0}))},[M,ce,On]),qu=v.useCallback((G,ye)=>{if(mr){M.updateElementProperty(mr.id,G,ye),ce({forceTimestamp:!0});return}On&&Gi(G,ye)},[M,Gi,ce,On,mr]),lr=v.useCallback(G=>{On&&(M.setCanvasState(ye=>({...ye,connectors:ye.connectors.map(ve=>ve.id===On.id?{...ve,waypoints:G}:ve)})),ce({forceTimestamp:!0}))},[M,ce,On]),Wa=v.useCallback(()=>{if(mr){ct(CQ(mr));return}On&&ct(SQ(On))},[On,mr]),Wi=v.useCallback(()=>{if(!Ge)return;const G=O.selectedElements.length>0&&RR(Ge),ye=O.selectedConnectors.length>0&&TR(Ge);!G&&!ye||(G&&M.applyPropertiesToElements(O.selectedElements,Ge.element),ye&&M.applyPropertiesToConnectors(O.selectedConnectors,Ge.connector),ce({forceTimestamp:!0}))},[M,O.selectedConnectors.length,O.selectedElements.length,ce,Ge]),Pa=v.useCallback(()=>{const G=M.getCanvasStateSnapshot();if(!zb(G,Jn))return;let ye=!1;M.startTransaction("Snap to grid"),M.setCanvasState(ve=>{const Ae=wG(ve,Jn);return Ae.changed?(ye=!0,Ae.state):ve}),M.endTransaction(),ye&&ce({forceTimestamp:!0})},[M,ce,Jn]),Qi=v.useCallback(()=>{O.selectedElements.length>1&&M.groupElements(O.selectedElements)},[M,O.selectedElements]),yo=v.useCallback(()=>{const G=O.elements.find(ye=>O.selectedElements.includes(ye.id)&&ye.groupId)?.groupId;G&&M.ungroupElements(G)},[M,O.elements,O.selectedElements]),bo=v.useCallback(()=>{Er.sendToFront()},[Er]),ja=v.useCallback(()=>{Er.bringForward()},[Er]),Qa=v.useCallback(()=>{Er.bringBack()},[Er]),Zo=v.useCallback(()=>{Er.sendToBack()},[Er]),Xu=v.useCallback(()=>{bo(),at()},[bo,at]),Gu=v.useCallback(()=>{ja(),at()},[ja,at]),Wu=v.useCallback(()=>{Qa(),at()},[Qa,at]),Ps=v.useCallback(()=>{Zo(),at()},[Zo,at]),Qu=v.useCallback(()=>{Qi(),at()},[Qi,at]),Ku=v.useCallback(()=>{yo(),at()},[yo,at]),Vu=v.useCallback(()=>{Pa(),at()},[Pa,at]),Zu=v.useCallback(()=>{M.deleteSelectedElements(),at()},[M.deleteSelectedElements,at]),Ju=v.useCallback(G=>{const ye=G.selectedElements.length>0||G.selectedConnectors.length>0,ve=G.selectedElements.length>1,Ae=G.selectedElements.some(Et=>!!G.elements.find(rn=>rn.id===Et)?.groupId),ot=zb(G,Jn);return bU({modKeyLabel:pr,altKeyLabel:We,deleteShortcutLabel:ht,hasAnySelection:ye,canGroup:ve,canUngroup:Ae,canSnapToGrid:ot,onBringToFront:Xu,onBringForward:Gu,onSendBackward:Wu,onSendToBack:Ps,onGroup:Qu,onUngroup:Ku,onSnapToGrid:Vu,onDelete:Zu})},[ht,We,Gu,Xu,Zu,Qu,Vu,Wu,Ps,Ku,pr]),dc=v.useCallback(()=>{pt.zoomOut(),Wt()},[pt,Wt]),ed=v.useCallback(()=>{pt.zoomIn(),Wt()},[pt,Wt]),td=v.useCallback(()=>{pt.resetZoom(),Wt()},[pt,Wt]),nd=v.useCallback(()=>{pt.fitToScreen(),Wt()},[pt,Wt]),rd=v.useMemo(()=>vU({zoomOutShortcutLabel:et,zoomInShortcutLabel:kn,resetZoomShortcutLabel:zr,fitShortcutLabel:pn,onZoomOut:dc,onZoomIn:ed,onResetZoom:td,onFitToScreen:nd}),[pn,nd,td,ed,dc,zr,kn,et]),fc=v.useCallback(G=>{if(!G){at(),vn();return}const{targetType:ye,targetId:ve,x:Ae,y:ot,waypointIndex:Et}=G,Nt=Q.current;let rn=null;if(ye==="element")Nt.selectedElements.includes(ve)||(rn=()=>{M.selectElement(ve,!1)});else if(ye==="connector")Nt.selectedConnectors.includes(ve)||(rn=()=>{M.selectConnector(ve,!1)});else if(ye==="waypoint"){Wt(),qn(),on({position:{x:Ae,y:ot},entries:[{type:"item",id:"delete-waypoint",label:"Delete waypoint",onSelect:()=>{Et!==void 0&&(M.deleteWaypoint(ve,Et),ce({forceTimestamp:!0}))}}],dataAttributes:{"data-waypoint-context-menu":"true"},metadata:{targetType:ye,targetId:ve,waypointIndex:Et}});return}rn&&Ta.flushSync(rn),Wt(),qn();const In=M.getCanvasStateSnapshot(),Ds=Ju(In);on({position:{x:Ae,y:ot},entries:Ds,dataAttributes:{"data-item-context-menu":"true"},metadata:{targetType:ye,targetId:ve}})},[M.getCanvasStateSnapshot,M.selectConnector,M.selectElement,Wt,at,Ju,on,qn,vn]),Vh=v.useCallback(G=>{if(!G){Wt(),qn();return}at(),vn(),Hn({position:{x:G.x,y:G.y},entries:rd,dataAttributes:{"data-canvas-context-menu":"true"}})},[rd,Wt,at,Hn,qn,vn]);eQ({handlers:{onSelectAll:M.selectAll,onCopy:Me.actions.copy,onCut:Me.actions.cut,onPaste:Me.actions.paste,onDelete:M.deleteSelectedElements,onSetMode:ca,onUndo:M.undo,onRedo:M.redo,onMoveSelection:M.moveSelectedElements,onToggleHistory:()=>L(G=>!G),onExportProjectJSON:yt.actions.exportProjectJSON,onImportProjectJSON:yt.actions.importProjectJSON,onGroup:Qi,onUngroup:yo,onSnapToGrid:Pa,onBringForward:ja,onBringBack:Qa,onSendToFront:bo,onSendToBack:Zo,onZoomIn:pt.zoomIn,onZoomOut:pt.zoomOut,onResetZoom:pt.resetZoom,onFitToScreen:pt.fitToScreen,onCopyProperties:Wa,onPasteProperties:Wi,onClearSelection:M.clearSelection,onOpenDebugOptions:()=>E(!0)},hasSelection:sr}),v.useEffect(()=>{if(typeof window>"u")return;const G=window.__wiremeshTestHooks=window.__wiremeshTestHooks??{},ye=()=>M.getCanvasStateSnapshot();G.exportProjectJSON=yt.actions.exportProjectJSON,G.importProjectJSON=yt.actions.importProjectJSON,G.showNewProjectConfirm=()=>Nr(!0),G.triggerNewProject=()=>nn()?(Nr(!0),"confirm"):(wr(),"reset"),G.openProjectImportModal=ve=>{yt.testHooks.openImportModal(ve??null)},G.closeProjectImportModal=()=>{yt.testHooks.closeImportModal()},G.deleteSelection=()=>{M.deleteSelectedElements()},G.selectElement=(ve,Ae=!1)=>{M.selectElement(ve,Ae)},G.selectConnector=(ve,Ae=!1)=>{M.selectConnector(ve,Ae)},G.clearSelection=()=>{M.clearSelection()},G.snapSelectionToGrid=()=>{Pa()},G.clipboardCopy=()=>{Me.actions.copy()},G.clipboardCut=()=>{Me.actions.cut()},G.clipboardPaste=()=>{Me.actions.paste()},G.getClipboardSnapshot=()=>Me.clipboard,G.setClipboardSnapshot=ve=>{Me.testHooks.setSnapshot(ve)},G.setClipboardSnapshotByIds=(ve,Ae)=>{const ot=M.getCanvasStateSnapshot(),Et=ot.elements.filter(rn=>ve.includes(rn.id)),Nt=ot.connectors.filter(rn=>Ae.includes(rn.id));Me.testHooks.setSnapshot({elements:Et,connectors:Nt})},G.updateElementText=(ve,Ae)=>{M.updateElementText(ve,Ae)},G.updateElementProperty=(ve,Ae,ot)=>{M.updateElementProperty(ve,Ae,ot)},G.getCanvasStateSnapshot=()=>ye(),G.getElementCount=()=>ye().elements.length,G.getElementIds=()=>ye().elements.map(ve=>ve.id),G.getElementState=ve=>ye().elements.find(ot=>ot.id===ve)??null,G.getHistoryState=()=>({canUndo:j,canRedo:H}),G.getSelectionState=()=>{const ve=ye();return{elements:[...ve.selectedElements],connectors:[...ve.selectedConnectors]}},G.getConnectorIds=()=>ye().connectors.map(ve=>ve.id),G.getConnectorState=ve=>ye().connectors.find(ot=>ot.id===ve)??null,G.getConnectorResizingState=()=>({isResizing:pe.isResizing,resizeConnectorId:pe.resizeConnectorId,resizeEndpoint:pe.resizeEndpoint,hasAnchorPreview:pe.resizeHasAnchorPreview,anchorPreview:pe.resizeAnchorPreview,pointerOffset:pe.pointerOffset}),G.elementResizeStart=(ve,Ae,ot,Et)=>{fe.actions.handleResizeStart(ve,Ae,ot,Et)},G.elementResizeMove=ve=>{fe.actions.handleResizeMove(ve)},G.elementResizeEnd=()=>{fe.actions.handleResizeEnd()},G.applyElementProperties=(ve,Ae)=>{M.applyPropertiesToElements(ve,Ae)},G.applyConnectorProperties=(ve,Ae)=>{M.applyPropertiesToConnectors(ve,Ae)},G.undo=()=>{M.undo()},G.redo=()=>{M.redo()},G.startTransaction=ve=>{M.startTransaction(ve)},G.endTransaction=()=>{M.endTransaction()},G.connectorResizeStart=(ve,Ae,ot,Et)=>{pe.actions.handleResizeStart(ve,Ae,ot,Et?{pointerOffset:Et}:void 0)},G.connectorResizeMove=ve=>{pe.actions.handleResizeMove(ve)},G.connectorResizeEnd=()=>{pe.actions.handleResizeEnd()},G.waypointResizeStart=(ve,Ae,ot)=>{De.actions.handleResizeStart(ve,Ae,ot)},G.waypointResizeMove=ve=>{De.actions.handleResizeMove(ve)},G.waypointResizeEnd=()=>{De.actions.handleResizeEnd()},G.flushPendingPersistence=()=>{M.flushPendingPersistence()},G.flushPendingWork=async()=>{M.flushPendingPersistence(),G.__rafFlushers?.forEach(Ae=>{try{Ae()}catch(ot){console.warn("Failed to flush RAF callback",ot)}})},G.getViewportState=()=>({panX:ln.panX,panY:ln.panY,zoom:ln.zoom}),G.getTemporarySelectMode=()=>$t},[M.deleteSelectedElements,M.selectElement,M.selectConnector,M.clearSelection,M.updateElementText,M.updateElementProperty,M.applyPropertiesToElements,M.applyPropertiesToConnectors,M.flushPendingPersistence,O.elements,O.connectors,O.selectedElements,O.selectedConnectors,yt.actions,yt.testHooks,wr,nn,j,H,pe.isResizing,pe.resizeConnectorId,pe.resizeEndpoint,pe.resizeHasAnchorPreview,pe.resizeAnchorPreview,pe.pointerOffset,pe.actions.handleResizeStart,pe.actions.handleResizeMove,pe.actions.handleResizeEnd,De.actions.handleResizeStart,De.actions.handleResizeMove,De.actions.handleResizeEnd,fe.actions.handleResizeStart,fe.actions.handleResizeMove,fe.actions.handleResizeEnd,M.undo,M.redo,M.startTransaction,M.endTransaction,ln.panX,ln.panY,ln.zoom,Me.actions.copy,Me.actions.cut,Me.actions.paste,Me.clipboard,Me.testHooks.setSnapshot,$t]);const Zh=v.useCallback(()=>{if(mr){M.resetElementStyling(mr.id),ce({forceTimestamp:!0});return}On&&(M.resetConnectorProperties([On.id]),ce({forceTimestamp:!0}))},[M,ce,On,mr]),Jh=v.useMemo(()=>{if(!Ge)return!1;const G=O.selectedElements.length>0&&RR(Ge),ye=O.selectedConnectors.length>0&&TR(Ge);return G||ye},[O.selectedConnectors.length,O.selectedElements.length,Ge]),ad=v.useCallback(G=>{G!==t&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{Sn.current(),i(G),Ar(null),la({...fs}),pt.setMode("drag")})})},[t,i,pt]),ep=v.useCallback(()=>{ft(!1),rt(!0)},[rt,ft]),tp=v.useCallback(G=>{ft(G?.shouldCenter??!0),rt(!1)},[rt,ft]),Ka=v.useCallback((G,ye,ve,Ae)=>{const ot=Je.current?.getBoundingClientRect();if(!ot)return;const Et=G-ot.left-ve,Nt=ye-ot.top-Ae;Fe({x:Et,y:Nt})},[]),js=v.useCallback((G,ye,ve,Ae)=>{Ka(G,ye,ve,Ae),ft(!1),rt(!1);const ot=ke.current;ot&&(ot.undocked=!0)},[rt,ft,Ka]),np=v.useCallback(G=>{if(G.button!==0||!ze)return;const ye=G.currentTarget.closest('[data-floating-toolbar-docked="true"]');if(!ye)return;G.preventDefault();const ve=ye.getBoundingClientRect();ke.current={pointerOffsetX:G.clientX-ve.left,pointerOffsetY:G.clientY-ve.top,startClientX:G.clientX,startClientY:G.clientY,undocked:!1};const Ae=Et=>{const Nt=ke.current;if(!Nt)return;const rn=Et.clientX-Nt.startClientX,In=Et.clientY-Nt.startClientY;if(!Nt.undocked){if(Math.hypot(rn,In)<Xe)return;js(Et.clientX,Et.clientY,Nt.pointerOffsetX,Nt.pointerOffsetY)}Nt.undocked&&Ka(Et.clientX,Et.clientY,Nt.pointerOffsetX,Nt.pointerOffsetY)},ot=Et=>{const Nt=ke.current;Nt?.undocked&&Ka(Et.clientX,Et.clientY,Nt.pointerOffsetX,Nt.pointerOffsetY),ke.current=null,document.removeEventListener("mousemove",Ae),document.removeEventListener("mouseup",ot)};document.addEventListener("mousemove",Ae),document.addEventListener("mouseup",ot)},[Xe,js,ze,Ka]),rp=v.useCallback(G=>{if(!ze)return;const ye=G.touches[0];if(!ye)return;const ve=G.currentTarget.closest('[data-floating-toolbar-docked="true"]');if(!ve)return;G.preventDefault();const Ae=ve.getBoundingClientRect();ke.current={pointerOffsetX:ye.clientX-Ae.left,pointerOffsetY:ye.clientY-Ae.top,startClientX:ye.clientX,startClientY:ye.clientY,undocked:!1};const ot=Nt=>{const rn=Nt.touches[0],In=ke.current;if(!rn||!In)return;const Ds=rn.clientX-In.startClientX,Jo=rn.clientY-In.startClientY;if(!In.undocked){if(Math.hypot(Ds,Jo)<Xe)return;js(rn.clientX,rn.clientY,In.pointerOffsetX,In.pointerOffsetY)}In.undocked&&Ka(rn.clientX,rn.clientY,In.pointerOffsetX,In.pointerOffsetY)},Et=Nt=>{const rn=ke.current,In=Nt.changedTouches[0];rn?.undocked&&In&&Ka(In.clientX,In.clientY,rn.pointerOffsetX,rn.pointerOffsetY),ke.current=null,document.removeEventListener("touchmove",ot),document.removeEventListener("touchend",Et),document.removeEventListener("touchcancel",Et)};document.addEventListener("touchmove",ot,{passive:!1}),document.addEventListener("touchend",Et),document.addEventListener("touchcancel",Et)},[Xe,js,ze,Ka]),od={canvasMode:ln.canvasMode,isTemporarySelectMode:!1,onSetMode:ca,onSendToBack:Zo,onBringBack:Qa,onBringForward:ja,onSendToFront:bo,hasSelection:sr,onUndo:M.undo,onRedo:M.redo,canUndo:j,canRedo:H,onDelete:M.deleteSelectedElements,onGroup:Qi,onUngroup:yo,canGroup:gr,canUngroup:Ia,onShapeDragStart:(G,ye)=>St.handleDragStart(G),onShapeDragMove:G=>St.handleDragMove(),onShapeDragEnd:G=>St.handleDragEnd(G),onShapeClick:St.handleElementClick,onConnectorToolSelect:Xi,activeConnectorPreset:Fn,position:$e,onPositionChange:Fe,shouldAutoCenter:!Oe.current,onDockToolbar:ep,onUndockToolbar:tp,shouldCenterOnUndock:Ke,onCenterOnUndockHandled:()=>ft(!1),onDockedMouseDown:np,onDockedTouchStart:rp};return A.jsxs(bD,{children:[A.jsx(rz,{onNew:()=>{if(nn()){Nr(!0);return}wr()},onExportPNG:yt.actions.exportPNG,onExportSelectedPNG:yt.actions.exportSelectedPNG,onExportPageJSON:yt.actions.exportPageJSON,onImportPageJSON:yt.actions.importPageJSON,onExportProjectJSON:yt.actions.exportProjectJSON,onImportProjectJSON:yt.actions.importProjectJSON,onToggleHistory:()=>L(G=>!G),onToggleSidebar:()=>Le(G=>!G),onToggleRulers:()=>dt(G=>!G),onToggleGrid:Cn,onOpenBugReport:Ga,onClearSelection:M.clearSelection,onSelectAll:M.selectAll,onSelectArea:()=>pt.setMode("select"),projectName:T,onProjectNameChange:Fr,onOpenAbout:()=>C(!0),onDuplicatePage:Oa,onDeletePage:$r,onUndo:M.undo,onRedo:M.redo,onBringToFront:bo,onSendToBack:Zo,onBringForward:ja,onSendBackward:Qa,onGroup:Qi,onUngroup:yo,onSnapToGrid:Pa,canGroup:gr,onPrintPreview:qt,canUngroup:Ia,canSnapToGrid:mo,hasSelection:sr,lastSaved:$,isHistoryOpen:P,isSidebarExpanded:!Ce,areRulersVisible:He,isGridVisible:Qe,dockedToolbar:ze?A.jsx(H_,{...od,isDocked:!0}):void 0,canDuplicatePage:Sr,canDeletePage:ia}),x&&A.jsx(hz,{onClose:()=>C(!1)}),S&&A.jsx(Cz,{showAnchoringPerimeter:R,onToggleAnchoringPerimeter:_,onClose:()=>E(!1)}),A.jsx(Rz,{isOpen:Gn,onConfirm:An,onCancel:qi}),A.jsx(eU,{isCollapsed:Ce,onDragStart:St.handleDragStart,onDragMove:St.handleDragMove,onDragEnd:St.handleDragEnd,onElementClick:St.handleElementClick,selectedElement:mr,selectedConnector:On,selectionCount:Kn,onPropertyChange:qu,onWaypointsChange:lr,onCopyProperties:Wa,onPasteProperties:Wi,onResetProperties:Zh,canPasteProperties:Jh}),A.jsxs(vD,{ref:Je,$libraryWidth:Dt,children:[!ze&&A.jsx(H_,{...od,isDocked:!1}),P&&A.jsx(pQ,{entries:U,currentIndex:Y,onClose:()=>L(!1),onSelectEntry:M.jumpToHistoryEntry,position:N,onPositionChange:q}),A.jsx(kX,{elements:O.elements,connectors:O.connectors,zoom:ln.zoom,panX:ln.panX,panY:ln.panY,showGrid:Qe,showRulers:He,showAnchoringPerimeter:R,onPanChange:pt.updatePan,onElementSelect:M.selectElement,onConnectorSelect:M.selectConnector,onElementsMoveTo:M.moveElementsTo,onConnectorsMoveTo:M.moveConnectorsTo,onMoveSelection:M.moveSelectedElements,onSelectionClear:M.clearSelection,onElementTextEdit:M.updateElementText,onElementPropertyChange:M.updateElementProperty,onElementImageChange:M.updateElementImage,onZoomChange:pt.setZoom,onZoomAtPoint:pt.setZoomAtPoint,selectedElements:O.selectedElements,selectedConnectors:O.selectedConnectors,canvasMode:ln.canvasMode,selectionArea:ln.selectionArea,isSelecting:ln.isSelecting,onSelectionStart:pt.startSelection,onSelectionChange:pt.updateSelectionArea,onSelectionComplete:G=>{const{elementIds:ye,connectorIds:ve}=pt.completeSelection(G,O);M.setCanvasState(Ae=>({...Ae,selectedElements:ye,selectedConnectors:ve,selectedItemIds:Yo(ye,ve)}))},onResizeStart:fe.actions.handleResizeStart,onConnectorResizeStart:pe.actions.handleResizeStart,onWaypointResizeStart:De.actions.handleResizeStart,isWaypointResizing:De.isResizing,onWaypointResizeMove:De.actions.handleResizeMove,onWaypointResizeEnd:De.actions.handleResizeEnd,isResizing:fe.isResizing,isConnectorResizing:pe.isResizing,resizingConnectorId:pe.resizeConnectorId,resizeHasAnchorPreview:pe.resizeHasAnchorPreview,resizeElementId:fe.resizeElementId,resizeHandle:fe.resizeHandle,resizeEndpoint:pe.resizeEndpoint,resizeAnchorPreview:pe.resizeAnchorPreview,connectorResizeSnapPreview:pe.resizeSnapPreview,isShiftPressed:Ie,suppressConnectorAttachments:_e,onTransactionStart:Hr,onTransactionEnd:Ko,onTemporarySelectModeChange:Ln,onConnectorCreate:(G,ye,ve)=>{const Ae=jr();M.queueHistoryEntry("Add connector"),M.setCanvasState(ot=>{const Et=mh(ot),Nt={id:Ae,type:"line",startPoint:Be(G),endPoint:Be(ye),startAttachment:ve?.start??null,endAttachment:ve?.end??null,zIndex:Et,properties:{...Is}};return{...ot,connectors:[...ot.connectors,Nt],selectedElements:[],selectedConnectors:[Ae],selectedItemIds:[Ae]}}),Ar(null),la({...fs}),pt.setMode("drag")},onAddWaypoint:(G,ye,ve)=>{M.queueHistoryEntry("Add waypoint"),M.addWaypointToConnector(G,ye,ve),ce({forceTimestamp:!0})},onModeChange:ca,onItemContextMenu:fc,onCanvasContextMenu:Vh})]}),A.jsx(nj,{isOpen:lt.isOpen,imageSrc:lt.imageSrc,onCopy:Ft,isGenerating:lt.isGenerating,onClose:sn,onPrint:gt,onSave:Rt}),A.jsx(XU,{isOpen:yt.importModal.isOpen,pendingImportData:yt.importModal.pendingImportData,onConfirm:yt.importModal.onConfirm,onCancel:yt.importModal.onCancel}),A.jsx(AQ,{isOpen:en,onClose:ir,onRefresh:Lr}),A.jsx(GU,{isOpen:yt.pagePickerModal.isOpen,pages:yt.pagePickerModal.pages,onSelect:yt.pagePickerModal.onSelect,onCancel:yt.pagePickerModal.onCancel}),A.jsx(WU,{isOpen:yt.projectImportModal.isOpen,pageCount:yt.projectImportModal.pageCount,onConfirm:yt.projectImportModal.onConfirm,onCancel:yt.projectImportModal.onCancel}),A.jsx(ch,{state:Jt,closeMenu:at,resetMenu:vn}),A.jsx(ch,{state:xr,closeMenu:Wt,resetMenu:qn}),A.jsx(wI,{ref:b,pages:e,activePageId:t,canAddPage:o,libraryWidth:Dt,isLibraryCollapsed:Ce,onAddPage:nt,onToggleLibrary:()=>Le(G=>!G),onDeletePage:$n,onRenamePage:go,onDuplicatePage:En,onReorderPages:Qn,onSwitchToPage:ad,zoom:ln.zoom,onZoomIn:pt.zoomIn,onZoomOut:pt.zoomOut,onResetZoom:pt.resetZoom,onFitToScreen:pt.fitToScreen})]})};if(typeof window<"u"){const e=()=>{try{window.sessionStorage.setItem(sv,"true")}catch(r){console.error("Failed to set reset notice flag:",r)}window.dispatchEvent(new Event(Ru))},t=()=>{if(window.location.hash!=="#reset")return;qz(),Xz(),e();const r=`${window.location.pathname}${window.location.search}`;window.history.replaceState({},"",r)};window.addEventListener("hashchange",t),t()}BP.createRoot(document.getElementById("root")).render(A.jsx(z.StrictMode,{children:A.jsx(MQ,{})}));typeof document<"u"&&(document.title=az)});export default _Q();
