function ow(e,a){for(var r=0;r<a.length;r++){const l=a[r];if(typeof l!="string"&&!Array.isArray(l)){for(const s in l)if(s!=="default"&&!(s in e)){const u=Object.getOwnPropertyDescriptor(l,s);u&&Object.defineProperty(e,s,u.get?u:{enumerable:!0,get:()=>l[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(s){if(s.ep)return;s.ep=!0;const u=r(s);fetch(s.href,u)}})();function Uc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pf={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function aw(){if(R0)return ml;R0=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(l,s,u){var d=null;if(u!==void 0&&(d=""+u),s.key!==void 0&&(d=""+s.key),"key"in s){u={};for(var p in s)p!=="key"&&(u[p]=s[p])}else u=s;return s=u.ref,{$$typeof:e,type:l,key:d,ref:s!==void 0?s:null,props:u}}return ml.Fragment=a,ml.jsx=r,ml.jsxs=r,ml}var T0;function rw(){return T0||(T0=1,pf.exports=aw()),pf.exports}var w=rw(),mf={exports:{}},Ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function iw(){if(k0)return Ft;k0=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),m=Symbol.iterator;function x(E){return E===null||typeof E!="object"?null:(E=m&&E[m]||E["@@iterator"],typeof E=="function"?E:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function C(E,H,$){this.props=E,this.context=H,this.refs=S,this.updater=$||b}C.prototype.isReactComponent={},C.prototype.setState=function(E,H){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,H,"setState")},C.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function M(){}M.prototype=C.prototype;function R(E,H,$){this.props=E,this.context=H,this.refs=S,this.updater=$||b}var T=R.prototype=new M;T.constructor=R,v(T,C.prototype),T.isPureReactComponent=!0;var _=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function O(E,H,$,q,nt,vt){return $=vt.ref,{$$typeof:e,type:E,key:H,ref:$!==void 0?$:null,props:vt}}function B(E,H){return O(E.type,H,void 0,void 0,void 0,E.props)}function V(E){return typeof E=="object"&&E!==null&&E.$$typeof===e}function U(E){var H={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function($){return H[$]})}var L=/\/+/g;function Z(E,H){return typeof E=="object"&&E!==null&&E.key!=null?U(""+E.key):H.toString(36)}function J(){}function X(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(J,J):(E.status="pending",E.then(function(H){E.status==="pending"&&(E.status="fulfilled",E.value=H)},function(H){E.status==="pending"&&(E.status="rejected",E.reason=H)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function G(E,H,$,q,nt){var vt=typeof E;(vt==="undefined"||vt==="boolean")&&(E=null);var ht=!1;if(E===null)ht=!0;else switch(vt){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(E.$$typeof){case e:case a:ht=!0;break;case y:return ht=E._init,G(ht(E._payload),H,$,q,nt)}}if(ht)return nt=nt(E),ht=q===""?"."+Z(E,0):q,_(nt)?($="",ht!=null&&($=ht.replace(L,"$&/")+"/"),G(nt,H,$,"",function(F){return F})):nt!=null&&(V(nt)&&(nt=B(nt,$+(nt.key==null||E&&E.key===nt.key?"":(""+nt.key).replace(L,"$&/")+"/")+ht)),H.push(nt)),1;ht=0;var xt=q===""?".":q+":";if(_(E))for(var Ct=0;Ct<E.length;Ct++)q=E[Ct],vt=xt+Z(q,Ct),ht+=G(q,H,$,vt,nt);else if(Ct=x(E),typeof Ct=="function")for(E=Ct.call(E),Ct=0;!(q=E.next()).done;)q=q.value,vt=xt+Z(q,Ct++),ht+=G(q,H,$,vt,nt);else if(vt==="object"){if(typeof E.then=="function")return G(X(E),H,$,q,nt);throw H=String(E),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ht}function D(E,H,$){if(E==null)return E;var q=[],nt=0;return G(E,q,"","",function(vt){return H.call($,vt,nt++)}),q}function P(E){if(E._status===-1){var H=E._result;H=H(),H.then(function($){(E._status===0||E._status===-1)&&(E._status=1,E._result=$)},function($){(E._status===0||E._status===-1)&&(E._status=2,E._result=$)}),E._status===-1&&(E._status=0,E._result=H)}if(E._status===1)return E._result.default;throw E._result}var N=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function Y(){}return Ft.Children={map:D,forEach:function(E,H,$){D(E,function(){H.apply(this,arguments)},$)},count:function(E){var H=0;return D(E,function(){H++}),H},toArray:function(E){return D(E,function(H){return H})||[]},only:function(E){if(!V(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Ft.Component=C,Ft.Fragment=r,Ft.Profiler=s,Ft.PureComponent=R,Ft.StrictMode=l,Ft.Suspense=g,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(E){return I.H.useMemoCache(E)}},Ft.cache=function(E){return function(){return E.apply(null,arguments)}},Ft.cloneElement=function(E,H,$){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var q=v({},E.props),nt=E.key,vt=void 0;if(H!=null)for(ht in H.ref!==void 0&&(vt=void 0),H.key!==void 0&&(nt=""+H.key),H)!z.call(H,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&H.ref===void 0||(q[ht]=H[ht]);var ht=arguments.length-2;if(ht===1)q.children=$;else if(1<ht){for(var xt=Array(ht),Ct=0;Ct<ht;Ct++)xt[Ct]=arguments[Ct+2];q.children=xt}return O(E.type,nt,void 0,void 0,vt,q)},Ft.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},Ft.createElement=function(E,H,$){var q,nt={},vt=null;if(H!=null)for(q in H.key!==void 0&&(vt=""+H.key),H)z.call(H,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(nt[q]=H[q]);var ht=arguments.length-2;if(ht===1)nt.children=$;else if(1<ht){for(var xt=Array(ht),Ct=0;Ct<ht;Ct++)xt[Ct]=arguments[Ct+2];nt.children=xt}if(E&&E.defaultProps)for(q in ht=E.defaultProps,ht)nt[q]===void 0&&(nt[q]=ht[q]);return O(E,vt,void 0,void 0,null,nt)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(E){return{$$typeof:p,render:E}},Ft.isValidElement=V,Ft.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:P}},Ft.memo=function(E,H){return{$$typeof:f,type:E,compare:H===void 0?null:H}},Ft.startTransition=function(E){var H=I.T,$={};I.T=$;try{var q=E(),nt=I.S;nt!==null&&nt($,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(Y,N)}catch(vt){N(vt)}finally{I.T=H}},Ft.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ft.use=function(E){return I.H.use(E)},Ft.useActionState=function(E,H,$){return I.H.useActionState(E,H,$)},Ft.useCallback=function(E,H){return I.H.useCallback(E,H)},Ft.useContext=function(E){return I.H.useContext(E)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(E,H){return I.H.useDeferredValue(E,H)},Ft.useEffect=function(E,H,$){var q=I.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(E,H)},Ft.useId=function(){return I.H.useId()},Ft.useImperativeHandle=function(E,H,$){return I.H.useImperativeHandle(E,H,$)},Ft.useInsertionEffect=function(E,H){return I.H.useInsertionEffect(E,H)},Ft.useLayoutEffect=function(E,H){return I.H.useLayoutEffect(E,H)},Ft.useMemo=function(E,H){return I.H.useMemo(E,H)},Ft.useOptimistic=function(E,H){return I.H.useOptimistic(E,H)},Ft.useReducer=function(E,H,$){return I.H.useReducer(E,H,$)},Ft.useRef=function(E){return I.H.useRef(E)},Ft.useState=function(E){return I.H.useState(E)},Ft.useSyncExternalStore=function(E,H,$){return I.H.useSyncExternalStore(E,H,$)},Ft.useTransition=function(){return I.H.useTransition()},Ft.version="19.1.1",Ft}var _0;function hh(){return _0||(_0=1,mf.exports=iw()),mf.exports}var A=hh();const jt=Uc(A),px=ow({__proto__:null,default:jt},[A]);var gf={exports:{}},gl={},yf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function lw(){return O0||(O0=1,(function(e){function a(D,P){var N=D.length;D.push(P);t:for(;0<N;){var Y=N-1>>>1,E=D[Y];if(0<s(E,P))D[Y]=P,D[N]=E,N=Y;else break t}}function r(D){return D.length===0?null:D[0]}function l(D){if(D.length===0)return null;var P=D[0],N=D.pop();if(N!==P){D[0]=N;t:for(var Y=0,E=D.length,H=E>>>1;Y<H;){var $=2*(Y+1)-1,q=D[$],nt=$+1,vt=D[nt];if(0>s(q,N))nt<E&&0>s(vt,q)?(D[Y]=vt,D[nt]=N,Y=nt):(D[Y]=q,D[$]=N,Y=$);else if(nt<E&&0>s(vt,N))D[Y]=vt,D[nt]=N,Y=nt;else break t}}return P}function s(D,P){var N=D.sortIndex-P.sortIndex;return N!==0?N:D.id-P.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();e.unstable_now=function(){return d.now()-p}}var g=[],f=[],y=1,m=null,x=3,b=!1,v=!1,S=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function _(D){for(var P=r(f);P!==null;){if(P.callback===null)l(f);else if(P.startTime<=D)l(f),P.sortIndex=P.expirationTime,a(g,P);else break;P=r(f)}}function I(D){if(S=!1,_(D),!v)if(r(g)!==null)v=!0,z||(z=!0,Z());else{var P=r(f);P!==null&&G(I,P.startTime-D)}}var z=!1,O=-1,B=5,V=-1;function U(){return C?!0:!(e.unstable_now()-V<B)}function L(){if(C=!1,z){var D=e.unstable_now();V=D;var P=!0;try{t:{v=!1,S&&(S=!1,R(O),O=-1),b=!0;var N=x;try{e:{for(_(D),m=r(g);m!==null&&!(m.expirationTime>D&&U());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,x=m.priorityLevel;var E=Y(m.expirationTime<=D);if(D=e.unstable_now(),typeof E=="function"){m.callback=E,_(D),P=!0;break e}m===r(g)&&l(g),_(D)}else l(g);m=r(g)}if(m!==null)P=!0;else{var H=r(f);H!==null&&G(I,H.startTime-D),P=!1}}break t}finally{m=null,x=N,b=!1}P=void 0}}finally{P?Z():z=!1}}}var Z;if(typeof T=="function")Z=function(){T(L)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,X=J.port2;J.port1.onmessage=L,Z=function(){X.postMessage(null)}}else Z=function(){M(L,0)};function G(D,P){O=M(function(){D(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(D){switch(x){case 1:case 2:case 3:var P=3;break;default:P=x}var N=x;x=P;try{return D()}finally{x=N}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(D,P){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var N=x;x=D;try{return P()}finally{x=N}},e.unstable_scheduleCallback=function(D,P,N){var Y=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?Y+N:Y):N=Y,D){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=N+E,D={id:y++,callback:P,priorityLevel:D,startTime:N,expirationTime:E,sortIndex:-1},N>Y?(D.sortIndex=N,a(f,D),r(g)===null&&D===r(f)&&(S?(R(O),O=-1):S=!0,G(I,N-Y))):(D.sortIndex=E,a(g,D),v||b||(v=!0,z||(z=!0,Z()))),D},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(D){var P=x;return function(){var N=x;x=P;try{return D.apply(this,arguments)}finally{x=N}}}})(xf)),xf}var D0;function sw(){return D0||(D0=1,yf.exports=lw()),yf.exports}var bf={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function cw(){if(I0)return dn;I0=1;var e=hh();function a(g){var f="https://react.dev/errors/"+g;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(g,f,y){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:g,containerInfo:f,implementation:y}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,f){if(g==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,dn.createPortal=function(g,f){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(a(299));return u(g,f,null,y)},dn.flushSync=function(g){var f=d.T,y=l.p;try{if(d.T=null,l.p=2,g)return g()}finally{d.T=f,l.p=y,l.d.f()}},dn.preconnect=function(g,f){typeof g=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,l.d.C(g,f))},dn.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},dn.preinit=function(g,f){if(typeof g=="string"&&f&&typeof f.as=="string"){var y=f.as,m=p(y,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;y==="style"?l.d.S(g,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:b}):y==="script"&&l.d.X(g,{crossOrigin:m,integrity:x,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},dn.preinitModule=function(g,f){if(typeof g=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var y=p(f.as,f.crossOrigin);l.d.M(g,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&l.d.M(g)},dn.preload=function(g,f){if(typeof g=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var y=f.as,m=p(y,f.crossOrigin);l.d.L(g,y,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},dn.preloadModule=function(g,f){if(typeof g=="string")if(f){var y=p(f.as,f.crossOrigin);l.d.m(g,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else l.d.m(g)},dn.requestFormReset=function(g){l.d.r(g)},dn.unstable_batchedUpdates=function(g,f){return g(f)},dn.useFormState=function(g,f,y){return d.H.useFormState(g,f,y)},dn.useFormStatus=function(){return d.H.useHostTransitionStatus()},dn.version="19.1.1",dn}var j0;function mx(){if(j0)return bf.exports;j0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),bf.exports=cw(),bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function uw(){if(B0)return gl;B0=1;var e=sw(),a=hh(),r=mx();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(o=n.return),t=n.return;while(t)}return n.tag===3?o:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(l(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(l(188));return n!==t?null:t}for(var o=t,i=n;;){var c=o.return;if(c===null)break;var h=c.alternate;if(h===null){if(i=c.return,i!==null){o=i;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===o)return p(c),t;if(h===i)return p(c),n;h=h.sibling}throw Error(l(188))}if(o.return!==i.return)o=c,i=h;else{for(var k=!1,j=c.child;j;){if(j===o){k=!0,o=c,i=h;break}if(j===i){k=!0,i=c,o=h;break}j=j.sibling}if(!k){for(j=h.child;j;){if(j===o){k=!0,o=h,i=c;break}if(j===i){k=!0,i=h,o=c;break}j=j.sibling}if(!k)throw Error(l(189))}}if(o.alternate!==i)throw Error(l(190))}if(o.tag!==3)throw Error(l(188));return o.stateNode.current===o?t:n}function f(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=f(t),n!==null)return n;t=t.sibling}return null}var y=Object.assign,m=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function Z(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var J=Symbol.for("react.client.reference");function X(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===J?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case z:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case T:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case _:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:X(t.type)||"Memo";case B:n=t._payload,t=t._init;try{return X(t(n))}catch{}}return null}var G=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},Y=[],E=-1;function H(t){return{current:t}}function $(t){0>E||(t.current=Y[E],Y[E]=null,E--)}function q(t,n){E++,Y[E]=t.current,t.current=n}var nt=H(null),vt=H(null),ht=H(null),xt=H(null);function Ct(t,n){switch(q(ht,n),q(vt,t),q(nt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?e0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=e0(n),t=n0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(nt),q(nt,t)}function F(){$(nt),$(vt),$(ht)}function et(t){t.memoizedState!==null&&q(xt,t);var n=nt.current,o=n0(n,t.type);n!==o&&(q(vt,t),q(nt,o))}function K(t){vt.current===t&&($(nt),$(vt)),xt.current===t&&($(xt),ul._currentValue=N)}var rt=Object.prototype.hasOwnProperty,bt=e.unstable_scheduleCallback,mt=e.unstable_cancelCallback,wt=e.unstable_shouldYield,st=e.unstable_requestPaint,ct=e.unstable_now,kt=e.unstable_getCurrentPriorityLevel,pt=e.unstable_ImmediatePriority,Rt=e.unstable_UserBlockingPriority,_t=e.unstable_NormalPriority,St=e.unstable_LowPriority,Nt=e.unstable_IdlePriority,Dt=e.log,Xt=e.unstable_setDisableYieldValue,Et=null,Tt=null;function Yt(t){if(typeof Dt=="function"&&Xt(t),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Et,t)}catch{}}var Se=Math.clz32?Math.clz32:Gn,co=Math.log,uo=Math.LN2;function Gn(t){return t>>>=0,t===0?32:31-(co(t)/uo|0)|0}var je=256,pn=4194304;function an(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function At(t,n,o){var i=t.pendingLanes;if(i===0)return 0;var c=0,h=t.suspendedLanes,k=t.pingedLanes;t=t.warmLanes;var j=i&134217727;return j!==0?(i=j&~h,i!==0?c=an(i):(k&=j,k!==0?c=an(k):o||(o=j&~t,o!==0&&(c=an(o))))):(j=i&~h,j!==0?c=an(j):k!==0?c=an(k):o||(o=i&~t,o!==0&&(c=an(o)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,o=n&-n,h>=o||h===32&&(o&4194048)!==0)?n:c}function It(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function he(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function se(){var t=je;return je<<=1,(je&4194048)===0&&(je=256),t}function oe(){var t=pn;return pn<<=1,(pn&62914560)===0&&(pn=4194304),t}function Re(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function $t(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rn(t,n,o,i,c,h){var k=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var j=t.entanglements,Q=t.expirationTimes,at=t.hiddenUpdates;for(o=k&~o;0<o;){var ut=31-Se(o),yt=1<<ut;j[ut]=0,Q[ut]=-1;var it=at[ut];if(it!==null)for(at[ut]=null,ut=0;ut<it.length;ut++){var lt=it[ut];lt!==null&&(lt.lane&=-536870913)}o&=~yt}i!==0&&On(t,i,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(k&~n))}function On(t,n,o){t.pendingLanes|=n,t.suspendedLanes&=~n;var i=31-Se(n);t.entangledLanes|=n,t.entanglements[i]=t.entanglements[i]|1073741824|o&4194090}function Ge(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var i=31-Se(o),c=1<<i;c&n|t[i]&n&&(t[i]|=n),o&=~c}}function vn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ln(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fo(){var t=P.p;return t!==0?t:(t=window.event,t===void 0?32:A0(t.type))}function Lo(t,n){var o=P.p;try{return P.p=t,n()}finally{P.p=o}}var mn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+mn,xe="__reactProps$"+mn,An="__reactContainer$"+mn,ho="__reactEvents$"+mn,wn="__reactListeners$"+mn,Ga="__reactHandles$"+mn,ha="__reactResources$"+mn,po="__reactMarker$"+mn;function Fa(t){delete t[Ee],delete t[xe],delete t[ho],delete t[wn],delete t[Ga]}function sn(t){var n=t[Ee];if(n)return n;for(var o=t.parentNode;o;){if(n=o[An]||o[Ee]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(t=i0(t);t!==null;){if(o=t[Ee])return o;t=i0(t)}return n}t=o,o=t.parentNode}return null}function Ue(t){if(t=t[Ee]||t[An]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function be(t){var n=t[ha];return n||(n=t[ha]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pe(t){t[po]=!0}var So=new Set,Ho={};function Cn(t,n){Yo(t,n),Yo(t+"Capture",n)}function Yo(t,n){for(Ho[t]=n,t=0;t<n.length;t++)So.add(n[t])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gl={},gr={};function mo(t){return rt.call(gr,t)?!0:rt.call(Gl,t)?!1:Eo.test(t)?gr[t]=!0:(Gl[t]=!0,!1)}function yr(t,n,o){if(mo(n))if(o===null)t.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var i=n.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+o)}}function xr(t,n,o){if(o===null)t.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+o)}}function Fn(t,n,o,i){if(i===null)t.removeAttribute(o);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(n,o,""+i)}}var gt,Mt;function Bt(t){if(gt===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);gt=n&&n[1]||"",Mt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gt+t+Mt}var ae=!1;function Gt(t,n){if(!t||ae)return"";ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(n){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(lt){var it=lt}Reflect.construct(t,[],yt)}else{try{yt.call()}catch(lt){it=lt}t.call(yt.prototype)}}else{try{throw Error()}catch(lt){it=lt}(yt=t())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(lt){if(lt&&it&&typeof lt.stack=="string")return[lt.stack,it.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=i.DetermineComponentFrameRoot(),k=h[0],j=h[1];if(k&&j){var Q=k.split(`
`),at=j.split(`
`);for(c=i=0;i<Q.length&&!Q[i].includes("DetermineComponentFrameRoot");)i++;for(;c<at.length&&!at[c].includes("DetermineComponentFrameRoot");)c++;if(i===Q.length||c===at.length)for(i=Q.length-1,c=at.length-1;1<=i&&0<=c&&Q[i]!==at[c];)c--;for(;1<=i&&0<=c;i--,c--)if(Q[i]!==at[c]){if(i!==1||c!==1)do if(i--,c--,0>c||Q[i]!==at[c]){var ut=`
`+Q[i].replace(" at new "," at ");return t.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",t.displayName)),ut}while(1<=i&&0<=c);break}}}finally{ae=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Bt(o):""}function re(t){switch(t.tag){case 26:case 27:case 5:return Bt(t.type);case 16:return Bt("Lazy");case 13:return Bt("Suspense");case 19:return Bt("SuspenseList");case 0:case 15:return Gt(t.type,!1);case 11:return Gt(t.type.render,!1);case 1:return Gt(t.type,!0);case 31:return Bt("Activity");default:return""}}function we(t){try{var n="";do n+=re(t),t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ee(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function go(t){var n=Uo(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),i=""+t[n];if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,h=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(k){i=""+k,h.call(this,k)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(k){i=""+k},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Pe(t){t._valueTracker||(t._valueTracker=go(t))}function cn(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var o=n.getValue(),i="";return t&&(i=Uo(t)?t.checked?"true":"false":t.value),t=i,t!==o?(n.setValue(t),!0):!1}function _e(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gn=/[\n"\\]/g;function $e(t){return t.replace(gn,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function wi(t,n,o,i,c,h,k,j){t.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.type=k:t.removeAttribute("type"),n!=null?k==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ee(n)):t.value!==""+ee(n)&&(t.value=""+ee(n)):k!=="submit"&&k!=="reset"||t.removeAttribute("value"),n!=null?du(t,k,ee(n)):o!=null?du(t,k,ee(o)):i!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.name=""+ee(j):t.removeAttribute("name")}function Kh(t,n,o,i,c,h,k,j){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;o=o!=null?""+ee(o):"",n=n!=null?""+ee(n):o,j||n===t.value||(t.value=n),t.defaultValue=n}i=i??c,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=j?t.checked:!!i,t.defaultChecked=!!i,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(t.name=k)}function du(t,n,o){n==="number"&&_e(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function br(t,n,o,i){if(t=t.options,n){n={};for(var c=0;c<o.length;c++)n["$"+o[c]]=!0;for(o=0;o<t.length;o++)c=n.hasOwnProperty("$"+t[o].value),t[o].selected!==c&&(t[o].selected=c),c&&i&&(t[o].defaultSelected=!0)}else{for(o=""+ee(o),n=null,c=0;c<t.length;c++){if(t[c].value===o){t[c].selected=!0,i&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Jh(t,n,o){if(n!=null&&(n=""+ee(n),n!==t.value&&(t.value=n),o==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=o!=null?""+ee(o):""}function tp(t,n,o,i){if(n==null){if(i!=null){if(o!=null)throw Error(l(92));if(G(i)){if(1<i.length)throw Error(l(93));i=i[0]}o=i}o==null&&(o=""),n=o}o=ee(n),t.defaultValue=o,i=t.textContent,i===o&&i!==""&&i!==null&&(t.value=i)}function vr(t,n){if(n){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=n;return}}t.textContent=n}var tA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ep(t,n,o){var i=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?i?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":i?t.setProperty(n,o):typeof o!="number"||o===0||tA.has(n)?n==="float"?t.cssFloat=o:t[n]=(""+o).trim():t[n]=o+"px"}function np(t,n,o){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,o!=null){for(var i in o)!o.hasOwnProperty(i)||n!=null&&n.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var c in n)i=n[c],n.hasOwnProperty(c)&&o[c]!==i&&ep(t,c,i)}else for(var h in n)n.hasOwnProperty(h)&&ep(t,h,n[h])}function fu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fl(t){return nA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hu=null;function pu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ar=null,wr=null;function op(t){var n=Ue(t);if(n&&(t=n.stateNode)){var o=t[xe]||null;t:switch(t=n.stateNode,n.type){case"input":if(wi(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+$e(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var i=o[n];if(i!==t&&i.form===t.form){var c=i[xe]||null;if(!c)throw Error(l(90));wi(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<o.length;n++)i=o[n],i.form===t.form&&cn(i)}break t;case"textarea":Jh(t,o.value,o.defaultValue);break t;case"select":n=o.value,n!=null&&br(t,!!o.multiple,n,!1)}}}var mu=!1;function ap(t,n,o){if(mu)return t(n,o);mu=!0;try{var i=t(n);return i}finally{if(mu=!1,(Ar!==null||wr!==null)&&(Ds(),Ar&&(n=Ar,t=wr,wr=Ar=null,op(n),t)))for(n=0;n<t.length;n++)op(t[n])}}function Ci(t,n){var o=t.stateNode;if(o===null)return null;var i=o[xe]||null;if(i===null)return null;o=i[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break t;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(l(231,n,typeof o));return o}var $o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gu=!1;if($o)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){gu=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{gu=!1}var pa=null,yu=null,ql=null;function rp(){if(ql)return ql;var t,n=yu,o=n.length,i,c="value"in pa?pa.value:pa.textContent,h=c.length;for(t=0;t<o&&n[t]===c[t];t++);var k=o-t;for(i=1;i<=k&&n[o-i]===c[h-i];i++);return ql=c.slice(t,1<i?1-i:void 0)}function Vl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Wl(){return!0}function ip(){return!1}function Sn(t){function n(o,i,c,h,k){this._reactName=o,this._targetInst=c,this.type=i,this.nativeEvent=h,this.target=k,this.currentTarget=null;for(var j in t)t.hasOwnProperty(j)&&(o=t[j],this[j]=o?o(h):h[j]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Wl:ip,this.isPropagationStopped=ip,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wl)},persist:function(){},isPersistent:Wl}),n}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=Sn(qa),Ei=y({},qa,{view:0,detail:0}),oA=Sn(Ei),xu,bu,Mi,Kl=y({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(xu=t.screenX-Mi.screenX,bu=t.screenY-Mi.screenY):bu=xu=0,Mi=t),xu)},movementY:function(t){return"movementY"in t?t.movementY:bu}}),lp=Sn(Kl),aA=y({},Kl,{dataTransfer:0}),rA=Sn(aA),iA=y({},Ei,{relatedTarget:0}),vu=Sn(iA),lA=y({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),sA=Sn(lA),cA=y({},qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uA=Sn(cA),dA=y({},qa,{data:0}),sp=Sn(dA),fA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mA(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=pA[t])?!!n[t]:!1}function Au(){return mA}var gA=y({},Ei,{key:function(t){if(t.key){var n=fA[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(t){return t.type==="keypress"?Vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yA=Sn(gA),xA=y({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cp=Sn(xA),bA=y({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),vA=Sn(bA),AA=y({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),wA=Sn(AA),CA=y({},Kl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SA=Sn(CA),EA=y({},qa,{newState:0,oldState:0}),MA=Sn(EA),RA=[9,13,27,32],wu=$o&&"CompositionEvent"in window,Ri=null;$o&&"documentMode"in document&&(Ri=document.documentMode);var TA=$o&&"TextEvent"in window&&!Ri,up=$o&&(!wu||Ri&&8<Ri&&11>=Ri),dp=" ",fp=!1;function hp(t,n){switch(t){case"keyup":return RA.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cr=!1;function kA(t,n){switch(t){case"compositionend":return pp(n);case"keypress":return n.which!==32?null:(fp=!0,dp);case"textInput":return t=n.data,t===dp&&fp?null:t;default:return null}}function _A(t,n){if(Cr)return t==="compositionend"||!wu&&hp(t,n)?(t=rp(),ql=yu=pa=null,Cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return up&&n.locale!=="ko"?null:n.data;default:return null}}var OA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!OA[t.type]:n==="textarea"}function gp(t,n,o,i){Ar?wr?wr.push(i):wr=[i]:Ar=i,n=Ps(n,"onChange"),0<n.length&&(o=new Zl("onChange","change",null,o,i),t.push({event:o,listeners:n}))}var Ti=null,ki=null;function DA(t){Wg(t,0)}function Jl(t){var n=Dn(t);if(cn(n))return t}function yp(t,n){if(t==="change")return n}var xp=!1;if($o){var Cu;if($o){var Su="oninput"in document;if(!Su){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),Su=typeof bp.oninput=="function"}Cu=Su}else Cu=!1;xp=Cu&&(!document.documentMode||9<document.documentMode)}function vp(){Ti&&(Ti.detachEvent("onpropertychange",Ap),ki=Ti=null)}function Ap(t){if(t.propertyName==="value"&&Jl(ki)){var n=[];gp(n,ki,t,pu(t)),ap(DA,n)}}function IA(t,n,o){t==="focusin"?(vp(),Ti=n,ki=o,Ti.attachEvent("onpropertychange",Ap)):t==="focusout"&&vp()}function jA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jl(ki)}function BA(t,n){if(t==="click")return Jl(n)}function zA(t,n){if(t==="input"||t==="change")return Jl(n)}function NA(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var In=typeof Object.is=="function"?Object.is:NA;function _i(t,n){if(In(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var o=Object.keys(t),i=Object.keys(n);if(o.length!==i.length)return!1;for(i=0;i<o.length;i++){var c=o[i];if(!rt.call(n,c)||!In(t[c],n[c]))return!1}return!0}function wp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cp(t,n){var o=wp(t);t=0;for(var i;o;){if(o.nodeType===3){if(i=t+o.textContent.length,t<=n&&i>=n)return{node:o,offset:n-t};t=i}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=wp(o)}}function Sp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Sp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ep(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_e(t.document);n instanceof t.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)t=n.contentWindow;else break;n=_e(t.document)}return n}function Eu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var PA=$o&&"documentMode"in document&&11>=document.documentMode,Sr=null,Mu=null,Oi=null,Ru=!1;function Mp(t,n,o){var i=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ru||Sr==null||Sr!==_e(i)||(i=Sr,"selectionStart"in i&&Eu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Oi&&_i(Oi,i)||(Oi=i,i=Ps(Mu,"onSelect"),0<i.length&&(n=new Zl("onSelect","select",null,n,o),t.push({event:n,listeners:i}),n.target=Sr)))}function Va(t,n){var o={};return o[t.toLowerCase()]=n.toLowerCase(),o["Webkit"+t]="webkit"+n,o["Moz"+t]="moz"+n,o}var Er={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},Tu={},Rp={};$o&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function Wa(t){if(Tu[t])return Tu[t];if(!Er[t])return t;var n=Er[t],o;for(o in n)if(n.hasOwnProperty(o)&&o in Rp)return Tu[t]=n[o];return t}var Tp=Wa("animationend"),kp=Wa("animationiteration"),_p=Wa("animationstart"),LA=Wa("transitionrun"),HA=Wa("transitionstart"),YA=Wa("transitioncancel"),Op=Wa("transitionend"),Dp=new Map,ku="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ku.push("scrollEnd");function yo(t,n){Dp.set(t,n),Cn(n,[t])}var Ip=new WeakMap;function qn(t,n){if(typeof t=="object"&&t!==null){var o=Ip.get(t);return o!==void 0?o:(n={value:t,source:n,stack:we(n)},Ip.set(t,n),n)}return{value:t,source:n,stack:we(n)}}var Vn=[],Mr=0,_u=0;function ts(){for(var t=Mr,n=_u=Mr=0;n<t;){var o=Vn[n];Vn[n++]=null;var i=Vn[n];Vn[n++]=null;var c=Vn[n];Vn[n++]=null;var h=Vn[n];if(Vn[n++]=null,i!==null&&c!==null){var k=i.pending;k===null?c.next=c:(c.next=k.next,k.next=c),i.pending=c}h!==0&&jp(o,c,h)}}function es(t,n,o,i){Vn[Mr++]=t,Vn[Mr++]=n,Vn[Mr++]=o,Vn[Mr++]=i,_u|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Ou(t,n,o,i){return es(t,n,o,i),ns(t)}function Rr(t,n){return es(t,null,null,n),ns(t)}function jp(t,n,o){t.lanes|=o;var i=t.alternate;i!==null&&(i.lanes|=o);for(var c=!1,h=t.return;h!==null;)h.childLanes|=o,i=h.alternate,i!==null&&(i.childLanes|=o),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-Se(o),t=h.hiddenUpdates,i=t[c],i===null?t[c]=[n]:i.push(n),n.lane=o|536870912),h):null}function ns(t){if(50<nl)throw nl=0,Nd=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Tr={};function UA(t,n,o,i){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,n,o,i){return new UA(t,n,o,i)}function Du(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qo(t,n){var o=t.alternate;return o===null?(o=jn(t.tag,n,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,n=t.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Bp(t,n){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,n=o.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function os(t,n,o,i,c,h){var k=0;if(i=t,typeof t=="function")Du(t)&&(k=1);else if(typeof t=="string")k=Q1(t,o,nt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case V:return t=jn(31,o,n,c),t.elementType=V,t.lanes=h,t;case v:return Za(o.children,c,h,n);case S:k=8,c|=24;break;case C:return t=jn(12,o,n,c|2),t.elementType=C,t.lanes=h,t;case I:return t=jn(13,o,n,c),t.elementType=I,t.lanes=h,t;case z:return t=jn(19,o,n,c),t.elementType=z,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:case T:k=10;break t;case R:k=9;break t;case _:k=11;break t;case O:k=14;break t;case B:k=16,i=null;break t}k=29,o=Error(l(130,t===null?"null":typeof t,"")),i=null}return n=jn(k,o,n,c),n.elementType=t,n.type=i,n.lanes=h,n}function Za(t,n,o,i){return t=jn(7,t,i,n),t.lanes=o,t}function Iu(t,n,o){return t=jn(6,t,null,n),t.lanes=o,t}function ju(t,n,o){return n=jn(4,t.children!==null?t.children:[],t.key,n),n.lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var kr=[],_r=0,as=null,rs=0,Wn=[],Zn=0,Ka=null,Xo=1,Go="";function Ja(t,n){kr[_r++]=rs,kr[_r++]=as,as=t,rs=n}function zp(t,n,o){Wn[Zn++]=Xo,Wn[Zn++]=Go,Wn[Zn++]=Ka,Ka=t;var i=Xo;t=Go;var c=32-Se(i)-1;i&=~(1<<c),o+=1;var h=32-Se(n)+c;if(30<h){var k=c-c%5;h=(i&(1<<k)-1).toString(32),i>>=k,c-=k,Xo=1<<32-Se(n)+c|o<<c|i,Go=h+t}else Xo=1<<h|o<<c|i,Go=t}function Bu(t){t.return!==null&&(Ja(t,1),zp(t,1,0))}function zu(t){for(;t===as;)as=kr[--_r],kr[_r]=null,rs=kr[--_r],kr[_r]=null;for(;t===Ka;)Ka=Wn[--Zn],Wn[Zn]=null,Go=Wn[--Zn],Wn[Zn]=null,Xo=Wn[--Zn],Wn[Zn]=null}var yn=null,Oe=null,le=!1,tr=null,Mo=!1,Nu=Error(l(519));function er(t){var n=Error(l(418,""));throw ji(qn(n,t)),Nu}function Np(t){var n=t.stateNode,o=t.type,i=t.memoizedProps;switch(n[Ee]=t,n[xe]=i,o){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(o=0;o<al.length;o++)te(al[o],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":te("invalid",n),Kh(n,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Pe(n);break;case"select":te("invalid",n);break;case"textarea":te("invalid",n),tp(n,i.value,i.defaultValue,i.children),Pe(n)}o=i.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||i.suppressHydrationWarning===!0||t0(n.textContent,o)?(i.popover!=null&&(te("beforetoggle",n),te("toggle",n)),i.onScroll!=null&&te("scroll",n),i.onScrollEnd!=null&&te("scrollend",n),i.onClick!=null&&(n.onclick=Ls),n=!0):n=!1,n||er(t)}function Pp(t){for(yn=t.return;yn;)switch(yn.tag){case 5:case 13:Mo=!1;return;case 27:case 3:Mo=!0;return;default:yn=yn.return}}function Di(t){if(t!==yn)return!1;if(!le)return Pp(t),le=!0,!1;var n=t.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Jd(t.type,t.memoizedProps)),o=!o),o&&Oe&&er(t),Pp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(n===0){Oe=bo(t.nextSibling);break t}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;t=t.nextSibling}Oe=null}}else n===27?(n=Oe,_a(t.type)?(t=of,of=null,Oe=t):Oe=n):Oe=yn?bo(t.stateNode.nextSibling):null;return!0}function Ii(){Oe=yn=null,le=!1}function Lp(){var t=tr;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),tr=null),t}function ji(t){tr===null?tr=[t]:tr.push(t)}var Pu=H(null),nr=null,Fo=null;function ma(t,n,o){q(Pu,n._currentValue),n._currentValue=o}function qo(t){t._currentValue=Pu.current,$(Pu)}function Lu(t,n,o){for(;t!==null;){var i=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),t===o)break;t=t.return}}function Hu(t,n,o,i){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var k=c.child;h=h.firstContext;t:for(;h!==null;){var j=h;h=c;for(var Q=0;Q<n.length;Q++)if(j.context===n[Q]){h.lanes|=o,j=h.alternate,j!==null&&(j.lanes|=o),Lu(h.return,o,t),i||(k=null);break t}h=j.next}}else if(c.tag===18){if(k=c.return,k===null)throw Error(l(341));k.lanes|=o,h=k.alternate,h!==null&&(h.lanes|=o),Lu(k,o,t),k=null}else k=c.child;if(k!==null)k.return=c;else for(k=c;k!==null;){if(k===t){k=null;break}if(c=k.sibling,c!==null){c.return=k.return,k=c;break}k=k.return}c=k}}function Bi(t,n,o,i){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var k=c.alternate;if(k===null)throw Error(l(387));if(k=k.memoizedProps,k!==null){var j=c.type;In(c.pendingProps.value,k.value)||(t!==null?t.push(j):t=[j])}}else if(c===xt.current){if(k=c.alternate,k===null)throw Error(l(387));k.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ul):t=[ul])}c=c.return}t!==null&&Hu(n,t,o,i),n.flags|=262144}function is(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function or(t){nr=t,Fo=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function un(t){return Hp(nr,t)}function ls(t,n){return nr===null&&or(t),Hp(t,n)}function Hp(t,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Fo===null){if(t===null)throw Error(l(308));Fo=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Fo=Fo.next=n;return o}var $A=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(o,i){t.push(i)}};this.abort=function(){n.aborted=!0,t.forEach(function(o){return o()})}},QA=e.unstable_scheduleCallback,XA=e.unstable_NormalPriority,Qe={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yu(){return{controller:new $A,data:new Map,refCount:0}}function zi(t){t.refCount--,t.refCount===0&&QA(XA,function(){t.controller.abort()})}var Ni=null,Uu=0,Or=0,Dr=null;function GA(t,n){if(Ni===null){var o=Ni=[];Uu=0,Or=Qd(),Dr={status:"pending",value:void 0,then:function(i){o.push(i)}}}return Uu++,n.then(Yp,Yp),n}function Yp(){if(--Uu===0&&Ni!==null){Dr!==null&&(Dr.status="fulfilled");var t=Ni;Ni=null,Or=0,Dr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function FA(t,n){var o=[],i={status:"pending",value:null,reason:null,then:function(c){o.push(c)}};return t.then(function(){i.status="fulfilled",i.value=n;for(var c=0;c<o.length;c++)(0,o[c])(n)},function(c){for(i.status="rejected",i.reason=c,c=0;c<o.length;c++)(0,o[c])(void 0)}),i}var Up=D.S;D.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&GA(t,n),Up!==null&&Up(t,n)};var ar=H(null);function $u(){var t=ar.current;return t!==null?t:Ae.pooledCache}function ss(t,n){n===null?q(ar,ar.current):q(ar,n.pool)}function $p(){var t=$u();return t===null?null:{parent:Qe._currentValue,pool:t}}var Pi=Error(l(460)),Qp=Error(l(474)),cs=Error(l(542)),Qu={then:function(){}};function Xp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function us(){}function Gp(t,n,o){switch(o=t[o],o===void 0?t.push(n):o!==n&&(n.then(us,us),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qp(t),t;default:if(typeof n.status=="string")n.then(us,us);else{if(t=Ae,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(i){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=i}},function(i){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=i}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qp(t),t}throw Li=n,Pi}}var Li=null;function Fp(){if(Li===null)throw Error(l(459));var t=Li;return Li=null,t}function qp(t){if(t===Pi||t===cs)throw Error(l(483))}var ga=!1;function Xu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ya(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xa(t,n,o){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(ue&2)!==0){var c=i.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),i.pending=n,n=ns(t),jp(t,null,o),n}return es(t,i,n,o),ns(t)}function Hi(t,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var i=n.lanes;i&=t.pendingLanes,o|=i,n.lanes=o,Ge(t,o)}}function Fu(t,n){var o=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,o===i)){var c=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var k={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?c=h=k:h=h.next=k,o=o.next}while(o!==null);h===null?c=h=n:h=h.next=n}else c=h=n;o={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:i.shared,callbacks:i.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n}var qu=!1;function Yi(){if(qu){var t=Dr;if(t!==null)throw t}}function Ui(t,n,o,i){qu=!1;var c=t.updateQueue;ga=!1;var h=c.firstBaseUpdate,k=c.lastBaseUpdate,j=c.shared.pending;if(j!==null){c.shared.pending=null;var Q=j,at=Q.next;Q.next=null,k===null?h=at:k.next=at,k=Q;var ut=t.alternate;ut!==null&&(ut=ut.updateQueue,j=ut.lastBaseUpdate,j!==k&&(j===null?ut.firstBaseUpdate=at:j.next=at,ut.lastBaseUpdate=Q))}if(h!==null){var yt=c.baseState;k=0,ut=at=Q=null,j=h;do{var it=j.lane&-536870913,lt=it!==j.lane;if(lt?(ne&it)===it:(i&it)===it){it!==0&&it===Or&&(qu=!0),ut!==null&&(ut=ut.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});t:{var Ut=t,Lt=j;it=n;var ye=o;switch(Lt.tag){case 1:if(Ut=Lt.payload,typeof Ut=="function"){yt=Ut.call(ye,yt,it);break t}yt=Ut;break t;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Lt.payload,it=typeof Ut=="function"?Ut.call(ye,yt,it):Ut,it==null)break t;yt=y({},yt,it);break t;case 2:ga=!0}}it=j.callback,it!==null&&(t.flags|=64,lt&&(t.flags|=8192),lt=c.callbacks,lt===null?c.callbacks=[it]:lt.push(it))}else lt={lane:it,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ut===null?(at=ut=lt,Q=yt):ut=ut.next=lt,k|=it;if(j=j.next,j===null){if(j=c.shared.pending,j===null)break;lt=j,j=lt.next,lt.next=null,c.lastBaseUpdate=lt,c.shared.pending=null}}while(!0);ut===null&&(Q=yt),c.baseState=Q,c.firstBaseUpdate=at,c.lastBaseUpdate=ut,h===null&&(c.shared.lanes=0),Ma|=k,t.lanes=k,t.memoizedState=yt}}function Vp(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function Wp(t,n){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Vp(o[t],n)}var Ir=H(null),ds=H(0);function Zp(t,n){t=ea,q(ds,t),q(Ir,n),ea=t|n.baseLanes}function Vu(){q(ds,ea),q(Ir,Ir.current)}function Wu(){ea=ds.current,$(Ir),$(ds)}var ba=0,Vt=null,me=null,Le=null,fs=!1,jr=!1,rr=!1,hs=0,$i=0,Br=null,qA=0;function Be(){throw Error(l(321))}function Zu(t,n){if(n===null)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!In(t[o],n[o]))return!1;return!0}function Ku(t,n,o,i,c,h){return ba=h,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=t===null||t.memoizedState===null?jm:Bm,rr=!1,h=o(i,c),rr=!1,jr&&(h=Jp(n,o,i,c)),Kp(t),h}function Kp(t){D.H=bs;var n=me!==null&&me.next!==null;if(ba=0,Le=me=Vt=null,fs=!1,$i=0,Br=null,n)throw Error(l(300));t===null||Fe||(t=t.dependencies,t!==null&&is(t)&&(Fe=!0))}function Jp(t,n,o,i){Vt=t;var c=0;do{if(jr&&(Br=null),$i=0,jr=!1,25<=c)throw Error(l(301));if(c+=1,Le=me=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}D.H=e1,h=n(o,i)}while(jr);return h}function VA(){var t=D.H,n=t.useState()[0];return n=typeof n.then=="function"?Qi(n):n,t=t.useState()[0],(me!==null?me.memoizedState:null)!==t&&(Vt.flags|=1024),n}function Ju(){var t=hs!==0;return hs=0,t}function td(t,n,o){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~o}function ed(t){if(fs){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}fs=!1}ba=0,Le=me=Vt=null,jr=!1,$i=hs=0,Br=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Vt.memoizedState=Le=t:Le=Le.next=t,Le}function He(){if(me===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=me.next;var n=Le===null?Vt.memoizedState:Le.next;if(n!==null)Le=n,me=t;else{if(t===null)throw Vt.alternate===null?Error(l(467)):Error(l(310));me=t,t={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},Le===null?Vt.memoizedState=Le=t:Le=Le.next=t}return Le}function nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qi(t){var n=$i;return $i+=1,Br===null&&(Br=[]),t=Gp(Br,t,n),n=Vt,(Le===null?n.memoizedState:Le.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?jm:Bm),t}function ps(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qi(t);if(t.$$typeof===T)return un(t)}throw Error(l(438,String(t)))}function od(t){var n=null,o=Vt.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var i=Vt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(n={data:i.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=nd(),Vt.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(t),i=0;i<t;i++)o[i]=U;return n.index++,o}function Vo(t,n){return typeof n=="function"?n(t):n}function ms(t){var n=He();return ad(n,me,t)}function ad(t,n,o){var i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=o;var c=t.baseQueue,h=i.pending;if(h!==null){if(c!==null){var k=c.next;c.next=h.next,h.next=k}n.baseQueue=c=h,i.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var j=k=null,Q=null,at=n,ut=!1;do{var yt=at.lane&-536870913;if(yt!==at.lane?(ne&yt)===yt:(ba&yt)===yt){var it=at.revertLane;if(it===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),yt===Or&&(ut=!0);else if((ba&it)===it){at=at.next,it===Or&&(ut=!0);continue}else yt={lane:0,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Q===null?(j=Q=yt,k=h):Q=Q.next=yt,Vt.lanes|=it,Ma|=it;yt=at.action,rr&&o(h,yt),h=at.hasEagerState?at.eagerState:o(h,yt)}else it={lane:yt,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Q===null?(j=Q=it,k=h):Q=Q.next=it,Vt.lanes|=yt,Ma|=yt;at=at.next}while(at!==null&&at!==n);if(Q===null?k=h:Q.next=j,!In(h,t.memoizedState)&&(Fe=!0,ut&&(o=Dr,o!==null)))throw o;t.memoizedState=h,t.baseState=k,t.baseQueue=Q,i.lastRenderedState=h}return c===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function rd(t){var n=He(),o=n.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=t;var i=o.dispatch,c=o.pending,h=n.memoizedState;if(c!==null){o.pending=null;var k=c=c.next;do h=t(h,k.action),k=k.next;while(k!==c);In(h,n.memoizedState)||(Fe=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),o.lastRenderedState=h}return[h,i]}function tm(t,n,o){var i=Vt,c=He(),h=le;if(h){if(o===void 0)throw Error(l(407));o=o()}else o=n();var k=!In((me||c).memoizedState,o);k&&(c.memoizedState=o,Fe=!0),c=c.queue;var j=om.bind(null,i,c,t);if(Xi(2048,8,j,[t]),c.getSnapshot!==n||k||Le!==null&&Le.memoizedState.tag&1){if(i.flags|=2048,zr(9,gs(),nm.bind(null,i,c,o,n),null),Ae===null)throw Error(l(349));h||(ba&124)!==0||em(i,n,o)}return o}function em(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},n=Vt.updateQueue,n===null?(n=nd(),Vt.updateQueue=n,n.stores=[t]):(o=n.stores,o===null?n.stores=[t]:o.push(t))}function nm(t,n,o,i){n.value=o,n.getSnapshot=i,am(n)&&rm(t)}function om(t,n,o){return o(function(){am(n)&&rm(t)})}function am(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!In(t,o)}catch{return!0}}function rm(t){var n=Rr(t,2);n!==null&&Ln(n,t,2)}function id(t){var n=En();if(typeof t=="function"){var o=t;if(t=o(),rr){Yt(!0);try{o()}finally{Yt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t},n}function im(t,n,o,i){return t.baseState=o,ad(t,me,typeof i=="function"?i:Vo)}function WA(t,n,o,i,c){if(xs(t))throw Error(l(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){h.listeners.push(k)}};D.T!==null?o(!0):h.isTransition=!1,i(h),o=n.pending,o===null?(h.next=n.pending=h,lm(n,h)):(h.next=o.next,n.pending=o.next=h)}}function lm(t,n){var o=n.action,i=n.payload,c=t.state;if(n.isTransition){var h=D.T,k={};D.T=k;try{var j=o(c,i),Q=D.S;Q!==null&&Q(k,j),sm(t,n,j)}catch(at){ld(t,n,at)}finally{D.T=h}}else try{h=o(c,i),sm(t,n,h)}catch(at){ld(t,n,at)}}function sm(t,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(i){cm(t,n,i)},function(i){return ld(t,n,i)}):cm(t,n,o)}function cm(t,n,o){n.status="fulfilled",n.value=o,um(n),t.state=o,n=t.pending,n!==null&&(o=n.next,o===n?t.pending=null:(o=o.next,n.next=o,lm(t,o)))}function ld(t,n,o){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do n.status="rejected",n.reason=o,um(n),n=n.next;while(n!==i)}t.action=null}function um(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dm(t,n){return n}function fm(t,n){if(le){var o=Ae.formState;if(o!==null){t:{var i=Vt;if(le){if(Oe){e:{for(var c=Oe,h=Mo;c.nodeType!==8;){if(!h){c=null;break e}if(c=bo(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Oe=bo(c.nextSibling),i=c.data==="F!";break t}}er(i)}i=!1}i&&(n=o[0])}}return o=En(),o.memoizedState=o.baseState=n,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dm,lastRenderedState:n},o.queue=i,o=Om.bind(null,Vt,i),i.dispatch=o,i=id(!1),h=fd.bind(null,Vt,!1,i.queue),i=En(),c={state:n,dispatch:null,action:t,pending:null},i.queue=c,o=WA.bind(null,Vt,c,h,o),c.dispatch=o,i.memoizedState=t,[n,o,!1]}function hm(t){var n=He();return pm(n,me,t)}function pm(t,n,o){if(n=ad(t,n,dm)[0],t=ms(Vo)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var i=Qi(n)}catch(k){throw k===Pi?cs:k}else i=n;n=He();var c=n.queue,h=c.dispatch;return o!==n.memoizedState&&(Vt.flags|=2048,zr(9,gs(),ZA.bind(null,c,o),null)),[i,h,t]}function ZA(t,n){t.action=n}function mm(t){var n=He(),o=me;if(o!==null)return pm(n,o,t);He(),n=n.memoizedState,o=He();var i=o.queue.dispatch;return o.memoizedState=t,[n,i,!1]}function zr(t,n,o,i){return t={tag:t,create:o,deps:i,inst:n,next:null},n=Vt.updateQueue,n===null&&(n=nd(),Vt.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=t.next=t:(i=o.next,o.next=t,t.next=i,n.lastEffect=t),t}function gs(){return{destroy:void 0,resource:void 0}}function gm(){return He().memoizedState}function ys(t,n,o,i){var c=En();i=i===void 0?null:i,Vt.flags|=t,c.memoizedState=zr(1|n,gs(),o,i)}function Xi(t,n,o,i){var c=He();i=i===void 0?null:i;var h=c.memoizedState.inst;me!==null&&i!==null&&Zu(i,me.memoizedState.deps)?c.memoizedState=zr(n,h,o,i):(Vt.flags|=t,c.memoizedState=zr(1|n,h,o,i))}function ym(t,n){ys(8390656,8,t,n)}function xm(t,n){Xi(2048,8,t,n)}function bm(t,n){return Xi(4,2,t,n)}function vm(t,n){return Xi(4,4,t,n)}function Am(t,n){if(typeof n=="function"){t=t();var o=n(t);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function wm(t,n,o){o=o!=null?o.concat([t]):null,Xi(4,4,Am.bind(null,n,t),o)}function sd(){}function Cm(t,n){var o=He();n=n===void 0?null:n;var i=o.memoizedState;return n!==null&&Zu(n,i[1])?i[0]:(o.memoizedState=[t,n],t)}function Sm(t,n){var o=He();n=n===void 0?null:n;var i=o.memoizedState;if(n!==null&&Zu(n,i[1]))return i[0];if(i=t(),rr){Yt(!0);try{t()}finally{Yt(!1)}}return o.memoizedState=[i,n],i}function cd(t,n,o){return o===void 0||(ba&1073741824)!==0?t.memoizedState=n:(t.memoizedState=o,t=Rg(),Vt.lanes|=t,Ma|=t,o)}function Em(t,n,o,i){return In(o,n)?o:Ir.current!==null?(t=cd(t,o,i),In(t,n)||(Fe=!0),t):(ba&42)===0?(Fe=!0,t.memoizedState=o):(t=Rg(),Vt.lanes|=t,Ma|=t,n)}function Mm(t,n,o,i,c){var h=P.p;P.p=h!==0&&8>h?h:8;var k=D.T,j={};D.T=j,fd(t,!1,n,o);try{var Q=c(),at=D.S;if(at!==null&&at(j,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ut=FA(Q,i);Gi(t,n,ut,Pn(t))}else Gi(t,n,i,Pn(t))}catch(yt){Gi(t,n,{then:function(){},status:"rejected",reason:yt},Pn())}finally{P.p=h,D.T=k}}function KA(){}function ud(t,n,o,i){if(t.tag!==5)throw Error(l(476));var c=Rm(t).queue;Mm(t,c,n,N,o===null?KA:function(){return Tm(t),o(i)})}function Rm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:N},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:o},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Tm(t){var n=Rm(t).next.queue;Gi(t,n,{},Pn())}function dd(){return un(ul)}function km(){return He().memoizedState}function _m(){return He().memoizedState}function JA(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var o=Pn();t=ya(o);var i=xa(n,t,o);i!==null&&(Ln(i,n,o),Hi(i,n,o)),n={cache:Yu()},t.payload=n;return}n=n.return}}function t1(t,n,o){var i=Pn();o={lane:i,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},xs(t)?Dm(n,o):(o=Ou(t,n,o,i),o!==null&&(Ln(o,t,i),Im(o,n,i)))}function Om(t,n,o){var i=Pn();Gi(t,n,o,i)}function Gi(t,n,o,i){var c={lane:i,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(xs(t))Dm(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var k=n.lastRenderedState,j=h(k,o);if(c.hasEagerState=!0,c.eagerState=j,In(j,k))return es(t,n,c,0),Ae===null&&ts(),!1}catch{}finally{}if(o=Ou(t,n,c,i),o!==null)return Ln(o,t,i),Im(o,n,i),!0}return!1}function fd(t,n,o,i){if(i={lane:2,revertLane:Qd(),action:i,hasEagerState:!1,eagerState:null,next:null},xs(t)){if(n)throw Error(l(479))}else n=Ou(t,o,i,2),n!==null&&Ln(n,t,2)}function xs(t){var n=t.alternate;return t===Vt||n!==null&&n===Vt}function Dm(t,n){jr=fs=!0;var o=t.pending;o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function Im(t,n,o){if((o&4194048)!==0){var i=n.lanes;i&=t.pendingLanes,o|=i,n.lanes=o,Ge(t,o)}}var bs={readContext:un,use:ps,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be},jm={readContext:un,use:ps,useCallback:function(t,n){return En().memoizedState=[t,n===void 0?null:n],t},useContext:un,useEffect:ym,useImperativeHandle:function(t,n,o){o=o!=null?o.concat([t]):null,ys(4194308,4,Am.bind(null,n,t),o)},useLayoutEffect:function(t,n){return ys(4194308,4,t,n)},useInsertionEffect:function(t,n){ys(4,2,t,n)},useMemo:function(t,n){var o=En();n=n===void 0?null:n;var i=t();if(rr){Yt(!0);try{t()}finally{Yt(!1)}}return o.memoizedState=[i,n],i},useReducer:function(t,n,o){var i=En();if(o!==void 0){var c=o(n);if(rr){Yt(!0);try{o(n)}finally{Yt(!1)}}}else c=n;return i.memoizedState=i.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},i.queue=t,t=t.dispatch=t1.bind(null,Vt,t),[i.memoizedState,t]},useRef:function(t){var n=En();return t={current:t},n.memoizedState=t},useState:function(t){t=id(t);var n=t.queue,o=Om.bind(null,Vt,n);return n.dispatch=o,[t.memoizedState,o]},useDebugValue:sd,useDeferredValue:function(t,n){var o=En();return cd(o,t,n)},useTransition:function(){var t=id(!1);return t=Mm.bind(null,Vt,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,o){var i=Vt,c=En();if(le){if(o===void 0)throw Error(l(407));o=o()}else{if(o=n(),Ae===null)throw Error(l(349));(ne&124)!==0||em(i,n,o)}c.memoizedState=o;var h={value:o,getSnapshot:n};return c.queue=h,ym(om.bind(null,i,h,t),[t]),i.flags|=2048,zr(9,gs(),nm.bind(null,i,h,o,n),null),o},useId:function(){var t=En(),n=Ae.identifierPrefix;if(le){var o=Go,i=Xo;o=(i&~(1<<32-Se(i)-1)).toString(32)+o,n=""+n+"R"+o,o=hs++,0<o&&(n+="H"+o.toString(32)),n+=""}else o=qA++,n=""+n+"r"+o.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:dd,useFormState:fm,useActionState:fm,useOptimistic:function(t){var n=En();n.memoizedState=n.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=fd.bind(null,Vt,!0,o),o.dispatch=n,[t,n]},useMemoCache:od,useCacheRefresh:function(){return En().memoizedState=JA.bind(null,Vt)}},Bm={readContext:un,use:ps,useCallback:Cm,useContext:un,useEffect:xm,useImperativeHandle:wm,useInsertionEffect:bm,useLayoutEffect:vm,useMemo:Sm,useReducer:ms,useRef:gm,useState:function(){return ms(Vo)},useDebugValue:sd,useDeferredValue:function(t,n){var o=He();return Em(o,me.memoizedState,t,n)},useTransition:function(){var t=ms(Vo)[0],n=He().memoizedState;return[typeof t=="boolean"?t:Qi(t),n]},useSyncExternalStore:tm,useId:km,useHostTransitionStatus:dd,useFormState:hm,useActionState:hm,useOptimistic:function(t,n){var o=He();return im(o,me,t,n)},useMemoCache:od,useCacheRefresh:_m},e1={readContext:un,use:ps,useCallback:Cm,useContext:un,useEffect:xm,useImperativeHandle:wm,useInsertionEffect:bm,useLayoutEffect:vm,useMemo:Sm,useReducer:rd,useRef:gm,useState:function(){return rd(Vo)},useDebugValue:sd,useDeferredValue:function(t,n){var o=He();return me===null?cd(o,t,n):Em(o,me.memoizedState,t,n)},useTransition:function(){var t=rd(Vo)[0],n=He().memoizedState;return[typeof t=="boolean"?t:Qi(t),n]},useSyncExternalStore:tm,useId:km,useHostTransitionStatus:dd,useFormState:mm,useActionState:mm,useOptimistic:function(t,n){var o=He();return me!==null?im(o,me,t,n):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:od,useCacheRefresh:_m},Nr=null,Fi=0;function vs(t){var n=Fi;return Fi+=1,Nr===null&&(Nr=[]),Gp(Nr,t,n)}function qi(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function As(t,n){throw n.$$typeof===m?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function zm(t){var n=t._init;return n(t._payload)}function Nm(t){function n(tt,W){if(t){var ot=tt.deletions;ot===null?(tt.deletions=[W],tt.flags|=16):ot.push(W)}}function o(tt,W){if(!t)return null;for(;W!==null;)n(tt,W),W=W.sibling;return null}function i(tt){for(var W=new Map;tt!==null;)tt.key!==null?W.set(tt.key,tt):W.set(tt.index,tt),tt=tt.sibling;return W}function c(tt,W){return tt=Qo(tt,W),tt.index=0,tt.sibling=null,tt}function h(tt,W,ot){return tt.index=ot,t?(ot=tt.alternate,ot!==null?(ot=ot.index,ot<W?(tt.flags|=67108866,W):ot):(tt.flags|=67108866,W)):(tt.flags|=1048576,W)}function k(tt){return t&&tt.alternate===null&&(tt.flags|=67108866),tt}function j(tt,W,ot,ft){return W===null||W.tag!==6?(W=Iu(ot,tt.mode,ft),W.return=tt,W):(W=c(W,ot),W.return=tt,W)}function Q(tt,W,ot,ft){var Ot=ot.type;return Ot===v?ut(tt,W,ot.props.children,ft,ot.key):W!==null&&(W.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===B&&zm(Ot)===W.type)?(W=c(W,ot.props),qi(W,ot),W.return=tt,W):(W=os(ot.type,ot.key,ot.props,null,tt.mode,ft),qi(W,ot),W.return=tt,W)}function at(tt,W,ot,ft){return W===null||W.tag!==4||W.stateNode.containerInfo!==ot.containerInfo||W.stateNode.implementation!==ot.implementation?(W=ju(ot,tt.mode,ft),W.return=tt,W):(W=c(W,ot.children||[]),W.return=tt,W)}function ut(tt,W,ot,ft,Ot){return W===null||W.tag!==7?(W=Za(ot,tt.mode,ft,Ot),W.return=tt,W):(W=c(W,ot),W.return=tt,W)}function yt(tt,W,ot){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Iu(""+W,tt.mode,ot),W.return=tt,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return ot=os(W.type,W.key,W.props,null,tt.mode,ot),qi(ot,W),ot.return=tt,ot;case b:return W=ju(W,tt.mode,ot),W.return=tt,W;case B:var ft=W._init;return W=ft(W._payload),yt(tt,W,ot)}if(G(W)||Z(W))return W=Za(W,tt.mode,ot,null),W.return=tt,W;if(typeof W.then=="function")return yt(tt,vs(W),ot);if(W.$$typeof===T)return yt(tt,ls(tt,W),ot);As(tt,W)}return null}function it(tt,W,ot,ft){var Ot=W!==null?W.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Ot!==null?null:j(tt,W,""+ot,ft);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case x:return ot.key===Ot?Q(tt,W,ot,ft):null;case b:return ot.key===Ot?at(tt,W,ot,ft):null;case B:return Ot=ot._init,ot=Ot(ot._payload),it(tt,W,ot,ft)}if(G(ot)||Z(ot))return Ot!==null?null:ut(tt,W,ot,ft,null);if(typeof ot.then=="function")return it(tt,W,vs(ot),ft);if(ot.$$typeof===T)return it(tt,W,ls(tt,ot),ft);As(tt,ot)}return null}function lt(tt,W,ot,ft,Ot){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return tt=tt.get(ot)||null,j(W,tt,""+ft,Ot);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case x:return tt=tt.get(ft.key===null?ot:ft.key)||null,Q(W,tt,ft,Ot);case b:return tt=tt.get(ft.key===null?ot:ft.key)||null,at(W,tt,ft,Ot);case B:var Kt=ft._init;return ft=Kt(ft._payload),lt(tt,W,ot,ft,Ot)}if(G(ft)||Z(ft))return tt=tt.get(ot)||null,ut(W,tt,ft,Ot,null);if(typeof ft.then=="function")return lt(tt,W,ot,vs(ft),Ot);if(ft.$$typeof===T)return lt(tt,W,ot,ls(W,ft),Ot);As(W,ft)}return null}function Ut(tt,W,ot,ft){for(var Ot=null,Kt=null,zt=W,Ht=W=0,Ve=null;zt!==null&&Ht<ot.length;Ht++){zt.index>Ht?(Ve=zt,zt=null):Ve=zt.sibling;var ie=it(tt,zt,ot[Ht],ft);if(ie===null){zt===null&&(zt=Ve);break}t&&zt&&ie.alternate===null&&n(tt,zt),W=h(ie,W,Ht),Kt===null?Ot=ie:Kt.sibling=ie,Kt=ie,zt=Ve}if(Ht===ot.length)return o(tt,zt),le&&Ja(tt,Ht),Ot;if(zt===null){for(;Ht<ot.length;Ht++)zt=yt(tt,ot[Ht],ft),zt!==null&&(W=h(zt,W,Ht),Kt===null?Ot=zt:Kt.sibling=zt,Kt=zt);return le&&Ja(tt,Ht),Ot}for(zt=i(zt);Ht<ot.length;Ht++)Ve=lt(zt,tt,Ht,ot[Ht],ft),Ve!==null&&(t&&Ve.alternate!==null&&zt.delete(Ve.key===null?Ht:Ve.key),W=h(Ve,W,Ht),Kt===null?Ot=Ve:Kt.sibling=Ve,Kt=Ve);return t&&zt.forEach(function(Ba){return n(tt,Ba)}),le&&Ja(tt,Ht),Ot}function Lt(tt,W,ot,ft){if(ot==null)throw Error(l(151));for(var Ot=null,Kt=null,zt=W,Ht=W=0,Ve=null,ie=ot.next();zt!==null&&!ie.done;Ht++,ie=ot.next()){zt.index>Ht?(Ve=zt,zt=null):Ve=zt.sibling;var Ba=it(tt,zt,ie.value,ft);if(Ba===null){zt===null&&(zt=Ve);break}t&&zt&&Ba.alternate===null&&n(tt,zt),W=h(Ba,W,Ht),Kt===null?Ot=Ba:Kt.sibling=Ba,Kt=Ba,zt=Ve}if(ie.done)return o(tt,zt),le&&Ja(tt,Ht),Ot;if(zt===null){for(;!ie.done;Ht++,ie=ot.next())ie=yt(tt,ie.value,ft),ie!==null&&(W=h(ie,W,Ht),Kt===null?Ot=ie:Kt.sibling=ie,Kt=ie);return le&&Ja(tt,Ht),Ot}for(zt=i(zt);!ie.done;Ht++,ie=ot.next())ie=lt(zt,tt,Ht,ie.value,ft),ie!==null&&(t&&ie.alternate!==null&&zt.delete(ie.key===null?Ht:ie.key),W=h(ie,W,Ht),Kt===null?Ot=ie:Kt.sibling=ie,Kt=ie);return t&&zt.forEach(function(nw){return n(tt,nw)}),le&&Ja(tt,Ht),Ot}function ye(tt,W,ot,ft){if(typeof ot=="object"&&ot!==null&&ot.type===v&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case x:t:{for(var Ot=ot.key;W!==null;){if(W.key===Ot){if(Ot=ot.type,Ot===v){if(W.tag===7){o(tt,W.sibling),ft=c(W,ot.props.children),ft.return=tt,tt=ft;break t}}else if(W.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===B&&zm(Ot)===W.type){o(tt,W.sibling),ft=c(W,ot.props),qi(ft,ot),ft.return=tt,tt=ft;break t}o(tt,W);break}else n(tt,W);W=W.sibling}ot.type===v?(ft=Za(ot.props.children,tt.mode,ft,ot.key),ft.return=tt,tt=ft):(ft=os(ot.type,ot.key,ot.props,null,tt.mode,ft),qi(ft,ot),ft.return=tt,tt=ft)}return k(tt);case b:t:{for(Ot=ot.key;W!==null;){if(W.key===Ot)if(W.tag===4&&W.stateNode.containerInfo===ot.containerInfo&&W.stateNode.implementation===ot.implementation){o(tt,W.sibling),ft=c(W,ot.children||[]),ft.return=tt,tt=ft;break t}else{o(tt,W);break}else n(tt,W);W=W.sibling}ft=ju(ot,tt.mode,ft),ft.return=tt,tt=ft}return k(tt);case B:return Ot=ot._init,ot=Ot(ot._payload),ye(tt,W,ot,ft)}if(G(ot))return Ut(tt,W,ot,ft);if(Z(ot)){if(Ot=Z(ot),typeof Ot!="function")throw Error(l(150));return ot=Ot.call(ot),Lt(tt,W,ot,ft)}if(typeof ot.then=="function")return ye(tt,W,vs(ot),ft);if(ot.$$typeof===T)return ye(tt,W,ls(tt,ot),ft);As(tt,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint"?(ot=""+ot,W!==null&&W.tag===6?(o(tt,W.sibling),ft=c(W,ot),ft.return=tt,tt=ft):(o(tt,W),ft=Iu(ot,tt.mode,ft),ft.return=tt,tt=ft),k(tt)):o(tt,W)}return function(tt,W,ot,ft){try{Fi=0;var Ot=ye(tt,W,ot,ft);return Nr=null,Ot}catch(zt){if(zt===Pi||zt===cs)throw zt;var Kt=jn(29,zt,null,tt.mode);return Kt.lanes=ft,Kt.return=tt,Kt}finally{}}}var Pr=Nm(!0),Pm=Nm(!1),Kn=H(null),Ro=null;function va(t){var n=t.alternate;q(Xe,Xe.current&1),q(Kn,t),Ro===null&&(n===null||Ir.current!==null||n.memoizedState!==null)&&(Ro=t)}function Lm(t){if(t.tag===22){if(q(Xe,Xe.current),q(Kn,t),Ro===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Ro=t)}}else Aa()}function Aa(){q(Xe,Xe.current),q(Kn,Kn.current)}function Wo(t){$(Kn),Ro===t&&(Ro=null),$(Xe)}var Xe=H(0);function ws(t){for(var n=t;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||nf(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function hd(t,n,o,i){n=t.memoizedState,o=o(i,n),o=o==null?n:y({},n,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var pd={enqueueSetState:function(t,n,o){t=t._reactInternals;var i=Pn(),c=ya(i);c.payload=n,o!=null&&(c.callback=o),n=xa(t,c,i),n!==null&&(Ln(n,t,i),Hi(n,t,i))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var i=Pn(),c=ya(i);c.tag=1,c.payload=n,o!=null&&(c.callback=o),n=xa(t,c,i),n!==null&&(Ln(n,t,i),Hi(n,t,i))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=Pn(),i=ya(o);i.tag=2,n!=null&&(i.callback=n),n=xa(t,i,o),n!==null&&(Ln(n,t,o),Hi(n,t,o))}};function Hm(t,n,o,i,c,h,k){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,h,k):n.prototype&&n.prototype.isPureReactComponent?!_i(o,i)||!_i(c,h):!0}function Ym(t,n,o,i){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,i),n.state!==t&&pd.enqueueReplaceState(n,n.state,null)}function ir(t,n){var o=n;if("ref"in n){o={};for(var i in n)i!=="ref"&&(o[i]=n[i])}if(t=t.defaultProps){o===n&&(o=y({},o));for(var c in t)o[c]===void 0&&(o[c]=t[c])}return o}var Cs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Um(t){Cs(t)}function $m(t){console.error(t)}function Qm(t){Cs(t)}function Ss(t,n){try{var o=t.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(i){setTimeout(function(){throw i})}}function Xm(t,n,o){try{var i=t.onCaughtError;i(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function md(t,n,o){return o=ya(o),o.tag=3,o.payload={element:null},o.callback=function(){Ss(t,n)},o}function Gm(t){return t=ya(t),t.tag=3,t}function Fm(t,n,o,i){var c=o.type.getDerivedStateFromError;if(typeof c=="function"){var h=i.value;t.payload=function(){return c(h)},t.callback=function(){Xm(n,o,i)}}var k=o.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(t.callback=function(){Xm(n,o,i),typeof c!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var j=i.stack;this.componentDidCatch(i.value,{componentStack:j!==null?j:""})})}function n1(t,n,o,i,c){if(o.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(n=o.alternate,n!==null&&Bi(n,o,c,!0),o=Kn.current,o!==null){switch(o.tag){case 13:return Ro===null?Ld():o.alternate===null&&De===0&&(De=3),o.flags&=-257,o.flags|=65536,o.lanes=c,i===Qu?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([i]):n.add(i),Yd(t,i,c)),!1;case 22:return o.flags|=65536,i===Qu?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([i])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([i]):o.add(i)),Yd(t,i,c)),!1}throw Error(l(435,o.tag))}return Yd(t,i,c),Ld(),!1}if(le)return n=Kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,i!==Nu&&(t=Error(l(422),{cause:i}),ji(qn(t,o)))):(i!==Nu&&(n=Error(l(423),{cause:i}),ji(qn(n,o))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,i=qn(i,o),c=md(t.stateNode,i,c),Fu(t,c),De!==4&&(De=2)),!1;var h=Error(l(520),{cause:i});if(h=qn(h,o),el===null?el=[h]:el.push(h),De!==4&&(De=2),n===null)return!0;i=qn(i,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,t=c&-c,o.lanes|=t,t=md(o.stateNode,i,t),Fu(o,t),!1;case 1:if(n=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ra===null||!Ra.has(h))))return o.flags|=65536,c&=-c,o.lanes|=c,c=Gm(c),Fm(c,t,o,i),Fu(o,c),!1}o=o.return}while(o!==null);return!1}var qm=Error(l(461)),Fe=!1;function tn(t,n,o,i){n.child=t===null?Pm(n,null,o,i):Pr(n,t.child,o,i)}function Vm(t,n,o,i,c){o=o.render;var h=n.ref;if("ref"in i){var k={};for(var j in i)j!=="ref"&&(k[j]=i[j])}else k=i;return or(n),i=Ku(t,n,o,k,h,c),j=Ju(),t!==null&&!Fe?(td(t,n,c),Zo(t,n,c)):(le&&j&&Bu(n),n.flags|=1,tn(t,n,i,c),n.child)}function Wm(t,n,o,i,c){if(t===null){var h=o.type;return typeof h=="function"&&!Du(h)&&h.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=h,Zm(t,n,h,i,c)):(t=os(o.type,null,i,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Cd(t,c)){var k=h.memoizedProps;if(o=o.compare,o=o!==null?o:_i,o(k,i)&&t.ref===n.ref)return Zo(t,n,c)}return n.flags|=1,t=Qo(h,i),t.ref=n.ref,t.return=n,n.child=t}function Zm(t,n,o,i,c){if(t!==null){var h=t.memoizedProps;if(_i(h,i)&&t.ref===n.ref)if(Fe=!1,n.pendingProps=i=h,Cd(t,c))(t.flags&131072)!==0&&(Fe=!0);else return n.lanes=t.lanes,Zo(t,n,c)}return gd(t,n,o,i,c)}function Km(t,n,o){var i=n.pendingProps,c=i.children,h=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if((n.flags&128)!==0){if(i=h!==null?h.baseLanes|o:o,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~i}else n.childLanes=0,n.child=null;return Jm(t,n,i,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ss(n,h!==null?h.cachePool:null),h!==null?Zp(n,h):Vu(),Lm(n);else return n.lanes=n.childLanes=536870912,Jm(t,n,h!==null?h.baseLanes|o:o,o)}else h!==null?(ss(n,h.cachePool),Zp(n,h),Aa(),n.memoizedState=null):(t!==null&&ss(n,null),Vu(),Aa());return tn(t,n,c,o),n.child}function Jm(t,n,o,i){var c=$u();return c=c===null?null:{parent:Qe._currentValue,pool:c},n.memoizedState={baseLanes:o,cachePool:c},t!==null&&ss(n,null),Vu(),Lm(n),t!==null&&Bi(t,n,i,!0),null}function Es(t,n){var o=n.ref;if(o===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(l(284));(t===null||t.ref!==o)&&(n.flags|=4194816)}}function gd(t,n,o,i,c){return or(n),o=Ku(t,n,o,i,void 0,c),i=Ju(),t!==null&&!Fe?(td(t,n,c),Zo(t,n,c)):(le&&i&&Bu(n),n.flags|=1,tn(t,n,o,c),n.child)}function tg(t,n,o,i,c,h){return or(n),n.updateQueue=null,o=Jp(n,i,o,c),Kp(t),i=Ju(),t!==null&&!Fe?(td(t,n,h),Zo(t,n,h)):(le&&i&&Bu(n),n.flags|=1,tn(t,n,o,h),n.child)}function eg(t,n,o,i,c){if(or(n),n.stateNode===null){var h=Tr,k=o.contextType;typeof k=="object"&&k!==null&&(h=un(k)),h=new o(i,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=pd,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=i,h.state=n.memoizedState,h.refs={},Xu(n),k=o.contextType,h.context=typeof k=="object"&&k!==null?un(k):Tr,h.state=n.memoizedState,k=o.getDerivedStateFromProps,typeof k=="function"&&(hd(n,o,k,i),h.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(k=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),k!==h.state&&pd.enqueueReplaceState(h,h.state,null),Ui(n,i,h,c),Yi(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),i=!0}else if(t===null){h=n.stateNode;var j=n.memoizedProps,Q=ir(o,j);h.props=Q;var at=h.context,ut=o.contextType;k=Tr,typeof ut=="object"&&ut!==null&&(k=un(ut));var yt=o.getDerivedStateFromProps;ut=typeof yt=="function"||typeof h.getSnapshotBeforeUpdate=="function",j=n.pendingProps!==j,ut||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(j||at!==k)&&Ym(n,h,i,k),ga=!1;var it=n.memoizedState;h.state=it,Ui(n,i,h,c),Yi(),at=n.memoizedState,j||it!==at||ga?(typeof yt=="function"&&(hd(n,o,yt,i),at=n.memoizedState),(Q=ga||Hm(n,o,Q,i,it,at,k))?(ut||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=at),h.props=i,h.state=at,h.context=k,i=Q):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{h=n.stateNode,Gu(t,n),k=n.memoizedProps,ut=ir(o,k),h.props=ut,yt=n.pendingProps,it=h.context,at=o.contextType,Q=Tr,typeof at=="object"&&at!==null&&(Q=un(at)),j=o.getDerivedStateFromProps,(at=typeof j=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(k!==yt||it!==Q)&&Ym(n,h,i,Q),ga=!1,it=n.memoizedState,h.state=it,Ui(n,i,h,c),Yi();var lt=n.memoizedState;k!==yt||it!==lt||ga||t!==null&&t.dependencies!==null&&is(t.dependencies)?(typeof j=="function"&&(hd(n,o,j,i),lt=n.memoizedState),(ut=ga||Hm(n,o,ut,i,it,lt,Q)||t!==null&&t.dependencies!==null&&is(t.dependencies))?(at||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(i,lt,Q),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(i,lt,Q)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||k===t.memoizedProps&&it===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&it===t.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=lt),h.props=i,h.state=lt,h.context=Q,i=ut):(typeof h.componentDidUpdate!="function"||k===t.memoizedProps&&it===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&it===t.memoizedState||(n.flags|=1024),i=!1)}return h=i,Es(t,n),i=(n.flags&128)!==0,h||i?(h=n.stateNode,o=i&&typeof o.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&i?(n.child=Pr(n,t.child,null,c),n.child=Pr(n,null,o,c)):tn(t,n,o,c),n.memoizedState=h.state,t=n.child):t=Zo(t,n,c),t}function ng(t,n,o,i){return Ii(),n.flags|=256,tn(t,n,o,i),n.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(t){return{baseLanes:t,cachePool:$p()}}function bd(t,n,o){return t=t!==null?t.childLanes&~o:0,n&&(t|=Jn),t}function og(t,n,o){var i=n.pendingProps,c=!1,h=(n.flags&128)!==0,k;if((k=h)||(k=t!==null&&t.memoizedState===null?!1:(Xe.current&2)!==0),k&&(c=!0,n.flags&=-129),k=(n.flags&32)!==0,n.flags&=-33,t===null){if(le){if(c?va(n):Aa(),le){var j=Oe,Q;if(Q=j){t:{for(Q=j,j=Mo;Q.nodeType!==8;){if(!j){j=null;break t}if(Q=bo(Q.nextSibling),Q===null){j=null;break t}}j=Q}j!==null?(n.memoizedState={dehydrated:j,treeContext:Ka!==null?{id:Xo,overflow:Go}:null,retryLane:536870912,hydrationErrors:null},Q=jn(18,null,null,0),Q.stateNode=j,Q.return=n,n.child=Q,yn=n,Oe=null,Q=!0):Q=!1}Q||er(n)}if(j=n.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return nf(j)?n.lanes=32:n.lanes=536870912,null;Wo(n)}return j=i.children,i=i.fallback,c?(Aa(),c=n.mode,j=Ms({mode:"hidden",children:j},c),i=Za(i,c,o,null),j.return=n,i.return=n,j.sibling=i,n.child=j,c=n.child,c.memoizedState=xd(o),c.childLanes=bd(t,k,o),n.memoizedState=yd,i):(va(n),vd(n,j))}if(Q=t.memoizedState,Q!==null&&(j=Q.dehydrated,j!==null)){if(h)n.flags&256?(va(n),n.flags&=-257,n=Ad(t,n,o)):n.memoizedState!==null?(Aa(),n.child=t.child,n.flags|=128,n=null):(Aa(),c=i.fallback,j=n.mode,i=Ms({mode:"visible",children:i.children},j),c=Za(c,j,o,null),c.flags|=2,i.return=n,c.return=n,i.sibling=c,n.child=i,Pr(n,t.child,null,o),i=n.child,i.memoizedState=xd(o),i.childLanes=bd(t,k,o),n.memoizedState=yd,n=c);else if(va(n),nf(j)){if(k=j.nextSibling&&j.nextSibling.dataset,k)var at=k.dgst;k=at,i=Error(l(419)),i.stack="",i.digest=k,ji({value:i,source:null,stack:null}),n=Ad(t,n,o)}else if(Fe||Bi(t,n,o,!1),k=(o&t.childLanes)!==0,Fe||k){if(k=Ae,k!==null&&(i=o&-o,i=(i&42)!==0?1:vn(i),i=(i&(k.suspendedLanes|o))!==0?0:i,i!==0&&i!==Q.retryLane))throw Q.retryLane=i,Rr(t,i),Ln(k,t,i),qm;j.data==="$?"||Ld(),n=Ad(t,n,o)}else j.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=Q.treeContext,Oe=bo(j.nextSibling),yn=n,le=!0,tr=null,Mo=!1,t!==null&&(Wn[Zn++]=Xo,Wn[Zn++]=Go,Wn[Zn++]=Ka,Xo=t.id,Go=t.overflow,Ka=n),n=vd(n,i.children),n.flags|=4096);return n}return c?(Aa(),c=i.fallback,j=n.mode,Q=t.child,at=Q.sibling,i=Qo(Q,{mode:"hidden",children:i.children}),i.subtreeFlags=Q.subtreeFlags&65011712,at!==null?c=Qo(at,c):(c=Za(c,j,o,null),c.flags|=2),c.return=n,i.return=n,i.sibling=c,n.child=i,i=c,c=n.child,j=t.child.memoizedState,j===null?j=xd(o):(Q=j.cachePool,Q!==null?(at=Qe._currentValue,Q=Q.parent!==at?{parent:at,pool:at}:Q):Q=$p(),j={baseLanes:j.baseLanes|o,cachePool:Q}),c.memoizedState=j,c.childLanes=bd(t,k,o),n.memoizedState=yd,i):(va(n),o=t.child,t=o.sibling,o=Qo(o,{mode:"visible",children:i.children}),o.return=n,o.sibling=null,t!==null&&(k=n.deletions,k===null?(n.deletions=[t],n.flags|=16):k.push(t)),n.child=o,n.memoizedState=null,o)}function vd(t,n){return n=Ms({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ms(t,n){return t=jn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ad(t,n,o){return Pr(n,t.child,null,o),t=vd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ag(t,n,o){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n),Lu(t.return,n,o)}function wd(t,n,o,i,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:o,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=o,h.tailMode=c)}function rg(t,n,o){var i=n.pendingProps,c=i.revealOrder,h=i.tail;if(tn(t,n,i.children,o),i=Xe.current,(i&2)!==0)i=i&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ag(t,o,n);else if(t.tag===19)ag(t,o,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(q(Xe,i),c){case"forwards":for(o=n.child,c=null;o!==null;)t=o.alternate,t!==null&&ws(t)===null&&(c=o),o=o.sibling;o=c,o===null?(c=n.child,n.child=null):(c=o.sibling,o.sibling=null),wd(n,!1,c,o,h);break;case"backwards":for(o=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ws(t)===null){n.child=c;break}t=c.sibling,c.sibling=o,o=c,c=t}wd(n,!0,o,null,h);break;case"together":wd(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Zo(t,n,o){if(t!==null&&(n.dependencies=t.dependencies),Ma|=n.lanes,(o&n.childLanes)===0)if(t!==null){if(Bi(t,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,o=Qo(t,t.pendingProps),n.child=o,o.return=n;t.sibling!==null;)t=t.sibling,o=o.sibling=Qo(t,t.pendingProps),o.return=n;o.sibling=null}return n.child}function Cd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&is(t)))}function o1(t,n,o){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),ma(n,Qe,t.memoizedState.cache),Ii();break;case 27:case 5:et(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:ma(n,n.type,n.memoizedProps.value);break;case 13:var i=n.memoizedState;if(i!==null)return i.dehydrated!==null?(va(n),n.flags|=128,null):(o&n.child.childLanes)!==0?og(t,n,o):(va(n),t=Zo(t,n,o),t!==null?t.sibling:null);va(n);break;case 19:var c=(t.flags&128)!==0;if(i=(o&n.childLanes)!==0,i||(Bi(t,n,o,!1),i=(o&n.childLanes)!==0),c){if(i)return rg(t,n,o);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),q(Xe,Xe.current),i)break;return null;case 22:case 23:return n.lanes=0,Km(t,n,o);case 24:ma(n,Qe,t.memoizedState.cache)}return Zo(t,n,o)}function ig(t,n,o){if(t!==null)if(t.memoizedProps!==n.pendingProps)Fe=!0;else{if(!Cd(t,o)&&(n.flags&128)===0)return Fe=!1,o1(t,n,o);Fe=(t.flags&131072)!==0}else Fe=!1,le&&(n.flags&1048576)!==0&&zp(n,rs,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var i=n.elementType,c=i._init;if(i=c(i._payload),n.type=i,typeof i=="function")Du(i)?(t=ir(i,t),n.tag=1,n=eg(null,n,i,t,o)):(n.tag=0,n=gd(null,n,i,t,o));else{if(i!=null){if(c=i.$$typeof,c===_){n.tag=11,n=Vm(null,n,i,t,o);break t}else if(c===O){n.tag=14,n=Wm(null,n,i,t,o);break t}}throw n=X(i)||i,Error(l(306,n,""))}}return n;case 0:return gd(t,n,n.type,n.pendingProps,o);case 1:return i=n.type,c=ir(i,n.pendingProps),eg(t,n,i,c,o);case 3:t:{if(Ct(n,n.stateNode.containerInfo),t===null)throw Error(l(387));i=n.pendingProps;var h=n.memoizedState;c=h.element,Gu(t,n),Ui(n,i,null,o);var k=n.memoizedState;if(i=k.cache,ma(n,Qe,i),i!==h.cache&&Hu(n,[Qe],o,!0),Yi(),i=k.element,h.isDehydrated)if(h={element:i,isDehydrated:!1,cache:k.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=ng(t,n,i,o);break t}else if(i!==c){c=qn(Error(l(424)),n),ji(c),n=ng(t,n,i,o);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Oe=bo(t.firstChild),yn=n,le=!0,tr=null,Mo=!0,o=Pm(n,null,i,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ii(),i===c){n=Zo(t,n,o);break t}tn(t,n,i,o)}n=n.child}return n;case 26:return Es(t,n),t===null?(o=u0(n.type,null,n.pendingProps,null))?n.memoizedState=o:le||(o=n.type,t=n.pendingProps,i=Hs(ht.current).createElement(o),i[Ee]=n,i[xe]=t,nn(i,o,t),pe(i),n.stateNode=i):n.memoizedState=u0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return et(n),t===null&&le&&(i=n.stateNode=l0(n.type,n.pendingProps,ht.current),yn=n,Mo=!0,c=Oe,_a(n.type)?(of=c,Oe=bo(i.firstChild)):Oe=c),tn(t,n,n.pendingProps.children,o),Es(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&le&&((c=i=Oe)&&(i=O1(i,n.type,n.pendingProps,Mo),i!==null?(n.stateNode=i,yn=n,Oe=bo(i.firstChild),Mo=!1,c=!0):c=!1),c||er(n)),et(n),c=n.type,h=n.pendingProps,k=t!==null?t.memoizedProps:null,i=h.children,Jd(c,h)?i=null:k!==null&&Jd(c,k)&&(n.flags|=32),n.memoizedState!==null&&(c=Ku(t,n,VA,null,null,o),ul._currentValue=c),Es(t,n),tn(t,n,i,o),n.child;case 6:return t===null&&le&&((t=o=Oe)&&(o=D1(o,n.pendingProps,Mo),o!==null?(n.stateNode=o,yn=n,Oe=null,t=!0):t=!1),t||er(n)),null;case 13:return og(t,n,o);case 4:return Ct(n,n.stateNode.containerInfo),i=n.pendingProps,t===null?n.child=Pr(n,null,i,o):tn(t,n,i,o),n.child;case 11:return Vm(t,n,n.type,n.pendingProps,o);case 7:return tn(t,n,n.pendingProps,o),n.child;case 8:return tn(t,n,n.pendingProps.children,o),n.child;case 12:return tn(t,n,n.pendingProps.children,o),n.child;case 10:return i=n.pendingProps,ma(n,n.type,i.value),tn(t,n,i.children,o),n.child;case 9:return c=n.type._context,i=n.pendingProps.children,or(n),c=un(c),i=i(c),n.flags|=1,tn(t,n,i,o),n.child;case 14:return Wm(t,n,n.type,n.pendingProps,o);case 15:return Zm(t,n,n.type,n.pendingProps,o);case 19:return rg(t,n,o);case 31:return i=n.pendingProps,o=n.mode,i={mode:i.mode,children:i.children},t===null?(o=Ms(i,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=Qo(t.child,i),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return Km(t,n,o);case 24:return or(n),i=un(Qe),t===null?(c=$u(),c===null&&(c=Ae,h=Yu(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=o),c=h),n.memoizedState={parent:i,cache:c},Xu(n),ma(n,Qe,c)):((t.lanes&o)!==0&&(Gu(t,n),Ui(n,null,null,o),Yi()),c=t.memoizedState,h=n.memoizedState,c.parent!==i?(c={parent:i,cache:i},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ma(n,Qe,i)):(i=h.cache,ma(n,Qe,i),i!==c.cache&&Hu(n,[Qe],o,!0))),tn(t,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Ko(t){t.flags|=4}function lg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m0(n)){if(n=Kn.current,n!==null&&((ne&4194048)===ne?Ro!==null:(ne&62914560)!==ne&&(ne&536870912)===0||n!==Ro))throw Li=Qu,Qp;t.flags|=8192}}function Rs(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?oe():536870912,t.lanes|=n,Ur|=n)}function Vi(t,n){if(!le)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var i=null;o!==null;)o.alternate!==null&&(i=o),o=o.sibling;i===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Te(t){var n=t.alternate!==null&&t.alternate.child===t.child,o=0,i=0;if(n)for(var c=t.child;c!==null;)o|=c.lanes|c.childLanes,i|=c.subtreeFlags&65011712,i|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)o|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=i,t.childLanes=o,n}function a1(t,n,o){var i=n.pendingProps;switch(zu(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(n),null;case 1:return Te(n),null;case 3:return o=n.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),qo(Qe),F(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Di(n)?Ko(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lp())),Te(n),null;case 26:return o=n.memoizedState,t===null?(Ko(n),o!==null?(Te(n),lg(n,o)):(Te(n),n.flags&=-16777217)):o?o!==t.memoizedState?(Ko(n),Te(n),lg(n,o)):(Te(n),n.flags&=-16777217):(t.memoizedProps!==i&&Ko(n),Te(n),n.flags&=-16777217),null;case 27:K(n),o=ht.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==i&&Ko(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Te(n),null}t=nt.current,Di(n)?Np(n):(t=l0(c,i,o),n.stateNode=t,Ko(n))}return Te(n),null;case 5:if(K(n),o=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&Ko(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Te(n),null}if(t=nt.current,Di(n))Np(n);else{switch(c=Hs(ht.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?c.createElement("select",{is:i.is}):c.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?c.createElement(o,{is:i.is}):c.createElement(o)}}t[Ee]=n,t[xe]=i;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(nn(t,o,i),o){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ko(n)}}return Te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==i&&Ko(n);else{if(typeof i!="string"&&n.stateNode===null)throw Error(l(166));if(t=ht.current,Di(n)){if(t=n.stateNode,o=n.memoizedProps,i=null,c=yn,c!==null)switch(c.tag){case 27:case 5:i=c.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===o||i!==null&&i.suppressHydrationWarning===!0||t0(t.nodeValue,o)),t||er(n)}else t=Hs(t).createTextNode(i),t[Ee]=n,n.stateNode=t}return Te(n),null;case 13:if(i=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Di(n),i!==null&&i.dehydrated!==null){if(t===null){if(!c)throw Error(l(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[Ee]=n}else Ii(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Te(n),c=!1}else c=Lp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Wo(n),n):(Wo(n),null)}if(Wo(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=i!==null,t=t!==null&&t.memoizedState!==null,o){i=n.child,c=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(c=i.alternate.memoizedState.cachePool.pool);var h=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==c&&(i.flags|=2048)}return o!==t&&o&&(n.child.flags|=8192),Rs(n,n.updateQueue),Te(n),null;case 4:return F(),t===null&&qd(n.stateNode.containerInfo),Te(n),null;case 10:return qo(n.type),Te(n),null;case 19:if($(Xe),c=n.memoizedState,c===null)return Te(n),null;if(i=(n.flags&128)!==0,h=c.rendering,h===null)if(i)Vi(c,!1);else{if(De!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=ws(t),h!==null){for(n.flags|=128,Vi(c,!1),t=h.updateQueue,n.updateQueue=t,Rs(n,t),n.subtreeFlags=0,t=o,o=n.child;o!==null;)Bp(o,t),o=o.sibling;return q(Xe,Xe.current&1|2),n.child}t=t.sibling}c.tail!==null&&ct()>_s&&(n.flags|=128,i=!0,Vi(c,!1),n.lanes=4194304)}else{if(!i)if(t=ws(h),t!==null){if(n.flags|=128,i=!0,t=t.updateQueue,n.updateQueue=t,Rs(n,t),Vi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!le)return Te(n),null}else 2*ct()-c.renderingStartTime>_s&&o!==536870912&&(n.flags|=128,i=!0,Vi(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=ct(),n.sibling=null,t=Xe.current,q(Xe,i?t&1|2:t&1),n):(Te(n),null);case 22:case 23:return Wo(n),Wu(),i=n.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(n.flags|=8192):i&&(n.flags|=8192),i?(o&536870912)!==0&&(n.flags&128)===0&&(Te(n),n.subtreeFlags&6&&(n.flags|=8192)):Te(n),o=n.updateQueue,o!==null&&Rs(n,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==o&&(n.flags|=2048),t!==null&&$(ar),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),qo(Qe),Te(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function r1(t,n){switch(zu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return qo(Qe),F(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return K(n),null;case 13:if(Wo(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Ii()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(Xe),null;case 4:return F(),null;case 10:return qo(n.type),null;case 22:case 23:return Wo(n),Wu(),t!==null&&$(ar),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return qo(Qe),null;case 25:return null;default:return null}}function sg(t,n){switch(zu(n),n.tag){case 3:qo(Qe),F();break;case 26:case 27:case 5:K(n);break;case 4:F();break;case 13:Wo(n);break;case 19:$(Xe);break;case 10:qo(n.type);break;case 22:case 23:Wo(n),Wu(),t!==null&&$(ar);break;case 24:qo(Qe)}}function Wi(t,n){try{var o=n.updateQueue,i=o!==null?o.lastEffect:null;if(i!==null){var c=i.next;o=c;do{if((o.tag&t)===t){i=void 0;var h=o.create,k=o.inst;i=h(),k.destroy=i}o=o.next}while(o!==c)}}catch(j){ve(n,n.return,j)}}function wa(t,n,o){try{var i=n.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var h=c.next;i=h;do{if((i.tag&t)===t){var k=i.inst,j=k.destroy;if(j!==void 0){k.destroy=void 0,c=n;var Q=o,at=j;try{at()}catch(ut){ve(c,Q,ut)}}}i=i.next}while(i!==h)}}catch(ut){ve(n,n.return,ut)}}function cg(t){var n=t.updateQueue;if(n!==null){var o=t.stateNode;try{Wp(n,o)}catch(i){ve(t,t.return,i)}}}function ug(t,n,o){o.props=ir(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(i){ve(t,n,i)}}function Zi(t,n){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof o=="function"?t.refCleanup=o(i):o.current=i}}catch(c){ve(t,n,c)}}function To(t,n){var o=t.ref,i=t.refCleanup;if(o!==null)if(typeof i=="function")try{i()}catch(c){ve(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(c){ve(t,n,c)}else o.current=null}function dg(t){var n=t.type,o=t.memoizedProps,i=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&i.focus();break t;case"img":o.src?i.src=o.src:o.srcSet&&(i.srcset=o.srcSet)}}catch(c){ve(t,t.return,c)}}function Sd(t,n,o){try{var i=t.stateNode;M1(i,t.type,o,n),i[xe]=n}catch(c){ve(t,t.return,c)}}function fg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_a(t.type)||t.tag===4}function Ed(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||fg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_a(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Md(t,n,o){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(t),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Ls));else if(i!==4&&(i===27&&_a(t.type)&&(o=t.stateNode,n=null),t=t.child,t!==null))for(Md(t,n,o),t=t.sibling;t!==null;)Md(t,n,o),t=t.sibling}function Ts(t,n,o){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?o.insertBefore(t,n):o.appendChild(t);else if(i!==4&&(i===27&&_a(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Ts(t,n,o),t=t.sibling;t!==null;)Ts(t,n,o),t=t.sibling}function hg(t){var n=t.stateNode,o=t.memoizedProps;try{for(var i=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);nn(n,i,o),n[Ee]=t,n[xe]=o}catch(h){ve(t,t.return,h)}}var Jo=!1,ze=!1,Rd=!1,pg=typeof WeakSet=="function"?WeakSet:Set,qe=null;function i1(t,n){if(t=t.containerInfo,Zd=Gs,t=Ep(t),Eu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else t:{o=(o=t.ownerDocument)&&o.defaultView||window;var i=o.getSelection&&o.getSelection();if(i&&i.rangeCount!==0){o=i.anchorNode;var c=i.anchorOffset,h=i.focusNode;i=i.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break t}var k=0,j=-1,Q=-1,at=0,ut=0,yt=t,it=null;e:for(;;){for(var lt;yt!==o||c!==0&&yt.nodeType!==3||(j=k+c),yt!==h||i!==0&&yt.nodeType!==3||(Q=k+i),yt.nodeType===3&&(k+=yt.nodeValue.length),(lt=yt.firstChild)!==null;)it=yt,yt=lt;for(;;){if(yt===t)break e;if(it===o&&++at===c&&(j=k),it===h&&++ut===i&&(Q=k),(lt=yt.nextSibling)!==null)break;yt=it,it=yt.parentNode}yt=lt}o=j===-1||Q===-1?null:{start:j,end:Q}}else o=null}o=o||{start:0,end:0}}else o=null;for(Kd={focusedElem:t,selectionRange:o},Gs=!1,qe=n;qe!==null;)if(n=qe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,qe=t;else for(;qe!==null;){switch(n=qe,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,o=n,c=h.memoizedProps,h=h.memoizedState,i=o.stateNode;try{var Ut=ir(o.type,c,o.elementType===o.type);t=i.getSnapshotBeforeUpdate(Ut,h),i.__reactInternalSnapshotBeforeUpdate=t}catch(Lt){ve(o,o.return,Lt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,o=t.nodeType,o===9)ef(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ef(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,qe=t;break}qe=n.return}}function mg(t,n,o){var i=o.flags;switch(o.tag){case 0:case 11:case 15:Ca(t,o),i&4&&Wi(5,o);break;case 1:if(Ca(t,o),i&4)if(t=o.stateNode,n===null)try{t.componentDidMount()}catch(k){ve(o,o.return,k)}else{var c=ir(o.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(k){ve(o,o.return,k)}}i&64&&cg(o),i&512&&Zi(o,o.return);break;case 3:if(Ca(t,o),i&64&&(t=o.updateQueue,t!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Wp(t,n)}catch(k){ve(o,o.return,k)}}break;case 27:n===null&&i&4&&hg(o);case 26:case 5:Ca(t,o),n===null&&i&4&&dg(o),i&512&&Zi(o,o.return);break;case 12:Ca(t,o);break;case 13:Ca(t,o),i&4&&xg(t,o),i&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=m1.bind(null,o),I1(t,o))));break;case 22:if(i=o.memoizedState!==null||Jo,!i){n=n!==null&&n.memoizedState!==null||ze,c=Jo;var h=ze;Jo=i,(ze=n)&&!h?Sa(t,o,(o.subtreeFlags&8772)!==0):Ca(t,o),Jo=c,ze=h}break;case 30:break;default:Ca(t,o)}}function gg(t){var n=t.alternate;n!==null&&(t.alternate=null,gg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Fa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Me=null,Mn=!1;function ta(t,n,o){for(o=o.child;o!==null;)yg(t,n,o),o=o.sibling}function yg(t,n,o){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Et,o)}catch{}switch(o.tag){case 26:ze||To(o,n),ta(t,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ze||To(o,n);var i=Me,c=Mn;_a(o.type)&&(Me=o.stateNode,Mn=!1),ta(t,n,o),il(o.stateNode),Me=i,Mn=c;break;case 5:ze||To(o,n);case 6:if(i=Me,c=Mn,Me=null,ta(t,n,o),Me=i,Mn=c,Me!==null)if(Mn)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(o.stateNode)}catch(h){ve(o,n,h)}else try{Me.removeChild(o.stateNode)}catch(h){ve(o,n,h)}break;case 18:Me!==null&&(Mn?(t=Me,r0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),pl(t)):r0(Me,o.stateNode));break;case 4:i=Me,c=Mn,Me=o.stateNode.containerInfo,Mn=!0,ta(t,n,o),Me=i,Mn=c;break;case 0:case 11:case 14:case 15:ze||wa(2,o,n),ze||wa(4,o,n),ta(t,n,o);break;case 1:ze||(To(o,n),i=o.stateNode,typeof i.componentWillUnmount=="function"&&ug(o,n,i)),ta(t,n,o);break;case 21:ta(t,n,o);break;case 22:ze=(i=ze)||o.memoizedState!==null,ta(t,n,o),ze=i;break;default:ta(t,n,o)}}function xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{pl(t)}catch(o){ve(n,n.return,o)}}function l1(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new pg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new pg),n;default:throw Error(l(435,t.tag))}}function Td(t,n){var o=l1(t);n.forEach(function(i){var c=g1.bind(null,t,i);o.has(i)||(o.add(i),i.then(c,c))})}function Bn(t,n){var o=n.deletions;if(o!==null)for(var i=0;i<o.length;i++){var c=o[i],h=t,k=n,j=k;t:for(;j!==null;){switch(j.tag){case 27:if(_a(j.type)){Me=j.stateNode,Mn=!1;break t}break;case 5:Me=j.stateNode,Mn=!1;break t;case 3:case 4:Me=j.stateNode.containerInfo,Mn=!0;break t}j=j.return}if(Me===null)throw Error(l(160));yg(h,k,c),Me=null,Mn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)bg(n,t),n=n.sibling}var xo=null;function bg(t,n){var o=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bn(n,t),zn(t),i&4&&(wa(3,t,t.return),Wi(3,t),wa(5,t,t.return));break;case 1:Bn(n,t),zn(t),i&512&&(ze||o===null||To(o,o.return)),i&64&&Jo&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?i:o.concat(i))));break;case 26:var c=xo;if(Bn(n,t),zn(t),i&512&&(ze||o===null||To(o,o.return)),i&4){var h=o!==null?o.memoizedState:null;if(i=t.memoizedState,o===null)if(i===null)if(t.stateNode===null){t:{i=t.type,o=t.memoizedProps,c=c.ownerDocument||c;e:switch(i){case"title":h=c.getElementsByTagName("title")[0],(!h||h[po]||h[Ee]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(i),c.head.insertBefore(h,c.querySelector("head > title"))),nn(h,i,o),h[Ee]=t,pe(h),i=h;break t;case"link":var k=h0("link","href",c).get(i+(o.href||""));if(k){for(var j=0;j<k.length;j++)if(h=k[j],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){k.splice(j,1);break e}}h=c.createElement(i),nn(h,i,o),c.head.appendChild(h);break;case"meta":if(k=h0("meta","content",c).get(i+(o.content||""))){for(j=0;j<k.length;j++)if(h=k[j],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){k.splice(j,1);break e}}h=c.createElement(i),nn(h,i,o),c.head.appendChild(h);break;default:throw Error(l(468,i))}h[Ee]=t,pe(h),i=h}t.stateNode=i}else p0(c,t.type,t.stateNode);else t.stateNode=f0(c,i,t.memoizedProps);else h!==i?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,i===null?p0(c,t.type,t.stateNode):f0(c,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Sd(t,t.memoizedProps,o.memoizedProps)}break;case 27:Bn(n,t),zn(t),i&512&&(ze||o===null||To(o,o.return)),o!==null&&i&4&&Sd(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Bn(n,t),zn(t),i&512&&(ze||o===null||To(o,o.return)),t.flags&32){c=t.stateNode;try{vr(c,"")}catch(lt){ve(t,t.return,lt)}}i&4&&t.stateNode!=null&&(c=t.memoizedProps,Sd(t,c,o!==null?o.memoizedProps:c)),i&1024&&(Rd=!0);break;case 6:if(Bn(n,t),zn(t),i&4){if(t.stateNode===null)throw Error(l(162));i=t.memoizedProps,o=t.stateNode;try{o.nodeValue=i}catch(lt){ve(t,t.return,lt)}}break;case 3:if($s=null,c=xo,xo=Ys(n.containerInfo),Bn(n,t),xo=c,zn(t),i&4&&o!==null&&o.memoizedState.isDehydrated)try{pl(n.containerInfo)}catch(lt){ve(t,t.return,lt)}Rd&&(Rd=!1,vg(t));break;case 4:i=xo,xo=Ys(t.stateNode.containerInfo),Bn(n,t),zn(t),xo=i;break;case 12:Bn(n,t),zn(t);break;case 13:Bn(n,t),zn(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(jd=ct()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Td(t,i)));break;case 22:c=t.memoizedState!==null;var Q=o!==null&&o.memoizedState!==null,at=Jo,ut=ze;if(Jo=at||c,ze=ut||Q,Bn(n,t),ze=ut,Jo=at,zn(t),i&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(o===null||Q||Jo||ze||lr(t)),o=null,n=t;;){if(n.tag===5||n.tag===26){if(o===null){Q=o=n;try{if(h=Q.stateNode,c)k=h.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{j=Q.stateNode;var yt=Q.memoizedProps.style,it=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;j.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(lt){ve(Q,Q.return,lt)}}}else if(n.tag===6){if(o===null){Q=n;try{Q.stateNode.nodeValue=c?"":Q.memoizedProps}catch(lt){ve(Q,Q.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}i&4&&(i=t.updateQueue,i!==null&&(o=i.retryQueue,o!==null&&(i.retryQueue=null,Td(t,o))));break;case 19:Bn(n,t),zn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Td(t,i)));break;case 30:break;case 21:break;default:Bn(n,t),zn(t)}}function zn(t){var n=t.flags;if(n&2){try{for(var o,i=t.return;i!==null;){if(fg(i)){o=i;break}i=i.return}if(o==null)throw Error(l(160));switch(o.tag){case 27:var c=o.stateNode,h=Ed(t);Ts(t,h,c);break;case 5:var k=o.stateNode;o.flags&32&&(vr(k,""),o.flags&=-33);var j=Ed(t);Ts(t,j,k);break;case 3:case 4:var Q=o.stateNode.containerInfo,at=Ed(t);Md(t,at,Q);break;default:throw Error(l(161))}}catch(ut){ve(t,t.return,ut)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function vg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;vg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ca(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)mg(t,n.alternate,n),n=n.sibling}function lr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:wa(4,n,n.return),lr(n);break;case 1:To(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&ug(n,n.return,o),lr(n);break;case 27:il(n.stateNode);case 26:case 5:To(n,n.return),lr(n);break;case 22:n.memoizedState===null&&lr(n);break;case 30:lr(n);break;default:lr(n)}t=t.sibling}}function Sa(t,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var i=n.alternate,c=t,h=n,k=h.flags;switch(h.tag){case 0:case 11:case 15:Sa(c,h,o),Wi(4,h);break;case 1:if(Sa(c,h,o),i=h,c=i.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(at){ve(i,i.return,at)}if(i=h,c=i.updateQueue,c!==null){var j=i.stateNode;try{var Q=c.shared.hiddenCallbacks;if(Q!==null)for(c.shared.hiddenCallbacks=null,c=0;c<Q.length;c++)Vp(Q[c],j)}catch(at){ve(i,i.return,at)}}o&&k&64&&cg(h),Zi(h,h.return);break;case 27:hg(h);case 26:case 5:Sa(c,h,o),o&&i===null&&k&4&&dg(h),Zi(h,h.return);break;case 12:Sa(c,h,o);break;case 13:Sa(c,h,o),o&&k&4&&xg(c,h);break;case 22:h.memoizedState===null&&Sa(c,h,o),Zi(h,h.return);break;case 30:break;default:Sa(c,h,o)}n=n.sibling}}function kd(t,n){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&zi(o))}function _d(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zi(t))}function ko(t,n,o,i){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ag(t,n,o,i),n=n.sibling}function Ag(t,n,o,i){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ko(t,n,o,i),c&2048&&Wi(9,n);break;case 1:ko(t,n,o,i);break;case 3:ko(t,n,o,i),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zi(t)));break;case 12:if(c&2048){ko(t,n,o,i),t=n.stateNode;try{var h=n.memoizedProps,k=h.id,j=h.onPostCommit;typeof j=="function"&&j(k,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Q){ve(n,n.return,Q)}}else ko(t,n,o,i);break;case 13:ko(t,n,o,i);break;case 23:break;case 22:h=n.stateNode,k=n.alternate,n.memoizedState!==null?h._visibility&2?ko(t,n,o,i):Ki(t,n):h._visibility&2?ko(t,n,o,i):(h._visibility|=2,Lr(t,n,o,i,(n.subtreeFlags&10256)!==0)),c&2048&&kd(k,n);break;case 24:ko(t,n,o,i),c&2048&&_d(n.alternate,n);break;default:ko(t,n,o,i)}}function Lr(t,n,o,i,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,k=n,j=o,Q=i,at=k.flags;switch(k.tag){case 0:case 11:case 15:Lr(h,k,j,Q,c),Wi(8,k);break;case 23:break;case 22:var ut=k.stateNode;k.memoizedState!==null?ut._visibility&2?Lr(h,k,j,Q,c):Ki(h,k):(ut._visibility|=2,Lr(h,k,j,Q,c)),c&&at&2048&&kd(k.alternate,k);break;case 24:Lr(h,k,j,Q,c),c&&at&2048&&_d(k.alternate,k);break;default:Lr(h,k,j,Q,c)}n=n.sibling}}function Ki(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=t,i=n,c=i.flags;switch(i.tag){case 22:Ki(o,i),c&2048&&kd(i.alternate,i);break;case 24:Ki(o,i),c&2048&&_d(i.alternate,i);break;default:Ki(o,i)}n=n.sibling}}var Ji=8192;function Hr(t){if(t.subtreeFlags&Ji)for(t=t.child;t!==null;)wg(t),t=t.sibling}function wg(t){switch(t.tag){case 26:Hr(t),t.flags&Ji&&t.memoizedState!==null&&G1(xo,t.memoizedState,t.memoizedProps);break;case 5:Hr(t);break;case 3:case 4:var n=xo;xo=Ys(t.stateNode.containerInfo),Hr(t),xo=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ji,Ji=16777216,Hr(t),Ji=n):Hr(t));break;default:Hr(t)}}function Cg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];qe=i,Eg(i,t)}Cg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sg(t),t=t.sibling}function Sg(t){switch(t.tag){case 0:case 11:case 15:tl(t),t.flags&2048&&wa(9,t,t.return);break;case 3:tl(t);break;case 12:tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ks(t)):tl(t);break;default:tl(t)}}function ks(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];qe=i,Eg(i,t)}Cg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:wa(8,n,n.return),ks(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,ks(n));break;default:ks(n)}t=t.sibling}}function Eg(t,n){for(;qe!==null;){var o=qe;switch(o.tag){case 0:case 11:case 15:wa(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var i=o.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:zi(o.memoizedState.cache)}if(i=o.child,i!==null)i.return=o,qe=i;else t:for(o=t;qe!==null;){i=qe;var c=i.sibling,h=i.return;if(gg(i),i===o){qe=null;break t}if(c!==null){c.return=h,qe=c;break t}qe=h}}}var s1={getCacheForType:function(t){var n=un(Qe),o=n.data.get(t);return o===void 0&&(o=t(),n.data.set(t,o)),o}},c1=typeof WeakMap=="function"?WeakMap:Map,ue=0,Ae=null,Jt=null,ne=0,de=0,Nn=null,Ea=!1,Yr=!1,Od=!1,ea=0,De=0,Ma=0,sr=0,Dd=0,Jn=0,Ur=0,el=null,Rn=null,Id=!1,jd=0,_s=1/0,Os=null,Ra=null,en=0,Ta=null,$r=null,Qr=0,Bd=0,zd=null,Mg=null,nl=0,Nd=null;function Pn(){if((ue&2)!==0&&ne!==0)return ne&-ne;if(D.T!==null){var t=Or;return t!==0?t:Qd()}return fo()}function Rg(){Jn===0&&(Jn=(ne&536870912)===0||le?se():536870912);var t=Kn.current;return t!==null&&(t.flags|=32),Jn}function Ln(t,n,o){(t===Ae&&(de===2||de===9)||t.cancelPendingCommit!==null)&&(Xr(t,0),ka(t,ne,Jn,!1)),$t(t,o),((ue&2)===0||t!==Ae)&&(t===Ae&&((ue&2)===0&&(sr|=o),De===4&&ka(t,ne,Jn,!1)),_o(t))}function Tg(t,n,o){if((ue&6)!==0)throw Error(l(327));var i=!o&&(n&124)===0&&(n&t.expiredLanes)===0||It(t,n),c=i?f1(t,n):Hd(t,n,!0),h=i;do{if(c===0){Yr&&!i&&ka(t,n,0,!1);break}else{if(o=t.current.alternate,h&&!u1(o)){c=Hd(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var k=0;else k=t.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){n=k;t:{var j=t;c=el;var Q=j.current.memoizedState.isDehydrated;if(Q&&(Xr(j,k).flags|=256),k=Hd(j,k,!1),k!==2){if(Od&&!Q){j.errorRecoveryDisabledLanes|=h,sr|=h,c=4;break t}h=Rn,Rn=c,h!==null&&(Rn===null?Rn=h:Rn.push.apply(Rn,h))}c=k}if(h=!1,c!==2)continue}}if(c===1){Xr(t,0),ka(t,n,0,!0);break}t:{switch(i=t,h=c,h){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:ka(i,n,Jn,!Ea);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(c=jd+300-ct(),10<c)){if(ka(i,n,Jn,!Ea),At(i,0,!0)!==0)break t;i.timeoutHandle=o0(kg.bind(null,i,o,Rn,Os,Id,n,Jn,sr,Ur,Ea,h,2,-0,0),c);break t}kg(i,o,Rn,Os,Id,n,Jn,sr,Ur,Ea,h,0,-0,0)}}break}while(!0);_o(t)}function kg(t,n,o,i,c,h,k,j,Q,at,ut,yt,it,lt){if(t.timeoutHandle=-1,yt=n.subtreeFlags,(yt&8192||(yt&16785408)===16785408)&&(cl={stylesheets:null,count:0,unsuspend:X1},wg(n),yt=F1(),yt!==null)){t.cancelPendingCommit=yt(zg.bind(null,t,n,h,o,i,c,k,j,Q,ut,1,it,lt)),ka(t,h,k,!at);return}zg(t,n,h,o,i,c,k,j,Q)}function u1(t){for(var n=t;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var i=0;i<o.length;i++){var c=o[i],h=c.getSnapshot;c=c.value;try{if(!In(h(),c))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ka(t,n,o,i){n&=~Dd,n&=~sr,t.suspendedLanes|=n,t.pingedLanes&=~n,i&&(t.warmLanes|=n),i=t.expirationTimes;for(var c=n;0<c;){var h=31-Se(c),k=1<<h;i[h]=-1,c&=~k}o!==0&&On(t,o,n)}function Ds(){return(ue&6)===0?(ol(0),!1):!0}function Pd(){if(Jt!==null){if(de===0)var t=Jt.return;else t=Jt,Fo=nr=null,ed(t),Nr=null,Fi=0,t=Jt;for(;t!==null;)sg(t.alternate,t),t=t.return;Jt=null}}function Xr(t,n){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,T1(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),Pd(),Ae=t,Jt=o=Qo(t.current,null),ne=n,de=0,Nn=null,Ea=!1,Yr=It(t,n),Od=!1,Ur=Jn=Dd=sr=Ma=De=0,Rn=el=null,Id=!1,(n&8)!==0&&(n|=n&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=n;0<i;){var c=31-Se(i),h=1<<c;n|=t[c],i&=~h}return ea=n,ts(),o}function _g(t,n){Vt=null,D.H=bs,n===Pi||n===cs?(n=Fp(),de=3):n===Qp?(n=Fp(),de=4):de=n===qm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Jt===null&&(De=1,Ss(t,qn(n,t.current)))}function Og(){var t=D.H;return D.H=bs,t===null?bs:t}function Dg(){var t=D.A;return D.A=s1,t}function Ld(){De=4,Ea||(ne&4194048)!==ne&&Kn.current!==null||(Yr=!0),(Ma&134217727)===0&&(sr&134217727)===0||Ae===null||ka(Ae,ne,Jn,!1)}function Hd(t,n,o){var i=ue;ue|=2;var c=Og(),h=Dg();(Ae!==t||ne!==n)&&(Os=null,Xr(t,n)),n=!1;var k=De;t:do try{if(de!==0&&Jt!==null){var j=Jt,Q=Nn;switch(de){case 8:Pd(),k=6;break t;case 3:case 2:case 9:case 6:Kn.current===null&&(n=!0);var at=de;if(de=0,Nn=null,Gr(t,j,Q,at),o&&Yr){k=0;break t}break;default:at=de,de=0,Nn=null,Gr(t,j,Q,at)}}d1(),k=De;break}catch(ut){_g(t,ut)}while(!0);return n&&t.shellSuspendCounter++,Fo=nr=null,ue=i,D.H=c,D.A=h,Jt===null&&(Ae=null,ne=0,ts()),k}function d1(){for(;Jt!==null;)Ig(Jt)}function f1(t,n){var o=ue;ue|=2;var i=Og(),c=Dg();Ae!==t||ne!==n?(Os=null,_s=ct()+500,Xr(t,n)):Yr=It(t,n);t:do try{if(de!==0&&Jt!==null){n=Jt;var h=Nn;e:switch(de){case 1:de=0,Nn=null,Gr(t,n,h,1);break;case 2:case 9:if(Xp(h)){de=0,Nn=null,jg(n);break}n=function(){de!==2&&de!==9||Ae!==t||(de=7),_o(t)},h.then(n,n);break t;case 3:de=7;break t;case 4:de=5;break t;case 7:Xp(h)?(de=0,Nn=null,jg(n)):(de=0,Nn=null,Gr(t,n,h,7));break;case 5:var k=null;switch(Jt.tag){case 26:k=Jt.memoizedState;case 5:case 27:var j=Jt;if(!k||m0(k)){de=0,Nn=null;var Q=j.sibling;if(Q!==null)Jt=Q;else{var at=j.return;at!==null?(Jt=at,Is(at)):Jt=null}break e}}de=0,Nn=null,Gr(t,n,h,5);break;case 6:de=0,Nn=null,Gr(t,n,h,6);break;case 8:Pd(),De=6;break t;default:throw Error(l(462))}}h1();break}catch(ut){_g(t,ut)}while(!0);return Fo=nr=null,D.H=i,D.A=c,ue=o,Jt!==null?0:(Ae=null,ne=0,ts(),De)}function h1(){for(;Jt!==null&&!wt();)Ig(Jt)}function Ig(t){var n=ig(t.alternate,t,ea);t.memoizedProps=t.pendingProps,n===null?Is(t):Jt=n}function jg(t){var n=t,o=n.alternate;switch(n.tag){case 15:case 0:n=tg(o,n,n.pendingProps,n.type,void 0,ne);break;case 11:n=tg(o,n,n.pendingProps,n.type.render,n.ref,ne);break;case 5:ed(n);default:sg(o,n),n=Jt=Bp(n,ea),n=ig(o,n,ea)}t.memoizedProps=t.pendingProps,n===null?Is(t):Jt=n}function Gr(t,n,o,i){Fo=nr=null,ed(n),Nr=null,Fi=0;var c=n.return;try{if(n1(t,c,n,o,ne)){De=1,Ss(t,qn(o,t.current)),Jt=null;return}}catch(h){if(c!==null)throw Jt=c,h;De=1,Ss(t,qn(o,t.current)),Jt=null;return}n.flags&32768?(le||i===1?t=!0:Yr||(ne&536870912)!==0?t=!1:(Ea=t=!0,(i===2||i===9||i===3||i===6)&&(i=Kn.current,i!==null&&i.tag===13&&(i.flags|=16384))),Bg(n,t)):Is(n)}function Is(t){var n=t;do{if((n.flags&32768)!==0){Bg(n,Ea);return}t=n.return;var o=a1(n.alternate,n,ea);if(o!==null){Jt=o;return}if(n=n.sibling,n!==null){Jt=n;return}Jt=n=t}while(n!==null);De===0&&(De=5)}function Bg(t,n){do{var o=r1(t.alternate,t);if(o!==null){o.flags&=32767,Jt=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(t=t.sibling,t!==null)){Jt=t;return}Jt=t=o}while(t!==null);De=6,Jt=null}function zg(t,n,o,i,c,h,k,j,Q){t.cancelPendingCommit=null;do js();while(en!==0);if((ue&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(h=n.lanes|n.childLanes,h|=_u,rn(t,o,h,k,j,Q),t===Ae&&(Jt=Ae=null,ne=0),$r=n,Ta=t,Qr=o,Bd=h,zd=c,Mg=i,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,y1(_t,function(){return Yg(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||i){i=D.T,D.T=null,c=P.p,P.p=2,k=ue,ue|=4;try{i1(t,n,o)}finally{ue=k,P.p=c,D.T=i}}en=1,Ng(),Pg(),Lg()}}function Ng(){if(en===1){en=0;var t=Ta,n=$r,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=D.T,D.T=null;var i=P.p;P.p=2;var c=ue;ue|=4;try{bg(n,t);var h=Kd,k=Ep(t.containerInfo),j=h.focusedElem,Q=h.selectionRange;if(k!==j&&j&&j.ownerDocument&&Sp(j.ownerDocument.documentElement,j)){if(Q!==null&&Eu(j)){var at=Q.start,ut=Q.end;if(ut===void 0&&(ut=at),"selectionStart"in j)j.selectionStart=at,j.selectionEnd=Math.min(ut,j.value.length);else{var yt=j.ownerDocument||document,it=yt&&yt.defaultView||window;if(it.getSelection){var lt=it.getSelection(),Ut=j.textContent.length,Lt=Math.min(Q.start,Ut),ye=Q.end===void 0?Lt:Math.min(Q.end,Ut);!lt.extend&&Lt>ye&&(k=ye,ye=Lt,Lt=k);var tt=Cp(j,Lt),W=Cp(j,ye);if(tt&&W&&(lt.rangeCount!==1||lt.anchorNode!==tt.node||lt.anchorOffset!==tt.offset||lt.focusNode!==W.node||lt.focusOffset!==W.offset)){var ot=yt.createRange();ot.setStart(tt.node,tt.offset),lt.removeAllRanges(),Lt>ye?(lt.addRange(ot),lt.extend(W.node,W.offset)):(ot.setEnd(W.node,W.offset),lt.addRange(ot))}}}}for(yt=[],lt=j;lt=lt.parentNode;)lt.nodeType===1&&yt.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<yt.length;j++){var ft=yt[j];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}Gs=!!Zd,Kd=Zd=null}finally{ue=c,P.p=i,D.T=o}}t.current=n,en=2}}function Pg(){if(en===2){en=0;var t=Ta,n=$r,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=D.T,D.T=null;var i=P.p;P.p=2;var c=ue;ue|=4;try{mg(t,n.alternate,n)}finally{ue=c,P.p=i,D.T=o}}en=3}}function Lg(){if(en===4||en===3){en=0,st();var t=Ta,n=$r,o=Qr,i=Mg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?en=5:(en=0,$r=Ta=null,Hg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ra=null),ln(o),n=n.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Et,n,void 0,(n.current.flags&128)===128)}catch{}if(i!==null){n=D.T,c=P.p,P.p=2,D.T=null;try{for(var h=t.onRecoverableError,k=0;k<i.length;k++){var j=i[k];h(j.value,{componentStack:j.stack})}}finally{D.T=n,P.p=c}}(Qr&3)!==0&&js(),_o(t),c=t.pendingLanes,(o&4194090)!==0&&(c&42)!==0?t===Nd?nl++:(nl=0,Nd=t):nl=0,ol(0)}}function Hg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,zi(n)))}function js(t){return Ng(),Pg(),Lg(),Yg()}function Yg(){if(en!==5)return!1;var t=Ta,n=Bd;Bd=0;var o=ln(Qr),i=D.T,c=P.p;try{P.p=32>o?32:o,D.T=null,o=zd,zd=null;var h=Ta,k=Qr;if(en=0,$r=Ta=null,Qr=0,(ue&6)!==0)throw Error(l(331));var j=ue;if(ue|=4,Sg(h.current),Ag(h,h.current,k,o),ue=j,ol(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Et,h)}catch{}return!0}finally{P.p=c,D.T=i,Hg(t,n)}}function Ug(t,n,o){n=qn(o,n),n=md(t.stateNode,n,2),t=xa(t,n,2),t!==null&&($t(t,2),_o(t))}function ve(t,n,o){if(t.tag===3)Ug(t,t,o);else for(;n!==null;){if(n.tag===3){Ug(n,t,o);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ra===null||!Ra.has(i))){t=qn(o,t),o=Gm(2),i=xa(n,o,2),i!==null&&(Fm(o,i,n,t),$t(i,2),_o(i));break}}n=n.return}}function Yd(t,n,o){var i=t.pingCache;if(i===null){i=t.pingCache=new c1;var c=new Set;i.set(n,c)}else c=i.get(n),c===void 0&&(c=new Set,i.set(n,c));c.has(o)||(Od=!0,c.add(o),t=p1.bind(null,t,n,o),n.then(t,t))}function p1(t,n,o){var i=t.pingCache;i!==null&&i.delete(n),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Ae===t&&(ne&o)===o&&(De===4||De===3&&(ne&62914560)===ne&&300>ct()-jd?(ue&2)===0&&Xr(t,0):Dd|=o,Ur===ne&&(Ur=0)),_o(t)}function $g(t,n){n===0&&(n=oe()),t=Rr(t,n),t!==null&&($t(t,n),_o(t))}function m1(t){var n=t.memoizedState,o=0;n!==null&&(o=n.retryLane),$g(t,o)}function g1(t,n){var o=0;switch(t.tag){case 13:var i=t.stateNode,c=t.memoizedState;c!==null&&(o=c.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(n),$g(t,o)}function y1(t,n){return bt(t,n)}var Bs=null,Fr=null,Ud=!1,zs=!1,$d=!1,cr=0;function _o(t){t!==Fr&&t.next===null&&(Fr===null?Bs=Fr=t:Fr=Fr.next=t),zs=!0,Ud||(Ud=!0,b1())}function ol(t,n){if(!$d&&zs){$d=!0;do for(var o=!1,i=Bs;i!==null;){if(t!==0){var c=i.pendingLanes;if(c===0)var h=0;else{var k=i.suspendedLanes,j=i.pingedLanes;h=(1<<31-Se(42|t)+1)-1,h&=c&~(k&~j),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,Fg(i,h))}else h=ne,h=At(i,i===Ae?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(h&3)===0||It(i,h)||(o=!0,Fg(i,h));i=i.next}while(o);$d=!1}}function x1(){Qg()}function Qg(){zs=Ud=!1;var t=0;cr!==0&&(R1()&&(t=cr),cr=0);for(var n=ct(),o=null,i=Bs;i!==null;){var c=i.next,h=Xg(i,n);h===0?(i.next=null,o===null?Bs=c:o.next=c,c===null&&(Fr=o)):(o=i,(t!==0||(h&3)!==0)&&(zs=!0)),i=c}ol(t)}function Xg(t,n){for(var o=t.suspendedLanes,i=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var k=31-Se(h),j=1<<k,Q=c[k];Q===-1?((j&o)===0||(j&i)!==0)&&(c[k]=he(j,n)):Q<=n&&(t.expiredLanes|=j),h&=~j}if(n=Ae,o=ne,o=At(t,t===n?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,o===0||t===n&&(de===2||de===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&mt(i),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||It(t,o)){if(n=o&-o,n===t.callbackPriority)return n;switch(i!==null&&mt(i),ln(o)){case 2:case 8:o=Rt;break;case 32:o=_t;break;case 268435456:o=Nt;break;default:o=_t}return i=Gg.bind(null,t),o=bt(o,i),t.callbackPriority=n,t.callbackNode=o,n}return i!==null&&i!==null&&mt(i),t.callbackPriority=2,t.callbackNode=null,2}function Gg(t,n){if(en!==0&&en!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(js()&&t.callbackNode!==o)return null;var i=ne;return i=At(t,t===Ae?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Tg(t,i,n),Xg(t,ct()),t.callbackNode!=null&&t.callbackNode===o?Gg.bind(null,t):null)}function Fg(t,n){if(js())return null;Tg(t,n,!0)}function b1(){k1(function(){(ue&6)!==0?bt(pt,x1):Qg()})}function Qd(){return cr===0&&(cr=se()),cr}function qg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fl(""+t)}function Vg(t,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,t.id&&o.setAttribute("form",t.id),n.parentNode.insertBefore(o,n),t=new FormData(t),o.parentNode.removeChild(o),t}function v1(t,n,o,i,c){if(n==="submit"&&o&&o.stateNode===c){var h=qg((c[xe]||null).action),k=i.submitter;k&&(n=(n=k[xe]||null)?qg(n.formAction):k.getAttribute("formAction"),n!==null&&(h=n,k=null));var j=new Zl("action","action",null,i,c);t.push({event:j,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(cr!==0){var Q=k?Vg(c,k):new FormData(c);ud(o,{pending:!0,data:Q,method:c.method,action:h},null,Q)}}else typeof h=="function"&&(j.preventDefault(),Q=k?Vg(c,k):new FormData(c),ud(o,{pending:!0,data:Q,method:c.method,action:h},h,Q))},currentTarget:c}]})}}for(var Xd=0;Xd<ku.length;Xd++){var Gd=ku[Xd],A1=Gd.toLowerCase(),w1=Gd[0].toUpperCase()+Gd.slice(1);yo(A1,"on"+w1)}yo(Tp,"onAnimationEnd"),yo(kp,"onAnimationIteration"),yo(_p,"onAnimationStart"),yo("dblclick","onDoubleClick"),yo("focusin","onFocus"),yo("focusout","onBlur"),yo(LA,"onTransitionRun"),yo(HA,"onTransitionStart"),yo(YA,"onTransitionCancel"),yo(Op,"onTransitionEnd"),Yo("onMouseEnter",["mouseout","mouseover"]),Yo("onMouseLeave",["mouseout","mouseover"]),Yo("onPointerEnter",["pointerout","pointerover"]),Yo("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Wg(t,n){n=(n&4)!==0;for(var o=0;o<t.length;o++){var i=t[o],c=i.event;i=i.listeners;t:{var h=void 0;if(n)for(var k=i.length-1;0<=k;k--){var j=i[k],Q=j.instance,at=j.currentTarget;if(j=j.listener,Q!==h&&c.isPropagationStopped())break t;h=j,c.currentTarget=at;try{h(c)}catch(ut){Cs(ut)}c.currentTarget=null,h=Q}else for(k=0;k<i.length;k++){if(j=i[k],Q=j.instance,at=j.currentTarget,j=j.listener,Q!==h&&c.isPropagationStopped())break t;h=j,c.currentTarget=at;try{h(c)}catch(ut){Cs(ut)}c.currentTarget=null,h=Q}}}}function te(t,n){var o=n[ho];o===void 0&&(o=n[ho]=new Set);var i=t+"__bubble";o.has(i)||(Zg(n,t,2,!1),o.add(i))}function Fd(t,n,o){var i=0;n&&(i|=4),Zg(o,t,i,n)}var Ns="_reactListening"+Math.random().toString(36).slice(2);function qd(t){if(!t[Ns]){t[Ns]=!0,So.forEach(function(o){o!=="selectionchange"&&(C1.has(o)||Fd(o,!1,t),Fd(o,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ns]||(n[Ns]=!0,Fd("selectionchange",!1,n))}}function Zg(t,n,o,i){switch(A0(n)){case 2:var c=W1;break;case 8:c=Z1;break;default:c=cf}o=c.bind(null,n,o,t),c=void 0,!gu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),i?c!==void 0?t.addEventListener(n,o,{capture:!0,passive:c}):t.addEventListener(n,o,!0):c!==void 0?t.addEventListener(n,o,{passive:c}):t.addEventListener(n,o,!1)}function Vd(t,n,o,i,c){var h=i;if((n&1)===0&&(n&2)===0&&i!==null)t:for(;;){if(i===null)return;var k=i.tag;if(k===3||k===4){var j=i.stateNode.containerInfo;if(j===c)break;if(k===4)for(k=i.return;k!==null;){var Q=k.tag;if((Q===3||Q===4)&&k.stateNode.containerInfo===c)return;k=k.return}for(;j!==null;){if(k=sn(j),k===null)return;if(Q=k.tag,Q===5||Q===6||Q===26||Q===27){i=h=k;continue t}j=j.parentNode}}i=i.return}ap(function(){var at=h,ut=pu(o),yt=[];t:{var it=Dp.get(t);if(it!==void 0){var lt=Zl,Ut=t;switch(t){case"keypress":if(Vl(o)===0)break t;case"keydown":case"keyup":lt=yA;break;case"focusin":Ut="focus",lt=vu;break;case"focusout":Ut="blur",lt=vu;break;case"beforeblur":case"afterblur":lt=vu;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=rA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=vA;break;case Tp:case kp:case _p:lt=sA;break;case Op:lt=wA;break;case"scroll":case"scrollend":lt=oA;break;case"wheel":lt=SA;break;case"copy":case"cut":case"paste":lt=uA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=cp;break;case"toggle":case"beforetoggle":lt=MA}var Lt=(n&4)!==0,ye=!Lt&&(t==="scroll"||t==="scrollend"),tt=Lt?it!==null?it+"Capture":null:it;Lt=[];for(var W=at,ot;W!==null;){var ft=W;if(ot=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||ot===null||tt===null||(ft=Ci(W,tt),ft!=null&&Lt.push(rl(W,ft,ot))),ye)break;W=W.return}0<Lt.length&&(it=new lt(it,Ut,null,o,ut),yt.push({event:it,listeners:Lt}))}}if((n&7)===0){t:{if(it=t==="mouseover"||t==="pointerover",lt=t==="mouseout"||t==="pointerout",it&&o!==hu&&(Ut=o.relatedTarget||o.fromElement)&&(sn(Ut)||Ut[An]))break t;if((lt||it)&&(it=ut.window===ut?ut:(it=ut.ownerDocument)?it.defaultView||it.parentWindow:window,lt?(Ut=o.relatedTarget||o.toElement,lt=at,Ut=Ut?sn(Ut):null,Ut!==null&&(ye=u(Ut),Lt=Ut.tag,Ut!==ye||Lt!==5&&Lt!==27&&Lt!==6)&&(Ut=null)):(lt=null,Ut=at),lt!==Ut)){if(Lt=lp,ft="onMouseLeave",tt="onMouseEnter",W="mouse",(t==="pointerout"||t==="pointerover")&&(Lt=cp,ft="onPointerLeave",tt="onPointerEnter",W="pointer"),ye=lt==null?it:Dn(lt),ot=Ut==null?it:Dn(Ut),it=new Lt(ft,W+"leave",lt,o,ut),it.target=ye,it.relatedTarget=ot,ft=null,sn(ut)===at&&(Lt=new Lt(tt,W+"enter",Ut,o,ut),Lt.target=ot,Lt.relatedTarget=ye,ft=Lt),ye=ft,lt&&Ut)e:{for(Lt=lt,tt=Ut,W=0,ot=Lt;ot;ot=qr(ot))W++;for(ot=0,ft=tt;ft;ft=qr(ft))ot++;for(;0<W-ot;)Lt=qr(Lt),W--;for(;0<ot-W;)tt=qr(tt),ot--;for(;W--;){if(Lt===tt||tt!==null&&Lt===tt.alternate)break e;Lt=qr(Lt),tt=qr(tt)}Lt=null}else Lt=null;lt!==null&&Kg(yt,it,lt,Lt,!1),Ut!==null&&ye!==null&&Kg(yt,ye,Ut,Lt,!0)}}t:{if(it=at?Dn(at):window,lt=it.nodeName&&it.nodeName.toLowerCase(),lt==="select"||lt==="input"&&it.type==="file")var Ot=yp;else if(mp(it))if(xp)Ot=zA;else{Ot=jA;var Kt=IA}else lt=it.nodeName,!lt||lt.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?at&&fu(at.elementType)&&(Ot=yp):Ot=BA;if(Ot&&(Ot=Ot(t,at))){gp(yt,Ot,o,ut);break t}Kt&&Kt(t,it,at),t==="focusout"&&at&&it.type==="number"&&at.memoizedProps.value!=null&&du(it,"number",it.value)}switch(Kt=at?Dn(at):window,t){case"focusin":(mp(Kt)||Kt.contentEditable==="true")&&(Sr=Kt,Mu=at,Oi=null);break;case"focusout":Oi=Mu=Sr=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,Mp(yt,o,ut);break;case"selectionchange":if(PA)break;case"keydown":case"keyup":Mp(yt,o,ut)}var zt;if(wu)t:{switch(t){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else Cr?hp(t,o)&&(Ht="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ht="onCompositionStart");Ht&&(up&&o.locale!=="ko"&&(Cr||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Cr&&(zt=rp()):(pa=ut,yu="value"in pa?pa.value:pa.textContent,Cr=!0)),Kt=Ps(at,Ht),0<Kt.length&&(Ht=new sp(Ht,t,null,o,ut),yt.push({event:Ht,listeners:Kt}),zt?Ht.data=zt:(zt=pp(o),zt!==null&&(Ht.data=zt)))),(zt=TA?kA(t,o):_A(t,o))&&(Ht=Ps(at,"onBeforeInput"),0<Ht.length&&(Kt=new sp("onBeforeInput","beforeinput",null,o,ut),yt.push({event:Kt,listeners:Ht}),Kt.data=zt)),v1(yt,t,at,o,ut)}Wg(yt,n)})}function rl(t,n,o){return{instance:t,listener:n,currentTarget:o}}function Ps(t,n){for(var o=n+"Capture",i=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ci(t,o),c!=null&&i.unshift(rl(t,c,h)),c=Ci(t,n),c!=null&&i.push(rl(t,c,h))),t.tag===3)return i;t=t.return}return[]}function qr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kg(t,n,o,i,c){for(var h=n._reactName,k=[];o!==null&&o!==i;){var j=o,Q=j.alternate,at=j.stateNode;if(j=j.tag,Q!==null&&Q===i)break;j!==5&&j!==26&&j!==27||at===null||(Q=at,c?(at=Ci(o,h),at!=null&&k.unshift(rl(o,at,Q))):c||(at=Ci(o,h),at!=null&&k.push(rl(o,at,Q)))),o=o.return}k.length!==0&&t.push({event:n,listeners:k})}var S1=/\r\n?/g,E1=/\u0000|\uFFFD/g;function Jg(t){return(typeof t=="string"?t:""+t).replace(S1,`
`).replace(E1,"")}function t0(t,n){return n=Jg(n),Jg(t)===n}function Ls(){}function ge(t,n,o,i,c,h){switch(o){case"children":typeof i=="string"?n==="body"||n==="textarea"&&i===""||vr(t,i):(typeof i=="number"||typeof i=="bigint")&&n!=="body"&&vr(t,""+i);break;case"className":xr(t,"class",i);break;case"tabIndex":xr(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(t,o,i);break;case"style":np(t,i,h);break;case"data":if(n!=="object"){xr(t,"data",i);break}case"src":case"href":if(i===""&&(n!=="a"||o!=="href")){t.removeAttribute(o);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(o);break}i=Fl(""+i),t.setAttribute(o,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(n!=="input"&&ge(t,n,"name",c.name,c,null),ge(t,n,"formEncType",c.formEncType,c,null),ge(t,n,"formMethod",c.formMethod,c,null),ge(t,n,"formTarget",c.formTarget,c,null)):(ge(t,n,"encType",c.encType,c,null),ge(t,n,"method",c.method,c,null),ge(t,n,"target",c.target,c,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(o);break}i=Fl(""+i),t.setAttribute(o,i);break;case"onClick":i!=null&&(t.onclick=Ls);break;case"onScroll":i!=null&&te("scroll",t);break;case"onScrollEnd":i!=null&&te("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(o=i.__html,o!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=o}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}o=Fl(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(o,""+i):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":i===!0?t.setAttribute(o,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(o,i):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(o,i):t.removeAttribute(o);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(o):t.setAttribute(o,i);break;case"popover":te("beforetoggle",t),te("toggle",t),yr(t,"popover",i);break;case"xlinkActuate":Fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Fn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Fn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Fn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Fn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":yr(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=eA.get(o)||o,yr(t,o,i))}}function Wd(t,n,o,i,c,h){switch(o){case"style":np(t,i,h);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(o=i.__html,o!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=o}}break;case"children":typeof i=="string"?vr(t,i):(typeof i=="number"||typeof i=="bigint")&&vr(t,""+i);break;case"onScroll":i!=null&&te("scroll",t);break;case"onScrollEnd":i!=null&&te("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Ls);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(c=o.endsWith("Capture"),n=o.slice(2,c?o.length-7:void 0),h=t[xe]||null,h=h!=null?h[o]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof i=="function")){typeof h!="function"&&h!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(n,i,c);break t}o in t?t[o]=i:i===!0?t.setAttribute(o,""):yr(t,o,i)}}}function nn(t,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",t),te("load",t);var i=!1,c=!1,h;for(h in o)if(o.hasOwnProperty(h)){var k=o[h];if(k!=null)switch(h){case"src":i=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:ge(t,n,h,k,o,null)}}c&&ge(t,n,"srcSet",o.srcSet,o,null),i&&ge(t,n,"src",o.src,o,null);return;case"input":te("invalid",t);var j=h=k=c=null,Q=null,at=null;for(i in o)if(o.hasOwnProperty(i)){var ut=o[i];if(ut!=null)switch(i){case"name":c=ut;break;case"type":k=ut;break;case"checked":Q=ut;break;case"defaultChecked":at=ut;break;case"value":h=ut;break;case"defaultValue":j=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(l(137,n));break;default:ge(t,n,i,ut,o,null)}}Kh(t,h,j,Q,at,k,c,!1),Pe(t);return;case"select":te("invalid",t),i=k=h=null;for(c in o)if(o.hasOwnProperty(c)&&(j=o[c],j!=null))switch(c){case"value":h=j;break;case"defaultValue":k=j;break;case"multiple":i=j;default:ge(t,n,c,j,o,null)}n=h,o=k,t.multiple=!!i,n!=null?br(t,!!i,n,!1):o!=null&&br(t,!!i,o,!0);return;case"textarea":te("invalid",t),h=c=i=null;for(k in o)if(o.hasOwnProperty(k)&&(j=o[k],j!=null))switch(k){case"value":i=j;break;case"defaultValue":c=j;break;case"children":h=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(l(91));break;default:ge(t,n,k,j,o,null)}tp(t,i,c,h),Pe(t);return;case"option":for(Q in o)if(o.hasOwnProperty(Q)&&(i=o[Q],i!=null))switch(Q){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ge(t,n,Q,i,o,null)}return;case"dialog":te("beforetoggle",t),te("toggle",t),te("cancel",t),te("close",t);break;case"iframe":case"object":te("load",t);break;case"video":case"audio":for(i=0;i<al.length;i++)te(al[i],t);break;case"image":te("error",t),te("load",t);break;case"details":te("toggle",t);break;case"embed":case"source":case"link":te("error",t),te("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in o)if(o.hasOwnProperty(at)&&(i=o[at],i!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:ge(t,n,at,i,o,null)}return;default:if(fu(n)){for(ut in o)o.hasOwnProperty(ut)&&(i=o[ut],i!==void 0&&Wd(t,n,ut,i,o,void 0));return}}for(j in o)o.hasOwnProperty(j)&&(i=o[j],i!=null&&ge(t,n,j,i,o,null))}function M1(t,n,o,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,k=null,j=null,Q=null,at=null,ut=null;for(lt in o){var yt=o[lt];if(o.hasOwnProperty(lt)&&yt!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":Q=yt;default:i.hasOwnProperty(lt)||ge(t,n,lt,null,i,yt)}}for(var it in i){var lt=i[it];if(yt=o[it],i.hasOwnProperty(it)&&(lt!=null||yt!=null))switch(it){case"type":h=lt;break;case"name":c=lt;break;case"checked":at=lt;break;case"defaultChecked":ut=lt;break;case"value":k=lt;break;case"defaultValue":j=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(l(137,n));break;default:lt!==yt&&ge(t,n,it,lt,i,yt)}}wi(t,k,j,Q,at,ut,h,c);return;case"select":lt=k=j=it=null;for(h in o)if(Q=o[h],o.hasOwnProperty(h)&&Q!=null)switch(h){case"value":break;case"multiple":lt=Q;default:i.hasOwnProperty(h)||ge(t,n,h,null,i,Q)}for(c in i)if(h=i[c],Q=o[c],i.hasOwnProperty(c)&&(h!=null||Q!=null))switch(c){case"value":it=h;break;case"defaultValue":j=h;break;case"multiple":k=h;default:h!==Q&&ge(t,n,c,h,i,Q)}n=j,o=k,i=lt,it!=null?br(t,!!o,it,!1):!!i!=!!o&&(n!=null?br(t,!!o,n,!0):br(t,!!o,o?[]:"",!1));return;case"textarea":lt=it=null;for(j in o)if(c=o[j],o.hasOwnProperty(j)&&c!=null&&!i.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:ge(t,n,j,null,i,c)}for(k in i)if(c=i[k],h=o[k],i.hasOwnProperty(k)&&(c!=null||h!=null))switch(k){case"value":it=c;break;case"defaultValue":lt=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==h&&ge(t,n,k,c,i,h)}Jh(t,it,lt);return;case"option":for(var Ut in o)if(it=o[Ut],o.hasOwnProperty(Ut)&&it!=null&&!i.hasOwnProperty(Ut))switch(Ut){case"selected":t.selected=!1;break;default:ge(t,n,Ut,null,i,it)}for(Q in i)if(it=i[Q],lt=o[Q],i.hasOwnProperty(Q)&&it!==lt&&(it!=null||lt!=null))switch(Q){case"selected":t.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:ge(t,n,Q,it,i,lt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in o)it=o[Lt],o.hasOwnProperty(Lt)&&it!=null&&!i.hasOwnProperty(Lt)&&ge(t,n,Lt,null,i,it);for(at in i)if(it=i[at],lt=o[at],i.hasOwnProperty(at)&&it!==lt&&(it!=null||lt!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(l(137,n));break;default:ge(t,n,at,it,i,lt)}return;default:if(fu(n)){for(var ye in o)it=o[ye],o.hasOwnProperty(ye)&&it!==void 0&&!i.hasOwnProperty(ye)&&Wd(t,n,ye,void 0,i,it);for(ut in i)it=i[ut],lt=o[ut],!i.hasOwnProperty(ut)||it===lt||it===void 0&&lt===void 0||Wd(t,n,ut,it,i,lt);return}}for(var tt in o)it=o[tt],o.hasOwnProperty(tt)&&it!=null&&!i.hasOwnProperty(tt)&&ge(t,n,tt,null,i,it);for(yt in i)it=i[yt],lt=o[yt],!i.hasOwnProperty(yt)||it===lt||it==null&&lt==null||ge(t,n,yt,it,i,lt)}var Zd=null,Kd=null;function Hs(t){return t.nodeType===9?t:t.ownerDocument}function e0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Jd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tf=null;function R1(){var t=window.event;return t&&t.type==="popstate"?t===tf?!1:(tf=t,!0):(tf=null,!1)}var o0=typeof setTimeout=="function"?setTimeout:void 0,T1=typeof clearTimeout=="function"?clearTimeout:void 0,a0=typeof Promise=="function"?Promise:void 0,k1=typeof queueMicrotask=="function"?queueMicrotask:typeof a0<"u"?function(t){return a0.resolve(null).then(t).catch(_1)}:o0;function _1(t){setTimeout(function(){throw t})}function _a(t){return t==="head"}function r0(t,n){var o=n,i=0,c=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(0<i&&8>i){o=i;var k=t.ownerDocument;if(o&1&&il(k.documentElement),o&2&&il(k.body),o&4)for(o=k.head,il(o),k=o.firstChild;k;){var j=k.nextSibling,Q=k.nodeName;k[po]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&k.rel.toLowerCase()==="stylesheet"||o.removeChild(k),k=j}}if(c===0){t.removeChild(h),pl(n);return}c--}else o==="$"||o==="$?"||o==="$!"?c++:i=o.charCodeAt(0)-48;else i=0;o=h}while(o);pl(n)}function ef(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ef(o),Fa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function O1(t,n,o,i){for(;t.nodeType===1;){var c=o;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[po])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=bo(t.nextSibling),t===null)break}return null}function D1(t,n,o){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=bo(t.nextSibling),t===null))return null;return t}function nf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function I1(t,n){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")n();else{var i=function(){n(),o.removeEventListener("DOMContentLoaded",i)};o.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function bo(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var of=null;function i0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return t;n--}else o==="/$"&&n++}t=t.previousSibling}return null}function l0(t,n,o){switch(n=Hs(o),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function il(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Fa(t)}var to=new Map,s0=new Set;function Ys(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var na=P.d;P.d={f:j1,r:B1,D:z1,C:N1,L:P1,m:L1,X:Y1,S:H1,M:U1};function j1(){var t=na.f(),n=Ds();return t||n}function B1(t){var n=Ue(t);n!==null&&n.tag===5&&n.type==="form"?Tm(n):na.r(t)}var Vr=typeof document>"u"?null:document;function c0(t,n,o){var i=Vr;if(i&&typeof n=="string"&&n){var c=$e(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof o=="string"&&(c+='[crossorigin="'+o+'"]'),s0.has(c)||(s0.add(c),t={rel:t,crossOrigin:o,href:n},i.querySelector(c)===null&&(n=i.createElement("link"),nn(n,"link",t),pe(n),i.head.appendChild(n)))}}function z1(t){na.D(t),c0("dns-prefetch",t,null)}function N1(t,n){na.C(t,n),c0("preconnect",t,n)}function P1(t,n,o){na.L(t,n,o);var i=Vr;if(i&&t&&n){var c='link[rel="preload"][as="'+$e(n)+'"]';n==="image"&&o&&o.imageSrcSet?(c+='[imagesrcset="'+$e(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(c+='[imagesizes="'+$e(o.imageSizes)+'"]')):c+='[href="'+$e(t)+'"]';var h=c;switch(n){case"style":h=Wr(t);break;case"script":h=Zr(t)}to.has(h)||(t=y({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:t,as:n},o),to.set(h,t),i.querySelector(c)!==null||n==="style"&&i.querySelector(ll(h))||n==="script"&&i.querySelector(sl(h))||(n=i.createElement("link"),nn(n,"link",t),pe(n),i.head.appendChild(n)))}}function L1(t,n){na.m(t,n);var o=Vr;if(o&&t){var i=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+$e(i)+'"][href="'+$e(t)+'"]',h=c;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Zr(t)}if(!to.has(h)&&(t=y({rel:"modulepreload",href:t},n),to.set(h,t),o.querySelector(c)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(sl(h)))return}i=o.createElement("link"),nn(i,"link",t),pe(i),o.head.appendChild(i)}}}function H1(t,n,o){na.S(t,n,o);var i=Vr;if(i&&t){var c=be(i).hoistableStyles,h=Wr(t);n=n||"default";var k=c.get(h);if(!k){var j={loading:0,preload:null};if(k=i.querySelector(ll(h)))j.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":n},o),(o=to.get(h))&&af(t,o);var Q=k=i.createElement("link");pe(Q),nn(Q,"link",t),Q._p=new Promise(function(at,ut){Q.onload=at,Q.onerror=ut}),Q.addEventListener("load",function(){j.loading|=1}),Q.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Us(k,n,i)}k={type:"stylesheet",instance:k,count:1,state:j},c.set(h,k)}}}function Y1(t,n){na.X(t,n);var o=Vr;if(o&&t){var i=be(o).hoistableScripts,c=Zr(t),h=i.get(c);h||(h=o.querySelector(sl(c)),h||(t=y({src:t,async:!0},n),(n=to.get(c))&&rf(t,n),h=o.createElement("script"),pe(h),nn(h,"link",t),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},i.set(c,h))}}function U1(t,n){na.M(t,n);var o=Vr;if(o&&t){var i=be(o).hoistableScripts,c=Zr(t),h=i.get(c);h||(h=o.querySelector(sl(c)),h||(t=y({src:t,async:!0,type:"module"},n),(n=to.get(c))&&rf(t,n),h=o.createElement("script"),pe(h),nn(h,"link",t),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},i.set(c,h))}}function u0(t,n,o,i){var c=(c=ht.current)?Ys(c):null;if(!c)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Wr(o.href),o=be(c).hoistableStyles,i=o.get(n),i||(i={type:"style",instance:null,count:0,state:null},o.set(n,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Wr(o.href);var h=be(c).hoistableStyles,k=h.get(t);if(k||(c=c.ownerDocument||c,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,k),(h=c.querySelector(ll(t)))&&!h._p&&(k.instance=h,k.state.loading=5),to.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},to.set(t,o),h||$1(c,t,o,k.state))),n&&i===null)throw Error(l(528,""));return k}if(n&&i!==null)throw Error(l(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Zr(o),o=be(c).hoistableScripts,i=o.get(n),i||(i={type:"script",instance:null,count:0,state:null},o.set(n,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Wr(t){return'href="'+$e(t)+'"'}function ll(t){return'link[rel="stylesheet"]['+t+"]"}function d0(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function $1(t,n,o,i){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?i.loading=1:(n=t.createElement("link"),i.preload=n,n.addEventListener("load",function(){return i.loading|=1}),n.addEventListener("error",function(){return i.loading|=2}),nn(n,"link",o),pe(n),t.head.appendChild(n))}function Zr(t){return'[src="'+$e(t)+'"]'}function sl(t){return"script[async]"+t}function f0(t,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var i=t.querySelector('style[data-href~="'+$e(o.href)+'"]');if(i)return n.instance=i,pe(i),i;var c=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),pe(i),nn(i,"style",c),Us(i,o.precedence,t),n.instance=i;case"stylesheet":c=Wr(o.href);var h=t.querySelector(ll(c));if(h)return n.state.loading|=4,n.instance=h,pe(h),h;i=d0(o),(c=to.get(c))&&af(i,c),h=(t.ownerDocument||t).createElement("link"),pe(h);var k=h;return k._p=new Promise(function(j,Q){k.onload=j,k.onerror=Q}),nn(h,"link",i),n.state.loading|=4,Us(h,o.precedence,t),n.instance=h;case"script":return h=Zr(o.src),(c=t.querySelector(sl(h)))?(n.instance=c,pe(c),c):(i=o,(c=to.get(h))&&(i=y({},o),rf(i,c)),t=t.ownerDocument||t,c=t.createElement("script"),pe(c),nn(c,"link",i),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(i=n.instance,n.state.loading|=4,Us(i,o.precedence,t));return n.instance}function Us(t,n,o){for(var i=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=i.length?i[i.length-1]:null,h=c,k=0;k<i.length;k++){var j=i[k];if(j.dataset.precedence===n)h=j;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(t,n.firstChild))}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var $s=null;function h0(t,n,o){if($s===null){var i=new Map,c=$s=new Map;c.set(o,i)}else c=$s,i=c.get(o),i||(i=new Map,c.set(o,i));if(i.has(t))return i;for(i.set(t,null),o=o.getElementsByTagName(t),c=0;c<o.length;c++){var h=o[c];if(!(h[po]||h[Ee]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var k=h.getAttribute(n)||"";k=t+k;var j=i.get(k);j?j.push(h):i.set(k,[h])}}return i}function p0(t,n,o){t=t.ownerDocument||t,t.head.insertBefore(o,n==="title"?t.querySelector("head > title"):null)}function Q1(t,n,o){if(o===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var cl=null;function X1(){}function G1(t,n,o){if(cl===null)throw Error(l(475));var i=cl;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Wr(o.href),h=t.querySelector(ll(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=Qs.bind(i),t.then(i,i)),n.state.loading|=4,n.instance=h,pe(h);return}h=t.ownerDocument||t,o=d0(o),(c=to.get(c))&&af(o,c),h=h.createElement("link"),pe(h);var k=h;k._p=new Promise(function(j,Q){k.onload=j,k.onerror=Q}),nn(h,"link",o),n.instance=h}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(i.count++,n=Qs.bind(i),t.addEventListener("load",n),t.addEventListener("error",n))}}function F1(){if(cl===null)throw Error(l(475));var t=cl;return t.stylesheets&&t.count===0&&lf(t,t.stylesheets),0<t.count?function(n){var o=setTimeout(function(){if(t.stylesheets&&lf(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(o)}}:null}function Qs(){if(this.count--,this.count===0){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xs=null;function lf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xs=new Map,n.forEach(q1,t),Xs=null,Qs.call(t))}function q1(t,n){if(!(n.state.loading&4)){var o=Xs.get(t);if(o)var i=o.get(null);else{o=new Map,Xs.set(t,o);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var k=c[h];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(o.set(k.dataset.precedence,k),i=k)}i&&o.set(null,i)}c=n.instance,k=c.getAttribute("data-precedence"),h=o.get(k)||i,h===i&&o.set(null,c),o.set(k,c),this.count++,i=Qs.bind(this),c.addEventListener("load",i),c.addEventListener("error",i),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ul={$$typeof:T,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function V1(t,n,o,i,c,h,k,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=i,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function g0(t,n,o,i,c,h,k,j,Q,at,ut,yt){return t=new V1(t,n,o,k,j,Q,at,yt),n=1,h===!0&&(n|=24),h=jn(3,null,null,n),t.current=h,h.stateNode=t,n=Yu(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:i,isDehydrated:o,cache:n},Xu(h),t}function y0(t){return t?(t=Tr,t):Tr}function x0(t,n,o,i,c,h){c=y0(c),i.context===null?i.context=c:i.pendingContext=c,i=ya(n),i.payload={element:o},h=h===void 0?null:h,h!==null&&(i.callback=h),o=xa(t,i,n),o!==null&&(Ln(o,t,n),Hi(o,t,n))}function b0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<n?o:n}}function sf(t,n){b0(t,n),(t=t.alternate)&&b0(t,n)}function v0(t){if(t.tag===13){var n=Rr(t,67108864);n!==null&&Ln(n,t,67108864),sf(t,67108864)}}var Gs=!0;function W1(t,n,o,i){var c=D.T;D.T=null;var h=P.p;try{P.p=2,cf(t,n,o,i)}finally{P.p=h,D.T=c}}function Z1(t,n,o,i){var c=D.T;D.T=null;var h=P.p;try{P.p=8,cf(t,n,o,i)}finally{P.p=h,D.T=c}}function cf(t,n,o,i){if(Gs){var c=uf(i);if(c===null)Vd(t,n,i,Fs,o),w0(t,i);else if(J1(c,t,n,o,i))i.stopPropagation();else if(w0(t,i),n&4&&-1<K1.indexOf(t)){for(;c!==null;){var h=Ue(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var k=an(h.pendingLanes);if(k!==0){var j=h;for(j.pendingLanes|=2,j.entangledLanes|=2;k;){var Q=1<<31-Se(k);j.entanglements[1]|=Q,k&=~Q}_o(h),(ue&6)===0&&(_s=ct()+500,ol(0))}}break;case 13:j=Rr(h,2),j!==null&&Ln(j,h,2),Ds(),sf(h,2)}if(h=uf(i),h===null&&Vd(t,n,i,Fs,o),h===c)break;c=h}c!==null&&i.stopPropagation()}else Vd(t,n,i,null,o)}}function uf(t){return t=pu(t),df(t)}var Fs=null;function df(t){if(Fs=null,t=sn(t),t!==null){var n=u(t);if(n===null)t=null;else{var o=n.tag;if(o===13){if(t=d(n),t!==null)return t;t=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Fs=t,null}function A0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kt()){case pt:return 2;case Rt:return 8;case _t:case St:return 32;case Nt:return 268435456;default:return 32}default:return 32}}var ff=!1,Oa=null,Da=null,Ia=null,dl=new Map,fl=new Map,ja=[],K1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w0(t,n){switch(t){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function hl(t,n,o,i,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:o,eventSystemFlags:i,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Ue(n),n!==null&&v0(n)),t):(t.eventSystemFlags|=i,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function J1(t,n,o,i,c){switch(n){case"focusin":return Oa=hl(Oa,t,n,o,i,c),!0;case"dragenter":return Da=hl(Da,t,n,o,i,c),!0;case"mouseover":return Ia=hl(Ia,t,n,o,i,c),!0;case"pointerover":var h=c.pointerId;return dl.set(h,hl(dl.get(h)||null,t,n,o,i,c)),!0;case"gotpointercapture":return h=c.pointerId,fl.set(h,hl(fl.get(h)||null,t,n,o,i,c)),!0}return!1}function C0(t){var n=sn(t.target);if(n!==null){var o=u(n);if(o!==null){if(n=o.tag,n===13){if(n=d(o),n!==null){t.blockedOn=n,Lo(t.priority,function(){if(o.tag===13){var i=Pn();i=vn(i);var c=Rr(o,i);c!==null&&Ln(c,o,i),sf(o,i)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qs(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var o=uf(t.nativeEvent);if(o===null){o=t.nativeEvent;var i=new o.constructor(o.type,o);hu=i,o.target.dispatchEvent(i),hu=null}else return n=Ue(o),n!==null&&v0(n),t.blockedOn=o,!1;n.shift()}return!0}function S0(t,n,o){qs(t)&&o.delete(n)}function tw(){ff=!1,Oa!==null&&qs(Oa)&&(Oa=null),Da!==null&&qs(Da)&&(Da=null),Ia!==null&&qs(Ia)&&(Ia=null),dl.forEach(S0),fl.forEach(S0)}function Vs(t,n){t.blockedOn===n&&(t.blockedOn=null,ff||(ff=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tw)))}var Ws=null;function E0(t){Ws!==t&&(Ws=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ws===t&&(Ws=null);for(var n=0;n<t.length;n+=3){var o=t[n],i=t[n+1],c=t[n+2];if(typeof i!="function"){if(df(i||o)===null)continue;break}var h=Ue(o);h!==null&&(t.splice(n,3),n-=3,ud(h,{pending:!0,data:c,method:o.method,action:i},i,c))}}))}function pl(t){function n(Q){return Vs(Q,t)}Oa!==null&&Vs(Oa,t),Da!==null&&Vs(Da,t),Ia!==null&&Vs(Ia,t),dl.forEach(n),fl.forEach(n);for(var o=0;o<ja.length;o++){var i=ja[o];i.blockedOn===t&&(i.blockedOn=null)}for(;0<ja.length&&(o=ja[0],o.blockedOn===null);)C0(o),o.blockedOn===null&&ja.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(i=0;i<o.length;i+=3){var c=o[i],h=o[i+1],k=c[xe]||null;if(typeof h=="function")k||E0(o);else if(k){var j=null;if(h&&h.hasAttribute("formAction")){if(c=h,k=h[xe]||null)j=k.formAction;else if(df(c)!==null)continue}else j=k.action;typeof j=="function"?o[i+1]=j:(o.splice(i,3),i-=3),E0(o)}}}function hf(t){this._internalRoot=t}Zs.prototype.render=hf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var o=n.current,i=Pn();x0(o,i,t,n,null,null)},Zs.prototype.unmount=hf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;x0(t.current,2,null,t,null,null),Ds(),n[An]=null}};function Zs(t){this._internalRoot=t}Zs.prototype.unstable_scheduleHydration=function(t){if(t){var n=fo();t={blockedOn:null,target:t,priority:n};for(var o=0;o<ja.length&&n!==0&&n<ja[o].priority;o++);ja.splice(o,0,t),o===0&&C0(t)}};var M0=a.version;if(M0!=="19.1.1")throw Error(l(527,M0,"19.1.1"));P.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=g(n),t=t!==null?f(t):null,t=t===null?null:t.stateNode,t};var ew={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ks.isDisabled&&Ks.supportsFiber)try{Et=Ks.inject(ew),Tt=Ks}catch{}}return gl.createRoot=function(t,n){if(!s(t))throw Error(l(299));var o=!1,i="",c=Um,h=$m,k=Qm,j=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(k=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(j=n.unstable_transitionCallbacks)),n=g0(t,1,!1,null,null,o,i,c,h,k,j,null),t[An]=n.current,qd(t),new hf(n)},gl.hydrateRoot=function(t,n,o){if(!s(t))throw Error(l(299));var i=!1,c="",h=Um,k=$m,j=Qm,Q=null,at=null;return o!=null&&(o.unstable_strictMode===!0&&(i=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(k=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(Q=o.unstable_transitionCallbacks),o.formState!==void 0&&(at=o.formState)),n=g0(t,1,!0,n,o??null,i,c,h,k,j,Q,at),n.context=y0(null),o=n.current,i=Pn(),i=vn(i),c=ya(i),c.callback=null,xa(o,c,i),o=i,n.current.lanes=o,$t(n,o),_o(n),t[An]=n.current,qd(t),new Zs(n)},gl.version="19.1.1",gl}var z0;function dw(){if(z0)return gf.exports;z0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),gf.exports=uw(),gf.exports}var fw=dw();const hw=Uc(fw),on=[];for(let e=0;e<256;++e)on.push((e+256).toString(16).slice(1));function pw(e,a=0){return(on[e[a+0]]+on[e[a+1]]+on[e[a+2]]+on[e[a+3]]+"-"+on[e[a+4]]+on[e[a+5]]+"-"+on[e[a+6]]+on[e[a+7]]+"-"+on[e[a+8]]+on[e[a+9]]+"-"+on[e[a+10]]+on[e[a+11]]+on[e[a+12]]+on[e[a+13]]+on[e[a+14]]+on[e[a+15]]).toLowerCase()}let vf;const mw=new Uint8Array(16);function gw(){if(!vf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");vf=crypto.getRandomValues.bind(crypto)}return vf(mw)}const yw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),N0={randomUUID:yw};function xw(e,a,r){e=e||{};const l=e.random??e.rng?.()??gw();if(l.length<16)throw new Error("Random bytes length must be >= 16");return l[6]=l[6]&15|64,l[8]=l[8]&63|128,pw(l)}function kn(e,a,r){return N0.randomUUID&&!e?N0.randomUUID():xw(e)}var Ie=function(){return Ie=Object.assign||function(a){for(var r,l=1,s=arguments.length;l<s;l++){r=arguments[l];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(a[u]=r[u])}return a},Ie.apply(this,arguments)};function gx(e,a){var r={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&a.indexOf(l)<0&&(r[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(e);s<l.length;s++)a.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(e,l[s])&&(r[l[s]]=e[l[s]]);return r}function kl(e,a,r){if(r||arguments.length===2)for(var l=0,s=a.length,u;l<s;l++)(u||!(l in a))&&(u||(u=Array.prototype.slice.call(a,0,l)),u[l]=a[l]);return e.concat(u||Array.prototype.slice.call(a))}var Ce="-ms-",Ml="-moz-",ce="-webkit-",yx="comm",$c="rule",ph="decl",bw="@import",xx="@keyframes",vw="@layer",bx=Math.abs,mh=String.fromCharCode,Xf=Object.assign;function Aw(e,a){return Je(e,0)^45?(((a<<2^Je(e,0))<<2^Je(e,1))<<2^Je(e,2))<<2^Je(e,3):0}function vx(e){return e.trim()}function ia(e,a){return(e=a.exec(e))?e[0]:e}function qt(e,a,r){return e.replace(a,r)}function xc(e,a,r){return e.indexOf(a,r)}function Je(e,a){return e.charCodeAt(a)|0}function ui(e,a,r){return e.slice(a,r)}function Do(e){return e.length}function Ax(e){return e.length}function Al(e,a){return a.push(e),e}function ww(e,a){return e.map(a).join("")}function P0(e,a){return e.filter(function(r){return!ia(r,a)})}var Qc=1,di=1,wx=0,lo=0,Ye=0,xi="";function Xc(e,a,r,l,s,u,d,p){return{value:e,root:a,parent:r,type:l,props:s,children:u,line:Qc,column:di,length:d,return:"",siblings:p}}function za(e,a){return Xf(Xc("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},a)}function Kr(e){for(;e.root;)e=za(e.root,{children:[e]});Al(e,e.siblings)}function Cw(){return Ye}function Sw(){return Ye=lo>0?Je(xi,--lo):0,di--,Ye===10&&(di=1,Qc--),Ye}function Ao(){return Ye=lo<wx?Je(xi,lo++):0,di++,Ye===10&&(di=1,Qc++),Ye}function fr(){return Je(xi,lo)}function bc(){return lo}function Gc(e,a){return ui(xi,e,a)}function Gf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ew(e){return Qc=di=1,wx=Do(xi=e),lo=0,[]}function Mw(e){return xi="",e}function Af(e){return vx(Gc(lo-1,Ff(e===91?e+2:e===40?e+1:e)))}function Rw(e){for(;(Ye=fr())&&Ye<33;)Ao();return Gf(e)>2||Gf(Ye)>3?"":" "}function Tw(e,a){for(;--a&&Ao()&&!(Ye<48||Ye>102||Ye>57&&Ye<65||Ye>70&&Ye<97););return Gc(e,bc()+(a<6&&fr()==32&&Ao()==32))}function Ff(e){for(;Ao();)switch(Ye){case e:return lo;case 34:case 39:e!==34&&e!==39&&Ff(Ye);break;case 40:e===41&&Ff(e);break;case 92:Ao();break}return lo}function kw(e,a){for(;Ao()&&e+Ye!==57;)if(e+Ye===84&&fr()===47)break;return"/*"+Gc(a,lo-1)+"*"+mh(e===47?e:Ao())}function _w(e){for(;!Gf(fr());)Ao();return Gc(e,lo)}function Ow(e){return Mw(vc("",null,null,null,[""],e=Ew(e),0,[0],e))}function vc(e,a,r,l,s,u,d,p,g){for(var f=0,y=0,m=d,x=0,b=0,v=0,S=1,C=1,M=1,R=0,T="",_=s,I=u,z=l,O=T;C;)switch(v=R,R=Ao()){case 40:if(v!=108&&Je(O,m-1)==58){xc(O+=qt(Af(R),"&","&\f"),"&\f",bx(f?p[f-1]:0))!=-1&&(M=-1);break}case 34:case 39:case 91:O+=Af(R);break;case 9:case 10:case 13:case 32:O+=Rw(v);break;case 92:O+=Tw(bc()-1,7);continue;case 47:switch(fr()){case 42:case 47:Al(Dw(kw(Ao(),bc()),a,r,g),g);break;default:O+="/"}break;case 123*S:p[f++]=Do(O)*M;case 125*S:case 59:case 0:switch(R){case 0:case 125:C=0;case 59+y:M==-1&&(O=qt(O,/\f/g,"")),b>0&&Do(O)-m&&Al(b>32?H0(O+";",l,r,m-1,g):H0(qt(O," ","")+";",l,r,m-2,g),g);break;case 59:O+=";";default:if(Al(z=L0(O,a,r,f,y,s,p,T,_=[],I=[],m,u),u),R===123)if(y===0)vc(O,a,z,z,_,u,m,p,I);else switch(x===99&&Je(O,3)===110?100:x){case 100:case 108:case 109:case 115:vc(e,z,z,l&&Al(L0(e,z,z,0,0,s,p,T,s,_=[],m,I),I),s,I,m,p,l?_:I);break;default:vc(O,z,z,z,[""],I,0,p,I)}}f=y=b=0,S=M=1,T=O="",m=d;break;case 58:m=1+Do(O),b=v;default:if(S<1){if(R==123)--S;else if(R==125&&S++==0&&Sw()==125)continue}switch(O+=mh(R),R*S){case 38:M=y>0?1:(O+="\f",-1);break;case 44:p[f++]=(Do(O)-1)*M,M=1;break;case 64:fr()===45&&(O+=Af(Ao())),x=fr(),y=m=Do(T=O+=_w(bc())),R++;break;case 45:v===45&&Do(O)==2&&(S=0)}}return u}function L0(e,a,r,l,s,u,d,p,g,f,y,m){for(var x=s-1,b=s===0?u:[""],v=Ax(b),S=0,C=0,M=0;S<l;++S)for(var R=0,T=ui(e,x+1,x=bx(C=d[S])),_=e;R<v;++R)(_=vx(C>0?b[R]+" "+T:qt(T,/&\f/g,b[R])))&&(g[M++]=_);return Xc(e,a,r,s===0?$c:p,g,f,y,m)}function Dw(e,a,r,l){return Xc(e,a,r,yx,mh(Cw()),ui(e,2,-2),0,l)}function H0(e,a,r,l,s){return Xc(e,a,r,ph,ui(e,0,l),ui(e,l+1,-1),l,s)}function Cx(e,a,r){switch(Aw(e,a)){case 5103:return ce+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ce+e+e;case 4789:return Ml+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ce+e+Ml+e+Ce+e+e;case 5936:switch(Je(e,a+11)){case 114:return ce+e+Ce+qt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ce+e+Ce+qt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ce+e+Ce+qt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return ce+e+Ce+e+e;case 6165:return ce+e+Ce+"flex-"+e+e;case 5187:return ce+e+qt(e,/(\w+).+(:[^]+)/,ce+"box-$1$2"+Ce+"flex-$1$2")+e;case 5443:return ce+e+Ce+"flex-item-"+qt(e,/flex-|-self/g,"")+(ia(e,/flex-|baseline/)?"":Ce+"grid-row-"+qt(e,/flex-|-self/g,""))+e;case 4675:return ce+e+Ce+"flex-line-pack"+qt(e,/align-content|flex-|-self/g,"")+e;case 5548:return ce+e+Ce+qt(e,"shrink","negative")+e;case 5292:return ce+e+Ce+qt(e,"basis","preferred-size")+e;case 6060:return ce+"box-"+qt(e,"-grow","")+ce+e+Ce+qt(e,"grow","positive")+e;case 4554:return ce+qt(e,/([^-])(transform)/g,"$1"+ce+"$2")+e;case 6187:return qt(qt(qt(e,/(zoom-|grab)/,ce+"$1"),/(image-set)/,ce+"$1"),e,"")+e;case 5495:case 3959:return qt(e,/(image-set\([^]*)/,ce+"$1$`$1");case 4968:return qt(qt(e,/(.+:)(flex-)?(.*)/,ce+"box-pack:$3"+Ce+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ce+e+e;case 4200:if(!ia(e,/flex-|baseline/))return Ce+"grid-column-align"+ui(e,a)+e;break;case 2592:case 3360:return Ce+qt(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(l,s){return a=s,ia(l.props,/grid-\w+-end/)})?~xc(e+(r=r[a].value),"span",0)?e:Ce+qt(e,"-start","")+e+Ce+"grid-row-span:"+(~xc(r,"span",0)?ia(r,/\d+/):+ia(r,/\d+/)-+ia(e,/\d+/))+";":Ce+qt(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(l){return ia(l.props,/grid-\w+-start/)})?e:Ce+qt(qt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return qt(e,/(.+)-inline(.+)/,ce+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Do(e)-1-a>6)switch(Je(e,a+1)){case 109:if(Je(e,a+4)!==45)break;case 102:return qt(e,/(.+:)(.+)-([^]+)/,"$1"+ce+"$2-$3$1"+Ml+(Je(e,a+3)==108?"$3":"$2-$3"))+e;case 115:return~xc(e,"stretch",0)?Cx(qt(e,"stretch","fill-available"),a,r)+e:e}break;case 5152:case 5920:return qt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(l,s,u,d,p,g,f){return Ce+s+":"+u+f+(d?Ce+s+"-span:"+(p?g:+g-+u)+f:"")+e});case 4949:if(Je(e,a+6)===121)return qt(e,":",":"+ce)+e;break;case 6444:switch(Je(e,Je(e,14)===45?18:11)){case 120:return qt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ce+(Je(e,14)===45?"inline-":"")+"box$3$1"+ce+"$2$3$1"+Ce+"$2box$3")+e;case 100:return qt(e,":",":"+Ce)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return qt(e,"scroll-","scroll-snap-")+e}return e}function Mc(e,a){for(var r="",l=0;l<e.length;l++)r+=a(e[l],l,e,a)||"";return r}function Iw(e,a,r,l){switch(e.type){case vw:if(e.children.length)break;case bw:case ph:return e.return=e.return||e.value;case yx:return"";case xx:return e.return=e.value+"{"+Mc(e.children,l)+"}";case $c:if(!Do(e.value=e.props.join(",")))return""}return Do(r=Mc(e.children,l))?e.return=e.value+"{"+r+"}":""}function jw(e){var a=Ax(e);return function(r,l,s,u){for(var d="",p=0;p<a;p++)d+=e[p](r,l,s,u)||"";return d}}function Bw(e){return function(a){a.root||(a=a.return)&&e(a)}}function zw(e,a,r,l){if(e.length>-1&&!e.return)switch(e.type){case ph:e.return=Cx(e.value,e.length,r);return;case xx:return Mc([za(e,{value:qt(e.value,"@","@"+ce)})],l);case $c:if(e.length)return ww(r=e.props,function(s){switch(ia(s,l=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Kr(za(e,{props:[qt(s,/:(read-\w+)/,":"+Ml+"$1")]})),Kr(za(e,{props:[s]})),Xf(e,{props:P0(r,l)});break;case"::placeholder":Kr(za(e,{props:[qt(s,/:(plac\w+)/,":"+ce+"input-$1")]})),Kr(za(e,{props:[qt(s,/:(plac\w+)/,":"+Ml+"$1")]})),Kr(za(e,{props:[qt(s,/:(plac\w+)/,Ce+"input-$1")]})),Kr(za(e,{props:[s]})),Xf(e,{props:P0(r,l)});break}return""})}}var Nw={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Un={},fi=typeof process<"u"&&Un!==void 0&&(Un.REACT_APP_SC_ATTR||Un.SC_ATTR)||"data-styled",Sx="active",Ex="data-styled-version",Fc="6.1.19",gh=`/*!sc*/
`,Rc=typeof window<"u"&&typeof document<"u",Pw=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Un!==void 0&&Un.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Un.REACT_APP_SC_DISABLE_SPEEDY!==""?Un.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Un.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Un!==void 0&&Un.SC_DISABLE_SPEEDY!==void 0&&Un.SC_DISABLE_SPEEDY!==""&&Un.SC_DISABLE_SPEEDY!=="false"&&Un.SC_DISABLE_SPEEDY),qc=Object.freeze([]),hi=Object.freeze({});function Lw(e,a,r){return r===void 0&&(r=hi),e.theme!==r.theme&&e.theme||a||r.theme}var Mx=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Hw=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Yw=/(^-|-$)/g;function Y0(e){return e.replace(Hw,"-").replace(Yw,"")}var Uw=/(a)(d)/gi,Js=52,U0=function(e){return String.fromCharCode(e+(e>25?39:97))};function qf(e){var a,r="";for(a=Math.abs(e);a>Js;a=a/Js|0)r=U0(a%Js)+r;return(U0(a%Js)+r).replace(Uw,"$1-$2")}var wf,Rx=5381,ri=function(e,a){for(var r=a.length;r;)e=33*e^a.charCodeAt(--r);return e},Tx=function(e){return ri(Rx,e)};function $w(e){return qf(Tx(e)>>>0)}function Qw(e){return e.displayName||e.name||"Component"}function Cf(e){return typeof e=="string"&&!0}var kx=typeof Symbol=="function"&&Symbol.for,_x=kx?Symbol.for("react.memo"):60115,Xw=kx?Symbol.for("react.forward_ref"):60112,Gw={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Fw={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ox={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qw=((wf={})[Xw]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wf[_x]=Ox,wf);function $0(e){return("type"in(a=e)&&a.type.$$typeof)===_x?Ox:"$$typeof"in e?qw[e.$$typeof]:Gw;var a}var Vw=Object.defineProperty,Ww=Object.getOwnPropertyNames,Q0=Object.getOwnPropertySymbols,Zw=Object.getOwnPropertyDescriptor,Kw=Object.getPrototypeOf,X0=Object.prototype;function Dx(e,a,r){if(typeof a!="string"){if(X0){var l=Kw(a);l&&l!==X0&&Dx(e,l,r)}var s=Ww(a);Q0&&(s=s.concat(Q0(a)));for(var u=$0(e),d=$0(a),p=0;p<s.length;++p){var g=s[p];if(!(g in Fw||r&&r[g]||d&&g in d||u&&g in u)){var f=Zw(a,g);try{Vw(e,g,f)}catch{}}}}return e}function pi(e){return typeof e=="function"}function yh(e){return typeof e=="object"&&"styledComponentId"in e}function dr(e,a){return e&&a?"".concat(e," ").concat(a):e||a||""}function G0(e,a){if(e.length===0)return"";for(var r=e[0],l=1;l<e.length;l++)r+=e[l];return r}function _l(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Vf(e,a,r){if(r===void 0&&(r=!1),!r&&!_l(e)&&!Array.isArray(e))return a;if(Array.isArray(a))for(var l=0;l<a.length;l++)e[l]=Vf(e[l],a[l]);else if(_l(a))for(var l in a)e[l]=Vf(e[l],a[l]);return e}function xh(e,a){Object.defineProperty(e,"toString",{value:a})}function Nl(e){for(var a=[],r=1;r<arguments.length;r++)a[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(a.length>0?" Args: ".concat(a.join(", ")):""))}var Jw=(function(){function e(a){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=a}return e.prototype.indexOfGroup=function(a){for(var r=0,l=0;l<a;l++)r+=this.groupSizes[l];return r},e.prototype.insertRules=function(a,r){if(a>=this.groupSizes.length){for(var l=this.groupSizes,s=l.length,u=s;a>=u;)if((u<<=1)<0)throw Nl(16,"".concat(a));this.groupSizes=new Uint32Array(u),this.groupSizes.set(l),this.length=u;for(var d=s;d<u;d++)this.groupSizes[d]=0}for(var p=this.indexOfGroup(a+1),g=(d=0,r.length);d<g;d++)this.tag.insertRule(p,r[d])&&(this.groupSizes[a]++,p++)},e.prototype.clearGroup=function(a){if(a<this.length){var r=this.groupSizes[a],l=this.indexOfGroup(a),s=l+r;this.groupSizes[a]=0;for(var u=l;u<s;u++)this.tag.deleteRule(l)}},e.prototype.getGroup=function(a){var r="";if(a>=this.length||this.groupSizes[a]===0)return r;for(var l=this.groupSizes[a],s=this.indexOfGroup(a),u=s+l,d=s;d<u;d++)r+="".concat(this.tag.getRule(d)).concat(gh);return r},e})(),Ac=new Map,Tc=new Map,wc=1,tc=function(e){if(Ac.has(e))return Ac.get(e);for(;Tc.has(wc);)wc++;var a=wc++;return Ac.set(e,a),Tc.set(a,e),a},tC=function(e,a){wc=a+1,Ac.set(e,a),Tc.set(a,e)},eC="style[".concat(fi,"][").concat(Ex,'="').concat(Fc,'"]'),nC=new RegExp("^".concat(fi,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),oC=function(e,a,r){for(var l,s=r.split(","),u=0,d=s.length;u<d;u++)(l=s[u])&&e.registerName(a,l)},aC=function(e,a){for(var r,l=((r=a.textContent)!==null&&r!==void 0?r:"").split(gh),s=[],u=0,d=l.length;u<d;u++){var p=l[u].trim();if(p){var g=p.match(nC);if(g){var f=0|parseInt(g[1],10),y=g[2];f!==0&&(tC(y,f),oC(e,y,g[3]),e.getTag().insertRules(f,s)),s.length=0}else s.push(p)}}},F0=function(e){for(var a=document.querySelectorAll(eC),r=0,l=a.length;r<l;r++){var s=a[r];s&&s.getAttribute(fi)!==Sx&&(aC(e,s),s.parentNode&&s.parentNode.removeChild(s))}};function rC(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ix=function(e){var a=document.head,r=e||a,l=document.createElement("style"),s=(function(p){var g=Array.from(p.querySelectorAll("style[".concat(fi,"]")));return g[g.length-1]})(r),u=s!==void 0?s.nextSibling:null;l.setAttribute(fi,Sx),l.setAttribute(Ex,Fc);var d=rC();return d&&l.setAttribute("nonce",d),r.insertBefore(l,u),l},iC=(function(){function e(a){this.element=Ix(a),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var l=document.styleSheets,s=0,u=l.length;s<u;s++){var d=l[s];if(d.ownerNode===r)return d}throw Nl(17)})(this.element),this.length=0}return e.prototype.insertRule=function(a,r){try{return this.sheet.insertRule(r,a),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(a){this.sheet.deleteRule(a),this.length--},e.prototype.getRule=function(a){var r=this.sheet.cssRules[a];return r&&r.cssText?r.cssText:""},e})(),lC=(function(){function e(a){this.element=Ix(a),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(a,r){if(a<=this.length&&a>=0){var l=document.createTextNode(r);return this.element.insertBefore(l,this.nodes[a]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(a){this.element.removeChild(this.nodes[a]),this.length--},e.prototype.getRule=function(a){return a<this.length?this.nodes[a].textContent:""},e})(),sC=(function(){function e(a){this.rules=[],this.length=0}return e.prototype.insertRule=function(a,r){return a<=this.length&&(this.rules.splice(a,0,r),this.length++,!0)},e.prototype.deleteRule=function(a){this.rules.splice(a,1),this.length--},e.prototype.getRule=function(a){return a<this.length?this.rules[a]:""},e})(),q0=Rc,cC={isServer:!Rc,useCSSOMInjection:!Pw},jx=(function(){function e(a,r,l){a===void 0&&(a=hi),r===void 0&&(r={});var s=this;this.options=Ie(Ie({},cC),a),this.gs=r,this.names=new Map(l),this.server=!!a.isServer,!this.server&&Rc&&q0&&(q0=!1,F0(this)),xh(this,function(){return(function(u){for(var d=u.getTag(),p=d.length,g="",f=function(m){var x=(function(M){return Tc.get(M)})(m);if(x===void 0)return"continue";var b=u.names.get(x),v=d.getGroup(m);if(b===void 0||!b.size||v.length===0)return"continue";var S="".concat(fi,".g").concat(m,'[id="').concat(x,'"]'),C="";b!==void 0&&b.forEach(function(M){M.length>0&&(C+="".concat(M,","))}),g+="".concat(v).concat(S,'{content:"').concat(C,'"}').concat(gh)},y=0;y<p;y++)f(y);return g})(s)})}return e.registerId=function(a){return tc(a)},e.prototype.rehydrate=function(){!this.server&&Rc&&F0(this)},e.prototype.reconstructWithOptions=function(a,r){return r===void 0&&(r=!0),new e(Ie(Ie({},this.options),a),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(a){return this.gs[a]=(this.gs[a]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(a=(function(r){var l=r.useCSSOMInjection,s=r.target;return r.isServer?new sC(s):l?new iC(s):new lC(s)})(this.options),new Jw(a)));var a},e.prototype.hasNameForId=function(a,r){return this.names.has(a)&&this.names.get(a).has(r)},e.prototype.registerName=function(a,r){if(tc(a),this.names.has(a))this.names.get(a).add(r);else{var l=new Set;l.add(r),this.names.set(a,l)}},e.prototype.insertRules=function(a,r,l){this.registerName(a,r),this.getTag().insertRules(tc(a),l)},e.prototype.clearNames=function(a){this.names.has(a)&&this.names.get(a).clear()},e.prototype.clearRules=function(a){this.getTag().clearGroup(tc(a)),this.clearNames(a)},e.prototype.clearTag=function(){this.tag=void 0},e})(),uC=/&/g,dC=/^\s*\/\/.*$/gm;function Bx(e,a){return e.map(function(r){return r.type==="rule"&&(r.value="".concat(a," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(a," ")),r.props=r.props.map(function(l){return"".concat(a," ").concat(l)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Bx(r.children,a)),r})}function fC(e){var a,r,l,s=hi,u=s.options,d=u===void 0?hi:u,p=s.plugins,g=p===void 0?qc:p,f=function(x,b,v){return v.startsWith(r)&&v.endsWith(r)&&v.replaceAll(r,"").length>0?".".concat(a):x},y=g.slice();y.push(function(x){x.type===$c&&x.value.includes("&")&&(x.props[0]=x.props[0].replace(uC,r).replace(l,f))}),d.prefix&&y.push(zw),y.push(Iw);var m=function(x,b,v,S){b===void 0&&(b=""),v===void 0&&(v=""),S===void 0&&(S="&"),a=S,r=b,l=new RegExp("\\".concat(r,"\\b"),"g");var C=x.replace(dC,""),M=Ow(v||b?"".concat(v," ").concat(b," { ").concat(C," }"):C);d.namespace&&(M=Bx(M,d.namespace));var R=[];return Mc(M,jw(y.concat(Bw(function(T){return R.push(T)})))),R};return m.hash=g.length?g.reduce(function(x,b){return b.name||Nl(15),ri(x,b.name)},Rx).toString():"",m}var hC=new jx,Wf=fC(),zx=jt.createContext({shouldForwardProp:void 0,styleSheet:hC,stylis:Wf});zx.Consumer;jt.createContext(void 0);function V0(){return A.useContext(zx)}var pC=(function(){function e(a,r){var l=this;this.inject=function(s,u){u===void 0&&(u=Wf);var d=l.name+u.hash;s.hasNameForId(l.id,d)||s.insertRules(l.id,d,u(l.rules,d,"@keyframes"))},this.name=a,this.id="sc-keyframes-".concat(a),this.rules=r,xh(this,function(){throw Nl(12,String(l.name))})}return e.prototype.getName=function(a){return a===void 0&&(a=Wf),this.name+a.hash},e})(),mC=function(e){return e>="A"&&e<="Z"};function W0(e){for(var a="",r=0;r<e.length;r++){var l=e[r];if(r===1&&l==="-"&&e[0]==="-")return e;mC(l)?a+="-"+l.toLowerCase():a+=l}return a.startsWith("ms-")?"-"+a:a}var Nx=function(e){return e==null||e===!1||e===""},Px=function(e){var a,r,l=[];for(var s in e){var u=e[s];e.hasOwnProperty(s)&&!Nx(u)&&(Array.isArray(u)&&u.isCss||pi(u)?l.push("".concat(W0(s),":"),u,";"):_l(u)?l.push.apply(l,kl(kl(["".concat(s," {")],Px(u),!1),["}"],!1)):l.push("".concat(W0(s),": ").concat((a=s,(r=u)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||a in Nw||a.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return l};function hr(e,a,r,l){if(Nx(e))return[];if(yh(e))return[".".concat(e.styledComponentId)];if(pi(e)){if(!pi(u=e)||u.prototype&&u.prototype.isReactComponent||!a)return[e];var s=e(a);return hr(s,a,r,l)}var u;return e instanceof pC?r?(e.inject(r,l),[e.getName(l)]):[e]:_l(e)?Px(e):Array.isArray(e)?Array.prototype.concat.apply(qc,e.map(function(d){return hr(d,a,r,l)})):[e.toString()]}function gC(e){for(var a=0;a<e.length;a+=1){var r=e[a];if(pi(r)&&!yh(r))return!1}return!0}var yC=Tx(Fc),xC=(function(){function e(a,r,l){this.rules=a,this.staticRulesId="",this.isStatic=(l===void 0||l.isStatic)&&gC(a),this.componentId=r,this.baseHash=ri(yC,r),this.baseStyle=l,jx.registerId(r)}return e.prototype.generateAndInjectStyles=function(a,r,l){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(a,r,l):"";if(this.isStatic&&!l.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))s=dr(s,this.staticRulesId);else{var u=G0(hr(this.rules,a,r,l)),d=qf(ri(this.baseHash,u)>>>0);if(!r.hasNameForId(this.componentId,d)){var p=l(u,".".concat(d),void 0,this.componentId);r.insertRules(this.componentId,d,p)}s=dr(s,d),this.staticRulesId=d}else{for(var g=ri(this.baseHash,l.hash),f="",y=0;y<this.rules.length;y++){var m=this.rules[y];if(typeof m=="string")f+=m;else if(m){var x=G0(hr(m,a,r,l));g=ri(g,x+y),f+=x}}if(f){var b=qf(g>>>0);r.hasNameForId(this.componentId,b)||r.insertRules(this.componentId,b,l(f,".".concat(b),void 0,this.componentId)),s=dr(s,b)}}return s},e})(),Lx=jt.createContext(void 0);Lx.Consumer;var Sf={};function bC(e,a,r){var l=yh(e),s=e,u=!Cf(e),d=a.attrs,p=d===void 0?qc:d,g=a.componentId,f=g===void 0?(function(_,I){var z=typeof _!="string"?"sc":Y0(_);Sf[z]=(Sf[z]||0)+1;var O="".concat(z,"-").concat($w(Fc+z+Sf[z]));return I?"".concat(I,"-").concat(O):O})(a.displayName,a.parentComponentId):g,y=a.displayName,m=y===void 0?(function(_){return Cf(_)?"styled.".concat(_):"Styled(".concat(Qw(_),")")})(e):y,x=a.displayName&&a.componentId?"".concat(Y0(a.displayName),"-").concat(a.componentId):a.componentId||f,b=l&&s.attrs?s.attrs.concat(p).filter(Boolean):p,v=a.shouldForwardProp;if(l&&s.shouldForwardProp){var S=s.shouldForwardProp;if(a.shouldForwardProp){var C=a.shouldForwardProp;v=function(_,I){return S(_,I)&&C(_,I)}}else v=S}var M=new xC(r,x,l?s.componentStyle:void 0);function R(_,I){return(function(z,O,B){var V=z.attrs,U=z.componentStyle,L=z.defaultProps,Z=z.foldedComponentIds,J=z.styledComponentId,X=z.target,G=jt.useContext(Lx),D=V0(),P=z.shouldForwardProp||D.shouldForwardProp,N=Lw(O,G,L)||hi,Y=(function(vt,ht,xt){for(var Ct,F=Ie(Ie({},ht),{className:void 0,theme:xt}),et=0;et<vt.length;et+=1){var K=pi(Ct=vt[et])?Ct(F):Ct;for(var rt in K)F[rt]=rt==="className"?dr(F[rt],K[rt]):rt==="style"?Ie(Ie({},F[rt]),K[rt]):K[rt]}return ht.className&&(F.className=dr(F.className,ht.className)),F})(V,O,N),E=Y.as||X,H={};for(var $ in Y)Y[$]===void 0||$[0]==="$"||$==="as"||$==="theme"&&Y.theme===N||($==="forwardedAs"?H.as=Y.forwardedAs:P&&!P($,E)||(H[$]=Y[$]));var q=(function(vt,ht){var xt=V0(),Ct=vt.generateAndInjectStyles(ht,xt.styleSheet,xt.stylis);return Ct})(U,Y),nt=dr(Z,J);return q&&(nt+=" "+q),Y.className&&(nt+=" "+Y.className),H[Cf(E)&&!Mx.has(E)?"class":"className"]=nt,B&&(H.ref=B),A.createElement(E,H)})(T,_,I)}R.displayName=m;var T=jt.forwardRef(R);return T.attrs=b,T.componentStyle=M,T.displayName=m,T.shouldForwardProp=v,T.foldedComponentIds=l?dr(s.foldedComponentIds,s.styledComponentId):"",T.styledComponentId=x,T.target=l?s.target:e,Object.defineProperty(T,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_){this._foldedDefaultProps=l?(function(I){for(var z=[],O=1;O<arguments.length;O++)z[O-1]=arguments[O];for(var B=0,V=z;B<V.length;B++)Vf(I,V[B],!0);return I})({},s.defaultProps,_):_}}),xh(T,function(){return".".concat(T.styledComponentId)}),u&&Dx(T,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),T}function Z0(e,a){for(var r=[e[0]],l=0,s=a.length;l<s;l+=1)r.push(a[l],e[l+1]);return r}var K0=function(e){return Object.assign(e,{isCss:!0})};function ua(e){for(var a=[],r=1;r<arguments.length;r++)a[r-1]=arguments[r];if(pi(e)||_l(e))return K0(hr(Z0(qc,kl([e],a,!0))));var l=e;return a.length===0&&l.length===1&&typeof l[0]=="string"?hr(l):K0(hr(Z0(l,a)))}function Zf(e,a,r){if(r===void 0&&(r=hi),!a)throw Nl(1,a);var l=function(s){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];return e(a,r,ua.apply(void 0,kl([s],u,!1)))};return l.attrs=function(s){return Zf(e,a,Ie(Ie({},r),{attrs:Array.prototype.concat(r.attrs,s).filter(Boolean)}))},l.withConfig=function(s){return Zf(e,a,Ie(Ie({},r),s))},l}var Hx=function(e){return Zf(bC,e)},dt=Hx;Mx.forEach(function(e){dt[e]=Hx(e)});const vC=dt.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  background: #f8f9fa;
`,AC=dt.div.attrs(e=>({style:{marginLeft:`${e.$libraryWidth}px`,width:`calc(100vw - ${e.$libraryWidth}px)`}}))`
  margin-top: 60px;
  height: calc(100vh - 60px - 40px);
  position: relative;
  overflow: hidden;
`;dt.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  opacity: ${e=>e.$isVisible?1:0};
  transition: opacity 0.2s;
`;dt.div`
  position: absolute;
  width: 10px;
  height: 10px;
  background: #3498db;
  border: 2px solid white;
  border-radius: 50%;
  pointer-events: auto;
  cursor: ${e=>e.$cursor};
  z-index: 10;
  box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);

  ${e=>{switch(e.$position){case"nw":return"top: -8px; left: -8px;";case"n":return"top: -8px; left: calc(50% - 5px);";case"ne":return"top: -8px; right: -8px;";case"e":return"top: calc(50% - 5px); right: -8px;";case"se":return"bottom: -8px; right: -8px;";case"s":return"bottom: -8px; left: calc(50% - 5px);";case"sw":return"bottom: -8px; left: -8px;";case"w":return"top: calc(50% - 5px); left: -8px;";default:return""}}}
`;const wC=dt.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 60px;
  background: white;
  border-bottom: 1px solid #e1e5e9;
  z-index: 1000;
  display: flex;
  align-items: center;
  padding: 0 20px;
  gap: 15px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`,CC=dt.div`
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 0;
`,SC=dt.img`
  width: 38px;
  height: 38px;
  flex-shrink: 0;
`;dt.button`
  padding: 8px 16px;
  border: 1px solid #ddd;
  background: white;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  transition: all 0.2s;

  &:hover {
    background: #f5f5f5;
    border-color: #bbb;
  }

  &:active {
    transform: translateY(1px);
  }
`;dt.div`
  position: relative;
`;dt.div`
  position: absolute;
  top: 100%;
  left: 0;
  margin-top: 5px;
  background: white;
  border: 1px solid #e1e5e9;
  border-radius: 4px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  display: ${e=>e.$isOpen?"block":"none"};
  min-width: 180px;
  z-index: 1001;
`;dt.button`
  width: 100%;
  padding: 10px 15px;
  border: none;
  background: none;
  text-align: left;
  cursor: pointer;
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: background 0.2s;

  &:hover {
    background: #f5f5f5;
  }

  &:first-child {
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;
  }

  &:last-child {
    border-bottom-left-radius: 4px;
    border-bottom-right-radius: 4px;
  }
`;dt.span`
  font-size: 16px;
`;const EC=dt.div`
  margin-left: auto;
  font-size: 12px;
  color: rgba(108, 117, 125, 0.55);
  padding: 6px 16px;
`;function Pl(e,a=[]){let r=[];function l(u,d){const p=A.createContext(d),g=r.length;r=[...r,d];const f=m=>{const{scope:x,children:b,...v}=m,S=x?.[e]?.[g]||p,C=A.useMemo(()=>v,Object.values(v));return w.jsx(S.Provider,{value:C,children:b})};f.displayName=u+"Provider";function y(m,x){const b=x?.[e]?.[g]||p,v=A.useContext(b);if(v)return v;if(d!==void 0)return d;throw new Error(`\`${m}\` must be used within \`${u}\``)}return[f,y]}const s=()=>{const u=r.map(d=>A.createContext(d));return function(p){const g=p?.[e]||u;return A.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return s.scopeName=e,[l,MC(s,...a)]}function MC(...e){const a=e[0];if(e.length===1)return a;const r=()=>{const l=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(u){const d=l.reduce((p,{useScope:g,scopeName:f})=>{const m=g(u)[`__scope${f}`];return{...p,...m}},{});return A.useMemo(()=>({[`__scope${a.scopeName}`]:d}),[d])}};return r.scopeName=a.scopeName,r}function J0(e,a){if(typeof e=="function")return e(a);e!=null&&(e.current=a)}function bh(...e){return a=>{let r=!1;const l=e.map(s=>{const u=J0(s,a);return!r&&typeof u=="function"&&(r=!0),u});if(r)return()=>{for(let s=0;s<l.length;s++){const u=l[s];typeof u=="function"?u():J0(e[s],null)}}}}function bn(...e){return A.useCallback(bh(...e),e)}function kc(e){const a=RC(e),r=A.forwardRef((l,s)=>{const{children:u,...d}=l,p=A.Children.toArray(u),g=p.find(kC);if(g){const f=g.props.children,y=p.map(m=>m===g?A.Children.count(f)>1?A.Children.only(null):A.isValidElement(f)?f.props.children:null:m);return w.jsx(a,{...d,ref:s,children:A.isValidElement(f)?A.cloneElement(f,void 0,y):null})}return w.jsx(a,{...d,ref:s,children:u})});return r.displayName=`${e}.Slot`,r}function RC(e){const a=A.forwardRef((r,l)=>{const{children:s,...u}=r;if(A.isValidElement(s)){const d=OC(s),p=_C(u,s.props);return s.type!==A.Fragment&&(p.ref=l?bh(l,d):d),A.cloneElement(s,p)}return A.Children.count(s)>1?A.Children.only(null):null});return a.displayName=`${e}.SlotClone`,a}var TC=Symbol("radix.slottable");function kC(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===TC}function _C(e,a){const r={...a};for(const l in a){const s=e[l],u=a[l];/^on[A-Z]/.test(l)?s&&u?r[l]=(...p)=>{const g=u(...p);return s(...p),g}:s&&(r[l]=s):l==="style"?r[l]={...s,...u}:l==="className"&&(r[l]=[s,u].filter(Boolean).join(" "))}return{...e,...r}}function OC(e){let a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?e.ref:(a=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function vh(e){const a=e+"CollectionProvider",[r,l]=Pl(a),[s,u]=r(a,{collectionRef:{current:null},itemMap:new Map}),d=S=>{const{scope:C,children:M}=S,R=jt.useRef(null),T=jt.useRef(new Map).current;return w.jsx(s,{scope:C,itemMap:T,collectionRef:R,children:M})};d.displayName=a;const p=e+"CollectionSlot",g=kc(p),f=jt.forwardRef((S,C)=>{const{scope:M,children:R}=S,T=u(p,M),_=bn(C,T.collectionRef);return w.jsx(g,{ref:_,children:R})});f.displayName=p;const y=e+"CollectionItemSlot",m="data-radix-collection-item",x=kc(y),b=jt.forwardRef((S,C)=>{const{scope:M,children:R,...T}=S,_=jt.useRef(null),I=bn(C,_),z=u(y,M);return jt.useEffect(()=>(z.itemMap.set(_,{ref:_,...T}),()=>void z.itemMap.delete(_))),w.jsx(x,{[m]:"",ref:I,children:R})});b.displayName=y;function v(S){const C=u(e+"CollectionConsumer",S);return jt.useCallback(()=>{const R=C.collectionRef.current;if(!R)return[];const T=Array.from(R.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((z,O)=>T.indexOf(z.ref.current)-T.indexOf(O.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:d,Slot:f,ItemSlot:b},v,l]}var DC=A.createContext(void 0);function Ah(e){const a=A.useContext(DC);return e||a||"ltr"}function Zt(e,a,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return a?.(s)}}var Ya=globalThis?.document?A.useLayoutEffect:()=>{},IC=px[" useId ".trim().toString()]||(()=>{}),jC=0;function li(e){const[a,r]=A.useState(IC());return Ya(()=>{r(l=>l??String(jC++))},[e]),a?`radix-${a}`:""}var Qa=mx();const BC=Uc(Qa);var zC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fn=zC.reduce((e,a)=>{const r=kc(`Primitive.${a}`),l=A.forwardRef((s,u)=>{const{asChild:d,...p}=s,g=d?r:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(g,{...p,ref:u})});return l.displayName=`Primitive.${a}`,{...e,[a]:l}},{});function Yx(e,a){e&&Qa.flushSync(()=>e.dispatchEvent(a))}function zo(e){const a=A.useRef(e);return A.useEffect(()=>{a.current=e}),A.useMemo(()=>(...r)=>a.current?.(...r),[])}function NC(e,a=globalThis?.document){const r=zo(e);A.useEffect(()=>{const l=s=>{s.key==="Escape"&&r(s)};return a.addEventListener("keydown",l,{capture:!0}),()=>a.removeEventListener("keydown",l,{capture:!0})},[r,a])}var PC="DismissableLayer",Kf="dismissableLayer.update",LC="dismissableLayer.pointerDownOutside",HC="dismissableLayer.focusOutside",ty,Ux=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$x=A.forwardRef((e,a)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:l,onPointerDownOutside:s,onFocusOutside:u,onInteractOutside:d,onDismiss:p,...g}=e,f=A.useContext(Ux),[y,m]=A.useState(null),x=y?.ownerDocument??globalThis?.document,[,b]=A.useState({}),v=bn(a,O=>m(O)),S=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),M=S.indexOf(C),R=y?S.indexOf(y):-1,T=f.layersWithOutsidePointerEventsDisabled.size>0,_=R>=M,I=$C(O=>{const B=O.target,V=[...f.branches].some(U=>U.contains(B));!_||V||(s?.(O),d?.(O),O.defaultPrevented||p?.())},x),z=QC(O=>{const B=O.target;[...f.branches].some(U=>U.contains(B))||(u?.(O),d?.(O),O.defaultPrevented||p?.())},x);return NC(O=>{R===f.layers.size-1&&(l?.(O),!O.defaultPrevented&&p&&(O.preventDefault(),p()))},x),A.useEffect(()=>{if(y)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(ty=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(y)),f.layers.add(y),ey(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=ty)}},[y,x,r,f]),A.useEffect(()=>()=>{y&&(f.layers.delete(y),f.layersWithOutsidePointerEventsDisabled.delete(y),ey())},[y,f]),A.useEffect(()=>{const O=()=>b({});return document.addEventListener(Kf,O),()=>document.removeEventListener(Kf,O)},[]),w.jsx(fn.div,{...g,ref:v,style:{pointerEvents:T?_?"auto":"none":void 0,...e.style},onFocusCapture:Zt(e.onFocusCapture,z.onFocusCapture),onBlurCapture:Zt(e.onBlurCapture,z.onBlurCapture),onPointerDownCapture:Zt(e.onPointerDownCapture,I.onPointerDownCapture)})});$x.displayName=PC;var YC="DismissableLayerBranch",UC=A.forwardRef((e,a)=>{const r=A.useContext(Ux),l=A.useRef(null),s=bn(a,l);return A.useEffect(()=>{const u=l.current;if(u)return r.branches.add(u),()=>{r.branches.delete(u)}},[r.branches]),w.jsx(fn.div,{...e,ref:s})});UC.displayName=YC;function $C(e,a=globalThis?.document){const r=zo(e),l=A.useRef(!1),s=A.useRef(()=>{});return A.useEffect(()=>{const u=p=>{if(p.target&&!l.current){let g=function(){Qx(LC,r,f,{discrete:!0})};const f={originalEvent:p};p.pointerType==="touch"?(a.removeEventListener("click",s.current),s.current=g,a.addEventListener("click",s.current,{once:!0})):g()}else a.removeEventListener("click",s.current);l.current=!1},d=window.setTimeout(()=>{a.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(d),a.removeEventListener("pointerdown",u),a.removeEventListener("click",s.current)}},[a,r]),{onPointerDownCapture:()=>l.current=!0}}function QC(e,a=globalThis?.document){const r=zo(e),l=A.useRef(!1);return A.useEffect(()=>{const s=u=>{u.target&&!l.current&&Qx(HC,r,{originalEvent:u},{discrete:!1})};return a.addEventListener("focusin",s),()=>a.removeEventListener("focusin",s)},[a,r]),{onFocusCapture:()=>l.current=!0,onBlurCapture:()=>l.current=!1}}function ey(){const e=new CustomEvent(Kf);document.dispatchEvent(e)}function Qx(e,a,r,{discrete:l}){const s=r.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});a&&s.addEventListener(e,a,{once:!0}),l?Yx(s,u):s.dispatchEvent(u)}var Ef=0;function XC(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ny()),document.body.insertAdjacentElement("beforeend",e[1]??ny()),Ef++,()=>{Ef===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Ef--}},[])}function ny(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Mf="focusScope.autoFocusOnMount",Rf="focusScope.autoFocusOnUnmount",oy={bubbles:!1,cancelable:!0},GC="FocusScope",Xx=A.forwardRef((e,a)=>{const{loop:r=!1,trapped:l=!1,onMountAutoFocus:s,onUnmountAutoFocus:u,...d}=e,[p,g]=A.useState(null),f=zo(s),y=zo(u),m=A.useRef(null),x=bn(a,S=>g(S)),b=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(l){let S=function(T){if(b.paused||!p)return;const _=T.target;p.contains(_)?m.current=_:Na(m.current,{select:!0})},C=function(T){if(b.paused||!p)return;const _=T.relatedTarget;_!==null&&(p.contains(_)||Na(m.current,{select:!0}))},M=function(T){if(document.activeElement===document.body)for(const I of T)I.removedNodes.length>0&&Na(p)};document.addEventListener("focusin",S),document.addEventListener("focusout",C);const R=new MutationObserver(M);return p&&R.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",C),R.disconnect()}}},[l,p,b.paused]),A.useEffect(()=>{if(p){ry.add(b);const S=document.activeElement;if(!p.contains(S)){const M=new CustomEvent(Mf,oy);p.addEventListener(Mf,f),p.dispatchEvent(M),M.defaultPrevented||(FC(KC(Gx(p)),{select:!0}),document.activeElement===S&&Na(p))}return()=>{p.removeEventListener(Mf,f),setTimeout(()=>{const M=new CustomEvent(Rf,oy);p.addEventListener(Rf,y),p.dispatchEvent(M),M.defaultPrevented||Na(S??document.body,{select:!0}),p.removeEventListener(Rf,y),ry.remove(b)},0)}}},[p,f,y,b]);const v=A.useCallback(S=>{if(!r&&!l||b.paused)return;const C=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,M=document.activeElement;if(C&&M){const R=S.currentTarget,[T,_]=qC(R);T&&_?!S.shiftKey&&M===_?(S.preventDefault(),r&&Na(T,{select:!0})):S.shiftKey&&M===T&&(S.preventDefault(),r&&Na(_,{select:!0})):M===R&&S.preventDefault()}},[r,l,b.paused]);return w.jsx(fn.div,{tabIndex:-1,...d,ref:x,onKeyDown:v})});Xx.displayName=GC;function FC(e,{select:a=!1}={}){const r=document.activeElement;for(const l of e)if(Na(l,{select:a}),document.activeElement!==r)return}function qC(e){const a=Gx(e),r=ay(a,e),l=ay(a.reverse(),e);return[r,l]}function Gx(e){const a=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const s=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||s?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)a.push(r.currentNode);return a}function ay(e,a){for(const r of e)if(!VC(r,{upTo:a}))return r}function VC(e,{upTo:a}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(a!==void 0&&e===a)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function WC(e){return e instanceof HTMLInputElement&&"select"in e}function Na(e,{select:a=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&WC(e)&&a&&e.select()}}var ry=ZC();function ZC(){let e=[];return{add(a){const r=e[0];a!==r&&r?.pause(),e=iy(e,a),e.unshift(a)},remove(a){e=iy(e,a),e[0]?.resume()}}}function iy(e,a){const r=[...e],l=r.indexOf(a);return l!==-1&&r.splice(l,1),r}function KC(e){return e.filter(a=>a.tagName!=="A")}const JC=["top","right","bottom","left"],Ua=Math.min,$n=Math.max,_c=Math.round,ec=Math.floor,Bo=e=>({x:e,y:e}),tS={left:"right",right:"left",bottom:"top",top:"bottom"},eS={start:"end",end:"start"};function Jf(e,a,r){return $n(e,Ua(a,r))}function da(e,a){return typeof e=="function"?e(a):e}function fa(e){return e.split("-")[0]}function bi(e){return e.split("-")[1]}function wh(e){return e==="x"?"y":"x"}function Ch(e){return e==="y"?"height":"width"}const nS=new Set(["top","bottom"]);function Io(e){return nS.has(fa(e))?"y":"x"}function Sh(e){return wh(Io(e))}function oS(e,a,r){r===void 0&&(r=!1);const l=bi(e),s=Sh(e),u=Ch(s);let d=s==="x"?l===(r?"end":"start")?"right":"left":l==="start"?"bottom":"top";return a.reference[u]>a.floating[u]&&(d=Oc(d)),[d,Oc(d)]}function aS(e){const a=Oc(e);return[th(e),a,th(a)]}function th(e){return e.replace(/start|end/g,a=>eS[a])}const ly=["left","right"],sy=["right","left"],rS=["top","bottom"],iS=["bottom","top"];function lS(e,a,r){switch(e){case"top":case"bottom":return r?a?sy:ly:a?ly:sy;case"left":case"right":return a?rS:iS;default:return[]}}function sS(e,a,r,l){const s=bi(e);let u=lS(fa(e),r==="start",l);return s&&(u=u.map(d=>d+"-"+s),a&&(u=u.concat(u.map(th)))),u}function Oc(e){return e.replace(/left|right|bottom|top/g,a=>tS[a])}function cS(e){return{top:0,right:0,bottom:0,left:0,...e}}function Fx(e){return typeof e!="number"?cS(e):{top:e,right:e,bottom:e,left:e}}function Dc(e){const{x:a,y:r,width:l,height:s}=e;return{width:l,height:s,top:r,left:a,right:a+l,bottom:r+s,x:a,y:r}}function cy(e,a,r){let{reference:l,floating:s}=e;const u=Io(a),d=Sh(a),p=Ch(d),g=fa(a),f=u==="y",y=l.x+l.width/2-s.width/2,m=l.y+l.height/2-s.height/2,x=l[p]/2-s[p]/2;let b;switch(g){case"top":b={x:y,y:l.y-s.height};break;case"bottom":b={x:y,y:l.y+l.height};break;case"right":b={x:l.x+l.width,y:m};break;case"left":b={x:l.x-s.width,y:m};break;default:b={x:l.x,y:l.y}}switch(bi(a)){case"start":b[d]-=x*(r&&f?-1:1);break;case"end":b[d]+=x*(r&&f?-1:1);break}return b}const uS=async(e,a,r)=>{const{placement:l="bottom",strategy:s="absolute",middleware:u=[],platform:d}=r,p=u.filter(Boolean),g=await(d.isRTL==null?void 0:d.isRTL(a));let f=await d.getElementRects({reference:e,floating:a,strategy:s}),{x:y,y:m}=cy(f,l,g),x=l,b={},v=0;for(let S=0;S<p.length;S++){const{name:C,fn:M}=p[S],{x:R,y:T,data:_,reset:I}=await M({x:y,y:m,initialPlacement:l,placement:x,strategy:s,middlewareData:b,rects:f,platform:d,elements:{reference:e,floating:a}});y=R??y,m=T??m,b={...b,[C]:{...b[C],..._}},I&&v<=50&&(v++,typeof I=="object"&&(I.placement&&(x=I.placement),I.rects&&(f=I.rects===!0?await d.getElementRects({reference:e,floating:a,strategy:s}):I.rects),{x:y,y:m}=cy(f,x,g)),S=-1)}return{x:y,y:m,placement:x,strategy:s,middlewareData:b}};async function Ol(e,a){var r;a===void 0&&(a={});const{x:l,y:s,platform:u,rects:d,elements:p,strategy:g}=e,{boundary:f="clippingAncestors",rootBoundary:y="viewport",elementContext:m="floating",altBoundary:x=!1,padding:b=0}=da(a,e),v=Fx(b),C=p[x?m==="floating"?"reference":"floating":m],M=Dc(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(C)))==null||r?C:C.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(p.floating)),boundary:f,rootBoundary:y,strategy:g})),R=m==="floating"?{x:l,y:s,width:d.floating.width,height:d.floating.height}:d.reference,T=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p.floating)),_=await(u.isElement==null?void 0:u.isElement(T))?await(u.getScale==null?void 0:u.getScale(T))||{x:1,y:1}:{x:1,y:1},I=Dc(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:R,offsetParent:T,strategy:g}):R);return{top:(M.top-I.top+v.top)/_.y,bottom:(I.bottom-M.bottom+v.bottom)/_.y,left:(M.left-I.left+v.left)/_.x,right:(I.right-M.right+v.right)/_.x}}const dS=e=>({name:"arrow",options:e,async fn(a){const{x:r,y:l,placement:s,rects:u,platform:d,elements:p,middlewareData:g}=a,{element:f,padding:y=0}=da(e,a)||{};if(f==null)return{};const m=Fx(y),x={x:r,y:l},b=Sh(s),v=Ch(b),S=await d.getDimensions(f),C=b==="y",M=C?"top":"left",R=C?"bottom":"right",T=C?"clientHeight":"clientWidth",_=u.reference[v]+u.reference[b]-x[b]-u.floating[v],I=x[b]-u.reference[b],z=await(d.getOffsetParent==null?void 0:d.getOffsetParent(f));let O=z?z[T]:0;(!O||!await(d.isElement==null?void 0:d.isElement(z)))&&(O=p.floating[T]||u.floating[v]);const B=_/2-I/2,V=O/2-S[v]/2-1,U=Ua(m[M],V),L=Ua(m[R],V),Z=U,J=O-S[v]-L,X=O/2-S[v]/2+B,G=Jf(Z,X,J),D=!g.arrow&&bi(s)!=null&&X!==G&&u.reference[v]/2-(X<Z?U:L)-S[v]/2<0,P=D?X<Z?X-Z:X-J:0;return{[b]:x[b]+P,data:{[b]:G,centerOffset:X-G-P,...D&&{alignmentOffset:P}},reset:D}}}),fS=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(a){var r,l;const{placement:s,middlewareData:u,rects:d,initialPlacement:p,platform:g,elements:f}=a,{mainAxis:y=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:S=!0,...C}=da(e,a);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const M=fa(s),R=Io(p),T=fa(p)===p,_=await(g.isRTL==null?void 0:g.isRTL(f.floating)),I=x||(T||!S?[Oc(p)]:aS(p)),z=v!=="none";!x&&z&&I.push(...sS(p,S,v,_));const O=[p,...I],B=await Ol(a,C),V=[];let U=((l=u.flip)==null?void 0:l.overflows)||[];if(y&&V.push(B[M]),m){const X=oS(s,d,_);V.push(B[X[0]],B[X[1]])}if(U=[...U,{placement:s,overflows:V}],!V.every(X=>X<=0)){var L,Z;const X=(((L=u.flip)==null?void 0:L.index)||0)+1,G=O[X];if(G&&(!(m==="alignment"?R!==Io(G):!1)||U.every(N=>Io(N.placement)===R?N.overflows[0]>0:!0)))return{data:{index:X,overflows:U},reset:{placement:G}};let D=(Z=U.filter(P=>P.overflows[0]<=0).sort((P,N)=>P.overflows[1]-N.overflows[1])[0])==null?void 0:Z.placement;if(!D)switch(b){case"bestFit":{var J;const P=(J=U.filter(N=>{if(z){const Y=Io(N.placement);return Y===R||Y==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(Y=>Y>0).reduce((Y,E)=>Y+E,0)]).sort((N,Y)=>N[1]-Y[1])[0])==null?void 0:J[0];P&&(D=P);break}case"initialPlacement":D=p;break}if(s!==D)return{reset:{placement:D}}}return{}}}};function uy(e,a){return{top:e.top-a.height,right:e.right-a.width,bottom:e.bottom-a.height,left:e.left-a.width}}function dy(e){return JC.some(a=>e[a]>=0)}const hS=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(a){const{rects:r}=a,{strategy:l="referenceHidden",...s}=da(e,a);switch(l){case"referenceHidden":{const u=await Ol(a,{...s,elementContext:"reference"}),d=uy(u,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:dy(d)}}}case"escaped":{const u=await Ol(a,{...s,altBoundary:!0}),d=uy(u,r.floating);return{data:{escapedOffsets:d,escaped:dy(d)}}}default:return{}}}}},qx=new Set(["left","top"]);async function pS(e,a){const{placement:r,platform:l,elements:s}=e,u=await(l.isRTL==null?void 0:l.isRTL(s.floating)),d=fa(r),p=bi(r),g=Io(r)==="y",f=qx.has(d)?-1:1,y=u&&g?-1:1,m=da(a,e);let{mainAxis:x,crossAxis:b,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return p&&typeof v=="number"&&(b=p==="end"?v*-1:v),g?{x:b*y,y:x*f}:{x:x*f,y:b*y}}const mS=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(a){var r,l;const{x:s,y:u,placement:d,middlewareData:p}=a,g=await pS(a,e);return d===((r=p.offset)==null?void 0:r.placement)&&(l=p.arrow)!=null&&l.alignmentOffset?{}:{x:s+g.x,y:u+g.y,data:{...g,placement:d}}}}},gS=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(a){const{x:r,y:l,placement:s}=a,{mainAxis:u=!0,crossAxis:d=!1,limiter:p={fn:C=>{let{x:M,y:R}=C;return{x:M,y:R}}},...g}=da(e,a),f={x:r,y:l},y=await Ol(a,g),m=Io(fa(s)),x=wh(m);let b=f[x],v=f[m];if(u){const C=x==="y"?"top":"left",M=x==="y"?"bottom":"right",R=b+y[C],T=b-y[M];b=Jf(R,b,T)}if(d){const C=m==="y"?"top":"left",M=m==="y"?"bottom":"right",R=v+y[C],T=v-y[M];v=Jf(R,v,T)}const S=p.fn({...a,[x]:b,[m]:v});return{...S,data:{x:S.x-r,y:S.y-l,enabled:{[x]:u,[m]:d}}}}}},yS=function(e){return e===void 0&&(e={}),{options:e,fn(a){const{x:r,y:l,placement:s,rects:u,middlewareData:d}=a,{offset:p=0,mainAxis:g=!0,crossAxis:f=!0}=da(e,a),y={x:r,y:l},m=Io(s),x=wh(m);let b=y[x],v=y[m];const S=da(p,a),C=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(g){const T=x==="y"?"height":"width",_=u.reference[x]-u.floating[T]+C.mainAxis,I=u.reference[x]+u.reference[T]-C.mainAxis;b<_?b=_:b>I&&(b=I)}if(f){var M,R;const T=x==="y"?"width":"height",_=qx.has(fa(s)),I=u.reference[m]-u.floating[T]+(_&&((M=d.offset)==null?void 0:M[m])||0)+(_?0:C.crossAxis),z=u.reference[m]+u.reference[T]+(_?0:((R=d.offset)==null?void 0:R[m])||0)-(_?C.crossAxis:0);v<I?v=I:v>z&&(v=z)}return{[x]:b,[m]:v}}}},xS=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(a){var r,l;const{placement:s,rects:u,platform:d,elements:p}=a,{apply:g=()=>{},...f}=da(e,a),y=await Ol(a,f),m=fa(s),x=bi(s),b=Io(s)==="y",{width:v,height:S}=u.floating;let C,M;m==="top"||m==="bottom"?(C=m,M=x===(await(d.isRTL==null?void 0:d.isRTL(p.floating))?"start":"end")?"left":"right"):(M=m,C=x==="end"?"top":"bottom");const R=S-y.top-y.bottom,T=v-y.left-y.right,_=Ua(S-y[C],R),I=Ua(v-y[M],T),z=!a.middlewareData.shift;let O=_,B=I;if((r=a.middlewareData.shift)!=null&&r.enabled.x&&(B=T),(l=a.middlewareData.shift)!=null&&l.enabled.y&&(O=R),z&&!x){const U=$n(y.left,0),L=$n(y.right,0),Z=$n(y.top,0),J=$n(y.bottom,0);b?B=v-2*(U!==0||L!==0?U+L:$n(y.left,y.right)):O=S-2*(Z!==0||J!==0?Z+J:$n(y.top,y.bottom))}await g({...a,availableWidth:B,availableHeight:O});const V=await d.getDimensions(p.floating);return v!==V.width||S!==V.height?{reset:{rects:!0}}:{}}}};function Vc(){return typeof window<"u"}function vi(e){return Vx(e)?(e.nodeName||"").toLowerCase():"#document"}function Xn(e){var a;return(e==null||(a=e.ownerDocument)==null?void 0:a.defaultView)||window}function Po(e){var a;return(a=(Vx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:a.documentElement}function Vx(e){return Vc()?e instanceof Node||e instanceof Xn(e).Node:!1}function wo(e){return Vc()?e instanceof Element||e instanceof Xn(e).Element:!1}function No(e){return Vc()?e instanceof HTMLElement||e instanceof Xn(e).HTMLElement:!1}function fy(e){return!Vc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xn(e).ShadowRoot}const bS=new Set(["inline","contents"]);function Ll(e){const{overflow:a,overflowX:r,overflowY:l,display:s}=Co(e);return/auto|scroll|overlay|hidden|clip/.test(a+l+r)&&!bS.has(s)}const vS=new Set(["table","td","th"]);function AS(e){return vS.has(vi(e))}const wS=[":popover-open",":modal"];function Wc(e){return wS.some(a=>{try{return e.matches(a)}catch{return!1}})}const CS=["transform","translate","scale","rotate","perspective"],SS=["transform","translate","scale","rotate","perspective","filter"],ES=["paint","layout","strict","content"];function Eh(e){const a=Mh(),r=wo(e)?Co(e):e;return CS.some(l=>r[l]?r[l]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!a&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!a&&(r.filter?r.filter!=="none":!1)||SS.some(l=>(r.willChange||"").includes(l))||ES.some(l=>(r.contain||"").includes(l))}function MS(e){let a=$a(e);for(;No(a)&&!mi(a);){if(Eh(a))return a;if(Wc(a))return null;a=$a(a)}return null}function Mh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const RS=new Set(["html","body","#document"]);function mi(e){return RS.has(vi(e))}function Co(e){return Xn(e).getComputedStyle(e)}function Zc(e){return wo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $a(e){if(vi(e)==="html")return e;const a=e.assignedSlot||e.parentNode||fy(e)&&e.host||Po(e);return fy(a)?a.host:a}function Wx(e){const a=$a(e);return mi(a)?e.ownerDocument?e.ownerDocument.body:e.body:No(a)&&Ll(a)?a:Wx(a)}function Dl(e,a,r){var l;a===void 0&&(a=[]),r===void 0&&(r=!0);const s=Wx(e),u=s===((l=e.ownerDocument)==null?void 0:l.body),d=Xn(s);if(u){const p=eh(d);return a.concat(d,d.visualViewport||[],Ll(s)?s:[],p&&r?Dl(p):[])}return a.concat(s,Dl(s,[],r))}function eh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Zx(e){const a=Co(e);let r=parseFloat(a.width)||0,l=parseFloat(a.height)||0;const s=No(e),u=s?e.offsetWidth:r,d=s?e.offsetHeight:l,p=_c(r)!==u||_c(l)!==d;return p&&(r=u,l=d),{width:r,height:l,$:p}}function Rh(e){return wo(e)?e:e.contextElement}function si(e){const a=Rh(e);if(!No(a))return Bo(1);const r=a.getBoundingClientRect(),{width:l,height:s,$:u}=Zx(a);let d=(u?_c(r.width):r.width)/l,p=(u?_c(r.height):r.height)/s;return(!d||!Number.isFinite(d))&&(d=1),(!p||!Number.isFinite(p))&&(p=1),{x:d,y:p}}const TS=Bo(0);function Kx(e){const a=Xn(e);return!Mh()||!a.visualViewport?TS:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function kS(e,a,r){return a===void 0&&(a=!1),!r||a&&r!==Xn(e)?!1:a}function pr(e,a,r,l){a===void 0&&(a=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),u=Rh(e);let d=Bo(1);a&&(l?wo(l)&&(d=si(l)):d=si(e));const p=kS(u,r,l)?Kx(u):Bo(0);let g=(s.left+p.x)/d.x,f=(s.top+p.y)/d.y,y=s.width/d.x,m=s.height/d.y;if(u){const x=Xn(u),b=l&&wo(l)?Xn(l):l;let v=x,S=eh(v);for(;S&&l&&b!==v;){const C=si(S),M=S.getBoundingClientRect(),R=Co(S),T=M.left+(S.clientLeft+parseFloat(R.paddingLeft))*C.x,_=M.top+(S.clientTop+parseFloat(R.paddingTop))*C.y;g*=C.x,f*=C.y,y*=C.x,m*=C.y,g+=T,f+=_,v=Xn(S),S=eh(v)}}return Dc({width:y,height:m,x:g,y:f})}function Kc(e,a){const r=Zc(e).scrollLeft;return a?a.left+r:pr(Po(e)).left+r}function Jx(e,a){const r=e.getBoundingClientRect(),l=r.left+a.scrollLeft-Kc(e,r),s=r.top+a.scrollTop;return{x:l,y:s}}function _S(e){let{elements:a,rect:r,offsetParent:l,strategy:s}=e;const u=s==="fixed",d=Po(l),p=a?Wc(a.floating):!1;if(l===d||p&&u)return r;let g={scrollLeft:0,scrollTop:0},f=Bo(1);const y=Bo(0),m=No(l);if((m||!m&&!u)&&((vi(l)!=="body"||Ll(d))&&(g=Zc(l)),No(l))){const b=pr(l);f=si(l),y.x=b.x+l.clientLeft,y.y=b.y+l.clientTop}const x=d&&!m&&!u?Jx(d,g):Bo(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-g.scrollLeft*f.x+y.x+x.x,y:r.y*f.y-g.scrollTop*f.y+y.y+x.y}}function OS(e){return Array.from(e.getClientRects())}function DS(e){const a=Po(e),r=Zc(e),l=e.ownerDocument.body,s=$n(a.scrollWidth,a.clientWidth,l.scrollWidth,l.clientWidth),u=$n(a.scrollHeight,a.clientHeight,l.scrollHeight,l.clientHeight);let d=-r.scrollLeft+Kc(e);const p=-r.scrollTop;return Co(l).direction==="rtl"&&(d+=$n(a.clientWidth,l.clientWidth)-s),{width:s,height:u,x:d,y:p}}const hy=25;function IS(e,a){const r=Xn(e),l=Po(e),s=r.visualViewport;let u=l.clientWidth,d=l.clientHeight,p=0,g=0;if(s){u=s.width,d=s.height;const y=Mh();(!y||y&&a==="fixed")&&(p=s.offsetLeft,g=s.offsetTop)}const f=Kc(l);if(f<=0){const y=l.ownerDocument,m=y.body,x=getComputedStyle(m),b=y.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,v=Math.abs(l.clientWidth-m.clientWidth-b);v<=hy&&(u-=v)}else f<=hy&&(u+=f);return{width:u,height:d,x:p,y:g}}const jS=new Set(["absolute","fixed"]);function BS(e,a){const r=pr(e,!0,a==="fixed"),l=r.top+e.clientTop,s=r.left+e.clientLeft,u=No(e)?si(e):Bo(1),d=e.clientWidth*u.x,p=e.clientHeight*u.y,g=s*u.x,f=l*u.y;return{width:d,height:p,x:g,y:f}}function py(e,a,r){let l;if(a==="viewport")l=IS(e,r);else if(a==="document")l=DS(Po(e));else if(wo(a))l=BS(a,r);else{const s=Kx(e);l={x:a.x-s.x,y:a.y-s.y,width:a.width,height:a.height}}return Dc(l)}function tb(e,a){const r=$a(e);return r===a||!wo(r)||mi(r)?!1:Co(r).position==="fixed"||tb(r,a)}function zS(e,a){const r=a.get(e);if(r)return r;let l=Dl(e,[],!1).filter(p=>wo(p)&&vi(p)!=="body"),s=null;const u=Co(e).position==="fixed";let d=u?$a(e):e;for(;wo(d)&&!mi(d);){const p=Co(d),g=Eh(d);!g&&p.position==="fixed"&&(s=null),(u?!g&&!s:!g&&p.position==="static"&&!!s&&jS.has(s.position)||Ll(d)&&!g&&tb(e,d))?l=l.filter(y=>y!==d):s=p,d=$a(d)}return a.set(e,l),l}function NS(e){let{element:a,boundary:r,rootBoundary:l,strategy:s}=e;const d=[...r==="clippingAncestors"?Wc(a)?[]:zS(a,this._c):[].concat(r),l],p=d[0],g=d.reduce((f,y)=>{const m=py(a,y,s);return f.top=$n(m.top,f.top),f.right=Ua(m.right,f.right),f.bottom=Ua(m.bottom,f.bottom),f.left=$n(m.left,f.left),f},py(a,p,s));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function PS(e){const{width:a,height:r}=Zx(e);return{width:a,height:r}}function LS(e,a,r){const l=No(a),s=Po(a),u=r==="fixed",d=pr(e,!0,u,a);let p={scrollLeft:0,scrollTop:0};const g=Bo(0);function f(){g.x=Kc(s)}if(l||!l&&!u)if((vi(a)!=="body"||Ll(s))&&(p=Zc(a)),l){const b=pr(a,!0,u,a);g.x=b.x+a.clientLeft,g.y=b.y+a.clientTop}else s&&f();u&&!l&&s&&f();const y=s&&!l&&!u?Jx(s,p):Bo(0),m=d.left+p.scrollLeft-g.x-y.x,x=d.top+p.scrollTop-g.y-y.y;return{x:m,y:x,width:d.width,height:d.height}}function Tf(e){return Co(e).position==="static"}function my(e,a){if(!No(e)||Co(e).position==="fixed")return null;if(a)return a(e);let r=e.offsetParent;return Po(e)===r&&(r=r.ownerDocument.body),r}function eb(e,a){const r=Xn(e);if(Wc(e))return r;if(!No(e)){let s=$a(e);for(;s&&!mi(s);){if(wo(s)&&!Tf(s))return s;s=$a(s)}return r}let l=my(e,a);for(;l&&AS(l)&&Tf(l);)l=my(l,a);return l&&mi(l)&&Tf(l)&&!Eh(l)?r:l||MS(e)||r}const HS=async function(e){const a=this.getOffsetParent||eb,r=this.getDimensions,l=await r(e.floating);return{reference:LS(e.reference,await a(e.floating),e.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}};function YS(e){return Co(e).direction==="rtl"}const US={convertOffsetParentRelativeRectToViewportRelativeRect:_S,getDocumentElement:Po,getClippingRect:NS,getOffsetParent:eb,getElementRects:HS,getClientRects:OS,getDimensions:PS,getScale:si,isElement:wo,isRTL:YS};function nb(e,a){return e.x===a.x&&e.y===a.y&&e.width===a.width&&e.height===a.height}function $S(e,a){let r=null,l;const s=Po(e);function u(){var p;clearTimeout(l),(p=r)==null||p.disconnect(),r=null}function d(p,g){p===void 0&&(p=!1),g===void 0&&(g=1),u();const f=e.getBoundingClientRect(),{left:y,top:m,width:x,height:b}=f;if(p||a(),!x||!b)return;const v=ec(m),S=ec(s.clientWidth-(y+x)),C=ec(s.clientHeight-(m+b)),M=ec(y),T={rootMargin:-v+"px "+-S+"px "+-C+"px "+-M+"px",threshold:$n(0,Ua(1,g))||1};let _=!0;function I(z){const O=z[0].intersectionRatio;if(O!==g){if(!_)return d();O?d(!1,O):l=setTimeout(()=>{d(!1,1e-7)},1e3)}O===1&&!nb(f,e.getBoundingClientRect())&&d(),_=!1}try{r=new IntersectionObserver(I,{...T,root:s.ownerDocument})}catch{r=new IntersectionObserver(I,T)}r.observe(e)}return d(!0),u}function QS(e,a,r,l){l===void 0&&(l={});const{ancestorScroll:s=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:g=!1}=l,f=Rh(e),y=s||u?[...f?Dl(f):[],...Dl(a)]:[];y.forEach(M=>{s&&M.addEventListener("scroll",r,{passive:!0}),u&&M.addEventListener("resize",r)});const m=f&&p?$S(f,r):null;let x=-1,b=null;d&&(b=new ResizeObserver(M=>{let[R]=M;R&&R.target===f&&b&&(b.unobserve(a),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var T;(T=b)==null||T.observe(a)})),r()}),f&&!g&&b.observe(f),b.observe(a));let v,S=g?pr(e):null;g&&C();function C(){const M=pr(e);S&&!nb(S,M)&&r(),S=M,v=requestAnimationFrame(C)}return r(),()=>{var M;y.forEach(R=>{s&&R.removeEventListener("scroll",r),u&&R.removeEventListener("resize",r)}),m?.(),(M=b)==null||M.disconnect(),b=null,g&&cancelAnimationFrame(v)}}const XS=mS,GS=gS,FS=fS,qS=xS,VS=hS,gy=dS,WS=yS,ZS=(e,a,r)=>{const l=new Map,s={platform:US,...r},u={...s.platform,_c:l};return uS(e,a,{...s,platform:u})};var KS=typeof document<"u",JS=function(){},Cc=KS?A.useLayoutEffect:JS;function Ic(e,a){if(e===a)return!0;if(typeof e!=typeof a)return!1;if(typeof e=="function"&&e.toString()===a.toString())return!0;let r,l,s;if(e&&a&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==a.length)return!1;for(l=r;l--!==0;)if(!Ic(e[l],a[l]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(a).length)return!1;for(l=r;l--!==0;)if(!{}.hasOwnProperty.call(a,s[l]))return!1;for(l=r;l--!==0;){const u=s[l];if(!(u==="_owner"&&e.$$typeof)&&!Ic(e[u],a[u]))return!1}return!0}return e!==e&&a!==a}function ob(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yy(e,a){const r=ob(e);return Math.round(a*r)/r}function kf(e){const a=A.useRef(e);return Cc(()=>{a.current=e}),a}function tE(e){e===void 0&&(e={});const{placement:a="bottom",strategy:r="absolute",middleware:l=[],platform:s,elements:{reference:u,floating:d}={},transform:p=!0,whileElementsMounted:g,open:f}=e,[y,m]=A.useState({x:0,y:0,strategy:r,placement:a,middlewareData:{},isPositioned:!1}),[x,b]=A.useState(l);Ic(x,l)||b(l);const[v,S]=A.useState(null),[C,M]=A.useState(null),R=A.useCallback(N=>{N!==z.current&&(z.current=N,S(N))},[]),T=A.useCallback(N=>{N!==O.current&&(O.current=N,M(N))},[]),_=u||v,I=d||C,z=A.useRef(null),O=A.useRef(null),B=A.useRef(y),V=g!=null,U=kf(g),L=kf(s),Z=kf(f),J=A.useCallback(()=>{if(!z.current||!O.current)return;const N={placement:a,strategy:r,middleware:x};L.current&&(N.platform=L.current),ZS(z.current,O.current,N).then(Y=>{const E={...Y,isPositioned:Z.current!==!1};X.current&&!Ic(B.current,E)&&(B.current=E,Qa.flushSync(()=>{m(E)}))})},[x,a,r,L,Z]);Cc(()=>{f===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,m(N=>({...N,isPositioned:!1})))},[f]);const X=A.useRef(!1);Cc(()=>(X.current=!0,()=>{X.current=!1}),[]),Cc(()=>{if(_&&(z.current=_),I&&(O.current=I),_&&I){if(U.current)return U.current(_,I,J);J()}},[_,I,J,U,V]);const G=A.useMemo(()=>({reference:z,floating:O,setReference:R,setFloating:T}),[R,T]),D=A.useMemo(()=>({reference:_,floating:I}),[_,I]),P=A.useMemo(()=>{const N={position:r,left:0,top:0};if(!D.floating)return N;const Y=yy(D.floating,y.x),E=yy(D.floating,y.y);return p?{...N,transform:"translate("+Y+"px, "+E+"px)",...ob(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Y,top:E}},[r,p,D.floating,y.x,y.y]);return A.useMemo(()=>({...y,update:J,refs:G,elements:D,floatingStyles:P}),[y,J,G,D,P])}const eE=e=>{function a(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:l,padding:s}=typeof e=="function"?e(r):e;return l&&a(l)?l.current!=null?gy({element:l.current,padding:s}).fn(r):{}:l?gy({element:l,padding:s}).fn(r):{}}}},nE=(e,a)=>({...XS(e),options:[e,a]}),oE=(e,a)=>({...GS(e),options:[e,a]}),aE=(e,a)=>({...WS(e),options:[e,a]}),rE=(e,a)=>({...FS(e),options:[e,a]}),iE=(e,a)=>({...qS(e),options:[e,a]}),lE=(e,a)=>({...VS(e),options:[e,a]}),sE=(e,a)=>({...eE(e),options:[e,a]});var cE="Arrow",ab=A.forwardRef((e,a)=>{const{children:r,width:l=10,height:s=5,...u}=e;return w.jsx(fn.svg,{...u,ref:a,width:l,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});ab.displayName=cE;var uE=ab;function dE(e){const[a,r]=A.useState(void 0);return Ya(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const l=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const u=s[0];let d,p;if("borderBoxSize"in u){const g=u.borderBoxSize,f=Array.isArray(g)?g[0]:g;d=f.inlineSize,p=f.blockSize}else d=e.offsetWidth,p=e.offsetHeight;r({width:d,height:p})});return l.observe(e,{box:"border-box"}),()=>l.unobserve(e)}else r(void 0)},[e]),a}var Th="Popper",[rb,ib]=Pl(Th),[fE,lb]=rb(Th),sb=e=>{const{__scopePopper:a,children:r}=e,[l,s]=A.useState(null);return w.jsx(fE,{scope:a,anchor:l,onAnchorChange:s,children:r})};sb.displayName=Th;var cb="PopperAnchor",ub=A.forwardRef((e,a)=>{const{__scopePopper:r,virtualRef:l,...s}=e,u=lb(cb,r),d=A.useRef(null),p=bn(a,d),g=A.useRef(null);return A.useEffect(()=>{const f=g.current;g.current=l?.current||d.current,f!==g.current&&u.onAnchorChange(g.current)}),l?null:w.jsx(fn.div,{...s,ref:p})});ub.displayName=cb;var kh="PopperContent",[hE,pE]=rb(kh),db=A.forwardRef((e,a)=>{const{__scopePopper:r,side:l="bottom",sideOffset:s=0,align:u="center",alignOffset:d=0,arrowPadding:p=0,avoidCollisions:g=!0,collisionBoundary:f=[],collisionPadding:y=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:v,...S}=e,C=lb(kh,r),[M,R]=A.useState(null),T=bn(a,xt=>R(xt)),[_,I]=A.useState(null),z=dE(_),O=z?.width??0,B=z?.height??0,V=l+(u!=="center"?"-"+u:""),U=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},L=Array.isArray(f)?f:[f],Z=L.length>0,J={padding:U,boundary:L.filter(gE),altBoundary:Z},{refs:X,floatingStyles:G,placement:D,isPositioned:P,middlewareData:N}=tE({strategy:"fixed",placement:V,whileElementsMounted:(...xt)=>QS(...xt,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[nE({mainAxis:s+B,alignmentAxis:d}),g&&oE({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?aE():void 0,...J}),g&&rE({...J}),iE({...J,apply:({elements:xt,rects:Ct,availableWidth:F,availableHeight:et})=>{const{width:K,height:rt}=Ct.reference,bt=xt.floating.style;bt.setProperty("--radix-popper-available-width",`${F}px`),bt.setProperty("--radix-popper-available-height",`${et}px`),bt.setProperty("--radix-popper-anchor-width",`${K}px`),bt.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),_&&sE({element:_,padding:p}),yE({arrowWidth:O,arrowHeight:B}),x&&lE({strategy:"referenceHidden",...J})]}),[Y,E]=pb(D),H=zo(v);Ya(()=>{P&&H?.()},[P,H]);const $=N.arrow?.x,q=N.arrow?.y,nt=N.arrow?.centerOffset!==0,[vt,ht]=A.useState();return Ya(()=>{M&&ht(window.getComputedStyle(M).zIndex)},[M]),w.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:P?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:vt,"--radix-popper-transform-origin":[N.transformOrigin?.x,N.transformOrigin?.y].join(" "),...N.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:w.jsx(hE,{scope:r,placedSide:Y,onArrowChange:I,arrowX:$,arrowY:q,shouldHideArrow:nt,children:w.jsx(fn.div,{"data-side":Y,"data-align":E,...S,ref:T,style:{...S.style,animation:P?void 0:"none"}})})})});db.displayName=kh;var fb="PopperArrow",mE={top:"bottom",right:"left",bottom:"top",left:"right"},hb=A.forwardRef(function(a,r){const{__scopePopper:l,...s}=a,u=pE(fb,l),d=mE[u.placedSide];return w.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:w.jsx(uE,{...s,ref:r,style:{...s.style,display:"block"}})})});hb.displayName=fb;function gE(e){return e!==null}var yE=e=>({name:"transformOrigin",options:e,fn(a){const{placement:r,rects:l,middlewareData:s}=a,d=s.arrow?.centerOffset!==0,p=d?0:e.arrowWidth,g=d?0:e.arrowHeight,[f,y]=pb(r),m={start:"0%",center:"50%",end:"100%"}[y],x=(s.arrow?.x??0)+p/2,b=(s.arrow?.y??0)+g/2;let v="",S="";return f==="bottom"?(v=d?m:`${x}px`,S=`${-g}px`):f==="top"?(v=d?m:`${x}px`,S=`${l.floating.height+g}px`):f==="right"?(v=`${-g}px`,S=d?m:`${b}px`):f==="left"&&(v=`${l.floating.width+g}px`,S=d?m:`${b}px`),{data:{x:v,y:S}}}});function pb(e){const[a,r="center"]=e.split("-");return[a,r]}var mb=sb,xE=ub,bE=db,vE=hb,AE="Portal",gb=A.forwardRef((e,a)=>{const{container:r,...l}=e,[s,u]=A.useState(!1);Ya(()=>u(!0),[]);const d=r||s&&globalThis?.document?.body;return d?BC.createPortal(w.jsx(fn.div,{...l,ref:a}),d):null});gb.displayName=AE;function wE(e,a){return A.useReducer((r,l)=>a[r][l]??r,e)}var Hl=e=>{const{present:a,children:r}=e,l=CE(a),s=typeof r=="function"?r({present:l.isPresent}):A.Children.only(r),u=bn(l.ref,SE(s));return typeof r=="function"||l.isPresent?A.cloneElement(s,{ref:u}):null};Hl.displayName="Presence";function CE(e){const[a,r]=A.useState(),l=A.useRef(null),s=A.useRef(e),u=A.useRef("none"),d=e?"mounted":"unmounted",[p,g]=wE(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const f=nc(l.current);u.current=p==="mounted"?f:"none"},[p]),Ya(()=>{const f=l.current,y=s.current;if(y!==e){const x=u.current,b=nc(f);e?g("MOUNT"):b==="none"||f?.display==="none"?g("UNMOUNT"):g(y&&x!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,g]),Ya(()=>{if(a){let f;const y=a.ownerDocument.defaultView??window,m=b=>{const S=nc(l.current).includes(CSS.escape(b.animationName));if(b.target===a&&S&&(g("ANIMATION_END"),!s.current)){const C=a.style.animationFillMode;a.style.animationFillMode="forwards",f=y.setTimeout(()=>{a.style.animationFillMode==="forwards"&&(a.style.animationFillMode=C)})}},x=b=>{b.target===a&&(u.current=nc(l.current))};return a.addEventListener("animationstart",x),a.addEventListener("animationcancel",m),a.addEventListener("animationend",m),()=>{y.clearTimeout(f),a.removeEventListener("animationstart",x),a.removeEventListener("animationcancel",m),a.removeEventListener("animationend",m)}}else g("ANIMATION_END")},[a,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:A.useCallback(f=>{l.current=f?getComputedStyle(f):null,r(f)},[])}}function nc(e){return e?.animationName||"none"}function SE(e){let a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?e.ref:(a=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var EE=px[" useInsertionEffect ".trim().toString()]||Ya;function _h({prop:e,defaultProp:a,onChange:r=()=>{},caller:l}){const[s,u,d]=ME({defaultProp:a,onChange:r}),p=e!==void 0,g=p?e:s;{const y=A.useRef(e!==void 0);A.useEffect(()=>{const m=y.current;m!==p&&console.warn(`${l} is changing from ${m?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=p},[p,l])}const f=A.useCallback(y=>{if(p){const m=RE(y)?y(e):y;m!==e&&d.current?.(m)}else u(y)},[p,e,u,d]);return[g,f]}function ME({defaultProp:e,onChange:a}){const[r,l]=A.useState(e),s=A.useRef(r),u=A.useRef(a);return EE(()=>{u.current=a},[a]),A.useEffect(()=>{s.current!==r&&(u.current?.(r),s.current=r)},[r,s]),[r,l,u]}function RE(e){return typeof e=="function"}var _f="rovingFocusGroup.onEntryFocus",TE={bubbles:!1,cancelable:!0},Yl="RovingFocusGroup",[nh,yb,kE]=vh(Yl),[_E,Jc]=Pl(Yl,[kE]),[OE,DE]=_E(Yl),xb=A.forwardRef((e,a)=>w.jsx(nh.Provider,{scope:e.__scopeRovingFocusGroup,children:w.jsx(nh.Slot,{scope:e.__scopeRovingFocusGroup,children:w.jsx(IE,{...e,ref:a})})}));xb.displayName=Yl;var IE=A.forwardRef((e,a)=>{const{__scopeRovingFocusGroup:r,orientation:l,loop:s=!1,dir:u,currentTabStopId:d,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:g,onEntryFocus:f,preventScrollOnEntryFocus:y=!1,...m}=e,x=A.useRef(null),b=bn(a,x),v=Ah(u),[S,C]=_h({prop:d,defaultProp:p??null,onChange:g,caller:Yl}),[M,R]=A.useState(!1),T=zo(f),_=yb(r),I=A.useRef(!1),[z,O]=A.useState(0);return A.useEffect(()=>{const B=x.current;if(B)return B.addEventListener(_f,T),()=>B.removeEventListener(_f,T)},[T]),w.jsx(OE,{scope:r,orientation:l,dir:v,loop:s,currentTabStopId:S,onItemFocus:A.useCallback(B=>C(B),[C]),onItemShiftTab:A.useCallback(()=>R(!0),[]),onFocusableItemAdd:A.useCallback(()=>O(B=>B+1),[]),onFocusableItemRemove:A.useCallback(()=>O(B=>B-1),[]),children:w.jsx(fn.div,{tabIndex:M||z===0?-1:0,"data-orientation":l,...m,ref:b,style:{outline:"none",...e.style},onMouseDown:Zt(e.onMouseDown,()=>{I.current=!0}),onFocus:Zt(e.onFocus,B=>{const V=!I.current;if(B.target===B.currentTarget&&V&&!M){const U=new CustomEvent(_f,TE);if(B.currentTarget.dispatchEvent(U),!U.defaultPrevented){const L=_().filter(D=>D.focusable),Z=L.find(D=>D.active),J=L.find(D=>D.id===S),G=[Z,J,...L].filter(Boolean).map(D=>D.ref.current);Ab(G,y)}}I.current=!1}),onBlur:Zt(e.onBlur,()=>R(!1))})})}),bb="RovingFocusGroupItem",vb=A.forwardRef((e,a)=>{const{__scopeRovingFocusGroup:r,focusable:l=!0,active:s=!1,tabStopId:u,children:d,...p}=e,g=li(),f=u||g,y=DE(bb,r),m=y.currentTabStopId===f,x=yb(r),{onFocusableItemAdd:b,onFocusableItemRemove:v,currentTabStopId:S}=y;return A.useEffect(()=>{if(l)return b(),()=>v()},[l,b,v]),w.jsx(nh.ItemSlot,{scope:r,id:f,focusable:l,active:s,children:w.jsx(fn.span,{tabIndex:m?0:-1,"data-orientation":y.orientation,...p,ref:a,onMouseDown:Zt(e.onMouseDown,C=>{l?y.onItemFocus(f):C.preventDefault()}),onFocus:Zt(e.onFocus,()=>y.onItemFocus(f)),onKeyDown:Zt(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){y.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const M=zE(C,y.orientation,y.dir);if(M!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let T=x().filter(_=>_.focusable).map(_=>_.ref.current);if(M==="last")T.reverse();else if(M==="prev"||M==="next"){M==="prev"&&T.reverse();const _=T.indexOf(C.currentTarget);T=y.loop?NE(T,_+1):T.slice(_+1)}setTimeout(()=>Ab(T))}}),children:typeof d=="function"?d({isCurrentTabStop:m,hasTabStop:S!=null}):d})})});vb.displayName=bb;var jE={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BE(e,a){return a!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function zE(e,a,r){const l=BE(e.key,r);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(l))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(l)))return jE[l]}function Ab(e,a=!1){const r=document.activeElement;for(const l of e)if(l===r||(l.focus({preventScroll:a}),document.activeElement!==r))return}function NE(e,a){return e.map((r,l)=>e[(a+l)%e.length])}var wb=xb,Cb=vb,PE=function(e){if(typeof document>"u")return null;var a=Array.isArray(e)?e[0]:e;return a.ownerDocument.body},Jr=new WeakMap,oc=new WeakMap,ac={},Of=0,Sb=function(e){return e&&(e.host||Sb(e.parentNode))},LE=function(e,a){return a.map(function(r){if(e.contains(r))return r;var l=Sb(r);return l&&e.contains(l)?l:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},HE=function(e,a,r,l){var s=LE(a,Array.isArray(e)?e:[e]);ac[r]||(ac[r]=new WeakMap);var u=ac[r],d=[],p=new Set,g=new Set(s),f=function(m){!m||p.has(m)||(p.add(m),f(m.parentNode))};s.forEach(f);var y=function(m){!m||g.has(m)||Array.prototype.forEach.call(m.children,function(x){if(p.has(x))y(x);else try{var b=x.getAttribute(l),v=b!==null&&b!=="false",S=(Jr.get(x)||0)+1,C=(u.get(x)||0)+1;Jr.set(x,S),u.set(x,C),d.push(x),S===1&&v&&oc.set(x,!0),C===1&&x.setAttribute(r,"true"),v||x.setAttribute(l,"true")}catch(M){console.error("aria-hidden: cannot operate on ",x,M)}})};return y(a),p.clear(),Of++,function(){d.forEach(function(m){var x=Jr.get(m)-1,b=u.get(m)-1;Jr.set(m,x),u.set(m,b),x||(oc.has(m)||m.removeAttribute(l),oc.delete(m)),b||m.removeAttribute(r)}),Of--,Of||(Jr=new WeakMap,Jr=new WeakMap,oc=new WeakMap,ac={})}},YE=function(e,a,r){r===void 0&&(r="data-aria-hidden");var l=Array.from(Array.isArray(e)?e:[e]),s=PE(e);return s?(l.push.apply(l,Array.from(s.querySelectorAll("[aria-live], script"))),HE(l,s,r,"aria-hidden")):function(){return null}},Sc="right-scroll-bar-position",Ec="width-before-scroll-bar",UE="with-scroll-bars-hidden",$E="--removed-body-scroll-bar-size";function Df(e,a){return typeof e=="function"?e(a):e&&(e.current=a),e}function QE(e,a){var r=A.useState(function(){return{value:e,callback:a,facade:{get current(){return r.value},set current(l){var s=r.value;s!==l&&(r.value=l,r.callback(l,s))}}}})[0];return r.callback=a,r.facade}var XE=typeof window<"u"?A.useLayoutEffect:A.useEffect,xy=new WeakMap;function GE(e,a){var r=QE(null,function(l){return e.forEach(function(s){return Df(s,l)})});return XE(function(){var l=xy.get(r);if(l){var s=new Set(l),u=new Set(e),d=r.current;s.forEach(function(p){u.has(p)||Df(p,null)}),u.forEach(function(p){s.has(p)||Df(p,d)})}xy.set(r,e)},[e]),r}function FE(e){return e}function qE(e,a){a===void 0&&(a=FE);var r=[],l=!1,s={read:function(){if(l)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(u){var d=a(u,l);return r.push(d),function(){r=r.filter(function(p){return p!==d})}},assignSyncMedium:function(u){for(l=!0;r.length;){var d=r;r=[],d.forEach(u)}r={push:function(p){return u(p)},filter:function(){return r}}},assignMedium:function(u){l=!0;var d=[];if(r.length){var p=r;r=[],p.forEach(u),d=r}var g=function(){var y=d;d=[],y.forEach(u)},f=function(){return Promise.resolve().then(g)};f(),r={push:function(y){d.push(y),f()},filter:function(y){return d=d.filter(y),r}}}};return s}function VE(e){e===void 0&&(e={});var a=qE(null);return a.options=Ie({async:!0,ssr:!1},e),a}var Eb=function(e){var a=e.sideCar,r=gx(e,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var l=a.read();if(!l)throw new Error("Sidecar medium not found");return A.createElement(l,Ie({},r))};Eb.isSideCarExport=!0;function WE(e,a){return e.useMedium(a),Eb}var Mb=VE(),If=function(){},tu=A.forwardRef(function(e,a){var r=A.useRef(null),l=A.useState({onScrollCapture:If,onWheelCapture:If,onTouchMoveCapture:If}),s=l[0],u=l[1],d=e.forwardProps,p=e.children,g=e.className,f=e.removeScrollBar,y=e.enabled,m=e.shards,x=e.sideCar,b=e.noRelative,v=e.noIsolation,S=e.inert,C=e.allowPinchZoom,M=e.as,R=M===void 0?"div":M,T=e.gapMode,_=gx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=x,z=GE([r,a]),O=Ie(Ie({},_),s);return A.createElement(A.Fragment,null,y&&A.createElement(I,{sideCar:Mb,removeScrollBar:f,shards:m,noRelative:b,noIsolation:v,inert:S,setCallbacks:u,allowPinchZoom:!!C,lockRef:r,gapMode:T}),d?A.cloneElement(A.Children.only(p),Ie(Ie({},O),{ref:z})):A.createElement(R,Ie({},O,{className:g,ref:z}),p))});tu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tu.classNames={fullWidth:Ec,zeroRight:Sc};var ZE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KE(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var a=ZE();return a&&e.setAttribute("nonce",a),e}function JE(e,a){e.styleSheet?e.styleSheet.cssText=a:e.appendChild(document.createTextNode(a))}function t2(e){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(e)}var e2=function(){var e=0,a=null;return{add:function(r){e==0&&(a=KE())&&(JE(a,r),t2(a)),e++},remove:function(){e--,!e&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},n2=function(){var e=e2();return function(a,r){A.useEffect(function(){return e.add(a),function(){e.remove()}},[a&&r])}},Rb=function(){var e=n2(),a=function(r){var l=r.styles,s=r.dynamic;return e(l,s),null};return a},o2={left:0,top:0,right:0,gap:0},jf=function(e){return parseInt(e||"",10)||0},a2=function(e){var a=window.getComputedStyle(document.body),r=a[e==="padding"?"paddingLeft":"marginLeft"],l=a[e==="padding"?"paddingTop":"marginTop"],s=a[e==="padding"?"paddingRight":"marginRight"];return[jf(r),jf(l),jf(s)]},r2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return o2;var a=a2(e),r=document.documentElement.clientWidth,l=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,l-r+a[2]-a[0])}},i2=Rb(),ci="data-scroll-locked",l2=function(e,a,r,l){var s=e.left,u=e.top,d=e.right,p=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(UE,` {
   overflow: hidden `).concat(l,`;
   padding-right: `).concat(p,"px ").concat(l,`;
  }
  body[`).concat(ci,`] {
    overflow: hidden `).concat(l,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(l,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(l,`;
    `),r==="padding"&&"padding-right: ".concat(p,"px ").concat(l,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sc,` {
    right: `).concat(p,"px ").concat(l,`;
  }
  
  .`).concat(Ec,` {
    margin-right: `).concat(p,"px ").concat(l,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    right: 0 `).concat(l,`;
  }
  
  .`).concat(Ec," .").concat(Ec,` {
    margin-right: 0 `).concat(l,`;
  }
  
  body[`).concat(ci,`] {
    `).concat($E,": ").concat(p,`px;
  }
`)},by=function(){var e=parseInt(document.body.getAttribute(ci)||"0",10);return isFinite(e)?e:0},s2=function(){A.useEffect(function(){return document.body.setAttribute(ci,(by()+1).toString()),function(){var e=by()-1;e<=0?document.body.removeAttribute(ci):document.body.setAttribute(ci,e.toString())}},[])},c2=function(e){var a=e.noRelative,r=e.noImportant,l=e.gapMode,s=l===void 0?"margin":l;s2();var u=A.useMemo(function(){return r2(s)},[s]);return A.createElement(i2,{styles:l2(u,!a,s,r?"":"!important")})},oh=!1;if(typeof window<"u")try{var rc=Object.defineProperty({},"passive",{get:function(){return oh=!0,!0}});window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{oh=!1}var ti=oh?{passive:!1}:!1,u2=function(e){return e.tagName==="TEXTAREA"},Tb=function(e,a){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[a]!=="hidden"&&!(r.overflowY===r.overflowX&&!u2(e)&&r[a]==="visible")},d2=function(e){return Tb(e,"overflowY")},f2=function(e){return Tb(e,"overflowX")},vy=function(e,a){var r=a.ownerDocument,l=a;do{typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&(l=l.host);var s=kb(e,l);if(s){var u=_b(e,l),d=u[1],p=u[2];if(d>p)return!0}l=l.parentNode}while(l&&l!==r.body);return!1},h2=function(e){var a=e.scrollTop,r=e.scrollHeight,l=e.clientHeight;return[a,r,l]},p2=function(e){var a=e.scrollLeft,r=e.scrollWidth,l=e.clientWidth;return[a,r,l]},kb=function(e,a){return e==="v"?d2(a):f2(a)},_b=function(e,a){return e==="v"?h2(a):p2(a)},m2=function(e,a){return e==="h"&&a==="rtl"?-1:1},g2=function(e,a,r,l,s){var u=m2(e,window.getComputedStyle(a).direction),d=u*l,p=r.target,g=a.contains(p),f=!1,y=d>0,m=0,x=0;do{if(!p)break;var b=_b(e,p),v=b[0],S=b[1],C=b[2],M=S-C-u*v;(v||M)&&kb(e,p)&&(m+=M,x+=v);var R=p.parentNode;p=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!g&&p!==document.body||g&&(a.contains(p)||a===p));return(y&&Math.abs(m)<1||!y&&Math.abs(x)<1)&&(f=!0),f},ic=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ay=function(e){return[e.deltaX,e.deltaY]},wy=function(e){return e&&"current"in e?e.current:e},y2=function(e,a){return e[0]===a[0]&&e[1]===a[1]},x2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},b2=0,ei=[];function v2(e){var a=A.useRef([]),r=A.useRef([0,0]),l=A.useRef(),s=A.useState(b2++)[0],u=A.useState(Rb)[0],d=A.useRef(e);A.useEffect(function(){d.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var S=kl([e.lockRef.current],(e.shards||[]).map(wy),!0).filter(Boolean);return S.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),S.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var p=A.useCallback(function(S,C){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!d.current.allowPinchZoom;var M=ic(S),R=r.current,T="deltaX"in S?S.deltaX:R[0]-M[0],_="deltaY"in S?S.deltaY:R[1]-M[1],I,z=S.target,O=Math.abs(T)>Math.abs(_)?"h":"v";if("touches"in S&&O==="h"&&z.type==="range")return!1;var B=vy(O,z);if(!B)return!0;if(B?I=O:(I=O==="v"?"h":"v",B=vy(O,z)),!B)return!1;if(!l.current&&"changedTouches"in S&&(T||_)&&(l.current=I),!I)return!0;var V=l.current||I;return g2(V,C,S,V==="h"?T:_)},[]),g=A.useCallback(function(S){var C=S;if(!(!ei.length||ei[ei.length-1]!==u)){var M="deltaY"in C?Ay(C):ic(C),R=a.current.filter(function(I){return I.name===C.type&&(I.target===C.target||C.target===I.shadowParent)&&y2(I.delta,M)})[0];if(R&&R.should){C.cancelable&&C.preventDefault();return}if(!R){var T=(d.current.shards||[]).map(wy).filter(Boolean).filter(function(I){return I.contains(C.target)}),_=T.length>0?p(C,T[0]):!d.current.noIsolation;_&&C.cancelable&&C.preventDefault()}}},[]),f=A.useCallback(function(S,C,M,R){var T={name:S,delta:C,target:M,should:R,shadowParent:A2(M)};a.current.push(T),setTimeout(function(){a.current=a.current.filter(function(_){return _!==T})},1)},[]),y=A.useCallback(function(S){r.current=ic(S),l.current=void 0},[]),m=A.useCallback(function(S){f(S.type,Ay(S),S.target,p(S,e.lockRef.current))},[]),x=A.useCallback(function(S){f(S.type,ic(S),S.target,p(S,e.lockRef.current))},[]);A.useEffect(function(){return ei.push(u),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",g,ti),document.addEventListener("touchmove",g,ti),document.addEventListener("touchstart",y,ti),function(){ei=ei.filter(function(S){return S!==u}),document.removeEventListener("wheel",g,ti),document.removeEventListener("touchmove",g,ti),document.removeEventListener("touchstart",y,ti)}},[]);var b=e.removeScrollBar,v=e.inert;return A.createElement(A.Fragment,null,v?A.createElement(u,{styles:x2(s)}):null,b?A.createElement(c2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function A2(e){for(var a=null;e!==null;)e instanceof ShadowRoot&&(a=e.host,e=e.host),e=e.parentNode;return a}const w2=WE(Mb,v2);var Ob=A.forwardRef(function(e,a){return A.createElement(tu,Ie({},e,{ref:a,sideCar:w2}))});Ob.classNames=tu.classNames;var ah=["Enter"," "],C2=["ArrowDown","PageUp","Home"],Db=["ArrowUp","PageDown","End"],S2=[...C2,...Db],E2={ltr:[...ah,"ArrowRight"],rtl:[...ah,"ArrowLeft"]},M2={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ul="Menu",[Il,R2,T2]=vh(Ul),[mr,k2]=Pl(Ul,[T2,ib,Jc]),$l=ib(),Ib=Jc(),[jb,Xa]=mr(Ul),[_2,Ql]=mr(Ul),Bb=e=>{const{__scopeMenu:a,open:r=!1,children:l,dir:s,onOpenChange:u,modal:d=!0}=e,p=$l(a),[g,f]=A.useState(null),y=A.useRef(!1),m=zo(u),x=Ah(s);return A.useEffect(()=>{const b=()=>{y.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>y.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),w.jsx(mb,{...p,children:w.jsx(jb,{scope:a,open:r,onOpenChange:m,content:g,onContentChange:f,children:w.jsx(_2,{scope:a,onClose:A.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:y,dir:x,modal:d,children:l})})})};Bb.displayName=Ul;var O2="MenuAnchor",Oh=A.forwardRef((e,a)=>{const{__scopeMenu:r,...l}=e,s=$l(r);return w.jsx(xE,{...s,...l,ref:a})});Oh.displayName=O2;var Dh="MenuPortal",[D2,zb]=mr(Dh,{forceMount:void 0}),Nb=e=>{const{__scopeMenu:a,forceMount:r,children:l,container:s}=e,u=Xa(Dh,a);return w.jsx(D2,{scope:a,forceMount:r,children:w.jsx(Hl,{present:r||u.open,children:w.jsx(gb,{asChild:!0,container:s,children:l})})})};Nb.displayName=Dh;var io="MenuContent",[I2,Ih]=mr(io),Pb=A.forwardRef((e,a)=>{const r=zb(io,e.__scopeMenu),{forceMount:l=r.forceMount,...s}=e,u=Xa(io,e.__scopeMenu),d=Ql(io,e.__scopeMenu);return w.jsx(Il.Provider,{scope:e.__scopeMenu,children:w.jsx(Hl,{present:l||u.open,children:w.jsx(Il.Slot,{scope:e.__scopeMenu,children:d.modal?w.jsx(j2,{...s,ref:a}):w.jsx(B2,{...s,ref:a})})})})}),j2=A.forwardRef((e,a)=>{const r=Xa(io,e.__scopeMenu),l=A.useRef(null),s=bn(a,l);return A.useEffect(()=>{const u=l.current;if(u)return YE(u)},[]),w.jsx(jh,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Zt(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),B2=A.forwardRef((e,a)=>{const r=Xa(io,e.__scopeMenu);return w.jsx(jh,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),z2=kc("MenuContent.ScrollLock"),jh=A.forwardRef((e,a)=>{const{__scopeMenu:r,loop:l=!1,trapFocus:s,onOpenAutoFocus:u,onCloseAutoFocus:d,disableOutsidePointerEvents:p,onEntryFocus:g,onEscapeKeyDown:f,onPointerDownOutside:y,onFocusOutside:m,onInteractOutside:x,onDismiss:b,disableOutsideScroll:v,...S}=e,C=Xa(io,r),M=Ql(io,r),R=$l(r),T=Ib(r),_=R2(r),[I,z]=A.useState(null),O=A.useRef(null),B=bn(a,O,C.onContentChange),V=A.useRef(0),U=A.useRef(""),L=A.useRef(0),Z=A.useRef(null),J=A.useRef("right"),X=A.useRef(0),G=v?Ob:A.Fragment,D=v?{as:z2,allowPinchZoom:!0}:void 0,P=Y=>{const E=U.current+Y,H=_().filter(xt=>!xt.disabled),$=document.activeElement,q=H.find(xt=>xt.ref.current===$)?.textValue,nt=H.map(xt=>xt.textValue),vt=q2(nt,E,q),ht=H.find(xt=>xt.textValue===vt)?.ref.current;(function xt(Ct){U.current=Ct,window.clearTimeout(V.current),Ct!==""&&(V.current=window.setTimeout(()=>xt(""),1e3))})(E),ht&&setTimeout(()=>ht.focus())};A.useEffect(()=>()=>window.clearTimeout(V.current),[]),XC();const N=A.useCallback(Y=>J.current===Z.current?.side&&W2(Y,Z.current?.area),[]);return w.jsx(I2,{scope:r,searchRef:U,onItemEnter:A.useCallback(Y=>{N(Y)&&Y.preventDefault()},[N]),onItemLeave:A.useCallback(Y=>{N(Y)||(O.current?.focus(),z(null))},[N]),onTriggerLeave:A.useCallback(Y=>{N(Y)&&Y.preventDefault()},[N]),pointerGraceTimerRef:L,onPointerGraceIntentChange:A.useCallback(Y=>{Z.current=Y},[]),children:w.jsx(G,{...D,children:w.jsx(Xx,{asChild:!0,trapped:s,onMountAutoFocus:Zt(u,Y=>{Y.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:w.jsx($x,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:f,onPointerDownOutside:y,onFocusOutside:m,onInteractOutside:x,onDismiss:b,children:w.jsx(wb,{asChild:!0,...T,dir:M.dir,orientation:"vertical",loop:l,currentTabStopId:I,onCurrentTabStopIdChange:z,onEntryFocus:Zt(g,Y=>{M.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(bE,{role:"menu","aria-orientation":"vertical","data-state":ev(C.open),"data-radix-menu-content":"",dir:M.dir,...R,...S,ref:B,style:{outline:"none",...S.style},onKeyDown:Zt(S.onKeyDown,Y=>{const H=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,$=Y.ctrlKey||Y.altKey||Y.metaKey,q=Y.key.length===1;H&&(Y.key==="Tab"&&Y.preventDefault(),!$&&q&&P(Y.key));const nt=O.current;if(Y.target!==nt||!S2.includes(Y.key))return;Y.preventDefault();const ht=_().filter(xt=>!xt.disabled).map(xt=>xt.ref.current);Db.includes(Y.key)&&ht.reverse(),G2(ht)}),onBlur:Zt(e.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(V.current),U.current="")}),onPointerMove:Zt(e.onPointerMove,jl(Y=>{const E=Y.target,H=X.current!==Y.clientX;if(Y.currentTarget.contains(E)&&H){const $=Y.clientX>X.current?"right":"left";J.current=$,X.current=Y.clientX}}))})})})})})})});Pb.displayName=io;var N2="MenuGroup",Bh=A.forwardRef((e,a)=>{const{__scopeMenu:r,...l}=e;return w.jsx(fn.div,{role:"group",...l,ref:a})});Bh.displayName=N2;var P2="MenuLabel",Lb=A.forwardRef((e,a)=>{const{__scopeMenu:r,...l}=e;return w.jsx(fn.div,{...l,ref:a})});Lb.displayName=P2;var jc="MenuItem",Cy="menu.itemSelect",eu=A.forwardRef((e,a)=>{const{disabled:r=!1,onSelect:l,...s}=e,u=A.useRef(null),d=Ql(jc,e.__scopeMenu),p=Ih(jc,e.__scopeMenu),g=bn(a,u),f=A.useRef(!1),y=()=>{const m=u.current;if(!r&&m){const x=new CustomEvent(Cy,{bubbles:!0,cancelable:!0});m.addEventListener(Cy,b=>l?.(b),{once:!0}),Yx(m,x),x.defaultPrevented?f.current=!1:d.onClose()}};return w.jsx(Hb,{...s,ref:g,disabled:r,onClick:Zt(e.onClick,y),onPointerDown:m=>{e.onPointerDown?.(m),f.current=!0},onPointerUp:Zt(e.onPointerUp,m=>{f.current||m.currentTarget?.click()}),onKeyDown:Zt(e.onKeyDown,m=>{const x=p.searchRef.current!=="";r||x&&m.key===" "||ah.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});eu.displayName=jc;var Hb=A.forwardRef((e,a)=>{const{__scopeMenu:r,disabled:l=!1,textValue:s,...u}=e,d=Ih(jc,r),p=Ib(r),g=A.useRef(null),f=bn(a,g),[y,m]=A.useState(!1),[x,b]=A.useState("");return A.useEffect(()=>{const v=g.current;v&&b((v.textContent??"").trim())},[u.children]),w.jsx(Il.ItemSlot,{scope:r,disabled:l,textValue:s??x,children:w.jsx(Cb,{asChild:!0,...p,focusable:!l,children:w.jsx(fn.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":l||void 0,"data-disabled":l?"":void 0,...u,ref:f,onPointerMove:Zt(e.onPointerMove,jl(v=>{l?d.onItemLeave(v):(d.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Zt(e.onPointerLeave,jl(v=>d.onItemLeave(v))),onFocus:Zt(e.onFocus,()=>m(!0)),onBlur:Zt(e.onBlur,()=>m(!1))})})})}),L2="MenuCheckboxItem",Yb=A.forwardRef((e,a)=>{const{checked:r=!1,onCheckedChange:l,...s}=e;return w.jsx(Gb,{scope:e.__scopeMenu,checked:r,children:w.jsx(eu,{role:"menuitemcheckbox","aria-checked":Bc(r)?"mixed":r,...s,ref:a,"data-state":Ph(r),onSelect:Zt(s.onSelect,()=>l?.(Bc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Yb.displayName=L2;var Ub="MenuRadioGroup",[H2,Y2]=mr(Ub,{value:void 0,onValueChange:()=>{}}),$b=A.forwardRef((e,a)=>{const{value:r,onValueChange:l,...s}=e,u=zo(l);return w.jsx(H2,{scope:e.__scopeMenu,value:r,onValueChange:u,children:w.jsx(Bh,{...s,ref:a})})});$b.displayName=Ub;var Qb="MenuRadioItem",Xb=A.forwardRef((e,a)=>{const{value:r,...l}=e,s=Y2(Qb,e.__scopeMenu),u=r===s.value;return w.jsx(Gb,{scope:e.__scopeMenu,checked:u,children:w.jsx(eu,{role:"menuitemradio","aria-checked":u,...l,ref:a,"data-state":Ph(u),onSelect:Zt(l.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});Xb.displayName=Qb;var zh="MenuItemIndicator",[Gb,U2]=mr(zh,{checked:!1}),Fb=A.forwardRef((e,a)=>{const{__scopeMenu:r,forceMount:l,...s}=e,u=U2(zh,r);return w.jsx(Hl,{present:l||Bc(u.checked)||u.checked===!0,children:w.jsx(fn.span,{...s,ref:a,"data-state":Ph(u.checked)})})});Fb.displayName=zh;var $2="MenuSeparator",qb=A.forwardRef((e,a)=>{const{__scopeMenu:r,...l}=e;return w.jsx(fn.div,{role:"separator","aria-orientation":"horizontal",...l,ref:a})});qb.displayName=$2;var Q2="MenuArrow",Vb=A.forwardRef((e,a)=>{const{__scopeMenu:r,...l}=e,s=$l(r);return w.jsx(vE,{...s,...l,ref:a})});Vb.displayName=Q2;var Nh="MenuSub",[X2,Wb]=mr(Nh),Zb=e=>{const{__scopeMenu:a,children:r,open:l=!1,onOpenChange:s}=e,u=Xa(Nh,a),d=$l(a),[p,g]=A.useState(null),[f,y]=A.useState(null),m=zo(s);return A.useEffect(()=>(u.open===!1&&m(!1),()=>m(!1)),[u.open,m]),w.jsx(mb,{...d,children:w.jsx(jb,{scope:a,open:l,onOpenChange:m,content:f,onContentChange:y,children:w.jsx(X2,{scope:a,contentId:li(),triggerId:li(),trigger:p,onTriggerChange:g,children:r})})})};Zb.displayName=Nh;var wl="MenuSubTrigger",Kb=A.forwardRef((e,a)=>{const r=Xa(wl,e.__scopeMenu),l=Ql(wl,e.__scopeMenu),s=Wb(wl,e.__scopeMenu),u=Ih(wl,e.__scopeMenu),d=A.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:g}=u,f={__scopeMenu:e.__scopeMenu},y=A.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return A.useEffect(()=>y,[y]),A.useEffect(()=>{const m=p.current;return()=>{window.clearTimeout(m),g(null)}},[p,g]),w.jsx(Oh,{asChild:!0,...f,children:w.jsx(Hb,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":ev(r.open),...e,ref:bh(a,s.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Zt(e.onPointerMove,jl(m=>{u.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!d.current&&(u.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{r.onOpenChange(!0),y()},100))})),onPointerLeave:Zt(e.onPointerLeave,jl(m=>{y();const x=r.content?.getBoundingClientRect();if(x){const b=r.content?.dataset.side,v=b==="right",S=v?-5:5,C=x[v?"left":"right"],M=x[v?"right":"left"];u.onPointerGraceIntentChange({area:[{x:m.clientX+S,y:m.clientY},{x:C,y:x.top},{x:M,y:x.top},{x:M,y:x.bottom},{x:C,y:x.bottom}],side:b}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>u.onPointerGraceIntentChange(null),300)}else{if(u.onTriggerLeave(m),m.defaultPrevented)return;u.onPointerGraceIntentChange(null)}})),onKeyDown:Zt(e.onKeyDown,m=>{const x=u.searchRef.current!=="";e.disabled||x&&m.key===" "||E2[l.dir].includes(m.key)&&(r.onOpenChange(!0),r.content?.focus(),m.preventDefault())})})})});Kb.displayName=wl;var Jb="MenuSubContent",tv=A.forwardRef((e,a)=>{const r=zb(io,e.__scopeMenu),{forceMount:l=r.forceMount,...s}=e,u=Xa(io,e.__scopeMenu),d=Ql(io,e.__scopeMenu),p=Wb(Jb,e.__scopeMenu),g=A.useRef(null),f=bn(a,g);return w.jsx(Il.Provider,{scope:e.__scopeMenu,children:w.jsx(Hl,{present:l||u.open,children:w.jsx(Il.Slot,{scope:e.__scopeMenu,children:w.jsx(jh,{id:p.contentId,"aria-labelledby":p.triggerId,...s,ref:f,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{d.isUsingKeyboardRef.current&&g.current?.focus(),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Zt(e.onFocusOutside,y=>{y.target!==p.trigger&&u.onOpenChange(!1)}),onEscapeKeyDown:Zt(e.onEscapeKeyDown,y=>{d.onClose(),y.preventDefault()}),onKeyDown:Zt(e.onKeyDown,y=>{const m=y.currentTarget.contains(y.target),x=M2[d.dir].includes(y.key);m&&x&&(u.onOpenChange(!1),p.trigger?.focus(),y.preventDefault())})})})})})});tv.displayName=Jb;function ev(e){return e?"open":"closed"}function Bc(e){return e==="indeterminate"}function Ph(e){return Bc(e)?"indeterminate":e?"checked":"unchecked"}function G2(e){const a=document.activeElement;for(const r of e)if(r===a||(r.focus(),document.activeElement!==a))return}function F2(e,a){return e.map((r,l)=>e[(a+l)%e.length])}function q2(e,a,r){const s=a.length>1&&Array.from(a).every(f=>f===a[0])?a[0]:a,u=r?e.indexOf(r):-1;let d=F2(e,Math.max(u,0));s.length===1&&(d=d.filter(f=>f!==r));const g=d.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return g!==r?g:void 0}function V2(e,a){const{x:r,y:l}=e;let s=!1;for(let u=0,d=a.length-1;u<a.length;d=u++){const p=a[u],g=a[d],f=p.x,y=p.y,m=g.x,x=g.y;y>l!=x>l&&r<(m-f)*(l-y)/(x-y)+f&&(s=!s)}return s}function W2(e,a){if(!a)return!1;const r={x:e.clientX,y:e.clientY};return V2(r,a)}function jl(e){return a=>a.pointerType==="mouse"?e(a):void 0}var Z2=Bb,K2=Oh,J2=Nb,tM=Pb,eM=Bh,nM=Lb,oM=eu,aM=Yb,rM=$b,iM=Xb,lM=Fb,sM=qb,cM=Vb,uM=Zb,dM=Kb,fM=tv,Xl="Menubar",[rh,hM,pM]=vh(Xl),[nv]=Pl(Xl,[pM,Jc]),hn=k2(),ov=Jc(),[mM,Lh]=nv(Xl),av=A.forwardRef((e,a)=>{const{__scopeMenubar:r,value:l,onValueChange:s,defaultValue:u,loop:d=!0,dir:p,...g}=e,f=Ah(p),y=ov(r),[m,x]=_h({prop:l,onChange:s,defaultProp:u??"",caller:Xl}),[b,v]=A.useState(null);return w.jsx(mM,{scope:r,value:m,onMenuOpen:A.useCallback(S=>{x(S),v(S)},[x]),onMenuClose:A.useCallback(()=>x(""),[x]),onMenuToggle:A.useCallback(S=>{x(C=>C?"":S),v(S)},[x]),dir:f,loop:d,children:w.jsx(rh.Provider,{scope:r,children:w.jsx(rh.Slot,{scope:r,children:w.jsx(wb,{asChild:!0,...y,orientation:"horizontal",loop:d,dir:f,currentTabStopId:b,onCurrentTabStopIdChange:v,children:w.jsx(fn.div,{role:"menubar",...g,ref:a})})})})})});av.displayName=Xl;var Hh="MenubarMenu",[gM,rv]=nv(Hh),iv=e=>{const{__scopeMenubar:a,value:r,...l}=e,s=li(),u=r||s||"LEGACY_REACT_AUTO_VALUE",d=Lh(Hh,a),p=hn(a),g=A.useRef(null),f=A.useRef(!1),y=d.value===u;return A.useEffect(()=>{y||(f.current=!1)},[y]),w.jsx(gM,{scope:a,value:u,triggerId:li(),triggerRef:g,contentId:li(),wasKeyboardTriggerOpenRef:f,children:w.jsx(Z2,{...p,open:y,onOpenChange:m=>{m||d.onMenuClose()},modal:!1,dir:d.dir,...l})})};iv.displayName=Hh;var ih="MenubarTrigger",lv=A.forwardRef((e,a)=>{const{__scopeMenubar:r,disabled:l=!1,...s}=e,u=ov(r),d=hn(r),p=Lh(ih,r),g=rv(ih,r),f=A.useRef(null),y=bn(a,f,g.triggerRef),[m,x]=A.useState(!1),b=p.value===g.value;return w.jsx(rh.ItemSlot,{scope:r,value:g.value,disabled:l,children:w.jsx(Cb,{asChild:!0,...u,focusable:!l,tabStopId:g.value,children:w.jsx(K2,{asChild:!0,...d,children:w.jsx(fn.button,{type:"button",role:"menuitem",id:g.triggerId,"aria-haspopup":"menu","aria-expanded":b,"aria-controls":b?g.contentId:void 0,"data-highlighted":m?"":void 0,"data-state":b?"open":"closed","data-disabled":l?"":void 0,disabled:l,...s,ref:y,onPointerDown:Zt(e.onPointerDown,v=>{!l&&v.button===0&&v.ctrlKey===!1&&(p.onMenuOpen(g.value),b||v.preventDefault())}),onPointerEnter:Zt(e.onPointerEnter,()=>{!!p.value&&!b&&(p.onMenuOpen(g.value),f.current?.focus())}),onKeyDown:Zt(e.onKeyDown,v=>{l||(["Enter"," "].includes(v.key)&&p.onMenuToggle(g.value),v.key==="ArrowDown"&&p.onMenuOpen(g.value),["Enter"," ","ArrowDown"].includes(v.key)&&(g.wasKeyboardTriggerOpenRef.current=!0,v.preventDefault()))}),onFocus:Zt(e.onFocus,()=>x(!0)),onBlur:Zt(e.onBlur,()=>x(!1))})})})})});lv.displayName=ih;var yM="MenubarPortal",sv=e=>{const{__scopeMenubar:a,...r}=e,l=hn(a);return w.jsx(J2,{...l,...r})};sv.displayName=yM;var lh="MenubarContent",cv=A.forwardRef((e,a)=>{const{__scopeMenubar:r,align:l="start",...s}=e,u=hn(r),d=Lh(lh,r),p=rv(lh,r),g=hM(r),f=A.useRef(!1);return w.jsx(tM,{id:p.contentId,"aria-labelledby":p.triggerId,"data-radix-menubar-content":"",...u,...s,ref:a,align:l,onCloseAutoFocus:Zt(e.onCloseAutoFocus,y=>{!!!d.value&&!f.current&&p.triggerRef.current?.focus(),f.current=!1,y.preventDefault()}),onFocusOutside:Zt(e.onFocusOutside,y=>{const m=y.target;g().some(b=>b.ref.current?.contains(m))&&y.preventDefault()}),onInteractOutside:Zt(e.onInteractOutside,()=>{f.current=!0}),onEntryFocus:y=>{p.wasKeyboardTriggerOpenRef.current||y.preventDefault()},onKeyDown:Zt(e.onKeyDown,y=>{if(["ArrowRight","ArrowLeft"].includes(y.key)){const m=y.target,x=m.hasAttribute("data-radix-menubar-subtrigger"),b=m.closest("[data-radix-menubar-content]")!==y.currentTarget,S=(d.dir==="rtl"?"ArrowRight":"ArrowLeft")===y.key;if(!S&&x||b&&S)return;let R=g().filter(I=>!I.disabled).map(I=>I.value);S&&R.reverse();const T=R.indexOf(p.value);R=d.loop?zM(R,T+1):R.slice(T+1);const[_]=R;_&&d.onMenuOpen(_)}},{checkForDefaultPrevented:!1}),style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});cv.displayName=lh;var xM="MenubarGroup",bM=A.forwardRef((e,a)=>{const{__scopeMenubar:r,...l}=e,s=hn(r);return w.jsx(eM,{...s,...l,ref:a})});bM.displayName=xM;var vM="MenubarLabel",AM=A.forwardRef((e,a)=>{const{__scopeMenubar:r,...l}=e,s=hn(r);return w.jsx(nM,{...s,...l,ref:a})});AM.displayName=vM;var wM="MenubarItem",uv=A.forwardRef((e,a)=>{const{__scopeMenubar:r,...l}=e,s=hn(r);return w.jsx(oM,{...s,...l,ref:a})});uv.displayName=wM;var CM="MenubarCheckboxItem",SM=A.forwardRef((e,a)=>{const{__scopeMenubar:r,...l}=e,s=hn(r);return w.jsx(aM,{...s,...l,ref:a})});SM.displayName=CM;var EM="MenubarRadioGroup",MM=A.forwardRef((e,a)=>{const{__scopeMenubar:r,...l}=e,s=hn(r);return w.jsx(rM,{...s,...l,ref:a})});MM.displayName=EM;var RM="MenubarRadioItem",TM=A.forwardRef((e,a)=>{const{__scopeMenubar:r,...l}=e,s=hn(r);return w.jsx(iM,{...s,...l,ref:a})});TM.displayName=RM;var kM="MenubarItemIndicator",_M=A.forwardRef((e,a)=>{const{__scopeMenubar:r,...l}=e,s=hn(r);return w.jsx(lM,{...s,...l,ref:a})});_M.displayName=kM;var OM="MenubarSeparator",dv=A.forwardRef((e,a)=>{const{__scopeMenubar:r,...l}=e,s=hn(r);return w.jsx(sM,{...s,...l,ref:a})});dv.displayName=OM;var DM="MenubarArrow",IM=A.forwardRef((e,a)=>{const{__scopeMenubar:r,...l}=e,s=hn(r);return w.jsx(cM,{...s,...l,ref:a})});IM.displayName=DM;var fv="MenubarSub",hv=e=>{const{__scopeMenubar:a,children:r,open:l,onOpenChange:s,defaultOpen:u}=e,d=hn(a),[p,g]=_h({prop:l,defaultProp:u??!1,onChange:s,caller:fv});return w.jsx(uM,{...d,open:p,onOpenChange:g,children:r})};hv.displayName=fv;var jM="MenubarSubTrigger",pv=A.forwardRef((e,a)=>{const{__scopeMenubar:r,...l}=e,s=hn(r);return w.jsx(dM,{"data-radix-menubar-subtrigger":"",...s,...l,ref:a})});pv.displayName=jM;var BM="MenubarSubContent",mv=A.forwardRef((e,a)=>{const{__scopeMenubar:r,...l}=e,s=hn(r);return w.jsx(fM,{...s,"data-radix-menubar-content":"",...l,ref:a,style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});mv.displayName=BM;function zM(e,a){return e.map((r,l)=>e[(a+l)%e.length])}var NM=av,PM=iv,LM=lv,HM=sv,YM=cv,UM=uv,$M=dv,QM=hv,XM=pv,GM=mv;const FM=dt(NM)`
  display: flex;
  background-color: white;
  padding: 2px;
  border-radius: 4px;
`,lc=PM,sc=dt(LM)`
  padding: 6px 12px;
  outline: none;
  user-select: none;
  font-size: 14px;
  line-height: 1;
  border-radius: 4px;
  color: #2c3e50;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  background: transparent;
  border: none;
  cursor: pointer;
  font-family: inherit;

  &:hover {
    background-color: #f5f5f5;
  }

  &[data-state='open'] {
    background-color: #f5f5f5;
  }

  &[data-disabled] {
    color: #94a3b8;
    cursor: not-allowed;
    pointer-events: none;
  }
`,ni=HM,cc=dt(YM)`
  min-width: 200px;
  background-color: white;
  border-radius: 6px;
  padding: 4px;
  box-shadow: 0px 10px 38px -10px rgba(22, 23, 24, 0.35), 0px 10px 20px -15px rgba(22, 23, 24, 0.2);
  border: 1px solid #e1e5e9;
  z-index: 1500;
  animation-duration: 400ms;
  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
  will-change: transform, opacity;

  &[data-side='top'] {
    animation-name: slideDownAndFade;
  }
  &[data-side='right'] {
    animation-name: slideLeftAndFade;
  }
  &[data-side='bottom'] {
    animation-name: slideUpAndFade;
  }
  &[data-side='left'] {
    animation-name: slideRightAndFade;
  }

  @keyframes slideUpAndFade {
    from {
      opacity: 0;
      transform: translateY(2px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideRightAndFade {
    from {
      opacity: 0;
      transform: translateX(-2px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slideDownAndFade {
    from {
      opacity: 0;
      transform: translateY(-2px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideLeftAndFade {
    from {
      opacity: 0;
      transform: translateX(2px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
`,Hn=dt(UM)`
  all: unset;
  font-size: 14px;
  line-height: 1;
  color: #2c3e50;
  border-radius: 4px;
  display: flex;
  align-items: center;
  height: 28px;
  padding: 0 8px;
  position: relative;
  user-select: none;
  cursor: pointer;

  &[data-disabled] {
    color: #94a3b8;
    pointer-events: none;
  }

  &[data-highlighted] {
    background-color: #f5f5f5;
    color: #2c3e50;
  }
`,uc=dt($M)`
  height: 1px;
  background-color: #e1e5e9;
  margin: 4px;
`,Sy=QM,Ey=dt(XM)`
  all: unset;
  font-size: 14px;
  line-height: 1;
  color: #2c3e50;
  border-radius: 4px;
  display: flex;
  align-items: center;
  height: 28px;
  padding: 0 8px;
  position: relative;
  user-select: none;
  cursor: pointer;

  &[data-state='open'] {
    background-color: #f5f5f5;
  }

  &[data-highlighted] {
    background-color: #f5f5f5;
    color: #2c3e50;
  }

  &[data-disabled] {
    color: #94a3b8;
    pointer-events: none;
  }
`,My=dt(GM)`
  min-width: 200px;
  background-color: white;
  border-radius: 6px;
  padding: 4px;
  box-shadow: 0px 10px 38px -10px rgba(22, 23, 24, 0.35), 0px 10px 20px -15px rgba(22, 23, 24, 0.2);
  border: 1px solid #e1e5e9;
  z-index: 1500;
  animation-duration: 400ms;
  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
  will-change: transform, opacity;
`,ur=dt.div`
  margin-left: auto;
  padding-left: 20px;
  color: #6c757d;
  font-size: 13px;

  &[data-highlighted] {
    color: #2c3e50;
  }

  &[data-disabled] {
    color: #94a3b8;
  }
`,Ry=dt.span`
  margin-left: auto;
  padding-left: 12px;
  color: #6c757d;
`;function qM({onNew:e,onExportPNG:a,onExportSelectedPNG:r,onExportPageJSON:l,onImportPageJSON:s,onExportProjectJSON:u,onImportProjectJSON:d,onToggleHistory:p,onSelectionClear:g,onSelectAll:f,onSelectArea:y,onUndo:m,onRedo:x,hasSelection:b}){const S=navigator.platform.toUpperCase().indexOf("MAC")>=0?"":"Ctrl";return w.jsxs(FM,{children:[w.jsxs(lc,{children:[w.jsx(sc,{children:"Project"}),w.jsx(ni,{children:w.jsxs(cc,{align:"start",sideOffset:5,children:[w.jsxs(Hn,{onSelect:e,children:["New",w.jsxs(ur,{children:[S,"+N"]})]}),w.jsx(uc,{}),w.jsxs(Sy,{children:[w.jsxs(Ey,{children:["Export",w.jsx(Ry,{children:""})]}),w.jsx(ni,{children:w.jsx(My,{alignOffset:-5,children:w.jsx(Hn,{onSelect:u,children:"JSON"})})})]}),w.jsx(Hn,{onSelect:d,children:"Import JSON"})]})})]}),w.jsxs(lc,{children:[w.jsx(sc,{children:"Page"}),w.jsx(ni,{children:w.jsxs(cc,{align:"start",sideOffset:5,children:[w.jsxs(Sy,{children:[w.jsxs(Ey,{children:["Export",w.jsx(Ry,{children:""})]}),w.jsx(ni,{children:w.jsxs(My,{alignOffset:-5,children:[w.jsx(Hn,{onSelect:a,children:"PNG"}),w.jsx(Hn,{onSelect:l,children:"JSON"})]})})]}),w.jsx(uc,{}),w.jsx(Hn,{onSelect:s,children:"Import JSON"})]})})]}),w.jsxs(lc,{children:[w.jsx(sc,{disabled:!b,children:"Selection"}),w.jsx(ni,{children:w.jsxs(cc,{align:"start",sideOffset:5,children:[w.jsx(Hn,{onSelect:r,children:"Export as PNG"}),w.jsxs(Hn,{onSelect:g,children:["Clear",w.jsx(ur,{children:"Esc"})]})]})})]}),w.jsxs(lc,{children:[w.jsx(sc,{children:"Edit"}),w.jsx(ni,{children:w.jsxs(cc,{align:"start",sideOffset:5,children:[w.jsxs(Hn,{onSelect:m,children:["Undo",w.jsxs(ur,{children:[S,"+Z"]})]}),w.jsxs(Hn,{onSelect:x,children:["Redo",w.jsxs(ur,{children:[S,"+Shift+Z"]})]}),w.jsx(uc,{}),w.jsxs(Hn,{onSelect:y,children:["Select area",w.jsx(ur,{children:"S"})]}),w.jsxs(Hn,{onSelect:f,children:["Select all",w.jsxs(ur,{children:[S,"+A"]})]}),w.jsx(uc,{}),w.jsxs(Hn,{onSelect:p,children:["History",w.jsxs(ur,{children:[S,"+H"]})]})]})})]})]})}const VM="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20viewBox='-3%20-3%20126%20126'%20version='1.1'%20id='svg11'%20sodipodi:docname='wiremesh-mark.svg'%20inkscape:version='1.4.2%20(ebf0e940,%202025-05-08)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs11'%20/%3e%3csodipodi:namedview%20id='namedview11'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:showpageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20showgrid='false'%20inkscape:zoom='4.7161164'%20inkscape:cx='93.615163'%20inkscape:cy='71.881178'%20inkscape:window-width='1712'%20inkscape:window-height='991'%20inkscape:window-x='970'%20inkscape:window-y='134'%20inkscape:window-maximized='0'%20inkscape:current-layer='svg11'%20/%3e%3cpath%20style='opacity:0.45;fill:none;stroke:%233a3a3a;stroke-width:2.507;stroke-dasharray:none;stroke-opacity:1'%20d='m%2021.194645,33.426505%2039.707427,7.844991%2042.290018,-9.00245%20v%20-0.257212'%20id='path1'%20/%3e%3cpath%20d='m%2019.008152,32.272233%2018,52%2024,-45.044883%2024,45.044883%2017.999998,-52'%20style='fill:none;stroke:%233e3e3e;stroke-width:8.1;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1'%20id='path2'%20/%3e%3cline%20x1='37.008152'%20y1='84.272232'%20x2='85.008148'%20y2='84.272232'%20style='opacity:0.45;stroke:%233a3a3a;stroke-width:2.5;stroke-linecap:round;stroke-dasharray:none;stroke-opacity:1'%20id='line2'%20/%3e%3ccircle%20cx='19.667637'%20cy='34.198151'%20r='7.5822606'%20style='fill:%23111111;fill-opacity:1;stroke:%23ffffff;stroke-width:1.93381;stroke-dasharray:none;stroke-opacity:1'%20id='circle2'%20/%3e%3ccircle%20cx='61.0956'%20cy='40.98053'%20r='9.4874649'%20style='fill:%23111111;fill-opacity:1;stroke:%23ffffff;stroke-width:2.41972;stroke-dasharray:none;stroke-opacity:1'%20id='circle7'%20/%3e%3ccircle%20cx='102.8'%20cy='32.74707'%20r='7.5822606'%20style='fill:%23111111;fill-opacity:1;stroke:%23ffffff;stroke-width:1.93381;stroke-dasharray:none;stroke-opacity:1'%20id='circle8'%20/%3e%3ccircle%20cx='37.31707'%20cy='82.888725'%20r='7.5822606'%20style='fill:%23111111;fill-opacity:1;stroke:%23ffffff;stroke-width:1.93381;stroke-dasharray:none;stroke-opacity:1'%20id='circle9'%20/%3e%3ccircle%20cx='84.621346'%20cy='82.063026'%20r='7.5822606'%20style='fill:%23111111;fill-opacity:1;stroke:%23ffffff;stroke-width:1.93381;stroke-dasharray:none;stroke-opacity:1'%20id='circle10'%20/%3e%3c/svg%3e";function WM({onNew:e,onExportPNG:a,onExportSelectedPNG:r,onExportPageJSON:l,onImportPageJSON:s,onExportProjectJSON:u,onImportProjectJSON:d,onToggleHistory:p,onClearSelection:g,onSelectAll:f,onSelectArea:y,onUndo:m,onRedo:x,lastSaved:b,hasSelection:v}){return w.jsxs(wC,{"data-testid":"app-toolbar",children:[w.jsx(CC,{children:w.jsx(SC,{src:VM,alt:"Wiremesh logo"})}),w.jsx(qM,{onNew:e,onExportPNG:a,onExportSelectedPNG:r,onExportPageJSON:l,onImportPageJSON:s,onExportProjectJSON:u,onImportProjectJSON:d,onToggleHistory:p,onSelectionClear:g,onSelectAll:f,onSelectArea:y,onUndo:m,onRedo:x,hasSelection:v}),b&&w.jsxs(EC,{children:["Auto-saved at ",b.toLocaleTimeString()]})]})}const ZM=dt.div`
  position: fixed;
  left: 0;
  top: 60px;
  bottom: 0;
  width: ${e=>e.$isCollapsed?"50px":"280px"};
  background: white;
  border-right: 1px solid #e1e5e9;
  z-index: 900;
  transition: width 0.3s ease;
  overflow: hidden;
`,KM=dt.div`
  display: flex;
  flex-direction: column;
  height: calc(100vh - 60px);
  overflow: hidden;
`,JM=dt.div`
  flex: 1;
  min-height: 0;
  overflow-y: auto;
  padding: 20px;
`,tR=dt.div`
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 6px;
`,eR=dt.button`
  position: absolute;
  top: 6px;
  right: ${e=>(e.$isCollapsed,"6px")};
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  color: #5b6577;
  z-index: 1000;
  transition: all 0.2s ease;
  box-shadow: none;

  &:hover {
    color: #2c3e50;
    transform: translateY(-1px);
    box-shadow: 0 8px 16px rgba(76, 86, 103, 0.18);
  }

  &:active {
    transform: translateY(0);
  }
`,nR=dt.div`
  padding: 8px;
  border: none;
  border-radius: 12px;
  cursor: ${e=>e.$isDragging?"grabbing":"grab"};
  text-align: center;
  background: transparent;
  transition: all 0.2s;
  user-select: none;
  opacity: ${e=>e.$isDragging?.5:1};

  &:hover {
    box-shadow: 0 4px 12px rgba(76, 86, 103, 0.18);
    transform: translateY(-2px);
  }
`,oR=dt.div`
  width: 52px;
  height: 40px;
  margin: 0 auto 6px;
  border-radius: 8px;
  background: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
`,aR=dt.svg`
  width: 48px;
  height: 32px;
`,rR=dt.div`
  font-size: 10px;
  font-weight: 500;
  color: #2c3e50;
`,iR=dt.div.attrs(e=>({style:{left:`${e.$x}px`,top:`${e.$y}px`,opacity:e.$visible?.8:0}}))`
  position: fixed;
  pointer-events: none;
  z-index: 10000;
  transform: translate(-50%, -50%);
  background: white;
  border: 2px solid #3498db;
  border-radius: 4px;
  padding: 8px 12px;
  font-size: 12px;
  font-weight: 500;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  transition: opacity 0.2s;
`,lR=({element:e,onDragStart:a,onDragMove:r,onDragEnd:l,onClick:s})=>{const[u,d]=A.useState(!1),[p,g]=A.useState({x:0,y:0}),f=A.useRef({x:0,y:0}),y=A.useCallback(x=>{if(x.button!==0)return;const b={x:x.clientX,y:x.clientY};f.current=b,d(!0),g(b),a(e,b);let v=!1;const S=M=>{const R={x:M.clientX,y:M.clientY},T=Math.abs(R.x-b.x),_=Math.abs(R.y-b.y);(T>3||_>3)&&(v=!0),g(R),r(R)},C=M=>{const R={x:M.clientX,y:M.clientY};if(d(!1),l(R),!v&&s){const T=Math.abs(R.x-b.x),_=Math.abs(R.y-b.y);T<=1&&_<=1&&s(e)}document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",S),document.addEventListener("mouseup",C),x.preventDefault()},[e,a,r,l,s]),m=({type:x})=>{const b="#4c5667",v="#e7eaef";switch(x){case"button":return w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"8",y:"14",width:"64",height:"28",rx:"6",fill:v,stroke:b,strokeWidth:"2"}),w.jsx("rect",{x:"22",y:"26",width:"36",height:"6",rx:"3",fill:b})]});case"container":return w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"6",y:"10",width:"68",height:"36",rx:"6",fill:"#ffffff",stroke:b,strokeWidth:"2",strokeDasharray:"5 4"}),w.jsx("rect",{x:"12",y:"18",width:"20",height:"6",rx:"3",fill:b,opacity:"0.4"}),w.jsx("rect",{x:"12",y:"28",width:"44",height:"6",rx:"3",fill:b,opacity:"0.2"})]});case"input":return w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"6",y:"14",width:"68",height:"24",rx:"4",fill:"#ffffff",stroke:b,strokeWidth:"2"}),w.jsx("rect",{x:"12",y:"22",width:"26",height:"4",rx:"2",fill:b,opacity:"0.6"})]});case"textarea":return w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"6",y:"10",width:"68",height:"36",rx:"4",fill:"#ffffff",stroke:b,strokeWidth:"2"}),w.jsx("rect",{x:"12",y:"18",width:"44",height:"4",rx:"2",fill:b,opacity:"0.6"}),w.jsx("rect",{x:"12",y:"24",width:"40",height:"4",rx:"2",fill:b,opacity:"0.4"}),w.jsx("rect",{x:"12",y:"30",width:"36",height:"4",rx:"2",fill:b,opacity:"0.3"})]});case"checkbox":return w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"28",y:"16",width:"20",height:"20",rx:"4",fill:"#ffffff",stroke:b,strokeWidth:"3"}),w.jsx("polyline",{points:"31,26 36,32 45,20",fill:"none",stroke:b,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]});case"radio":return w.jsxs(w.Fragment,{children:[w.jsx("circle",{cx:"38",cy:"28",r:"10",fill:"#ffffff",stroke:b,strokeWidth:"3"}),w.jsx("circle",{cx:"38",cy:"28",r:"4",fill:b})]});case"dropdown":return w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"6",y:"14",width:"68",height:"24",rx:"4",fill:"#ffffff",stroke:b,strokeWidth:"2"}),w.jsx("rect",{x:"12",y:"22",width:"30",height:"4",rx:"2",fill:b,opacity:"0.6"}),w.jsx("polygon",{points:"62,24 58,20 66,20",fill:b})]});case"image":return w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"6",y:"10",width:"68",height:"36",rx:"4",fill:"#ffffff",stroke:b,strokeWidth:"2"}),w.jsx("circle",{cx:"24",cy:"22",r:"4",fill:b,opacity:"0.5"}),w.jsx("polyline",{points:"14,40 28,28 36,36 44,30 60,40",fill:"none",stroke:b,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]});default:return w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:"8",y:"12",width:"60",height:"32",rx:"6",fill:v,stroke:b,strokeWidth:"2"}),w.jsx("rect",{x:"18",y:"24",width:"40",height:"6",rx:"3",fill:b,opacity:"0.6"})]})}};return w.jsxs(w.Fragment,{children:[w.jsxs(nR,{"data-library-element-type":e.type,"data-library-element-label":e.label,$isDragging:u,onMouseDown:y,children:[w.jsx(oR,{children:w.jsx(aR,{viewBox:"0 0 80 56",role:"presentation","aria-hidden":"true",children:w.jsx(m,{type:e.type})})}),w.jsx(rR,{children:e.label})]}),w.jsx(iR,{$x:p.x,$y:p.y,$visible:u,children:e.label})]})},sR={type:"text",label:"Text",icon:"T",defaultProps:{width:200,height:30,text:"Some text",style:{textAlign:"left",borderColor:"#e0e0e0"},properties:{borderWidth:0}},constraints:{minWidth:40,minHeight:20}},gv=[{type:"button",label:"Button",icon:"",defaultProps:{width:120,height:40,text:"Button",style:{backgroundColor:"#e9ecef",borderColor:"#6c757d",textAlign:"center"}},constraints:{minWidth:60,minHeight:28}},{type:"container",label:"Container",icon:"",defaultProps:{width:300,height:200,text:"",style:{backgroundColor:"#f8f9fa",borderColor:"#dee2e6"}},constraints:{minWidth:160,minHeight:120}},{type:"input",label:"Text Input",icon:"",defaultProps:{width:200,height:40,text:"Input field",style:{backgroundColor:"white",borderColor:"#ced4da"}},constraints:{minWidth:140,minHeight:32}},{type:"textarea",label:"Text Area",icon:"",defaultProps:{width:250,height:120,text:"Text area",style:{backgroundColor:"white",borderColor:"#ced4da"}},constraints:{minWidth:240,minHeight:120}},{type:"checkbox",label:"Checkbox",icon:"",defaultProps:{width:20,height:20,text:"",style:{backgroundColor:"white",borderColor:"#6c757d"}},constraints:{minWidth:12,minHeight:12}},{type:"radio",label:"Radio",icon:"",defaultProps:{width:20,height:20,text:"",style:{backgroundColor:"white",borderColor:"#6c757d"}},constraints:{minWidth:12,minHeight:12}},{type:"dropdown",label:"Dropdown",icon:"",defaultProps:{width:180,height:40,text:"Select option",style:{backgroundColor:"white",borderColor:"#ced4da"}},constraints:{minWidth:160,minHeight:32}},{type:"image",label:"Image",icon:"",defaultProps:{width:200,height:150,text:"",imageSrc:"",style:{backgroundColor:"#ffffff",borderColor:"#dee2e6"}},constraints:{minWidth:80,minHeight:60}}],sh=gv.reduce((e,a)=>(a.constraints&&(e[a.type]=a.constraints),e),{}),cR=[{type:"rectangle",label:"Rectangle",icon:"",defaultProps:{width:160,height:120,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"rectangle",label:"Square",icon:"",defaultProps:{width:140,height:140,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"},properties:{constrainRatio:!0}}},{type:"oval",label:"Oval",icon:"",defaultProps:{width:160,height:120,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"oval",label:"Circle",icon:"",defaultProps:{width:140,height:140,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"},properties:{constrainRatio:!0}}},{type:"rhombus",label:"Rhombus",icon:"",defaultProps:{width:160,height:120,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"triangle",label:"Triangle",icon:"",defaultProps:{width:160,height:140,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"cylinder",label:"Cylinder",icon:"",defaultProps:{width:160,height:180,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"pipe",label:"Pipe",icon:"",defaultProps:{width:160,height:160,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"parallelogram",label:"Parallelogram",icon:"",defaultProps:{width:180,height:120,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}},{type:"hexagon",label:"Hexagon",icon:"",defaultProps:{width:180,height:140,text:"",style:{backgroundColor:"#ffffff",borderColor:"#6c757d"}}}];Object.assign(sh,{rectangle:{minWidth:40,minHeight:40},oval:{minWidth:40,minHeight:40},rhombus:{minWidth:60,minHeight:60},triangle:{minWidth:60,minHeight:60},cylinder:{minWidth:80,minHeight:80},pipe:{minWidth:80,minHeight:80},parallelogram:{minWidth:80,minHeight:60},hexagon:{minWidth:80,minHeight:80}});const uR=dt.div`
  border-top: 1px solid #eef1f4;
  padding: 18px 20px;
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
  overflow: hidden;
`,dR=dt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
`,fR=dt.h4`
  margin: 0;
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: #6c757d;
`,hR=dt.div`
  display: flex;
  gap: 8px;
`,Bf=dt.button`
  border: none;
  background: transparent;
  color: #2c3e50;
  width: 32px;
  height: 28px;
  border-radius: 6px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: background 0.15s ease, color 0.15s ease, transform 0.15s ease;

  &:disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }

  &:hover:not(:disabled) {
    background: #f4f6f8;
    transform: translateY(-1px);
  }
`,zf=dt.span`
  display: inline-flex;
  width: 14px;
  height: 14px;
  align-items: center;
  justify-content: center;

  svg {
    width: 14px;
    height: 14px;
    display: block;
  }
`,pR=dt.div`
  border: 1px solid #e1e5e9;
  border-radius: 6px;
  overflow: hidden;
  background: #ffffff;
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
`,mR=dt.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  background: #f8f9fa;
  padding: 8px 12px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: #6c757d;
  flex-shrink: 0;
`,gR=dt.div`
  overflow-y: auto;
  flex: 1;
  min-height: 0;
`,yR=dt.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  padding: 8px 12px;
  font-size: 12px;
  color: #2c3e50;
  border-top: 1px solid #eef1f4;

  &:nth-child(even) {
    background: #fbfcfd;
  }
`,Ty=dt.div`
  display: flex;
  align-items: center;
  justify-content: ${e=>e.$align==="right"?"flex-end":"flex-start"};
  gap: 8px;
  max-width: 100%;
`,xR=dt.div`
  padding: 14px 16px;
  font-size: 12px;
  color: #6c757d;
  border: 1px dashed #d6dbe1;
  border-radius: 6px;
  text-align: center;
  background: #f9fbff;
`,bR=dt.div`
  display: inline-flex;
  align-items: center;
  border: 1px solid #d4d9de;
  border-radius: 4px;
  overflow: hidden;
  background: #ffffff;
`,ky=dt.button`
  background: #f1f3f5;
  border: none;
  padding: 4px 6px;
  font-size: 12px;
  cursor: pointer;
  color: #2c3e50;

  &:hover:not(:disabled) {
    background: #e2e6ea;
  }

  &:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }
`,vR=dt.input`
  width: 54px;
  border: none;
  text-align: center;
  font-size: 12px;
  padding: 4px;
  outline: none;
  color: #2c3e50;
  background: #ffffff;

  &::-webkit-outer-spin-button,
  &::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  &[type='number'] {
    -moz-appearance: textfield;
  }
`;dt.div`
  display: flex;
  align-items: center;
  gap: 8px;
`;const AR=dt.input`
  padding: 0;
  width: 32px;
  height: 24px;
  border: none;
  background: transparent;
`,wR=dt.input`
  width: 86px;
  border: 1px solid #d4d9de;
  border-radius: 4px;
  padding: 4px 6px;
  font-size: 12px;
  color: #2c3e50;
  background: #ffffff;
  outline: none;
`,_y=dt.div`
  font-size: 12px;
  color: #88909b;
  max-width: 100%;
  text-align: right;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,so='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',yv=[{label:"System Default",value:so},{label:"Arial",value:'Arial, "Helvetica Neue", Helvetica, sans-serif'},{label:"Georgia",value:'Georgia, "Times New Roman", Times, serif'},{label:"Courier New",value:'"Courier New", Courier, monospace'},{label:"Fira Sans",value:'"Fira Sans", Helvetica, Arial, sans-serif'},{label:"Inter",value:'"Inter", "Helvetica Neue", Helvetica, Arial, sans-serif'},{label:"Monaco",value:'Monaco, Consolas, "Lucida Console", monospace'}];new Set(yv.map(e=>e.value));const xn="#000000",Qn=.36,Tn=6,aa=0,ra=2,xv=/^#([0-9a-fA-F]{6})$/,zc=e=>typeof e=="string"&&xv.test(e)?e.toLowerCase():xn,CR=e=>typeof e=="number"&&Number.isFinite(e)?Math.min(1,Math.max(0,e)):Qn,SR=e=>typeof e=="number"&&Number.isFinite(e)?Math.max(0,e):Tn,ER=e=>{const a=xv.exec(e);if(!a)return{red:0,green:0,blue:0};const r=parseInt(a[1],16),l=r>>16&255,s=r>>8&255,u=r&255;return{red:l,green:s,blue:u}},bv=(e,a)=>{const{red:r,green:l,blue:s}=ER(e),u=Math.min(1,Math.max(0,a));return`rgba(${r}, ${l}, ${s}, ${u})`},fe=(e,a,r={})=>({id:e,type:"number",group:a,min:r.min,max:r.max,step:r.step,defaultValue:r.defaultValue,label:r.label,description:r.description,isReadOnly:r.isReadOnly??!1}),Nc=(e,a,r={})=>({id:e,type:"boolean",group:a,defaultValue:r.defaultValue,label:r.label,description:r.description,isReadOnly:r.isReadOnly??!1}),Wt=(e,a,r={})=>({id:e,type:"color",group:a,defaultValue:r.defaultValue,label:r.label,description:r.description,isReadOnly:r.isReadOnly??!1}),Oy=(e,a,r={})=>({id:e,type:"string",group:a,defaultValue:r.defaultValue,label:r.label,description:r.description,isReadOnly:r.isReadOnly??!1}),vo=(e,a,r)=>({id:e,type:"select",group:a,options:r.options,defaultValue:r.defaultValue,label:r.label,description:r.description,isReadOnly:r.isReadOnly??!1}),yl=()=>vo("fontFamily","custom",{options:yv,defaultValue:so}),MR=[fe("posX","common",{min:0,max:4e3,step:1}),fe("posY","common",{min:0,max:4e3,step:1}),fe("width","common",{min:1,max:4e3,step:1}),fe("height","common",{min:1,max:4e3,step:1}),Nc("shadow","common",{defaultValue:!1}),Wt("shadowColour","common",{defaultValue:xn}),fe("shadowOpacity","common",{defaultValue:Qn,min:0,max:1,step:.05}),fe("shadowBlurRadius","common",{defaultValue:Tn,min:0,max:64,step:.5}),Nc("constrainRatio","common",{defaultValue:!1,label:"constrainRatio"}),fe("opacity","common",{defaultValue:1,min:0,max:1,step:.05})],Yh=[Oy("id","immutable",{isReadOnly:!0}),Oy("type","immutable",{isReadOnly:!0})],RR={button:[fe("borderWidth","custom",{defaultValue:2,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#6c757d"}),Wt("backgroundColour","custom",{defaultValue:"#e9ecef"}),Wt("textColour","custom",{defaultValue:"#2c3e50"}),fe("fontSize","custom",{defaultValue:14,min:8,max:144,step:1}),vo("fontWeight","custom",{options:[{label:"Normal",value:"normal"},{label:"Bold",value:"bold"}],defaultValue:"normal"}),yl(),vo("textAlign","custom",{options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],defaultValue:"center"})],text:[fe("borderWidth","custom",{defaultValue:1,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#e0e0e0"}),Wt("textColour","custom",{defaultValue:"#2c3e50"}),fe("fontSize","custom",{defaultValue:14,min:8,max:144,step:1}),vo("fontWeight","custom",{options:[{label:"Normal",value:"normal"},{label:"Bold",value:"bold"}],defaultValue:"normal"}),yl(),vo("textAlign","custom",{options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],defaultValue:"left"})],input:[fe("borderWidth","custom",{defaultValue:2,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#ced4da"}),Wt("backgroundColour","custom",{defaultValue:"#ffffff"}),Wt("textColour","custom",{defaultValue:"#2c3e50"}),fe("fontSize","custom",{defaultValue:14,min:8,max:144,step:1}),vo("fontWeight","custom",{options:[{label:"Normal",value:"normal"},{label:"Bold",value:"bold"}],defaultValue:"normal"}),vo("textAlign","custom",{options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],defaultValue:"left"}),yl()],textarea:[fe("borderWidth","custom",{defaultValue:2,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#ced4da"}),Wt("backgroundColour","custom",{defaultValue:"#ffffff"}),Wt("textColour","custom",{defaultValue:"#2c3e50"}),fe("fontSize","custom",{defaultValue:14,min:8,max:144,step:1}),vo("fontWeight","custom",{options:[{label:"Normal",value:"normal"},{label:"Bold",value:"bold"}],defaultValue:"normal"}),vo("textAlign","custom",{options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],defaultValue:"left"}),yl()],container:[fe("borderWidth","custom",{defaultValue:2,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#dee2e6"}),Wt("backgroundColour","custom",{defaultValue:"#f8f9fa"})],rectangle:[fe("borderWidth","custom",{defaultValue:2,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#6c757d"}),Wt("backgroundColour","custom",{defaultValue:"#ffffff"})],oval:[fe("borderWidth","custom",{defaultValue:2,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#6c757d"}),Wt("backgroundColour","custom",{defaultValue:"#ffffff"})],rhombus:[fe("borderWidth","custom",{defaultValue:2,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#6c757d"}),Wt("backgroundColour","custom",{defaultValue:"#ffffff"})],triangle:[fe("borderWidth","custom",{defaultValue:2,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#6c757d"}),Wt("backgroundColour","custom",{defaultValue:"#ffffff"})],cylinder:[fe("borderWidth","custom",{defaultValue:2,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#6c757d"}),Wt("backgroundColour","custom",{defaultValue:"#ffffff"})],pipe:[fe("borderWidth","custom",{defaultValue:2,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#6c757d"}),Wt("backgroundColour","custom",{defaultValue:"#ffffff"})],parallelogram:[fe("borderWidth","custom",{defaultValue:2,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#6c757d"}),Wt("backgroundColour","custom",{defaultValue:"#ffffff"})],hexagon:[fe("borderWidth","custom",{defaultValue:2,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#6c757d"}),Wt("backgroundColour","custom",{defaultValue:"#ffffff"})],image:[fe("borderWidth","custom",{defaultValue:0,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#dee2e6"}),Wt("backgroundColour","custom",{defaultValue:"#ffffff"})],checkbox:[Nc("isChecked","custom",{defaultValue:!1}),fe("borderWidth","custom",{defaultValue:2,min:0,max:10,step:1}),Wt("borderColour","custom",{defaultValue:"#6c757d"}),Wt("fillColour","custom",{defaultValue:"#ffffff"})],radio:[Nc("isChecked","custom",{defaultValue:!1}),fe("borderWidth","custom",{defaultValue:2,min:0,max:10,step:1}),Wt("borderColour","custom",{defaultValue:"#6c757d"}),Wt("fillColour","custom",{defaultValue:"#ffffff"})],dropdown:[fe("borderWidth","custom",{defaultValue:2,min:0,max:99,step:1}),Wt("borderColour","custom",{defaultValue:"#ced4da"}),Wt("backgroundColour","custom",{defaultValue:"#ffffff"}),Wt("textColour","custom",{defaultValue:"#2c3e50"}),fe("fontSize","custom",{defaultValue:14,min:8,max:144,step:1}),vo("fontWeight","custom",{options:[{label:"Normal",value:"normal"},{label:"Bold",value:"bold"}],defaultValue:"normal"}),vo("textAlign","custom",{options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],defaultValue:"left"}),yl()]},vv=new Set(["posX","posY","width","height"]),TR=new Set(Yh.map(e=>e.id));function Ai(e){return[...MR,...RR[e]??[],...Yh]}function kR(e){return Ai(e).reduce((r,l)=>(l.defaultValue!==void 0&&(r[l.id]=l.defaultValue),r),{})}function _R(e,a){return{...kR(e),...a??{}}}const sa=e=>typeof e=="number"&&Number.isFinite(e),no=e=>typeof e=="string",Dy=e=>typeof e=="boolean",OR=/^#[0-9a-fA-F]{6}$/,Av=(e,a)=>{if(!no(e))return a;const r=e.startsWith("#")?e:`#${e}`;return OR.test(r)?r.toLowerCase():a};function Bl(e,a){const r={..._R(e.type,a)};Ai(e.type).forEach(g=>{g.type==="select"&&(r[g.id]=Cv(g,r[g.id]))}),typeof a?.constrainProportions=="boolean"&&r.constrainRatio===void 0&&(r.constrainRatio=!!a.constrainProportions),Object.prototype.hasOwnProperty.call(r,"constrainProportions")&&delete r.constrainProportions;const s=a;r.shadow===void 0&&typeof s?.dropShadow=="boolean"&&(r.shadow=s.dropShadow),Object.prototype.hasOwnProperty.call(r,"dropShadow")&&delete r.dropShadow,Object.prototype.hasOwnProperty.call(r,"imageSrc")&&delete r.imageSrc;const u=Av(r.shadowColour??xn,xn);r.shadowColour=u;const d=sa(r.shadowOpacity)?Math.min(1,Math.max(0,r.shadowOpacity)):Qn;r.shadowOpacity=d;const p=sa(r.shadowBlurRadius)?Math.max(0,r.shadowBlurRadius):Tn;return r.shadowBlurRadius=p,r.id=e.id,r.type=e.type,r.posX=e.x,r.posY=e.y,r.width=e.width,r.height=e.height,r.shadow=Dy(r.shadow)?r.shadow:!1,r.constrainRatio=Dy(r.constrainRatio)?r.constrainRatio:!1,r.opacity=sa(r.opacity)?r.opacity:1,r}function wv(e,a){const r={};no(a.borderColour)&&(r.borderColor=a.borderColour);const l=no(a.backgroundColour)?a.backgroundColour:no(a.fillColour)?a.fillColour:void 0;return l&&(r.backgroundColor=l),no(a.textColour)&&(r.textColor=a.textColour),sa(a.fontSize)&&(r.fontSize=a.fontSize),no(a.fontWeight)&&(a.fontWeight==="normal"||a.fontWeight==="bold")&&(r.fontWeight=a.fontWeight),no(a.textAlign)&&(a.textAlign==="left"||a.textAlign==="center"||a.textAlign==="right")&&(r.textAlign=a.textAlign),no(a.fontFamily)?r.fontFamily=a.fontFamily:r.fontFamily=so,(e==="checkbox"||e==="radio")&&!r.backgroundColor&&no(a.fillColour)&&(r.backgroundColor=a.fillColour),r}function gi(e){const a=Bl(e,e.properties),r=wv(e.type,a);let l=typeof e.imageSrc=="string"?e.imageSrc:void 0;const s=typeof e.properties?.imageSrc=="string"?e.properties.imageSrc:void 0;if(!l&&s&&(l=s),typeof a.imageSrc=="string"){const d=a.imageSrc;typeof d=="string"&&d.length>0&&(l=d),delete a.imageSrc}typeof l=="string"&&l.trim().length===0&&(l=void 0);const u={...a};return{...e,imageSrc:l,properties:u,style:{...e.style,...r}}}const DR=(e,a,r)=>{if(r==="width"){const l=a.constraints?.minWidth;typeof l=="number"&&(e=Math.max(e,l))}if(r==="height"){const l=a.constraints?.minHeight;typeof l=="number"&&(e=Math.max(e,l))}return e},IR=(e,a)=>{let r=e;return typeof a.min=="number"&&(r=Math.max(r,a.min)),typeof a.max=="number"&&(r=Math.min(r,a.max)),r},Cv=(e,a)=>{const r=no(a)?a:String(e.defaultValue??e.options[0]?.value??"");if(e.options.some(u=>u.value===r))return r;const s=e.defaultValue;return typeof s=="string"?s:String(e.options[0]?.value??"")};function ch(e,a,r){const s=Ai(e.type).find(m=>m.id===a);if(!s||TR.has(s.id))return e;const u=Bl(e,e.properties),d={...u};let p=r;if(s.type==="boolean")p=!!r;else if(s.type==="number"){const m=sa(u[a])?u[a]:typeof s.defaultValue=="number"?s.defaultValue:0;let x=typeof r=="number"?r:Number(r);Number.isFinite(x)||(x=m),x=IR(x,s),x=DR(x,e,a),p=x}else if(s.type==="color"){const m=no(u[a])?u[a]:typeof s.defaultValue=="string"?s.defaultValue:"#000000";p=Av(r,m)}else s.type==="select"?p=Cv(s,r):s.type==="string"&&(p=no(r)?r:String(r??""));d[a]=p;const g={...e};a==="posX"&&sa(p)&&(g.x=p),a==="posY"&&sa(p)&&(g.y=p),a==="width"&&sa(p)&&(g.width=p),a==="height"&&sa(p)&&(g.height=p);const f=Bl(g,d),y=wv(g.type,f);return{...g,properties:f,style:{...g.style,...y}}}function uh(e,a){return Object.entries(a).reduce((r,[l,s])=>s==null?ch(r,l,s??null):ch(r,l,s),e)}function jR(e){const a=Bl(e,e.properties),r=Ai(e.type),l={...a};r.forEach(u=>{u.group==="immutable"||vv.has(u.id)||(u.defaultValue!==void 0?l[u.id]=u.defaultValue:delete l[u.id])});const s={...e,properties:l};return gi(s)}function Sv(){return Yh.map(e=>e.id)}function BR(){return Array.from(vv)}const zR=e=>e.type==="number",NR=e=>e.type==="select",PR=(e,a)=>{const r=typeof a.min=="number"?a.min:-1/0,l=typeof a.max=="number"?a.max:1/0;return Math.min(l,Math.max(r,e))},Iy=e=>typeof e=="boolean"?e?"true":"false":typeof e=="number"?Number.isFinite(e)?e.toString():"":typeof e=="string"?e:"",LR=()=>w.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20","aria-hidden":"true",focusable:"false",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),w.jsx("path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"}),w.jsx("path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"})]}),HR=()=>w.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20","aria-hidden":"true",focusable:"false",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),w.jsx("path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"}),w.jsx("path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"})]}),YR=()=>w.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20","aria-hidden":"true",focusable:"false",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),w.jsx("path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"}),w.jsx("path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"})]}),UR=[{id:"startX",type:"number",group:"common",label:"startX",defaultValue:0,min:-4e3,max:4e3,step:1},{id:"startY",type:"number",group:"common",label:"startY",defaultValue:0,min:-4e3,max:4e3,step:1},{id:"endX",type:"number",group:"common",label:"endX",defaultValue:0,min:-4e3,max:4e3,step:1},{id:"endY",type:"number",group:"common",label:"endY",defaultValue:0,min:-4e3,max:4e3,step:1},{id:"lineColour",type:"color",group:"custom",label:"lineColour",defaultValue:"#6c757d"},{id:"lineWidth",type:"number",group:"custom",label:"lineWidth",defaultValue:2,min:.5,max:20,step:.5},{id:"startMark",type:"select",group:"custom",label:"startMark",defaultValue:"None",options:[{value:"None",label:"None"},{value:"HollowArrow",label:"HollowArrow"}]},{id:"endMark",type:"select",group:"custom",label:"endMark",defaultValue:"None",options:[{value:"None",label:"None"},{value:"HollowArrow",label:"HollowArrow"}]},{id:"opacity",type:"number",group:"custom",label:"opacity",defaultValue:1,min:0,max:1,step:.05},{id:"shadow",type:"boolean",group:"custom",label:"shadow",defaultValue:!1},{id:"shadowColour",type:"color",group:"custom",label:"shadowColour",defaultValue:xn},{id:"shadowOpacity",type:"number",group:"custom",label:"shadowOpacity",defaultValue:Qn,min:0,max:1,step:.05},{id:"shadowBlurRadius",type:"number",group:"custom",label:"shadowBlurRadius",defaultValue:Tn,min:0,max:64,step:.5},{id:"id",type:"string",group:"immutable",label:"id",isReadOnly:!0},{id:"type",type:"string",group:"immutable",label:"type",isReadOnly:!0}];function $R({selectedElement:e,selectedConnector:a,selectionCount:r,onPropertyChange:l,onCopyProperties:s,onPasteProperties:u,onResetProperties:d,canPasteProperties:p}){const g=r===1&&e?e:null,f=r===1&&a&&!e?a:null,y=A.useMemo(()=>new Set(Sv()),[]),m=!!f?.startAttachment,x=!!f?.endAttachment,b=A.useMemo(()=>{if(g){const O=Ai(g.type),B=O.filter(U=>U.group==="common"),V=O.filter(U=>U.group!=="common");return[...B,...V]}return f?UR:[]},[g,f]),v=A.useMemo(()=>{if(!f)return null;const O=f.properties??{connectorType:"line",lineColour:"#6c757d",lineWidth:2,opacity:1,shadow:!1,shadowColour:xn,shadowOpacity:Qn,shadowBlurRadius:Tn,startMark:"None",endMark:"None"},B=(P,N)=>{if(typeof P=="number"&&Number.isFinite(P))return P;if(typeof P=="string"){const Y=Number(P);if(Number.isFinite(Y))return Y}return N},V=B(O.lineWidth??O.strokeWidth??2,2),U=Math.min(1,Math.max(0,B(O.opacity??1,1))),L=O.startMark==="HollowArrow"?"HollowArrow":"None",Z=O.endMark==="HollowArrow"?"HollowArrow":"None",J=O.shadow===void 0?!!O.dropShadow:!!O.shadow,X=typeof O.shadowColour=="string"&&O.shadowColour.trim().length>0?zc(O.shadowColour):xn,G=Math.min(1,Math.max(0,B(O.shadowOpacity??Qn,Qn))),D=Math.max(0,B(O.shadowBlurRadius??Tn,Tn));return{connectorType:O.connectorType??"line",lineColour:O.lineColour??"#6c757d",lineWidth:V,opacity:U,shadow:J,shadowColour:X,shadowOpacity:G,shadowBlurRadius:D,startMark:L,endMark:Z,startX:f.startPoint.x,startY:f.startPoint.y,endX:f.endPoint.x,endY:f.endPoint.y,id:f.id,type:f.type}},[f]),S=A.useCallback((O,B)=>{O.isReadOnly||O.group==="immutable"||l(O.id,B)},[l]),C=A.useCallback((O,B)=>{O.isReadOnly||O.group==="immutable"||l(O.id,PR(B,O))},[l]),M=A.useCallback((O,B)=>{O.isReadOnly||O.group==="immutable"||l(O.id,B)},[l]),R=A.useCallback((O,B)=>{O.isReadOnly||O.group==="immutable"||l(O.id,B)},[l]),T=r===0?"Select an item to inspect its properties.":"Select a single item to inspect its properties.",_=!!(g||f),I=!!(g||f),z=(O,B,V)=>{if(V){const U=Iy(B),L=O.id==="id"&&typeof U=="string"&&U.length>12?`${U.slice(0,12)}`:U;return w.jsx(_y,{title:typeof U=="string"?U:void 0,children:L})}if(O.type==="boolean")return w.jsx("input",{type:"checkbox",checked:!!B,onChange:U=>S(O,U.target.checked)});if(zR(O)){const U=typeof B=="number"&&Number.isFinite(B)?B:typeof O.defaultValue=="number"?O.defaultValue:0,L=O.step??1,Z=typeof O.min=="number"?O.min:-1/0,J=typeof O.max=="number"?O.max:1/0,X=L%1===0?0:L.toString().split(".")[1]?.length??0,G=D=>X>0?Number(D.toFixed(X)):Math.round(D);return w.jsxs(bR,{children:[w.jsx(ky,{type:"button",onClick:()=>C(O,G(U-L)),disabled:U-L<Z,children:"-"}),w.jsx(vR,{type:"number",value:U,onChange:D=>{const P=Number(D.target.value);Number.isFinite(P)&&C(O,G(P))},min:O.min,max:O.max,step:L}),w.jsx(ky,{type:"button",onClick:()=>C(O,G(U+L)),disabled:U+L>J,children:"+"})]})}if(O.type==="color"){const U=typeof B=="string"&&B?B:"#000000";return w.jsx(AR,{type:"color",value:U,onChange:L=>R(O,L.target.value)})}if(NR(O)){const U=typeof B=="string"?B:String(O.options[0]?.value??"");return w.jsx("select",{value:U,onChange:L=>M(O,L.target.value),style:{border:"1px solid #d4d9de",borderRadius:"4px",padding:"4px 6px",fontSize:"12px",color:"#2c3e50",background:"#ffffff"},children:O.options.map(L=>w.jsx("option",{value:L.value,children:L.label},L.value))})}if(O.type==="string"){const U=typeof B=="string"?B:"";return w.jsx(wR,{type:"text",value:U,onChange:L=>R(O,L.target.value)})}return w.jsx(_y,{children:Iy(B)})};return w.jsxs(uR,{children:[w.jsxs(dR,{children:[w.jsx(fR,{children:"Properties"}),w.jsxs(hR,{children:[w.jsx(Bf,{$variant:"ghost",type:"button",onClick:s,disabled:!_,title:"Copy properties (Ctrl/Cmd+Shift+C)","aria-label":"Copy properties",children:w.jsx(zf,{children:w.jsx(LR,{})})}),w.jsx(Bf,{$variant:"ghost",type:"button",onClick:u,disabled:!p,title:"Paste properties (Ctrl/Cmd+Shift+V)","aria-label":"Paste properties",children:w.jsx(zf,{children:w.jsx(HR,{})})}),w.jsx(Bf,{$variant:"ghost",type:"button",onClick:d,disabled:!I,title:"Reset styling","aria-label":"Reset styling",children:w.jsx(zf,{children:w.jsx(YR,{})})})]})]}),!g&&!f?w.jsx(xR,{children:T}):w.jsxs(pR,{children:[w.jsxs(mR,{children:[w.jsx("div",{children:"Property"}),w.jsx("div",{children:"Value"})]}),w.jsx(gR,{children:b.map(O=>{const B=g?g.properties?.[O.id]??null:v?v[O.id]??null:null,V=!!(f&&(m&&(O.id==="startX"||O.id==="startY")||x&&(O.id==="endX"||O.id==="endY"))),U=g?O.isReadOnly||O.group==="immutable"||y.has(O.id):O.isReadOnly||O.group==="immutable"||V;return w.jsxs(yR,{"data-property-id":O.id,children:[w.jsx(Ty,{children:O.label??O.id}),w.jsx(Ty,{$align:"right",children:z(O,B,U)})]},O.id)})})]})]})}const QR=({direction:e})=>w.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:e==="left"?w.jsxs(w.Fragment,{children:[w.jsx("path",{d:"M5 12h14"}),w.jsx("path",{d:"M5 12l4 4"}),w.jsx("path",{d:"M5 12l4 -4"})]}):w.jsxs(w.Fragment,{children:[w.jsx("path",{d:"M19 12H5"}),w.jsx("path",{d:"M19 12l-4 4"}),w.jsx("path",{d:"M19 12l-4 -4"})]})});function XR({isCollapsed:e,onToggleCollapse:a,onDragStart:r,onDragMove:l,onDragEnd:s,onElementClick:u,selectedElement:d,selectedConnector:p,selectionCount:g,onPropertyChange:f,onCopyProperties:y,onPasteProperties:m,onResetProperties:x,canPasteProperties:b}){const[v,S]=A.useState(!e);return A.useEffect(()=>{if(e)S(!1);else{const C=setTimeout(()=>{S(!0)},300);return()=>clearTimeout(C)}},[e]),w.jsxs(ZM,{$isCollapsed:e,children:[w.jsx(eR,{$isCollapsed:e,onClick:a,"aria-label":e?"Expand library":"Collapse library",children:w.jsx(QR,{direction:e?"right":"left"})}),v&&w.jsxs(KM,{children:[w.jsx(JM,{children:w.jsx(tR,{children:gv.map(C=>w.jsx(lR,{element:C,onDragStart:r,onDragMove:l,onDragEnd:s,onClick:u},C.type))})}),w.jsx($R,{selectedElement:d,selectedConnector:p,selectionCount:g,onPropertyChange:f,onCopyProperties:y,onPasteProperties:m,onResetProperties:x,canPasteProperties:b})]})]})}const GR=dt.div.attrs(e=>({style:{top:`${e.$top}px`,left:`${e.$left}px`}}))`
  position: absolute;
  display: flex;
  flex-direction: ${e=>e.$orientation==="vertical"?"column":"row"};
  align-items: center;
  gap: ${e=>e.$orientation==="vertical"?"6px":"4px"};
  padding: ${e=>e.$orientation==="vertical"?"6px 8px":"4px 6px"};
  background: rgba(255, 255, 255, 0.9);
  border: none;
  border-radius: ${e=>e.$orientation==="vertical"?"16px":"14px"};
  box-shadow: 0 12px 30px rgba(76, 86, 103, 0.12);
  backdrop-filter: blur(12px);
  z-index: 100;
  transition: box-shadow 0.3s ease;
  touch-action: none;
  user-select: none;

  &:hover {
    box-shadow: 0 16px 35px rgba(76, 86, 103, 0.18);
  }
`,FR=dt.button`
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  border: none;
  border-radius: 9px;
  background: transparent;
  color: #a7b0bc;
  cursor: grab;
  transition: all 0.2s ease;
  touch-action: none;
  ${e=>e.$orientation==="vertical"?ua`
        width: 40px;
        height: 18px;
        margin: 0 auto 4px;
      `:ua`
        width: 18px;
        height: 100%;
        margin-right: 2px;
      `}

  &:hover {
    color: #6f7784;
    background: rgba(76, 86, 103, 0.12);
  }

  &:active {
    cursor: grabbing;
    background: rgba(76, 86, 103, 0.15);
  }
`,qR=dt.span`
  display: block;
  border-radius: 999px;
  background: currentColor;
  opacity: 0.85;
  ${e=>e.$orientation==="vertical"?ua`
        width: 16px;
        height: 4px;
        box-shadow: -6px 0 0 currentColor, 6px 0 0 currentColor;
      `:ua`
        width: 4px;
        height: 14px;
        box-shadow: 0 -6px 0 currentColor, 0 6px 0 currentColor;
      `}
`,jy=dt.button`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border: none;
  border-radius: 9px;
  background: ${e=>e.$isActive?"rgba(76, 86, 103, 0.15)":"transparent"};
  color: ${e=>e.$isActive?"#2c3e50":"#5b6577"};
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 17px;
  box-shadow: ${e=>e.$isActive?"0 6px 16px rgba(76, 86, 103, 0.18)":"none"};

  &:hover {
    color: #2c3e50;
    transform: translateY(-2px);
    box-shadow: 0 8px 18px rgba(76, 86, 103, 0.18);
  }

  &:active {
    transform: translateY(-1px);
  }
`,Nf=dt.div`
  display: flex;
  align-items: center;
  gap: ${e=>e.$orientation==="vertical"?"6px":"4px"};
  ${e=>e.$orientation==="vertical"?ua`
        flex-direction: column;
        margin-left: 0;
        padding-left: 0;
        border-left: none;
        margin-top: 10px;
        padding-top: 10px;
        border-top: 1px solid rgba(225, 229, 233, 0.6);
      `:ua`
        flex-direction: row;
        margin-left: 16px;
        padding-left: 16px;
        border-left: 1px solid rgba(225, 229, 233, 0.6);
      `}
`,oa=dt.button`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border: none;
  border-radius: 9px;
  background: transparent;
  color: ${e=>e.$disabled?"#c0c6d1":"#5b6577"};
  cursor: ${e=>e.$disabled?"not-allowed":"pointer"};
  transition: all 0.2s ease;
  font-size: 16px;
  opacity: ${e=>e.$disabled?.5:1};

  &:hover {
    ${e=>!e.$disabled&&`
      color: #2c3e50;
      transform: translateY(-1px);
      box-shadow: 0 6px 14px rgba(76, 86, 103, 0.18);
    `}
  }

  &:active {
    ${e=>!e.$disabled&&`
      transform: translateY(0);
    `}
  }
`,By=dt.div`
  position: relative;
`,VR=dt.div`
  background: rgba(210, 214, 220, 0.9);
  border-radius: 1px;
  ${e=>e.$orientation==="vertical"?ua`
        width: 100%;
        height: 1px;
        margin: 4px 0;
      `:ua`
        width: 1px;
        height: 40px;
        margin: 0 6px;
      `}
`,zy=dt.button`
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  border-radius: 9px;
  background: ${e=>e.$isOpen?"rgba(76, 86, 103, 0.15)":"transparent"};
  color: ${e=>e.$isOpen?"#2c3e50":"#5b6577"};
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 18px;
  line-height: 1;
  outline: none;

  &:hover {
    color: #2c3e50;
    transform: translateY(-2px);
    box-shadow: 0 8px 18px rgba(76, 86, 103, 0.18);
  }
`,WR=dt.button`
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  border-radius: 9px;
  background: ${e=>e.$isActive?"rgba(76, 86, 103, 0.15)":"transparent"};
  color: ${e=>(e.$isActive,"#2c3e50")};
  font-weight: 600;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.2s ease;
  letter-spacing: 0.5px;
  outline: none;

  &:hover {
    color: #2c3e50;
    transform: translateY(-2px);
    box-shadow: 0 8px 18px rgba(76, 86, 103, 0.18);
  }
`,Ev=`
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translate(-50%, 8px);
  padding: 10px;
  background: rgba(255, 255, 255, 0.92);
  border: none;
  border-radius: 16px;
  box-shadow: 0 18px 36px rgba(76, 86, 103, 0.18);
  backdrop-filter: blur(16px);
  display: grid;
  grid-template-columns: repeat(3, 78px);
  gap: 10px;
  z-index: 120;
`,ZR=dt.div`
  ${Ev}
`,KR=dt.div`
  ${Ev}
`,Ny=dt.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  color: #4a5568;
  text-align: center;
`,Mv=dt.button`
  width: 78px;
  height: 84px;
  border: none;
  border-radius: 12px;
  background: ${e=>e.$isActive?"rgba(76, 86, 103, 0.15)":"transparent"};
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 6px;
  cursor: ${e=>e.$isClickableOnly?"pointer":e.$isDragging?"grabbing":"grab"};
  box-shadow: ${e=>e.$isDragging?"0 10px 24px rgba(76, 86, 103, 0.24)":"none"};
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
  padding: 10px;
  outline: none;

  &:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 18px rgba(76, 86, 103, 0.18);
  }
`,Rv=dt.svg`
  width: 48px;
  height: 48px;
`,Tv=dt.span`
  font-size: 10px;
  color: #4a5568;
`,kv=dt.div`
  position: fixed;
  top: ${e=>e.$y}px;
  left: ${e=>e.$x}px;
  transform: translate(-50%, -50%);
  padding: 8px 12px;
  background: rgba(44, 62, 80, 0.85);
  color: white;
  border-radius: 8px;
  font-size: 12px;
  pointer-events: none;
  opacity: ${e=>e.$visible?1:0};
  transition: opacity 0.1s ease;
  white-space: nowrap;
  z-index: 200;
`,JR=dt.div`
  position: fixed;
  top: ${e=>e.$y}px;
  left: ${e=>e.$x}px;
  background: rgba(40, 48, 61, 0.96);
  color: white;
  border-radius: 8px;
  min-width: 160px;
  box-shadow: 0 12px 24px rgba(15, 23, 42, 0.24);
  padding: 6px 0;
  z-index: 1200;
  font-size: 14px;
`,tT=dt.button`
  width: 100%;
  padding: 8px 16px;
  border: none;
  background: transparent;
  color: inherit;
  text-align: left;
  cursor: pointer;

  &:hover {
    background: rgba(255, 255, 255, 0.12);
  }
`,Pf={connectorType:"line",lineColour:"#6c757d",lineWidth:2,opacity:1,shadow:!1,shadowColour:"#000000",shadowOpacity:.36,shadowBlurRadius:6},eT=[{type:"connector",label:"Line",icon:"",defaultProps:{type:"connector",properties:{...Pf,startMark:"None",endMark:"None"}}},{type:"connector",label:"Single Arrow",icon:"",defaultProps:{type:"connector",properties:{...Pf,startMark:"None",endMark:"HollowArrow"}}},{type:"connector",label:"Double Arrow",icon:"",defaultProps:{type:"connector",properties:{...Pf,startMark:"HollowArrow",endMark:"HollowArrow"}}}],_n=({children:e})=>w.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:e}),nT=()=>w.jsx(_n,{children:w.jsxs("g",{stroke:"#4c5667",strokeWidth:"2.2",strokeLinecap:"round",children:[w.jsx("line",{x1:"6",y1:"5",x2:"10",y2:"5"}),w.jsx("line",{x1:"14",y1:"5",x2:"18",y2:"5"}),w.jsx("line",{x1:"5",y1:"6",x2:"5",y2:"10"}),w.jsx("line",{x1:"5",y1:"14",x2:"5",y2:"18"}),w.jsx("line",{x1:"6",y1:"19",x2:"10",y2:"19"}),w.jsx("line",{x1:"14",y1:"19",x2:"18",y2:"19"}),w.jsx("line",{x1:"19",y1:"6",x2:"19",y2:"10"}),w.jsx("line",{x1:"19",y1:"14",x2:"19",y2:"18"})]})}),oT=()=>w.jsxs(_n,{children:[w.jsx("path",{d:"M12 4V20"}),w.jsx("path",{d:"M12 4L9.7 6.3"}),w.jsx("path",{d:"M12 4L14.3 6.3"}),w.jsx("path",{d:"M12 20L9.7 17.7"}),w.jsx("path",{d:"M12 20L14.3 17.7"}),w.jsx("path",{d:"M4 12H20"}),w.jsx("path",{d:"M4 12L6.3 9.7"}),w.jsx("path",{d:"M4 12L6.3 14.3"}),w.jsx("path",{d:"M20 12L17.7 9.7"}),w.jsx("path",{d:"M20 12L17.7 14.3"})]}),aT=()=>w.jsxs(_n,{children:[w.jsx("rect",{x:"5",y:"5",width:"14",height:"2",fill:"currentColor",stroke:"none"}),w.jsx("rect",{x:"11",y:"7",width:"2",height:"13",fill:"currentColor",stroke:"none"})]}),rT=()=>w.jsxs(_n,{children:[w.jsx("rect",{x:"4.5",y:"4.5",width:"9",height:"9",rx:"2"}),w.jsx("circle",{cx:"16.5",cy:"16.5",r:"3.5"})]}),iT=()=>w.jsxs(_n,{children:[w.jsx("circle",{cx:"6",cy:"16",r:"2.3",fill:"currentColor",stroke:"none"}),w.jsx("circle",{cx:"18",cy:"8",r:"2.3",fill:"currentColor",stroke:"none"}),w.jsx("path",{d:"M8 14.5L16 9.5"})]}),lT=()=>w.jsxs(_n,{children:[w.jsx("path",{d:"M9 7L5 11L9 15"}),w.jsx("path",{d:"M5 11H14.5C17.5 11 19.5 13.4 19.5 16"})]}),sT=()=>w.jsxs(_n,{children:[w.jsx("path",{d:"M15 7L19 11L15 15"}),w.jsx("path",{d:"M19 11H9.5C6.5 11 4.5 13.4 4.5 16"})]}),cT=()=>w.jsxs(_n,{children:[w.jsx("rect",{x:"7.5",y:"8",width:"9",height:"12",rx:"1.8"}),w.jsx("path",{d:"M6.8 8H17.2"}),w.jsx("path",{d:"M9 5.8H15"}),w.jsx("path",{d:"M10.9 10.8V17.2"}),w.jsx("path",{d:"M13.1 10.8V17.2"})]}),uT=()=>w.jsxs(_n,{children:[w.jsxs("g",{stroke:"#4c5667",children:[w.jsx("line",{x1:"5",y1:"7",x2:"11",y2:"7"}),w.jsx("line",{x1:"5",y1:"12",x2:"11",y2:"12"}),w.jsx("line",{x1:"5",y1:"17",x2:"18",y2:"17"})]}),w.jsxs("g",{stroke:"#2aa565",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("path",{d:"M15.5 6.5L15.5 14.6"}),w.jsx("path",{d:"M15.5 14.6L13.3 12.4"}),w.jsx("path",{d:"M15.5 14.6L17.7 12.4"})]})]}),dT=()=>w.jsxs(_n,{children:[w.jsxs("g",{stroke:"#4c5667",children:[w.jsx("line",{x1:"5",y1:"7",x2:"11",y2:"7"}),w.jsx("line",{x1:"5",y1:"12",x2:"11",y2:"12"}),w.jsx("line",{x1:"5",y1:"17",x2:"11",y2:"17"})]}),w.jsxs("g",{stroke:"#2aa565",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("path",{d:"M15.5 9L15.5 15"}),w.jsx("path",{d:"M15.5 15L13.6 13.1"}),w.jsx("path",{d:"M15.5 15L17.4 13.1"})]})]}),fT=()=>w.jsxs(_n,{children:[w.jsxs("g",{stroke:"#4c5667",children:[w.jsx("line",{x1:"5",y1:"7",x2:"11",y2:"7"}),w.jsx("line",{x1:"5",y1:"12",x2:"11",y2:"12"}),w.jsx("line",{x1:"5",y1:"17",x2:"11",y2:"17"})]}),w.jsxs("g",{stroke:"#2aa565",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("path",{d:"M15.5 15L15.5 9"}),w.jsx("path",{d:"M15.5 9L13.6 10.9"}),w.jsx("path",{d:"M15.5 9L17.4 10.9"})]})]}),hT=()=>w.jsxs(_n,{children:[w.jsxs("g",{stroke:"#4c5667",children:[w.jsx("line",{x1:"5",y1:"7",x2:"18",y2:"7"}),w.jsx("line",{x1:"5",y1:"12",x2:"11",y2:"12"}),w.jsx("line",{x1:"5",y1:"17",x2:"11",y2:"17"})]}),w.jsxs("g",{stroke:"#2aa565",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("path",{d:"M15.5 16.5L15.5 9.2"}),w.jsx("path",{d:"M15.5 9.2L13.3 11.4"}),w.jsx("path",{d:"M15.5 9.2L17.7 11.4"})]})]}),pT=()=>w.jsxs(_n,{children:[w.jsx("rect",{x:"6.2",y:"8.2",width:"9",height:"9",rx:"2",stroke:"#4c5667",strokeWidth:"2.16",fill:"none"}),w.jsx("rect",{x:"9.4",y:"5",width:"9",height:"9",rx:"2",stroke:"#4c5667",strokeWidth:"2.16",fill:"none"})]}),mT=()=>w.jsxs(_n,{children:[w.jsx("rect",{x:"5.8",y:"9.8",width:"7.6",height:"7.6",rx:"2",stroke:"#4c5667",strokeWidth:"2.16",fill:"none"}),w.jsx("rect",{x:"11.6",y:"5.2",width:"7.6",height:"7.6",rx:"2",stroke:"#4c5667",strokeWidth:"2.16",fill:"none"})]}),Pc=3,gT=e=>e.defaultProps?.properties?.connectorType??"line",yT=({item:e})=>{const a=e.defaultProps.style?.backgroundColor??"#ffffff",r=e.defaultProps.style?.borderColor??"#6c757d",l=4,s={stroke:r,strokeWidth:l,strokeLinejoin:"round",strokeLinecap:"round"},u=()=>w.jsxs(w.Fragment,{children:[w.jsx("path",{d:"M22 26 V64 A28 10 0 0 0 78 64 V26 Z",fill:a,...s}),w.jsx("ellipse",{cx:"50",cy:"26",rx:"28",ry:"10",fill:a,...s}),w.jsx("path",{d:"M22 64 A28 10 0 0 0 78 64",fill:"none",...s})]});switch(e.type){case"oval":return e.defaultProps.properties?.constrainRatio?w.jsx("circle",{cx:"50",cy:"46",r:"24",fill:a,stroke:r,strokeWidth:l}):w.jsx("ellipse",{cx:"50",cy:"46",rx:"32",ry:"24",fill:a,stroke:r,strokeWidth:l});case"rhombus":return w.jsx("polygon",{points:"50,18 86,46 50,74 14,46",fill:a,stroke:r,strokeWidth:l});case"triangle":return w.jsx("polygon",{points:"50,18 86,78 14,78",fill:a,stroke:r,strokeWidth:l});case"parallelogram":return w.jsx("polygon",{points:"22,26 78,26 64,74 8,74",fill:a,stroke:r,strokeWidth:l});case"hexagon":return w.jsx("polygon",{points:"35,22 65,22 82,50 65,78 35,78 18,50",fill:a,stroke:r,strokeWidth:l});case"cylinder":return w.jsx(u,{});case"pipe":return w.jsx("g",{transform:"rotate(90 50 50)",children:w.jsx(u,{})});case"rectangle":return e.defaultProps.properties?.constrainRatio?w.jsx("rect",{x:"28",y:"22",width:"44",height:"44",fill:a,stroke:r,strokeWidth:l}):w.jsx("rect",{x:"14",y:"26",width:"72",height:"40",fill:a,stroke:r,strokeWidth:l});default:return w.jsx("rect",{x:"16",y:"18",width:"68",height:"56",fill:a,stroke:r,strokeWidth:l})}},xT=({item:e,onDragStart:a,onDragMove:r,onDragEnd:l,onClick:s})=>{const[u,d]=A.useState(!1),[p,g]=A.useState({x:0,y:0}),f=A.useCallback(m=>{if(m.button!==0)return;m.preventDefault();const x={x:m.clientX,y:m.clientY};d(!1),g(x);let b=!1;const v=C=>{const M={x:C.clientX,y:C.clientY},R=Math.abs(M.x-x.x),T=Math.abs(M.y-x.y);!b&&(R>Pc||T>Pc)&&(b=!0,d(!0),a(e,x)),b&&(g(M),r(M))},S=C=>{const M={x:C.clientX,y:C.clientY};b?l(M):s(e),d(!1),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",S)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",S)},[e,a,r,l,s]),y=A.useCallback(m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),s(e))},[e,s]);return w.jsxs(w.Fragment,{children:[w.jsxs(Mv,{type:"button","aria-label":e.label,$isDragging:u,onMouseDown:f,onKeyDown:y,children:[w.jsx(Rv,{viewBox:"0 0 100 100",role:"presentation","aria-hidden":"true",children:w.jsx(yT,{item:e})}),w.jsx(Tv,{children:e.label})]}),u&&typeof document<"u"?Qa.createPortal(w.jsx(kv,{$x:p.x,$y:p.y,$visible:u,children:e.label}),document.body):null]})},bT=({item:e,connectorType:a,isActive:r,onSelect:l})=>{const s=A.useCallback(()=>{l(e)},[e,l]),u=A.useCallback(V=>{(V.key==="Enter"||V.key===" ")&&(V.preventDefault(),l(e))},[e,l]),d=e.defaultProps?.properties,p=d?.startMark==="HollowArrow",g=d?.endMark==="HollowArrow",f="#6c757d",y=18,m=70,x=82,b=30,v=x-y,S=b-m,C=Math.sqrt(v*v+S*S)||1,M={x:v/C,y:S/C},R={x:-M.y,y:M.x},T=16,_=7,I=T*.75,z=(V,U,L)=>{const Z=V-M.x*T*L,J=U-M.y*T*L,X=Z+R.x*_,G=J+R.y*_,D=Z-R.x*_,P=J-R.y*_;return`M ${V} ${U} L ${X} ${G} M ${V} ${U} L ${D} ${P}`},O=p?{x:y+M.x*I,y:m+M.y*I}:{x:y,y:m},B=g?{x:x-M.x*I,y:b-M.y*I}:{x,y:b};return w.jsxs(Mv,{type:"button","aria-label":`${e.label} connector`,$isDragging:!1,$isClickableOnly:!0,$isActive:r,"data-connector-type":a,onClick:s,onKeyDown:u,children:[w.jsxs(Rv,{viewBox:"0 0 100 100",role:"presentation","aria-hidden":"true",children:[w.jsx("line",{x1:O.x,y1:O.y,x2:B.x,y2:B.y,stroke:f,strokeWidth:6,strokeLinecap:"round"}),p&&w.jsx("path",{d:z(y,m,-1),stroke:f,strokeWidth:6.5,strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),g&&w.jsx("path",{d:z(x,b,1),stroke:f,strokeWidth:6.5,strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}),w.jsx(Tv,{children:e.label})]})},vT=({item:e,onDragStart:a,onDragMove:r,onDragEnd:l,onClick:s})=>{const[u,d]=A.useState(!1),[p,g]=A.useState({x:0,y:0}),f=A.useCallback(m=>{if(m.button!==0)return;m.preventDefault();const x={x:m.clientX,y:m.clientY};d(!1),g(x);let b=!1;const v=C=>{const M={x:C.clientX,y:C.clientY},R=Math.abs(M.x-x.x),T=Math.abs(M.y-x.y);!b&&(R>Pc||T>Pc)&&(b=!0,d(!0),a(e,x)),b&&(g(M),r(M))},S=C=>{const M={x:C.clientX,y:C.clientY};b?l(M):s(e),d(!1),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",S)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",S)},[e,a,r,l,s]),y=A.useCallback(m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),s(e))},[e,s]);return w.jsxs(w.Fragment,{children:[w.jsx(WR,{type:"button","aria-label":"Text","data-text-tool-button":"true",$isDragging:u,onMouseDown:f,onKeyDown:y,children:w.jsx(aT,{})}),u&&typeof document<"u"?Qa.createPortal(w.jsx(kv,{$x:p.x,$y:p.y,$visible:u,children:e.label}),document.body):null]})};function AT({canvasMode:e,isTemporarySelectMode:a,onSetMode:r,onSendToBack:l,onBringBack:s,onBringForward:u,onSendToFront:d,hasSelection:p,onUndo:g,onRedo:f,canUndo:y=!1,canRedo:m=!1,onDelete:x,onGroup:b,onUngroup:v,canGroup:S=!1,canUngroup:C=!1,onShapeDragStart:M,onShapeDragMove:R,onShapeDragEnd:T,onShapeClick:_,onConnectorToolSelect:I,activeConnectorPreset:z,position:O,onPositionChange:B,shouldAutoCenter:V}){const U=e==="drag"&&a?"select":e,[L,Z]=A.useState(!1),J=A.useRef(null),[X,G]=A.useState(!1),D=A.useRef(null),P=A.useRef(null),N=A.useRef(null),Y=A.useRef(!V),[E,H]=A.useState("horizontal"),[$,q]=A.useState({x:0,y:0,visible:!1}),nt=A.useCallback(st=>{_(st),Z(!1)},[_]),vt=A.useCallback((st,ct)=>{M(st,ct)},[M]),ht=A.useCallback(st=>{R(st)},[R]),xt=A.useCallback(st=>{T(st),Z(!1)},[T]),Ct=A.useCallback(st=>{I(st),G(!1)},[I]),F=A.useCallback((st,ct)=>{if(!P.current||!N.current)return;const pt=P.current.offsetParent?.getBoundingClientRect();if(!pt)return;const Rt=P.current.getBoundingClientRect(),_t=st-pt.left-N.current.offsetX,St=ct-pt.top-N.current.offsetY,Nt=8,Dt=Math.max(Nt,pt.width-Rt.width-Nt),Xt=Math.max(Nt,pt.height-Rt.height-Nt),Et=Math.min(Math.max(Nt,_t),Dt),Tt=Math.min(Math.max(Nt,St),Xt);B({x:Et,y:Tt})},[B]),et=A.useCallback(()=>{q(st=>st.visible?{...st,visible:!1}:st)},[]);A.useEffect(()=>{if(!$.visible)return;const st=kt=>{if(kt.button!==0)return;const pt=kt.target;pt&&pt.closest('[data-toolbar-menu="true"]')||et()},ct=kt=>{kt.key==="Escape"&&et()};return document.addEventListener("mousedown",st),document.addEventListener("keydown",ct),()=>{document.removeEventListener("mousedown",st),document.removeEventListener("keydown",ct)}},[$.visible,et]);const K=A.useCallback(st=>{st.preventDefault(),q({x:st.clientX,y:st.clientY,visible:!0})},[]),rt=A.useCallback(()=>{H(st=>st==="horizontal"?"vertical":"horizontal"),q(st=>({...st,visible:!1}))},[]),bt=A.useCallback(st=>{if(st.preventDefault(),!P.current)return;const kt=P.current.offsetParent?.getBoundingClientRect();if(!kt)return;N.current={offsetX:st.clientX-kt.left-O.x,offsetY:st.clientY-kt.top-O.y};const pt=_t=>{_t.preventDefault(),F(_t.clientX,_t.clientY)},Rt=()=>{N.current=null,document.removeEventListener("mousemove",pt),document.removeEventListener("mouseup",Rt)};document.addEventListener("mousemove",pt),document.addEventListener("mouseup",Rt)},[F,O.x,O.y]),mt=A.useCallback(st=>{if(!P.current)return;const ct=st.touches[0];if(!ct)return;st.preventDefault();const pt=P.current.offsetParent?.getBoundingClientRect();if(!pt)return;N.current={offsetX:ct.clientX-pt.left-O.x,offsetY:ct.clientY-pt.top-O.y};const Rt=St=>{const Nt=St.touches[0];Nt&&(St.preventDefault(),F(Nt.clientX,Nt.clientY))},_t=()=>{N.current=null,document.removeEventListener("touchmove",Rt),document.removeEventListener("touchend",_t),document.removeEventListener("touchcancel",_t)};document.addEventListener("touchmove",Rt,{passive:!1}),document.addEventListener("touchend",_t),document.addEventListener("touchcancel",_t)},[F,O.x,O.y]),wt=A.useCallback(()=>{if(!P.current)return null;const ct=P.current.offsetParent?.getBoundingClientRect();if(!ct)return null;const kt=P.current.getBoundingClientRect(),pt=8,Rt=Math.max(pt,ct.width-kt.width-pt),_t=Math.max(pt,ct.height-kt.height-pt),St=Math.min(Math.max(pt,O.x),Rt),Nt=Math.min(Math.max(pt,O.y),_t);return(St!==O.x||Nt!==O.y)&&B({x:St,y:Nt}),{clampedX:St,clampedY:Nt,padding:pt,maxX:Rt,maxY:_t}},[B,O.x,O.y]);return A.useLayoutEffect(()=>{const st=wt();if(!st)return;const{padding:ct,maxX:kt,maxY:pt}=st;if(!V||Y.current||!P.current)return;const _t=P.current.offsetParent?.getBoundingClientRect();if(!_t)return;const St=P.current.getBoundingClientRect(),Nt=ct+Math.max(0,(_t.width-St.width)/2),Dt=Math.min(Math.max(ct,Nt),kt),Xt=Math.min(Math.max(ct,O.y),pt);(Dt!==O.x||Xt!==O.y)&&B({x:Dt,y:Xt}),Y.current=!0},[wt,B,O.x,O.y,V]),A.useEffect(()=>{if(!L)return;const st=kt=>{J.current&&(J.current.parentElement?.contains(kt.target)||Z(!1))},ct=kt=>{kt.key==="Escape"&&Z(!1)};return document.addEventListener("mousedown",st),document.addEventListener("keydown",ct),()=>{document.removeEventListener("mousedown",st),document.removeEventListener("keydown",ct)}},[L]),A.useEffect(()=>{if(!X)return;const st=kt=>{D.current&&(D.current.parentElement?.contains(kt.target)||G(!1))},ct=kt=>{kt.key==="Escape"&&G(!1)};return document.addEventListener("mousedown",st),document.addEventListener("keydown",ct),()=>{document.removeEventListener("mousedown",st),document.removeEventListener("keydown",ct)}},[X]),w.jsxs(w.Fragment,{children:[w.jsxs(GR,{ref:P,"data-floating-toolbar":"true",$top:O.y,$left:O.x,$orientation:E,"data-orientation":E,onContextMenu:K,children:[w.jsx(FR,{type:"button",onMouseDown:bt,onTouchStart:mt,"aria-label":"Drag toolbar",$orientation:E,children:w.jsx(qR,{"aria-hidden":"true",$orientation:E})}),w.jsx(jy,{$isActive:U==="select",onClick:()=>r("select"),title:"Select Mode (S) - Draw selection area",children:w.jsx(nT,{})}),w.jsx(jy,{$isActive:U==="drag",onClick:()=>r("drag"),title:"Drag Mode (D) - Move items and pan the canvas",children:w.jsx(oT,{})}),w.jsx(VR,{"aria-hidden":"true",$orientation:E}),w.jsx(vT,{item:sR,onDragStart:vt,onDragMove:ht,onDragEnd:xt,onClick:nt}),w.jsxs(By,{children:[w.jsx(zy,{ref:J,$isOpen:L,onClick:()=>Z(st=>!st),title:"Shapes","aria-label":"Shapes","aria-haspopup":"true","aria-expanded":L,children:w.jsx(rT,{})}),L&&w.jsx(ZR,{role:"menu","aria-label":"Shapes library",children:cR.map(st=>w.jsx(Ny,{role:"presentation",children:w.jsx(xT,{item:st,onDragStart:vt,onDragMove:ht,onDragEnd:xt,onClick:nt})},`${st.type}-${st.label}`))})]}),w.jsxs(By,{children:[w.jsx(zy,{ref:D,$isOpen:X,onClick:()=>G(st=>!st),title:"Connectors","aria-label":"Connectors","aria-haspopup":"true","aria-expanded":X,children:w.jsx(iT,{})}),X&&w.jsx(KR,{role:"menu","aria-label":"Connectors library",children:eT.map(st=>{const ct=gT(st),kt=e==="draw-connector"&&z?.label===st.label;return w.jsx(Ny,{role:"presentation",children:w.jsx(bT,{item:st,connectorType:ct,isActive:kt,onSelect:Ct})},`${st.type}-${st.label}`)})})]}),(g||f||x)&&w.jsxs(Nf,{$orientation:E,children:[g&&w.jsx(oa,{onClick:g,title:"Undo (Ctrl/Cmd+Z)",$disabled:!y,disabled:!y,children:w.jsx(lT,{})}),f&&w.jsx(oa,{onClick:f,title:"Redo (Ctrl/Cmd+Shift+Z)",$disabled:!m,disabled:!m,children:w.jsx(sT,{})}),x&&w.jsx(oa,{onClick:x,title:"Delete (Del/Backspace)",$disabled:!p,disabled:!p,children:w.jsx(cT,{})})]}),w.jsxs(Nf,{$orientation:E,children:[w.jsx(oa,{onClick:d,title:"Send to Front",$disabled:!p,disabled:!p,children:w.jsx(hT,{})}),w.jsx(oa,{onClick:u,title:"Bring Forward",$disabled:!p,disabled:!p,children:w.jsx(fT,{})}),w.jsx(oa,{onClick:s,title:"Bring Back",$disabled:!p,disabled:!p,children:w.jsx(dT,{})}),w.jsx(oa,{onClick:l,title:"Send to Back",$disabled:!p,disabled:!p,children:w.jsx(uT,{})})]}),(b||v)&&w.jsxs(Nf,{$orientation:E,children:[b&&w.jsx(oa,{onClick:b,title:"Group (Ctrl/Cmd+G)",$disabled:!S,disabled:!S,children:w.jsx(pT,{})}),v&&w.jsx(oa,{onClick:v,title:"Ungroup (Ctrl/Cmd+Shift+G)",$disabled:!C,disabled:!C,children:w.jsx(mT,{})})]})]}),$.visible&&Qa.createPortal(w.jsx(JR,{$x:$.x,$y:$.y,"data-toolbar-menu":"true",children:w.jsx(tT,{onClick:rt,"data-toolbar-menu-item":"toggle-orientation",children:"Toggle orientation"})}),document.body)]})}const wT=dt.div`
  position: fixed;
  bottom: 48px;
  right: 20px;
  display: flex;
  align-items: center;
  gap: 8px;
  z-index: 100;
  background: white;
  padding: 8px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
`,CT=dt.div`
  position: relative;
`,Py=dt.button`
  width: 36px;
  height: 36px;
  border: 1px solid #ddd;
  background: white;
  border-radius: 6px;
  cursor: pointer;
  font-size: 18px;
  font-weight: bold;
  color: #6c757d;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;

  &:hover {
    background: #f5f5f5;
    border-color: #bbb;
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  &:active {
    transform: translateY(1px);
  }
`,ST=dt.div`
  padding: 10px 15px;
  background: white;
  border: 1px solid #ddd;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  color: #6c757d;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 60px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    background: #f5f5f5;
    border-color: #bbb;
  }
`,ET=dt.div`
  position: absolute;
  bottom: 100%;
  right: 0;
  margin-bottom: 8px;
  background: white;
  border: 1px solid #ddd;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  overflow: hidden;
  display: ${e=>e.$visible?"block":"none"};
  z-index: 1000;
`,Ly=dt.button`
  display: block;
  width: 100%;
  padding: 10px 16px;
  background: white;
  border: none;
  text-align: left;
  font-size: 13px;
  color: #333;
  cursor: pointer;
  transition: background 0.15s;
  white-space: nowrap;

  &:hover {
    background: #f5f5f5;
  }

  &:active {
    background: #e8e8e8;
  }
`;function MT({zoom:e,onZoomIn:a,onZoomOut:r,onReset:l,onFitToScreen:s}){const[u,d]=A.useState(!1),p=A.useRef(null);A.useEffect(()=>{const m=x=>{p.current&&!p.current.contains(x.target)&&d(!1)};if(u)return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[u]);const g=()=>{d(m=>!m)},f=()=>{l?.(),d(!1)},y=()=>{s?.(),d(!1)};return w.jsxs(wT,{"data-zoom-controls":"true",children:[w.jsx(Py,{onClick:r,title:"Zoom Out (Ctrl/Cmd+[)",children:""}),w.jsxs(CT,{ref:p,children:[w.jsxs(ST,{onClick:g,children:[Math.round(e*100),"%"]}),w.jsxs(ET,{$visible:u,children:[w.jsx(Ly,{onClick:f,children:"Reset"}),w.jsx(Ly,{onClick:y,children:"Fit to screen"})]})]}),w.jsx(Py,{onClick:a,title:"Zoom In (Ctrl/Cmd+])",children:"+"})]})}const nu=dt.div`
  display: ${e=>e.$isOpen?"flex":"none"};
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  align-items: center;
  justify-content: center;
  z-index: 2000;
`,ou=dt.div`
  background: white;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  max-width: 500px;
  width: 90%;
  max-height: 90vh;
  overflow-y: auto;
  animation: slideIn 0.2s ease-out;

  @keyframes slideIn {
    from {
      transform: translateY(-20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`,au=dt.h3`
  margin: 0;
  padding: 20px;
  border-bottom: 1px solid #e1e5e9;
  font-size: 18px;
  color: #2c3e50;
`,ru=dt.div`
  padding: 20px;
  color: #6c757d;
  line-height: 1.6;
`,iu=dt.div`
  padding: 20px;
  border-top: 1px solid #e1e5e9;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
`,RT=dt.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,TT=dt.button`
  width: 100%;
  text-align: left;
  padding: 12px 16px;
  border: 1px solid #e1e5e9;
  border-radius: 6px;
  background: #f8f9fa;
  color: #2c3e50;
  font-size: 14px;
  cursor: pointer;
  transition: background 0.2s, border 0.2s;

  &:hover {
    background: #e9ecef;
    border-color: #d0d7de;
  }

  &:active {
    transform: translateY(1px);
  }
`,Ha=dt.button`
  padding: 10px 20px;
  border: 1px solid ${e=>e.$variant==="primary"?"#3498db":e.$variant==="danger"?"#e74c3c":"#ddd"};
  background: ${e=>e.$variant==="primary"?"#3498db":e.$variant==="danger"?"#e74c3c":"white"};
  color: ${e=>e.$variant==="primary"||e.$variant==="danger"?"white":"#6c757d"};
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s;

  &:hover {
    background: ${e=>e.$variant==="primary"?"#2980b9":e.$variant==="danger"?"#cf4334":"#f5f5f5"};
    border-color: ${e=>e.$variant==="primary"?"#2980b9":e.$variant==="danger"?"#c43d2f":"#bbb"};
  }

  &:active {
    transform: translateY(1px);
  }
`,Hy=(e,a,r)=>`${e} ${e===1?a:r}`;function kT({isOpen:e,pendingImportData:a,onConfirm:r,onCancel:l}){const s=a?.canvasState?.elements?.length??0,u=a?.canvasState?.connectors?.length??0,d=s+u;return w.jsx(nu,{$isOpen:e,children:w.jsxs(ou,{children:[w.jsx(au,{children:"Import Wireframe"}),w.jsxs(ru,{children:[w.jsxs("p",{children:["Importing from page ",w.jsx("strong",{children:a?.pageName??"Unknown Page"}),"."]}),w.jsxs("p",{children:["You are about to import a wireframe file with"," ",w.jsx("strong",{children:d})," ",d===1?"item":"items","."]}),d>0?w.jsxs("p",{children:["This includes ",w.jsx("strong",{children:Hy(s,"element","elements")}),u>0?w.jsxs(w.Fragment,{children:[" ","and ",w.jsx("strong",{children:Hy(u,"connector","connectors")})]}):null,"."]}):null,w.jsxs("p",{children:["Would you like to ",w.jsx("strong",{children:"clear the current canvas"})," before importing, or ",w.jsx("strong",{children:"append"})," the imported elements to the existing ones?"]})]}),w.jsxs(iu,{children:[w.jsx(Ha,{onClick:l,children:"Cancel"}),w.jsx(Ha,{onClick:()=>r(!1),children:"Append to Canvas"}),w.jsx(Ha,{$variant:"primary",onClick:()=>r(!0),children:"Clear & Import"})]})]})})}function _T({isOpen:e,pages:a,onSelect:r,onCancel:l}){return w.jsx(nu,{$isOpen:e,children:w.jsxs(ou,{children:[w.jsx(au,{children:"Select Page to Import"}),w.jsxs(ru,{children:[w.jsx("p",{children:"Please choose which page from the imported project you would like to load into the current canvas."}),w.jsx(RT,{children:a.map(s=>w.jsx(TT,{onClick:()=>r(s.id),children:s.name},s.id))})]}),w.jsx(iu,{children:w.jsx(Ha,{onClick:l,children:"Cancel"})})]})})}function OT({isOpen:e,pageCount:a,onConfirm:r,onCancel:l}){return w.jsx(nu,{$isOpen:e,children:w.jsxs(ou,{children:[w.jsx(au,{children:"Replace Project"}),w.jsxs(ru,{children:[w.jsxs("p",{children:["The imported file contains ",w.jsx("strong",{children:a})," ",a===1?"page":"pages",". Replacing the project will remove all existing pages and load the imported ones instead."]}),w.jsx("p",{children:"This action cannot be undone automatically. Do you want to proceed?"})]}),w.jsxs(iu,{children:[w.jsx(Ha,{onClick:l,children:"Cancel"}),w.jsx(Ha,{$variant:"primary",onClick:r,children:"Replace Project"})]})]})})}const Ke=18,DT=100,xl=20,IT=6,jT=4,BT=dt.div`
  position: absolute;
  ${e=>e.$orientation==="horizontal"?`
    top: 0;
    left: ${Ke}px;
    right: 0;
    height: ${Ke}px;
  `:`
    top: ${Ke}px;
    left: 0;
    bottom: 0;
    width: ${Ke}px;
  `}
  background: #f8f9fa;
  border: 1px solid #e0e0e0;
  ${e=>e.$orientation==="horizontal"?"border-width: 0 0 1px 0;":"border-width: 0 1px 0 0;"}
  overflow: hidden;
  pointer-events: none;
  z-index: 100;
  user-select: none;
`,zT=dt.canvas`
  display: block;
`,NT=dt.div.attrs(e=>({style:e.$orientation==="horizontal"?{left:`${e.$position}px`,top:0,width:"1px",height:"100%"}:{top:`${e.$position}px`,left:0,width:"100%",height:"1px"}}))`
  position: absolute;
  background: #3498db;
  opacity: 0.6;
  pointer-events: none;
`,PT=dt.div`
  position: absolute;
  top: 0;
  left: 0;
  width: ${Ke}px;
  height: ${Ke}px;
  background: #f8f9fa;
  border-right: 1px solid #e0e0e0;
  border-bottom: 1px solid #e0e0e0;
  z-index: 101;
`,Yy=({orientation:e,zoom:a,pan:r,mousePos:l})=>{const s=A.useRef(null),u=A.useRef(null);A.useEffect(()=>{const p=s.current,g=u.current;if(!p||!g)return;const f=p.getContext("2d");if(!f)return;const y=g.getBoundingClientRect(),m=e==="horizontal"?y.width:y.height;e==="horizontal"?(p.width=m*window.devicePixelRatio,p.height=Ke*window.devicePixelRatio,p.style.width=`${m}px`,p.style.height=`${Ke}px`):(p.width=Ke*window.devicePixelRatio,p.height=m*window.devicePixelRatio,p.style.width=`${Ke}px`,p.style.height=`${m}px`),f.scale(window.devicePixelRatio,window.devicePixelRatio),f.clearRect(0,0,m,Ke),f.fillStyle="#666",f.strokeStyle="#999",f.lineWidth=1,f.font='8px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',f.textAlign="center",f.textBaseline="middle";const x=-r,b=m/a-r,v=Math.floor(x/xl)*xl,S=Math.ceil(b/xl)*xl;for(let C=v;C<=S;C+=xl){const M=(C+r)*a;if(M<0||M>m)continue;const R=C%DT===0,T=R?IT:jT;if(f.beginPath(),e==="horizontal"?(f.moveTo(M+1.5,Ke-T),f.lineTo(M+1.5,Ke)):(f.moveTo(Ke-T,M+1.5),f.lineTo(Ke,M+1.5)),f.stroke(),R&&C>=0){const _=C.toString();e==="horizontal"?f.fillText(_,M+1.5,Ke/2-.5):(f.save(),f.translate(Ke/2-1.5,M+1.5),f.rotate(-Math.PI/2),f.fillText(_,0,0),f.restore())}}},[e,a,r]);const d=l!==null?l-Ke:-100;return w.jsxs(BT,{ref:u,$orientation:e,children:[w.jsx(zT,{ref:s}),l!==null&&w.jsx(NT,{$orientation:e,$position:d})]})},LT=()=>w.jsx(PT,{}),Ne=20,HT=dt.div`
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
  touch-action: none;
  cursor: ${e=>e.$isPanning?"grabbing":e.$canvasMode==="select"?"crosshair":e.$canvasMode==="draw-connector"?"cell":"grab"};

  &.panning {
    cursor: grabbing;
  }
`,YT=dt.div.attrs(e=>({style:{transform:`scale(${e.$zoom}) translate(${e.$panX}px, ${e.$panY}px)`,willChange:e.$isPinchZooming?"transform":"auto"}}))`
  position: absolute;
  left: calc(${Ne}px - 0.5px);
  top: calc(${Ne}px - 0.5px);
  transform-origin: 0 0;
  width: 2000px;
  height: 2000px;
  touch-action: none;
  background-color: #ffffff;
  background-image:
    linear-gradient(90deg, #d0d0d0 1px, transparent 1px),
    linear-gradient(180deg, #d0d0d0 1px, transparent 1px),
    linear-gradient(90deg, #f0f0f0 1px, transparent 1px),
    linear-gradient(180deg, #f0f0f0 1px, transparent 1px);
  background-size: 100px 100px, 100px 100px, 20px 20px, 20px 20px;
  background-position: -0.5px -0.5px, -0.5px -0.5px, -0.5px -0.5px, -0.5px -0.5px;
  box-shadow: 1px 0 0 0 #e8e8e8, 0 1px 0 0 #e8e8e8;
`,UT=dt.div.attrs(e=>({style:e.$styleVars}))`
  position: absolute;
  left: var(--element-left, 0px);
  top: var(--element-top, 0px);
  width: var(--element-width, 0px);
  height: var(--element-height, 0px);
  box-sizing: border-box;
  border-radius: var(--element-border-radius, 4px);
  cursor: ${e=>e.$interactive?"pointer":"crosshair"};
  pointer-events: ${e=>e.$interactive?"auto":"none"};
  user-select: none;
  padding: var(--element-padding, 4px 8px);
  font-family: var(--element-font-family, ${so});
  transform: translate(var(--element-translate-x, 0px), var(--element-translate-y, 0px));
  overflow: visible;
  transition: box-shadow 0.2s ease;
  display: var(--element-display, flex);
  align-items: var(--element-align-items, center);
  justify-content: var(--element-justify-content, center);
  white-space: var(--element-white-space, nowrap);
  text-align: var(--element-text-align, center);
  word-break: var(--element-word-break, normal);
  overflow-wrap: var(--element-overflow-wrap, normal);
  background: var(--element-background, white);
  border: var(--element-border, 1px solid #6c757d);
  color: var(--element-color, #2c3e50);
  font-size: var(--element-font-size, 14px);
  font-weight: var(--element-font-weight, normal);
  box-shadow: var(--element-shadow, 1px 1px 3px rgba(0,0,0,0.1));
  opacity: var(--element-opacity, 1);

  &::before {
    content: '';
    position: absolute;
    top: calc(var(--handle-hover-padding, 0px) * -1);
    right: calc(var(--handle-hover-padding, 0px) * -1);
    bottom: calc(var(--handle-hover-padding, 0px) * -1);
    left: calc(var(--handle-hover-padding, 0px) * -1);
    pointer-events: none;
    background: transparent;
  }

  &[data-element-selected='true']::before {
    pointer-events: ${e=>e.$interactive?"auto":"none"};
  }

  &[data-interactive='true']:hover {
    box-shadow: var(--element-hover-shadow, var(--element-shadow, 1px 1px 3px rgba(0,0,0,0.1)));

    /* Show resize handles on hover - target the ResizeHandles container specifically */
    > div[data-resize-container] {
      opacity: 1 !important;
    }
  }
  &[data-anchor-highlight-visible='true'] {
    box-shadow: 0 0 0 2px rgba(46, 204, 113, 0.85), var(--element-shadow, 1px 1px 3px rgba(0,0,0,0.1));
  }
`,$T=dt.div.attrs(e=>({style:{left:e.$left,top:e.$top,width:e.$width,height:e.$height}}))`
  position: absolute;
  border: 2px dashed #3498db;
  background: rgba(52, 152, 219, 0.1);
  pointer-events: none;
  z-index: 1000;
  animation: marchingAnts 1s linear infinite;

  @keyframes marchingAnts {
    0% {
      border-offset: 0;
    }
    100% {
      border-offset: 8px;
    }
  }
`,QT=dt.span`
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
  width: ${e=>e.$type==="checkbox"?"20px":"16px"};
  height: ${e=>e.$type==="checkbox"?"20px":"16px"};
  z-index: 3;

  & .checkbox-mark {
    font-size: var(--element-checkmark-font-size, 18px);
    font-weight: 700;
    color: #3498db;
    line-height: 1;
    transform: translateY(var(--element-checkmark-translate-y, -1px));
  }

  & .radio-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #3498db;
  }
`,_v=`
  position: absolute;
  border: 2px solid #3498db;
  background: white;
  border-radius: 4px;
  padding: 4px 8px;
  box-sizing: border-box;
  font-family: var(--inline-font-family, ${so});
  transform: none;
  z-index: 1001;
  outline: none;
  box-shadow: 0 0 0 2px #3498db, 1px 1px 3px rgba(0,0,0,0.1);
  resize: none;
`,XT=dt.input`
  ${_v}
  left: var(--inline-left, 0px);
  top: var(--inline-top, 0px);
  width: var(--inline-width, 100px);
  height: var(--inline-height, 20px);
  font-size: var(--inline-font-size, 14px);
  font-weight: var(--inline-font-weight, normal);
  color: var(--inline-color, #2c3e50);
  text-align: var(--inline-text-align, center);
  opacity: var(--inline-opacity, 1);
`,GT=dt.textarea`
  ${_v}
  left: var(--inline-left, 0px);
  top: var(--inline-top, 0px);
  width: var(--inline-width, 100px);
  height: var(--inline-height, 20px);
  font-size: var(--inline-font-size, 14px);
  font-weight: var(--inline-font-weight, normal);
  color: var(--inline-color, #2c3e50);
  text-align: var(--inline-text-align, left);
  opacity: var(--inline-opacity, 1);
  vertical-align: top;
  white-space: pre-wrap;
`,We=e=>Math.max(0,e),FT=({type:e,fill:a,stroke:r,strokeWidth:l,width:s,height:u})=>{const d={stroke:r,strokeWidth:l,vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round"},p=s>0?s:1,g=u>0?u:1,f=p/100,y=g/100,m=l/2,x=f>0?Math.min(49,We(m/f)):0,b=y>0?Math.min(49,We(m/y)):0,v=x,S=We(100-x),C=b,M=We(100-b),R=50,T=50,_={width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none",style:{overflow:"visible"}},I=We(15+b),z=We(85-b),O=We((S-v)/2),B=We(15-b),V=()=>w.jsxs(w.Fragment,{children:[w.jsx("path",{d:`M${v} ${I} V${z} A${O} ${B} 0 0 0 ${S} ${z} V${I} Z`,fill:a,...d}),w.jsx("ellipse",{cx:R,cy:I,rx:O,ry:B,fill:a,...d}),w.jsx("path",{d:`M${v} ${z} A${O} ${B} 0 0 0 ${S} ${z}`,fill:"none",...d})]});switch(e){case"oval":return w.jsx("svg",{..._,children:w.jsx("ellipse",{cx:R,cy:T,rx:We(50-x),ry:We(50-b),fill:a,...d})});case"rhombus":return w.jsx("svg",{..._,children:w.jsx("polygon",{points:`${R},${C} ${S},${T} ${R},${M} ${v},${T}`,fill:a,...d})});case"triangle":return w.jsx("svg",{..._,children:w.jsx("polygon",{points:`${R},${C} ${S},${M} ${v},${M}`,fill:a,...d})});case"parallelogram":return w.jsx("svg",{..._,children:w.jsx("polygon",{points:`${We(25+x)},${C} ${S},${C} ${We(75+x)},${M} ${v},${M}`,fill:a,...d})});case"hexagon":return w.jsx("svg",{..._,children:w.jsx("polygon",{points:`${We(30+x)},${C} ${We(70-x)},${C} ${S},${T} ${We(70-x)},${M} ${We(30+x)},${M} ${v},${T}`,fill:a,...d})});case"cylinder":return w.jsx("svg",{..._,children:w.jsx(V,{})});case"pipe":return w.jsx("svg",{..._,children:w.jsx("g",{transform:"rotate(90 50 50)",children:w.jsx(V,{})})});case"rectangle":default:return w.jsx("svg",{..._,children:w.jsx("rect",{x:v,y:C,width:We(S-v),height:We(M-C),fill:a,...d})})}},qT=new Set(["rectangle","oval","rhombus","triangle","cylinder","pipe","parallelogram","hexagon"]),VT=e=>qT.has(e),eo=e=>Math.max(0,e),Uy=e=>{if(!e)return!1;const a=e.trim().toLowerCase();if(a==="none"||a==="transparent")return!1;if(a.startsWith("rgba(")){const r=parseFloat(a.split(",")[3]?.replace(")","")??"1");return Number.isFinite(r)&&r>0}if(a.startsWith("hsla(")){const r=parseFloat(a.split(",")[3]?.replace(")","")??"1");return Number.isFinite(r)&&r>0}if(a.startsWith("#")&&a.length===9){const r=a.slice(7,9);return parseInt(r,16)>0}return!0},$y=(e,a,r,l,s)=>{const u=r>0?r:1,d=l>0?l:1,p=u/100,g=d/100,f=s/2,y=p>0?Math.min(49,eo(f/p)):0,m=g>0?Math.min(49,eo(f/g)):0,x=y,b=eo(100-y),v=m,S=eo(100-m),C=50,M=50,R=O=>O*p,T=O=>O*g,_=(O,B)=>e.moveTo(R(O),T(B)),I=(O,B)=>e.lineTo(R(O),T(B)),z=()=>{const O=eo(15+m),B=eo(85-m),V=eo((b-x)/2),U=eo(15-m),L=T(O),Z=T(B),J=R(V),X=T(U),G=R(x),D=R(b),P=R(C);e.moveTo(G,L),e.lineTo(G,Z),e.ellipse(P,Z,J,X,0,Math.PI,0,!1),e.lineTo(D,L),e.ellipse(P,L,J,X,0,0,Math.PI,!1),e.closePath()};switch(e.beginPath(),a){case"oval":e.ellipse(R(C),T(M),Math.max(0,R(50-y)),Math.max(0,T(50-m)),0,0,Math.PI*2);break;case"rhombus":_(C,v),I(b,M),I(C,S),I(x,M),e.closePath();break;case"triangle":_(C,v),I(b,S),I(x,S),e.closePath();break;case"parallelogram":{const O=eo(25+y),B=eo(75+y);_(O,v),I(b,v),I(B,S),I(x,S),e.closePath();break}case"hexagon":{const O=eo(30+y),B=eo(70-y);_(O,v),I(B,v),I(b,M),I(B,S),I(O,S),I(x,M),e.closePath();break}case"cylinder":z();break;case"pipe":e.save(),e.translate(r/2,l/2),e.rotate(Math.PI/2),e.translate(-l/2,-r/2),z(),e.restore();break;case"rectangle":default:e.rect(R(x),T(v),Math.max(0,R(b-x)),Math.max(0,T(S-v))),e.closePath();break}},Ov=(e,a)=>{const{type:r,width:l,height:s,strokeWidth:u,fillColour:d,strokeColour:p,shadowColour:g,shadowBlur:f,shadowOffsetX:y,shadowOffsetY:m}=a,x=Uy(d),b=u>0&&Uy(p);if(!x&&!b)return;const v=window.devicePixelRatio||1,S=document.createElement("canvas");S.width=Math.max(1,Math.round(l*v)),S.height=Math.max(1,Math.round(s*v));const C=S.getContext("2d");if(!C)return;C.lineJoin="round",C.lineCap="round",C.scale(v,v);const M=()=>{x&&($y(C,r,l,s,u),C.fillStyle="#000",C.fill())},R=()=>{b&&($y(C,r,l,s,u),C.strokeStyle="#000",C.lineWidth=u,C.stroke())};M(),R();const T=f*.12,_=T*2+Math.abs(y),I=T*2+Math.abs(m),z=document.createElement("canvas");z.width=Math.max(1,Math.round(l+_*2)),z.height=Math.max(1,Math.round(s+I*2));const O=z.getContext("2d");if(!O)return;f>0&&(O.filter=`blur(${T}px)`),O.drawImage(S,_,I,l,s),O.filter="none",O.globalCompositeOperation="source-in",O.fillStyle=g,O.fillRect(0,0,z.width,z.height),O.globalCompositeOperation="source-over";const B=y-_,V=m-I;e.drawImage(z,B,V)},La=(e,a,r)=>{const l=e.properties?.[a];return typeof l=="number"&&Number.isFinite(l)?l:r},oo=(e,a,r)=>{const l=e.properties?.[a];return typeof l=="string"&&l.length>0?l:r},Uh=(e,a,r)=>{const l=e.properties?.[a];return typeof l=="boolean"?l:r},WT=e=>{switch(e){case"left":return"flex-start";case"right":return"flex-end";case"center":default:return"center"}},Dv=(...e)=>{const a=e.filter(r=>r&&r!=="none");return a.length>0?a.join(", "):"none"},$h=e=>{if(!Uh(e,"shadow",!1))return"none";const r=oo(e,"shadowColour",xn)??xn,l=La(e,"shadowOpacity",Qn),s=La(e,"shadowBlurRadius",Tn),u=bv(r,l),d=Math.max(0,s);return`${aa}px ${ra}px ${d}px ${u}`},ZT=e=>{const a=$h(e);return Dv("0 0 0 1.5px rgba(52, 152, 219, 0.85)",a)},KT=e=>{const a=$h(e);return Dv("0 0 0 2px #74b9ff",a)},zl=e=>{if(!e)return null;const a=e.trim();if(!a||a==="none")return null;const r=[];let l="",s=0;for(const x of a){if(x==="("&&(s+=1),x===")"&&(s=Math.max(0,s-1)),x===","&&s===0){r.push(l.trim()),l="";continue}l+=x}l.trim()&&r.push(l.trim());const u=r[r.length-1],d=u.match(/^(.*?)(rgba?\([^)]*\)|hsla?\([^)]*\)|#[0-9a-fA-F]{3,8}|[a-zA-Z]+)\s*$/),p=u.match(/^(rgba?\([^)]*\)|hsla?\([^)]*\)|#[0-9a-fA-F]{3,8}|[a-zA-Z]+)\s+(.*)$/);let g=null,f=null;if(d&&d[2]?(f=d[1].trim(),g=d[2]):p&&p[1]&&(g=p[1],f=p[2].trim()),!g||!f)return null;const y=f.split(/\s+/).filter(Boolean);if(y.length<3)return null;const m=x=>{const b=x.replace("px",""),v=Number(b);return Number.isFinite(v)?v:0};return{offsetX:m(y[0]),offsetY:m(y[1]),blur:m(y[2]),spread:y[3]?m(y[3]):0,color:g}},Iv=(e,a,r,l,s,u)=>{const d=Math.max(0,Math.min(u,Math.min(l,s)/2));e.beginPath(),e.moveTo(a+d,r),e.lineTo(a+l-d,r),e.quadraticCurveTo(a+l,r,a+l,r+d),e.lineTo(a+l,r+s-d),e.quadraticCurveTo(a+l,r+s,a+l-d,r+s),e.lineTo(a+d,r+s),e.quadraticCurveTo(a,r+s,a,r+s-d),e.lineTo(a,r+d),e.quadraticCurveTo(a,r,a+d,r),e.closePath()},jv=(e,a,r,l,s,u)=>{const d=e.getContext("2d");if(!d)return;const p=Math.max(1,Math.round(a.width*s)),g=Math.max(1,Math.round(a.height*s));e.width!==p&&(e.width=p),e.height!==g&&(e.height=g),e.style.width=`${a.width}px`,e.style.height=`${a.height}px`,d.setTransform(s,0,0,s,0,0),d.clearRect(0,0,a.width,a.height);const f=a.borderWidth/2,y=Math.max(0,a.width-a.borderWidth),m=Math.max(0,a.height-a.borderWidth);if(Iv(d,f,f,y,m,Math.max(0,a.borderRadius-f)),d.fillStyle=a.background,d.fill(),a.borderWidth>0&&(d.lineWidth=a.borderWidth,d.strokeStyle=a.borderColour,d.stroke()),u?.checkIndicator){const{type:x,colour:b,fontSize:v,translateY:S}=u.checkIndicator,C=Math.max(1,Math.min(a.width,a.height)),M=a.width/2,R=a.height/2;if(d.save(),d.lineCap="round",d.lineJoin="round",d.strokeStyle=b,d.fillStyle=b,x==="checkbox"){const T=Math.max(1,v??Math.max(12,C*.75));d.font=`700 ${T}px ${so}`,d.textAlign="center",d.textBaseline="middle";const _=S??0;d.fillText("",M,R+_)}else if(x==="radio"){const _=Math.max(1,(v??C)*.3);d.beginPath(),d.arc(M,R,_,0,Math.PI*2),d.fill()}d.restore()}if(!(!l&&!u?.dropdownCaret)){if(l){d.save(),d.shadowColor="rgba(0,0,0,0)",d.fillStyle=r.textColour,d.textBaseline="middle",d.textAlign=r.textAlign;const x=[];r.fontWeight&&r.fontWeight!=="normal"&&x.push(r.fontWeight),x.push(`${r.fontSize}px`),x.push(r.fontFamily||"sans-serif"),d.font=x.join(" ");const b=r.text.split(/\r?\n/),v=a.width-a.padding.left-a.padding.right,S=a.height-a.padding.top-a.padding.bottom,C=b.length*r.lineHeight;let M;if(r.isTextArea)M=a.padding.top+r.lineHeight/2;else{const T=Math.max(0,(S-C)/2);M=a.padding.top+T+r.lineHeight/2}let R;switch(r.textAlign){case"center":R=a.padding.left+v/2;break;case"right":R=a.width-a.padding.right;break;default:R=a.padding.left;break}for(const T of b)d.fillText(T,R,M),M+=r.lineHeight;d.restore()}if(u?.dropdownCaret){const{colour:x,size:b,offset:v}=u.dropdownCaret,S=Math.max(2,b),C=a.height/2,M=a.width-v,R=S/2;d.save(),d.beginPath(),d.moveTo(M-S,C-R),d.lineTo(M,C-R),d.lineTo(M-S/2,C+R),d.closePath(),d.fillStyle=x,d.fill(),d.restore()}}},JT=e=>{if(!e.enabled)return{top:0,right:0,bottom:0,left:0};const a=Math.max(0,e.blur);return{top:Math.max(0,a-e.offsetY),right:Math.max(0,a+e.offsetX),bottom:Math.max(0,a+e.offsetY),left:Math.max(0,a-e.offsetX)}},Bv=(e,a,r,l)=>{const s=e.getContext("2d");if(!s)return{top:0,right:0,bottom:0,left:0};const u=JT(r),d=a.width+u.left+u.right,p=a.height+u.top+u.bottom,g=Math.max(1,Math.round(d*l)),f=Math.max(1,Math.round(p*l));if(e.width!==g&&(e.width=g),e.height!==f&&(e.height=f),e.style.width=`${d}px`,e.style.height=`${p}px`,s.setTransform(l,0,0,l,0,0),s.clearRect(0,0,d,p),!r.enabled)return e.dataset.elementCanvasShadowMarginTop="0",e.dataset.elementCanvasShadowMarginRight="0",e.dataset.elementCanvasShadowMarginBottom="0",e.dataset.elementCanvasShadowMarginLeft="0",u;s.save();const y=Math.max(0,r.blur*l),m=r.offsetX*l,x=r.offsetY*l;s.shadowColor=r.colour,s.shadowBlur=y,s.shadowOffsetX=m,s.shadowOffsetY=x;const b=a.borderWidth/2,v=Math.max(0,a.width-a.borderWidth),S=Math.max(0,a.height-a.borderWidth);return Iv(s,u.left+b,u.top+b,v,S,Math.max(0,a.borderRadius-b)),s.fillStyle=a.background,s.fill(),s.restore(),e.dataset.elementCanvasShadowMarginTop=String(u.top),e.dataset.elementCanvasShadowMarginRight=String(u.right),e.dataset.elementCanvasShadowMarginBottom=String(u.bottom),e.dataset.elementCanvasShadowMarginLeft=String(u.left),u},dc={top:4,right:8,bottom:4,left:8},tk=18,Qy=8,ek=5,Xy="#3498db",nk=jt.memo(({element:e,isSelected:a,dragDelta:r,onDoubleClick:l,isInteractive:s,highlightAnchors:u=!1,layerZIndex:d,layerOrder:p,handleOverlay:g})=>{const f=VT(e.type),y=e.type==="textarea",m=e.type==="text",x=e.type==="image",b=e.type==="dropdown",v=jt.useRef(0),[S,C]=jt.useState(!1),M=jt.useRef(null),R=jt.useMemo(()=>{const pt=Math.max(1,Math.min(e.width,e.height)),Rt=Math.max(12,Math.min(pt*.75,28)),_t=e.type==="checkbox"?-Math.max(.5,Rt*.06):0;return{fontSize:Rt,translateY:_t}},[e.width,e.height,e.type]),{fontSize:T,translateY:_}=R,I=jt.useCallback(()=>{M.current!==null&&(window.clearTimeout(M.current),M.current=null),v.current+=1,a&&v.current===1&&C(!0)},[a]),z=jt.useCallback(()=>{v.current!==0&&(v.current-=1,v.current<=0&&(v.current=0,M.current!==null&&window.clearTimeout(M.current),M.current=window.setTimeout(()=>{M.current=null,C(!1)},80)))},[]),{computedStyle:O,shapeAppearance:B,visualBackground:V,borderColour:U,borderRadiusValue:L,borderWidthValue:Z,textColour:J,fontSize:X,fontWeight:G,fontFamily:D,textAlign:P,lineHeight:N,padding:Y,shadowMeta:E,contentDisplay:H,contentAlignItems:$,contentJustifyContent:q,contentWhiteSpace:nt,shapeShadowFilter:vt}=jt.useMemo(()=>{const pt=oo(e,"backgroundColour")||oo(e,"fillColour")||e.style?.backgroundColor||"#ffffff",Rt=oo(e,"borderColour",e.style?.borderColor||"#6c757d")||"#6c757d",_t=Math.max(0,La(e,"borderWidth",2)),St=oo(e,"textColour",e.style?.textColor)||"#2c3e50",Nt=La(e,"fontSize",e.style?.fontSize||14),Xt=(oo(e,"fontWeight",e.style?.fontWeight)||"normal")==="bold"?"bold":"normal",Et=oo(e,"fontFamily",e.style?.fontFamily||so)||so,Tt=e.type==="textarea"?"left":"center",Yt=oo(e,"textAlign",e.style?.textAlign)||Tt,Se=$h(e),co=ZT(e),uo=a?co:KT(e),Gn=Math.min(1,Math.max(0,La(e,"opacity",1))),je=e.type==="textarea"?"block":"flex",pn=e.type==="textarea"||m?"flex-start":"center",an=WT(Yt),At=e.type==="textarea"||m?"pre-wrap":"nowrap",It=a?r.x:0,he=a?r.y:0,se=f?"flex":je,oe=f?"center":pn,Re=an,$t=f?"pre-wrap":At,rn=m?"break-word":"normal",On=m?"anywhere":"normal",Ge=f||x?{top:0,right:0,bottom:0,left:0}:b?{...dc,right:dc.right+tk}:dc,vn=f||x?"0px":`${Ge.top}px ${Ge.right}px ${Ge.bottom}px ${Ge.left}px`,ln=pt,fo="transparent",Lo=f?0:La(e,"borderRadius",4),Ee={"--element-left":`${e.x}px`,"--element-top":`${e.y}px`,"--element-width":`${e.width}px`,"--element-height":`${e.height}px`,"--element-translate-x":`${It}px`,"--element-translate-y":`${he}px`,"--element-background":fo,"--element-border":"0px solid transparent","--element-display":se,"--element-align-items":oe,"--element-justify-content":Re,"--element-white-space":$t,"--element-word-break":rn,"--element-overflow-wrap":On,"--element-text-align":Yt,"--element-color":St,"--element-font-size":`${Nt}px`,"--element-font-weight":Xt,"--element-font-family":Et,"--element-checkmark-font-size":`${T}px`,"--element-checkmark-translate-y":`${_}px`,"--handle-hover-padding":a?`${ek}px`:"0px","--element-shadow":a?co:Se,"--element-hover-shadow":uo,"--element-opacity":Gn,"--element-padding":vn,"--element-border-radius":`${Lo}px`},xe=zl(Se),An=xe?xe.blur+Math.max(xe.spread,0):0,ho=Math.max(0,An),wn={baseShadow:Se,hasShadow:!!xe,shadowOffsetX:xe?.offsetX??0,shadowOffsetY:xe?.offsetY??0,shadowBlur:ho,shadowColour:xe?.color??"rgba(0,0,0,0)"},Ga=f?{fill:pt,stroke:_t>0?Rt:"transparent",strokeWidth:_t}:null,ha=Nt*(y?1.4:1.2),po=f&&wn.hasShadow?`drop-shadow(${wn.shadowOffsetX}px ${wn.shadowOffsetY}px ${Math.max(wn.shadowBlur,0)}px ${wn.shadowColour})`:null;return{computedStyle:Ee,shapeAppearance:Ga,visualBackground:ln,borderColour:Rt,borderRadiusValue:Lo,borderWidthValue:_t,textColour:St,fontSize:Nt,fontWeight:Xt,fontFamily:Et,textAlign:Yt,lineHeight:ha,padding:Ge,shadowMeta:wn,contentDisplay:se,contentAlignItems:oe,contentJustifyContent:Re,contentWhiteSpace:$t,shapeShadowFilter:po,dropdownCaretPadding:b?Qy:null}},[e,a,r,f,y,T,_,x,b]),ht=jt.useRef(null),xt=jt.useRef(null),Ct=jt.useRef(null),F=x?typeof e.imageSrc=="string"&&e.imageSrc.length>0?e.imageSrc:typeof e.properties?.imageSrc=="string"?e.properties?.imageSrc:void 0:void 0,et=jt.useMemo(()=>{if(!g||!a||!S)return null;const pt=!!e.properties?.constrainRatio,Rt=e.x+r.x,_t=e.y+r.y,St=e.width,Nt=e.height,Dt=10,Xt=Dt/2,Tt=[{key:"n",x:Rt+St/2,y:_t,cursor:"n-resize",visible:!0},{key:"s",x:Rt+St/2,y:_t+Nt,cursor:"s-resize",visible:!0},{key:"e",x:Rt+St,y:_t+Nt/2,cursor:"e-resize",visible:!0},{key:"w",x:Rt,y:_t+Nt/2,cursor:"w-resize",visible:!0},{key:"nw",x:Rt,y:_t,cursor:"nw-resize",visible:!pt},{key:"ne",x:Rt+St,y:_t,cursor:"ne-resize",visible:!pt},{key:"se",x:Rt+St,y:_t+Nt,cursor:"se-resize",visible:!pt},{key:"sw",x:Rt,y:_t+Nt,cursor:"sw-resize",visible:!pt}].filter(Yt=>Yt.visible).map(Yt=>w.jsx("div",{"data-resize-handle":Yt.key,"data-element-id":e.id,onMouseEnter:I,onMouseLeave:z,style:{position:"absolute",left:`${Yt.x-Xt}px`,top:`${Yt.y-Xt}px`,width:`${Dt}px`,height:`${Dt}px`,background:"#3498db",border:"2px solid white",borderRadius:"50%",boxShadow:"0 0 3px rgba(0, 0, 0, 0.3)",cursor:Yt.cursor,pointerEvents:"auto"}},`${e.id}-${Yt.key}`));return!S||Tt.length===0?null:Qa.createPortal(Tt,g)},[g,a,S,e.id,e.x,e.y,e.width,e.height,e.properties,r.x,r.y,I,z]),K=jt.useCallback(pt=>{l(pt,e)},[l,e]),rt=e.type==="checkbox"||e.type==="radio",bt=rt?Uh(e,"isChecked",!1):!1,mt=jt.useMemo(()=>{if(!(!rt||!bt))return{type:e.type,colour:Xy,fontSize:T,translateY:_}},[rt,bt,e.type,T,_]),wt=jt.useMemo(()=>{if(!b)return;const pt=Math.max(6,Math.min(X*.6,e.height*.6));return{colour:J,size:pt,offset:Math.max(Qy,dc.right)}},[b,J,X,e.height]);jt.useLayoutEffect(()=>{if(f)return;const pt=ht.current;if(!pt)return;const Rt=window.devicePixelRatio||1,_t={width:e.width,height:e.height,background:V,borderColour:U,borderWidth:Z,borderRadius:L,padding:Y},St={text:e.text??"",textAlign:P,textColour:J,fontSize:X,fontWeight:G,fontFamily:D,lineHeight:N,isTextArea:y},Nt=(()=>{if(!(!mt&&!wt))return{...mt?{checkIndicator:mt}:{},...wt?{dropdownCaret:wt}:{}}})();if(jv(pt,_t,St,!1,Rt,Nt),xt.current){const Xt={colour:E.shadowColour,offsetX:E.shadowOffsetX,offsetY:E.shadowOffsetY,blur:E.shadowBlur,enabled:E.hasShadow},Et=Bv(xt.current,_t,Xt,Rt);xt.current.style.left=`${-Et.left}px`,xt.current.style.top=`${-Et.top}px`;const Tt=xt.current.dataset;Tt.elementCanvasShadowMarginTop=String(Et.top),Tt.elementCanvasShadowMarginRight=String(Et.right),Tt.elementCanvasShadowMarginBottom=String(Et.bottom),Tt.elementCanvasShadowMarginLeft=String(Et.left)}const Dt=pt.dataset;if(Dt.elementCanvas="true",Dt.elementCanvasBackground=V,Dt.elementCanvasBorderColour=U,Dt.elementCanvasBorderWidth=String(Z),Dt.elementCanvasBorderRadius=String(L),Dt.elementCanvasPadding=JSON.stringify(Y),Dt.elementCanvasText=e.text??"",Dt.elementCanvasTextColour=J,Dt.elementCanvasFontSize=String(X),Dt.elementCanvasFontWeight=G,Dt.elementCanvasFontFamily=D,Dt.elementCanvasTextAlign=P,Dt.elementCanvasLineHeight=String(N),Dt.elementCanvasTextarea=y?"true":"false",mt?(Dt.elementCanvasCheckIndicator=mt.type,Dt.elementCanvasCheckColour=mt.colour):(Dt.elementCanvasCheckIndicator="none",Dt.elementCanvasCheckColour=Xy),Dt.elementCanvasCheckFontSize=String(T),Dt.elementCanvasCheckTranslateY=String(_),Dt.elementCanvasDropdownCaret=wt?"true":"false",wt?(Dt.elementCanvasDropdownCaretColour=wt.colour,Dt.elementCanvasDropdownCaretSize=String(wt.size),Dt.elementCanvasDropdownCaretOffset=String(wt.offset)):(delete Dt.elementCanvasDropdownCaretColour,delete Dt.elementCanvasDropdownCaretSize,delete Dt.elementCanvasDropdownCaretOffset),xt.current){const Xt=xt.current.dataset;Xt.elementShadowCanvas="true",Xt.elementCanvasShadowColour=E.shadowColour,Xt.elementCanvasShadowOffsetX=String(E.shadowOffsetX),Xt.elementCanvasShadowOffsetY=String(E.shadowOffsetY),Xt.elementCanvasShadowBlur=String(E.shadowBlur),Xt.elementCanvasBackground=V,Xt.elementCanvasBorderColour=U,Xt.elementCanvasBorderWidth=String(Z),Xt.elementCanvasBorderRadius=String(L),Xt.elementCanvasPadding=JSON.stringify(Y)}Ct.current&&(Ct.current.style.background="transparent",Ct.current.style.borderColor="rgba(0,0,0,0)")},[e.width,e.height,e.text,V,U,L,Z,J,X,G,D,P,N,Y,E,f,y,mt,T,_,wt]),jt.useLayoutEffect(()=>{if(!f)return;const pt=xt.current;if(!pt||!E.hasShadow||!B)return;const Rt=window.devicePixelRatio||1,_t=E.shadowBlur+Math.max(0,-E.shadowOffsetX),St=E.shadowBlur+Math.max(0,E.shadowOffsetX),Nt=E.shadowBlur+Math.max(0,-E.shadowOffsetY),Dt=E.shadowBlur+Math.max(0,E.shadowOffsetY),Xt=e.width+_t+St,Et=e.height+Nt+Dt;pt.width=Math.max(Xt*Rt,1),pt.height=Math.max(Et*Rt,1),pt.style.width=`${Xt}px`,pt.style.height=`${Et}px`,pt.style.left=`${-_t}px`,pt.style.top=`${-Nt}px`;const Tt=pt.getContext("2d");if(!Tt)return;Tt.setTransform(Rt,0,0,Rt,0,0),Tt.clearRect(0,0,Xt,Et),Tt.translate(_t,Nt),Ov(Tt,{type:e.type,width:e.width,height:e.height,strokeWidth:Z,fillColour:B.fill,strokeColour:B.stroke,shadowColour:E.shadowColour,shadowBlur:E.shadowBlur,shadowOffsetX:E.shadowOffsetX,shadowOffsetY:E.shadowOffsetY}),Tt.setTransform(1,0,0,1,0,0);const Yt=pt.dataset;Yt.elementShadowCanvas="true",Yt.elementCanvasShadowColour=E.shadowColour,Yt.elementCanvasShadowOffsetX=String(E.shadowOffsetX),Yt.elementCanvasShadowOffsetY=String(E.shadowOffsetY),Yt.elementCanvasShadowBlur=String(E.shadowBlur),Yt.elementCanvasShadowMarginTop=String(Nt),Yt.elementCanvasShadowMarginRight=String(St),Yt.elementCanvasShadowMarginBottom=String(Dt),Yt.elementCanvasShadowMarginLeft=String(_t)},[f,e.width,e.height,Z,E,B]);const st=jt.useCallback(()=>!B||!f?null:w.jsx("div",{"aria-hidden":"true",style:{position:"absolute",left:0,top:0,right:0,bottom:0,pointerEvents:"none",zIndex:0,filter:vt??void 0},children:w.jsx(FT,{type:e.type,fill:B.fill,stroke:B.stroke,strokeWidth:B.strokeWidth,width:e.width,height:e.height})}),[B,f,e,vt]);f&&(O["--element-shadow"]&&(O["--element-shadow"]=a?"0 0 0 1.5px rgba(52, 152, 219, 0.85)":"none"),O["--element-hover-shadow"]&&(O["--element-hover-shadow"]="0 0 0 2px #74b9ff")),jt.useEffect(()=>{a?v.current>0&&(M.current!==null&&(window.clearTimeout(M.current),M.current=null),C(!0)):(v.current=0,M.current!==null&&(window.clearTimeout(M.current),M.current=null),C(!1))},[a]),jt.useEffect(()=>()=>{M.current!==null&&window.clearTimeout(M.current)},[]);const ct=jt.useCallback(()=>{I()},[I]),kt=jt.useCallback(()=>{z()},[z]);return w.jsxs(w.Fragment,{children:[w.jsxs(UT,{ref:Ct,$styleVars:O,"data-element-id":e.id,"data-element-container":"true","data-element-type":e.type,"data-element-selected":a?"true":"false","data-element-left":e.x,"data-element-top":e.y,"data-element-width":e.width,"data-element-height":e.height,"data-element-z-index":d,"data-element-order":p,"data-element-base-shadow":E.baseShadow,"data-element-text-colour":J,"data-element-background":V,"data-element-border-colour":U,"data-element-stroke-width":f?B?.strokeWidth??0:void 0,"data-element-image-src":x&&F?F:void 0,onDoubleClick:K,onMouseEnter:ct,onMouseLeave:kt,$interactive:s,"data-shape":f?e.type:void 0,"data-anchor-eligible":"true","data-anchor-highlight-visible":u?"true":"false","data-interactive":s?"true":"false",children:[E.hasShadow&&!f&&w.jsx("canvas",{ref:xt,"data-element-shadow-canvas":"true",style:{position:"absolute",left:0,top:0,pointerEvents:"none",zIndex:0,display:"block"}}),!f&&w.jsx("canvas",{ref:ht,"data-element-canvas":"true",style:{position:"absolute",left:0,top:0,pointerEvents:"none",zIndex:1,display:"block"}}),f&&st(),x&&w.jsx("div",{"data-element-image-layer":"true",style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",zIndex:2},children:F?w.jsx("img",{src:F,alt:e.text??"Image",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",width:"100%",height:"100%",pointerEvents:"none"}}):w.jsx("span",{style:{fontSize:12,color:"#6c757d",pointerEvents:"none",display:"block",width:"100%",padding:"0 4px",textAlign:"center",whiteSpace:"normal",wordBreak:"break-word",lineHeight:1.3},children:"Double-click to add image"})}),rt&&bt&&w.jsx(QT,{"data-indicator":e.type,$type:e.type,children:e.type==="checkbox"?w.jsx("span",{className:"checkbox-mark",children:""}):w.jsx("span",{className:"radio-dot"})}),!x&&w.jsx("div",{"data-element-text-layer":"true",style:{position:"relative",zIndex:2,width:"100%",height:"100%",display:H,alignItems:$,justifyContent:q,pointerEvents:"none",whiteSpace:nt,textAlign:P,color:J},children:e.text})]}),et]})},(e,a)=>e.element===a.element&&e.isSelected===a.isSelected&&e.dragDelta===a.dragDelta&&e.isInteractive===a.isInteractive&&e.highlightAnchors===a.highlightAnchors&&e.layerZIndex===a.layerZIndex&&e.layerOrder===a.layerOrder&&e.handleOverlay===a.handleOverlay),ok=({element:e,editingText:a,onTextChange:r,onKeyDown:l,onBlur:s,onMouseDown:u,onClick:d})=>{const p=e.type==="textarea",g=La(e,"fontSize",e.style?.fontSize||14),y=(oo(e,"fontWeight",e.style?.fontWeight)||"normal")==="bold"?"bold":"normal",m=oo(e,"textColour",e.style?.textColor)||"#2c3e50",x=oo(e,"textAlign",e.style?.textAlign)||(p?"left":"center"),b=oo(e,"fontFamily",e.style?.fontFamily||so)||so,v=Math.min(1,Math.max(0,La(e,"opacity",1))),S={"--inline-left":`${e.x}px`,"--inline-top":`${e.y}px`,"--inline-width":`${e.width}px`,"--inline-height":`${e.height}px`,"--inline-font-size":`${g}px`,"--inline-font-weight":y,"--inline-color":m,"--inline-text-align":x,"--inline-font-family":b,"--inline-opacity":v};return p?w.jsx(GT,{style:S,value:a,onChange:C=>r(C.target.value),onKeyDown:l,onBlur:s,onMouseDown:u,onClick:d,autoFocus:!0,placeholder:"Enter to save, Shift+Enter for new line, Esc to cancel"}):w.jsx(XT,{style:S,value:a,onChange:C=>r(C.target.value),onKeyDown:l,onBlur:s,onMouseDown:u,onClick:d,autoFocus:!0,placeholder:"Enter to save, Esc to cancel"})},Gy=e=>Math.round(e),Qt=e=>({x:Gy(e.x),y:Gy(e.y)});function ak(e){const a=Math.min(e.startPoint.x,e.endPoint.x),r=Math.min(e.startPoint.y,e.endPoint.y),l=Math.max(e.startPoint.x,e.endPoint.x),s=Math.max(e.startPoint.y,e.endPoint.y);let u=0;const d=e.properties;if(d&&(d.startMark==="HollowArrow"||d.endMark==="HollowArrow")){const p=typeof d.lineWidth=="number"?d.lineWidth:typeof d.strokeWidth=="number"?d.strokeWidth:2,g=Math.max(p*4,12),f=Math.max(1,p);u=g+f/2}return{x:a-u,y:r-u,width:l-a+u*2,height:s-r+u*2}}function rk(e,a){const r=Math.min(a.startX,a.endX),l=Math.max(a.startX,a.endX),s=Math.min(a.startY,a.endY),u=Math.max(a.startY,a.endY),d=e.startPoint.x>=r&&e.startPoint.x<=l&&e.startPoint.y>=s&&e.startPoint.y<=u,p=e.endPoint.x>=r&&e.endPoint.x<=l&&e.endPoint.y>=s&&e.endPoint.y<=u;return d&&p}const zv=({x:e,y:a,size:r=16,colour:l="#2ecc71",endpoint:s})=>w.jsx("div",{"data-connector-magnet":"true","data-connector-magnet-endpoint":s??void 0,style:{position:"absolute",left:e,top:a,width:r,height:r,pointerEvents:"none",transform:"translate(-50%, -50%)",display:"flex",alignItems:"center",justifyContent:"center"},children:w.jsx("svg",{width:r,height:r,viewBox:"0 0 16 16","aria-hidden":"true",children:w.jsx("circle",{cx:8,cy:8,r:8,fill:l})})}),Lf=5,ik=({connector:e,isSelected:a,dragDelta:r,hasAnchorPreview:l=!1,anchorPreviewPoint:s,anchorPreviewEndpoint:u,layerZIndex:d,layerOrder:p,handleOverlay:g})=>{const[f,y]=jt.useState(!1),m=jt.useRef(0),[x,b]=jt.useState(!1),v=jt.useRef(null),S=jt.useCallback(()=>{v.current!==null&&(window.clearTimeout(v.current),v.current=null),m.current+=1,a&&m.current===1&&b(!0)},[a]),C=jt.useCallback(()=>{m.current!==0&&(m.current-=1,m.current<=0&&(m.current=0,v.current!==null&&window.clearTimeout(v.current),v.current=window.setTimeout(()=>{v.current=null,b(!1)},80)))},[]),M=jt.useCallback(()=>{y(!0),S()},[S]),R=jt.useCallback(()=>{y(!1),C()},[C]),T=e.properties,_=T?.lineColour||T?.strokeColour||"#6c757d",I=T?.startMark==="HollowArrow"?"HollowArrow":"None",z=T?.endMark==="HollowArrow"?"HollowArrow":"None",O=It=>{if(typeof It=="number"&&Number.isFinite(It))return It;if(typeof It=="string"){const he=Number(It);if(Number.isFinite(he))return he}return null},B=O(T?.lineWidth)??O(T?.strokeWidth)??2,V=Math.max(.5,B),U=V,L=O(T?.opacity),Z=L!==null?Math.min(1,Math.max(0,L)):1,J=T?.shadow===void 0?!!T?.dropShadow:!!T?.shadow,X=typeof T?.shadowColour=="string"?T.shadowColour:xn,G=typeof T?.shadowOpacity=="number"?T.shadowOpacity:Qn,D=Math.min(1,Math.max(0,G)),P=typeof T?.shadowBlurRadius=="number"?T.shadowBlurRadius:Tn,N=Math.max(0,P),Y=bv(X,D),E=ak(e),H=V/2,$=Lf*2,q=Math.max(U+$,U+Lf),nt=Math.max(U*4,12),vt=Math.max(U*2.5,10),ht=vt/2,xt=J?N+Math.max(Math.abs(aa),Math.abs(ra)):0,Ct=Math.max(I==="HollowArrow"?Math.max(nt,ht):0,z==="HollowArrow"?Math.max(nt,ht):0),F=Math.max(V,q/2,xt,Ct,Lf),et=E.x-F,K=E.y-F,rt=Math.max(E.width,0)+F*2,bt=Math.max(E.height,0)+F*2,mt=e.endPoint.x-e.startPoint.x,wt=e.endPoint.y-e.startPoint.y,st=Math.sqrt(mt*mt+wt*wt)||0,ct=Math.atan2(wt,mt),kt=e.startPoint.x-et,pt=e.startPoint.y-K-H,Rt=e.startPoint.x-et,_t=e.startPoint.y-K,St=e.endPoint.x-et,Nt=e.endPoint.y-K,Dt=U,Xt=_,Et=r?.x??0,Tt=r?.y??0,Yt="grab",co=Math.max(3/2,0),uo=l||a||f,Gn=l?"rgba(46, 204, 113, 0.7)":a?"rgba(52, 152, 219, 0.65)":"rgba(116, 185, 255, 0.5)",je=l&&s?{x:s.x-et,y:s.y-K}:null,pn=jt.useRef(null),an=jt.useRef(null),At=jt.useMemo(()=>{if(!g||!a||!x)return null;const It=r?.x??0,he=r?.y??0,se=10,oe=se/2,$t=[{key:"start",x:e.startPoint.x+It,y:e.startPoint.y+he},{key:"end",x:e.endPoint.x+It,y:e.endPoint.y+he}].map(rn=>w.jsx("div",{"data-connector-handle":rn.key,"data-connector-id":e.id,onMouseEnter:S,onMouseLeave:C,style:{position:"absolute",left:`${rn.x-oe}px`,top:`${rn.y-oe}px`,width:`${se}px`,height:`${se}px`,background:"#3498db",border:"2px solid white",borderRadius:"50%",boxShadow:"0 0 3px rgba(0, 0, 0, 0.3)",cursor:"move",pointerEvents:"auto"}},`${e.id}-${rn.key}`));return Qa.createPortal($t,g)},[g,a,x,r?.x,r?.y,e.endPoint.x,e.endPoint.y,e.id,e.startPoint.x,e.startPoint.y,S,C]);return jt.useEffect(()=>{a?m.current>0&&(v.current!==null&&(window.clearTimeout(v.current),v.current=null),b(!0)):(m.current=0,v.current!==null&&(window.clearTimeout(v.current),v.current=null),b(!1))},[a]),jt.useEffect(()=>()=>{v.current!==null&&window.clearTimeout(v.current)},[]),jt.useLayoutEffect(()=>{[{ref:pn,enableShadow:J},{ref:an,enableShadow:!1}].forEach(({ref:he,enableShadow:se})=>{const oe=he.current;if(!oe)return;const Re=window.devicePixelRatio||1;oe.width=Math.max(rt*Re,1),oe.height=Math.max(bt*Re,1),oe.style.width=`${rt}px`,oe.style.height=`${bt}px`;const $t=oe.getContext("2d");if(!$t)return;const rn=Re;if($t.setTransform(rn,0,0,rn,0,0),$t.clearRect(0,0,rt,bt),Z<=0||Dt<=0||st<=0)return;const On=st>0?mt/st:0,Ge=st>0?wt/st:0,vn=-Ge,ln=On,fo=I==="HollowArrow"?Math.min(U,st/2):0,Lo=z==="HollowArrow"?Math.min(U,st/2):0,mn=U/2,Ee=.5,xe=I==="HollowArrow"?0:Math.min(mn+Ee,Math.max(0,st/2-fo)),An=z==="HollowArrow"?0:Math.min(mn+Ee,Math.max(0,st/2-Lo)),ho=fo+xe,wn=Lo+An;if(st<=ho+wn)return;const Ga=Rt+On*ho,ha=_t+Ge*ho,po=St-On*wn,Fa=Nt-Ge*wn;if($t.globalAlpha=Z,$t.lineCap="round",$t.lineJoin="round",$t.lineWidth=Dt,$t.strokeStyle=Xt,se&&J?($t.shadowColor=Y,$t.shadowBlur=N,$t.shadowOffsetX=aa,$t.shadowOffsetY=ra):($t.shadowColor="rgba(0,0,0,0)",$t.shadowBlur=0,$t.shadowOffsetX=0,$t.shadowOffsetY=0),$t.beginPath(),$t.moveTo(Ga,ha),$t.lineTo(po,Fa),I==="HollowArrow"){const sn=Rt,Ue=_t,Dn=sn+On*nt,be=Ue+Ge*nt,pe=Dn+vn*ht,So=be+ln*ht,Ho=Dn-vn*ht,Cn=be-ln*ht;$t.moveTo(sn,Ue),$t.lineTo(pe,So),$t.moveTo(sn,Ue),$t.lineTo(Ho,Cn)}if(z==="HollowArrow"){const sn=St,Ue=Nt,Dn=sn-On*nt,be=Ue-Ge*nt,pe=Dn+vn*ht,So=be+ln*ht,Ho=Dn-vn*ht,Cn=be-ln*ht;$t.moveTo(sn,Ue),$t.lineTo(pe,So),$t.moveTo(sn,Ue),$t.lineTo(Ho,Cn)}$t.stroke()})},[rt,bt,mt,wt,z,St,Nt,st,Z,Xt,Dt,I,Rt,_t,J,U,N,Y,aa,ra,nt,vt,ht]),w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:{position:"absolute",left:`${et}px`,top:`${K}px`,width:`${rt}px`,height:`${bt}px`,pointerEvents:"none",overflow:"visible",transform:`translate(${Et}px, ${Tt}px)`},"data-connector-id":e.id,"data-connector-container":"true","data-connector-selected":a?"true":"false","data-connector-left":et,"data-connector-top":K,"data-connector-width":rt,"data-connector-height":bt,"data-connector-start-x":Rt,"data-connector-start-y":_t,"data-connector-end-x":St,"data-connector-end-y":Nt,"data-connector-opacity":Z,"data-connector-base-shadow":J?`${aa}px ${ra}px ${N}px ${Y}`:"none","data-connector-z-index":d,"data-connector-order":p,children:[w.jsx("div",{"data-connector-id":e.id,"data-connector-hit-area":"true",style:{position:"absolute",left:`${kt}px`,top:`${e.startPoint.y-K-q/2}px`,width:`${Math.max(st,0)}px`,height:`${q}px`,borderRadius:`${q/2}px`,transformOrigin:"0 50%",transform:`rotate(${ct}rad)`,pointerEvents:"auto",cursor:Yt,backgroundColor:"transparent"},onMouseEnter:M,onMouseLeave:R}),uo&&w.jsx("div",{"data-connector-id":e.id,"data-connector-halo":"true",style:{position:"absolute",left:`${kt}px`,top:`${pt}px`,width:`${Math.max(st,0)}px`,height:`${Dt}px`,borderRadius:`${Dt/2}px`,transformOrigin:"0 50%",transform:`rotate(${ct}rad)`,pointerEvents:"none",boxShadow:`0 0 0 ${co}px ${Gn}`,opacity:Z,transition:"box-shadow 0.15s ease"}}),w.jsx("div",{"data-connector-id":e.id,"data-connector-line":"true","data-connector-base-line-width":U,"data-connector-base-colour":_,style:{position:"absolute",left:`${kt}px`,top:`${pt}px`,width:`${Math.max(st,0)}px`,height:`${Dt}px`,borderRadius:`${Dt/2}px`,transformOrigin:"0 50%",transform:`rotate(${ct}rad)`,pointerEvents:"auto",cursor:Yt,backgroundColor:"transparent"},onMouseEnter:M,onMouseLeave:R}),J&&w.jsx("canvas",{ref:pn,"data-connector-id":e.id,"data-connector-shadow":"true","data-connector-base-line-width":U,"data-connector-base-colour":_,"data-connector-base-shadow":`${aa}px ${ra}px ${N}px ${Y}`,"data-connector-shadow-offset-x":aa,"data-connector-shadow-offset-y":ra,"data-connector-shadow-blur":N,"data-connector-shadow-colour":Y,style:{position:"absolute",left:0,top:0,width:`${rt}px`,height:`${bt}px`,pointerEvents:"none"}}),w.jsx("canvas",{ref:an,"data-connector-id":e.id,"data-connector-visual":"true","data-connector-base-line-width":U,"data-connector-base-colour":_,"data-connector-base-shadow":J?`${aa}px ${ra}px ${N}px ${Y}`:"none","data-connector-shadow-offset-x":aa,"data-connector-shadow-offset-y":ra,"data-connector-shadow-blur":N,"data-connector-shadow-colour":Y,style:{position:"absolute",left:0,top:0,width:`${rt}px`,height:`${bt}px`,pointerEvents:"none"}}),I==="HollowArrow"&&w.jsx("div",{"data-connector-arrow":"true","data-connector-arrow-endpoint":"start",style:{display:"none"}}),z==="HollowArrow"&&w.jsx("div",{"data-connector-arrow":"true","data-connector-arrow-endpoint":"end",style:{display:"none"}}),je&&w.jsx(zv,{x:je.x,y:je.y,endpoint:u??void 0})]}),At]})},ii={x:0,y:0},lk=({zoom:e,panX:a,panY:r,getSelectedElementIds:l,getElementInitialPosition:s,onElementsMoveTo:u,onTransactionStart:d,onTransactionEnd:p})=>{const[g,f]=A.useState(!1),y=A.useRef(!1),[m,x]=A.useState(null),b=A.useRef(null),v=A.useRef(null),S=A.useRef(null),C=A.useRef(null),[M,R]=A.useState(ii),T=A.useRef(e);A.useEffect(()=>{T.current=e},[e]);const _=A.useRef({x:a,y:r});A.useEffect(()=>{_.current={x:a,y:r}},[a,r]),A.useEffect(()=>{b.current=m},[m]);const I=A.useCallback(()=>{C.current!==null&&(cancelAnimationFrame(C.current),C.current=null)},[]),z=A.useCallback(G=>{R(G)},[]),O=A.useRef(null),B=A.useRef(null),V=A.useRef(new Map),U=A.useCallback((G,D)=>{const P=O.current,N=T.current;if(!P||N===0)return null;const Y=(G-P.left-Ne)/N-_.current.x,E=(D-P.top-Ne)/N-_.current.y;return{x:Y,y:E}},[]),L=A.useCallback(()=>{if(C.current=null,!y.current)return;const G=b.current,D=S.current,P=B.current;if(!G||!D||!P)return;const N=U(D.x,D.y);if(!N)return;const Y=N.x-P.x,E=N.y-P.y,H=[];V.current.forEach(($,q)=>{H.push({id:q,x:Math.round($.x+Y),y:Math.round($.y+E)})}),H.length>0&&(u(H),z(ii))},[U,u,z]),Z=A.useCallback((G,D,P,N)=>{O.current=P;const Y=U(D.x,D.y);if(!Y)return;B.current=Y;const E=N&&N.length>0?N:l(),H=E.length>0?E:[G],$=new Map;if(H.forEach(q=>{const nt=s(q);nt&&$.set(q,nt)}),!$.size){const q=s(G);q&&$.set(G,q)}V.current=$,f(!0),y.current=!0,x(G),b.current=G,v.current={x:D.x,y:D.y},S.current={x:D.x,y:D.y},z(ii),I(),d?.("Move selection")},[I,U,s,l,d,z]),J=A.useCallback(G=>{S.current={x:G.x,y:G.y},C.current||(C.current=requestAnimationFrame(L))},[L]),X=A.useCallback(()=>{y.current&&(I(),L(),p?.(),f(!1),y.current=!1,x(null),b.current=null,v.current=null,S.current=null,B.current=null,V.current=new Map,z(ii))},[I,p,L,z]);return A.useEffect(()=>()=>{I()},[I]),{isDragging:g,dragElementId:m,dragVisualDelta:M,startDragging:Z,updateDragPosition:J,endDragging:X,cancelDragAnimationFrame:I}},fc={x:0,y:0},sk=({zoom:e,panX:a,panY:r,getSelectedConnectorIds:l,getConnectorInitialEndpoints:s,onConnectorsMoveTo:u,onTransactionStart:d,onTransactionEnd:p})=>{const[g,f]=A.useState(!1),y=A.useRef(!1),[m,x]=A.useState(null),b=A.useRef(null),v=A.useRef(null),S=A.useRef(null),C=A.useRef(null),[M,R]=A.useState(fc),T=A.useRef(e);A.useEffect(()=>{T.current=e},[e]);const _=A.useRef({x:a,y:r});A.useEffect(()=>{_.current={x:a,y:r}},[a,r]),A.useEffect(()=>{b.current=m},[m]);const I=A.useRef(null),z=A.useRef(null),O=A.useRef(new Map),B=A.useCallback(()=>{C.current!==null&&(cancelAnimationFrame(C.current),C.current=null)},[]),V=A.useCallback(G=>{R(D=>D.x===G.x&&D.y===G.y?D:G)},[]),U=A.useCallback((G,D)=>{const P=I.current,N=T.current;if(!P||N===0)return null;const Y=(G-P.left-Ne)/N-_.current.x,E=(D-P.top-Ne)/N-_.current.y;return{x:Y,y:E}},[]),L=A.useCallback(()=>{if(C.current=null,!y.current)return;const G=z.current,D=S.current;if(!G||!D)return;const P=U(D.x,D.y);if(!P)return;const N=P.x-G.x,Y=P.y-G.y,E=[];O.current.forEach((H,$)=>{E.push({id:$,startPoint:{x:Math.round(H.startPoint.x+N),y:Math.round(H.startPoint.y+Y)},endPoint:{x:Math.round(H.endPoint.x+N),y:Math.round(H.endPoint.y+Y)}})}),E.length>0&&(u(E),V(fc))},[U,u,V]),Z=A.useCallback((G,D,P,N)=>{I.current=P;const Y=U(D.x,D.y);if(!Y)return;z.current=Y;const E=N&&N.length>0?N:l(),H=E.length>0?E:[G],$=new Map;if(H.forEach(q=>{const nt=s(q);nt&&$.set(q,{startPoint:{x:nt.startPoint.x,y:nt.startPoint.y},endPoint:{x:nt.endPoint.x,y:nt.endPoint.y}})}),!$.size){const q=s(G);if(!q)return;$.set(G,{startPoint:{x:q.startPoint.x,y:q.startPoint.y},endPoint:{x:q.endPoint.x,y:q.endPoint.y}})}O.current=$,f(!0),y.current=!0,x(G),b.current=G,v.current={x:D.x,y:D.y},S.current={x:D.x,y:D.y},V(fc),B(),d?.("Move selection")},[B,U,s,l,d,V]),J=A.useCallback(G=>{S.current={x:G.x,y:G.y},C.current||(C.current=requestAnimationFrame(L))},[L]),X=A.useCallback(()=>{y.current&&(B(),L(),p?.(),f(!1),y.current=!1,x(null),b.current=null,v.current=null,S.current=null,z.current=null,I.current=null,O.current=new Map,V(fc))},[B,p,L,V]);return A.useEffect(()=>()=>{B()},[B]),{isDraggingConnector:g,dragConnectorId:m,dragConnectorVisualDelta:M,startDraggingConnector:Z,updateConnectorDragPosition:J,endDraggingConnector:X,cancelConnectorDragAnimationFrame:B}},ck=({zoom:e,panX:a,panY:r,onPanChange:l,onTransactionStart:s,onTransactionEnd:u})=>{const[d,p]=A.useState(!1),g=A.useRef(null),f=A.useRef(null),y=A.useRef(null),m=A.useCallback(()=>{g.current!==null&&(cancelAnimationFrame(g.current),g.current=null)},[]),x=A.useCallback(()=>{if(g.current=null,!d)return;const C=f.current,M=y.current;if(!C||!M)return;const R=(C.x-M.x)/e,T=(C.y-M.y)/e;l(M.panX+R,M.panY+T)},[d,e,l]),b=A.useCallback(C=>{p(!0),y.current={x:C.x,y:C.y,panX:a,panY:r},f.current=C,s?.("Pan canvas")},[a,r,s]),v=A.useCallback(C=>{f.current=C,g.current||(g.current=requestAnimationFrame(x))},[x]),S=A.useCallback(()=>{if(d){if(m(),f.current&&y.current){const C=(f.current.x-y.current.x)/e,M=(f.current.y-y.current.y)/e;l(y.current.panX+C,y.current.panY+M)}u?.(),p(!1),f.current=null,y.current=null}},[d,e,l,u,m]);return{isPanning:d,startPanning:b,updatePanPosition:v,endPanning:S,cancelPanAnimationFrame:m}},Fy=(e,a)=>Math.hypot(e.clientX-a.clientX,e.clientY-a.clientY),uk=({zoom:e,panX:a,panY:r,onZoomChange:l,onZoomAtPoint:s,canvasRef:u,rulerSize:d})=>{const p=A.useRef(e),g=A.useRef(1),f=A.useRef(!1),y=A.useRef(null),m=A.useRef(null),x=A.useRef(null),b=A.useRef(null),v=A.useRef(0),S=A.useRef(null);A.useEffect(()=>{p.current=e,f.current||(g.current=e)},[e]);const C=A.useCallback(_=>{if(_.touches.length===2){_.preventDefault();const I=Fy(_.touches[0],_.touches[1]),z=(_.touches[0].clientX+_.touches[1].clientX)/2,O=(_.touches[0].clientY+_.touches[1].clientY)/2;y.current={initialDistance:I,initialZoom:p.current||1,initialMidpoint:{x:z,y:O}}}},[]),M=A.useCallback(_=>{const I=y.current;if(!I)return;if(_.touches.length<2){y.current=null,x.current=null,b.current=null,v.current=0,S.current=null,m.current!==null&&(cancelAnimationFrame(m.current),m.current=null),f.current=!1;return}_.preventDefault();const z=Fy(_.touches[0],_.touches[1]);if(z<=0)return;const O=z/I.initialDistance,B=I.initialZoom*O,V=B-(p.current||1),U=Date.now(),L=S.current?(U-S.current)/1e3:0;S.current=U;let Z=0;L>0&&(Z=V/L);const J=.4;v.current=J*Z+(1-J)*v.current;const X=1+Math.abs(v.current)*.5,P=(Math.min(Math.max(B,.1),3)-(p.current||1))*X,N=Math.min(Math.max((p.current||1)+P,.1),3),Y=(_.touches[0].clientX+_.touches[1].clientX)/2,E=(_.touches[0].clientY+_.touches[1].clientY)/2;if(u.current){const H=u.current.querySelector('[data-canvas-content="true"]');if(H)if(f.current=!0,s&&u.current){const $=u.current.getBoundingClientRect(),q=p.current||1,nt=Y-$.left-d,vt=E-$.top-d,ht=nt*(1/N-1/q)+a,xt=vt*(1/N-1/q)+r;H.style.transform=`scale(${N}) translate(${ht}px, ${xt}px)`,H.style.willChange="transform",m.current!==null&&cancelAnimationFrame(m.current),m.current=requestAnimationFrame(()=>{s(N,Y,E,$)})}else H.style.transform=`scale(${N}) translate(${a}px, ${r}px)`,H.style.willChange="transform",m.current!==null&&cancelAnimationFrame(m.current),m.current=requestAnimationFrame(()=>{l(N)})}},[l,s,a,r,u,d]),R=A.useCallback(_=>{if(_.touches.length<2&&(y.current=null,f.current=!1,x.current=null,b.current=null,v.current=0,S.current=null,m.current!==null&&(cancelAnimationFrame(m.current),m.current=null),u.current)){const I=u.current.querySelector('[data-canvas-content="true"]');I&&(I.style.willChange="auto")}},[u]),T=A.useCallback(_=>{if(!_.ctrlKey)return;_.preventDefault();const I=p.current||1,z=Math.exp(-_.deltaY/400),O=Math.min(Math.max(I*z,.1),3);if(s&&u.current){const B=u.current.getBoundingClientRect();s(O,_.clientX,_.clientY,B)}else l(O)},[l,s,u]);return{handleTouchStart:C,handleTouchMove:M,handleTouchEnd:R,handleWheelNative:T,isZoomingRef:f}},dk=({isSelecting:e,selectionArea:a,onSelectionStart:r,onSelectionChange:l,onSelectionComplete:s})=>({startSelection:(g,f)=>{r(!0),l({startX:g,startY:f,endX:g,endY:f})},updateSelection:(g,f)=>{e&&a&&l({...a,endX:g,endY:f})},completeSelection:()=>{e&&a&&s(a)}}),fk=({canvasMode:e,onElementTextEdit:a,onElementPropertyChange:r,onElementImageChange:l})=>{const[s,u]=A.useState(null),[d,p]=A.useState(""),g=A.useCallback((b,v)=>{if(e!=="drag")return;if(v.type==="checkbox"||v.type==="radio"){const C=Uh(v,"isChecked",!1);r?.(v.id,"isChecked",!C),b.preventDefault(),b.stopPropagation();return}if(v.type==="image"){const C=document.createElement("input");C.type="file",C.accept="image/*",C.onchange=()=>{const M=C.files?.[0];if(!M)return;const R=new FileReader;R.onload=()=>{const T=R.result;typeof T=="string"&&l?.(v.id,T)},R.readAsDataURL(M)},C.click(),b.preventDefault(),b.stopPropagation();return}["text","button","input","textarea","dropdown"].includes(v.type)&&(u(v.id),p(v.text||""),b.preventDefault(),b.stopPropagation())},[e,l,r]),f=A.useCallback((b,v)=>{if(b.key==="Enter"){if((s?v.find(C=>C.id===s):null)?.type==="textarea"&&b.shiftKey)return;s&&a(s,d),u(null),p(""),b.preventDefault()}else b.key==="Escape"&&(u(null),p(""),b.preventDefault())},[s,d,a]),y=A.useCallback(()=>{setTimeout(()=>{s&&(a(s,d),u(null),p(""))},0)},[s,d,a]),m=A.useCallback(b=>{b.stopPropagation()},[]),x=A.useCallback(b=>{b.stopPropagation()},[]);return A.useEffect(()=>{if(s){const b=S=>{const C=S.target;!C.closest("input")&&!C.closest("textarea")&&(a(s,d),u(null),p(""))},v=setTimeout(()=>{document.addEventListener("mousedown",b)},100);return()=>{clearTimeout(v),document.removeEventListener("mousedown",b)}}},[s,d,a]),{editingElementId:s,editingText:d,setEditingText:p,handleElementDoubleClick:g,handleTextInputKeyDown:f,handleTextInputBlur:y,handleInputMouseDown:m,handleInputClick:x}},hk=({canvasMode:e,isDragging:a,onTemporarySelectModeChange:r})=>{const[l,s]=A.useState(!1);return A.useEffect(()=>{const u=g=>{g.key==="Shift"&&e==="drag"&&!a&&(s(!0),r?.(!0))},d=g=>{g.key==="Shift"&&(s(!1),r?.(!1))},p=()=>{s(!1),r?.(!1)};return document.addEventListener("keydown",u),document.addEventListener("keyup",d),window.addEventListener("blur",p),()=>{document.removeEventListener("keydown",u),document.removeEventListener("keyup",d),window.removeEventListener("blur",p)}},[e,a,r]),A.useEffect(()=>{s(!1),r?.(!1)},[e,r]),{temporarySelectMode:l}},pk=({canvasMode:e,onConnectorCreate:a,onFinishDrawing:r})=>{const[l,s]=A.useState({isDrawing:!1,startPoint:null,currentPoint:null}),u=A.useCallback(f=>{s({isDrawing:!0,startPoint:f,currentPoint:f})},[]),d=A.useCallback(f=>{s(y=>!y.isDrawing||!y.startPoint?y:{...y,currentPoint:f})},[]),p=A.useCallback((f,y)=>{l.startPoint&&a(l.startPoint,f,y),s({isDrawing:!1,startPoint:null,currentPoint:null}),r?.()},[l.startPoint,a,r]),g=A.useCallback(()=>{s({isDrawing:!1,startPoint:null,currentPoint:null})},[]);return A.useEffect(()=>{e!=="draw-connector"&&s({isDrawing:!1,startPoint:null,currentPoint:null})},[e]),A.useEffect(()=>{if(e!=="draw-connector")return;const f=y=>{y.key==="Escape"&&g()};return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[e,g]),{isDrawing:l.isDrawing,startPoint:l.startPoint,currentPoint:l.currentPoint,startDrawing:u,updateDrawing:d,finishDrawing:p,cancelDrawing:g}},lu=10,mk=.2,jo=e=>Math.min(1,Math.max(0,e)),Nv=(e,a)=>{const r=e.x,l=e.y,s=e.width,u=e.height;switch(a.edge){case"left":return Qt({x:r,y:l+jo(a.ratio)*u});case"right":return Qt({x:r+s,y:l+jo(a.ratio)*u});case"top":return Qt({x:r+jo(a.ratio)*s,y:l});case"bottom":default:return Qt({x:r+jo(a.ratio)*s,y:l+u})}},Pv=(e,a)=>{const r=e.x+e.width/2,l=e.y+e.height/2,s=e.width/2,u=e.height/2;return Qt({x:r+s*Math.cos(a),y:l+u*Math.sin(a)})},qy=(e,a)=>{const{anchor:r}=a;if(r.kind==="rect")return Nv(e,r);if(r.kind==="capsule")return gk(e,r);if(r.kind==="polygon"){const l=Qh(e);if(!l||l.length<2)return{x:e.x,y:e.y};const s=r.segmentIndex%l.length,u=l[s],d=l[(s+1)%l.length],p=Lc(r.t,0,1);return Qt({x:u.x+(d.x-u.x)*p,y:u.y+(d.y-u.y)*p})}return Pv(e,r.angle)},ke=(e,a)=>{if(e.length===0)return e;const r=new Map(a.map(u=>[u.id,u]));let l=!1;const s=e.map(u=>{let d=Qt(u.startPoint),p=Qt(u.endPoint),g=u.startAttachment??null,f=u.endAttachment??null;if(g){const y=r.get(g.elementId);if(y){const m=qy(y,g);(m.x!==d.x||m.y!==d.y)&&(d=Qt(m),l=!0)}else g=null,l=!0}if(f){const y=r.get(f.elementId);if(y){const m=qy(y,f);(m.x!==p.x||m.y!==p.y)&&(p=Qt(m),l=!0)}else f=null,l=!0}return d===u.startPoint&&p===u.endPoint&&g===u.startAttachment&&f===u.endAttachment?u:{...u,startPoint:d,endPoint:p,startAttachment:g,endAttachment:f}});return l?s:e},su=(e,a)=>Math.hypot(e.x-a.x,e.y-a.y),Lc=(e,a,r)=>Math.max(a,Math.min(r,e)),Vy=15/100,ao=1e-6,Lv=(e,a)=>{const r=Math.max(e.width,0),l=Math.max(e.height,0);if(a==="cylinder"){const y=Math.max(r/2,ao),m=Math.min(l/2,Math.max(l*Vy,ao)),x=Math.max(m,ao),b=e.x+y,v=e.y+m,S=e.y+l-m;return{shapeType:a,orientation:"vertical",centerX:b,rx:y,ry:x,topCenterY:v,bottomCenterY:S,leftX:e.x,rightX:e.x+r,bodyTop:v,bodyBottom:S}}const s=Math.max(l/2,ao),u=Math.min(r/2,Math.max(r*Vy,ao)),d=Math.max(u,ao),p=e.y+s,g=e.x+u,f=e.x+r-u;return{shapeType:a,orientation:"horizontal",centerY:p,rx:d,ry:s,leftCenterX:g,rightCenterX:f,topY:e.y,bottomY:e.y+l,bodyLeft:Math.min(g,f),bodyRight:Math.max(g,f)}},hc=(e,a,r,l)=>{const s=e.x-a.x,u=e.y-a.y;if(Math.abs(s)<ao&&Math.abs(u)<ao)return{x:a.x,y:a.y-l};const d=Math.sqrt(s*s/(r*r)+u*u/(l*l));if(!Number.isFinite(d)||d===0)return{x:a.x,y:a.y};const p=1/d;return Qt({x:a.x+s*p,y:a.y+u*p})},pc=(e,a,r,l)=>{const s=(e.x-a.x)/r,u=(e.y-a.y)/l;return Math.atan2(u,s)},gk=(e,a)=>{const r=Lv(e,a.shapeType);if(r.orientation==="vertical"){const d=Math.max(r.bodyBottom-r.bodyTop,ao),p=jo(a.ratio??.5),g=r.bodyTop+d*p;switch(a.segment){case"left":return Qt({x:r.leftX,y:g});case"right":return Qt({x:r.rightX,y:g});case"bottom":{const f=a.angle??Math.PI/2,y={x:r.centerX,y:r.bottomCenterY};return Qt({x:y.x+r.rx*Math.cos(f),y:y.y+r.ry*Math.sin(f)})}case"top":default:{const f=a.angle??-Math.PI/2,y={x:r.centerX,y:r.topCenterY};return Qt({x:y.x+r.rx*Math.cos(f),y:y.y+r.ry*Math.sin(f)})}}}const l=Math.max(r.bodyRight-r.bodyLeft,ao),s=jo(a.ratio??.5),u=r.bodyLeft+l*s;switch(a.segment){case"top":return Qt({x:u,y:r.topY});case"bottom":return Qt({x:u,y:r.bottomY});case"right":{const d=a.angle??0,p={x:r.rightCenterX,y:r.centerY};return Qt({x:p.x+r.rx*Math.cos(d),y:p.y+r.ry*Math.sin(d)})}case"left":default:{const d=a.angle??Math.PI,p={x:r.leftCenterX,y:r.centerY};return Qt({x:p.x+r.rx*Math.cos(d),y:p.y+r.ry*Math.sin(d)})}}},Qh=e=>{const{type:a,x:r,y:l,width:s,height:u}=e,d=r,p=l,g=r+s,f=l+u,y=x=>d+s*x,m=x=>p+u*x;switch(a){case"rectangle":return[Qt({x:d,y:p}),Qt({x:g,y:p}),Qt({x:g,y:f}),Qt({x:d,y:f})];case"triangle":return[Qt({x:y(.5),y:p}),Qt({x:g,y:f}),Qt({x:d,y:f})];case"rhombus":return[Qt({x:y(.5),y:p}),Qt({x:g,y:m(.5)}),Qt({x:y(.5),y:f}),Qt({x:d,y:m(.5)})];case"parallelogram":return[Qt({x:y(.25),y:p}),Qt({x:g,y:p}),Qt({x:y(.75),y:f}),Qt({x:d,y:f})];case"hexagon":return[Qt({x:y(.3),y:p}),Qt({x:y(.7),y:p}),Qt({x:g,y:m(.5)}),Qt({x:y(.7),y:f}),Qt({x:y(.3),y:f}),Qt({x:d,y:m(.5)})];default:return null}},yk=(e,a,r)=>{const l=r.x-a.x,s=r.y-a.y,u=l*l+s*s;if(u===0)return{closestPoint:a,t:0};const d=e.x-a.x,p=e.y-a.y,g=Lc((d*l+p*s)/u,0,1);return{closestPoint:{x:a.x+l*g,y:a.y+s*g},t:g}},xk=(e,a,r)=>{const l=e.x,s=e.y,u=e.width,d=e.height;if(u<=0||d<=0)return null;const p=l+u,g=s+d,f=a.x>=l-r&&a.x<=p+r,y=a.y>=s-r&&a.y<=g+r;if(!f||!y)return null;const x=[{edge:"left",value:Math.abs(a.x-l),ratio:jo((a.y-s)/d)},{edge:"right",value:Math.abs(a.x-p),ratio:jo((a.y-s)/d)},{edge:"top",value:Math.abs(a.y-s),ratio:jo((a.x-l)/u)},{edge:"bottom",value:Math.abs(a.y-g),ratio:jo((a.x-l)/u)}].reduce((v,S)=>S.value<v.value?S:v);if(x.value>r)return null;const b=Nv(e,{edge:x.edge,ratio:x.ratio});return{attachment:{elementId:e.id,anchor:{kind:"rect",edge:x.edge,ratio:x.ratio}},position:b,distance:su(b,a)}},bk=(e,a,r)=>{const l=e.x+e.width/2,s=e.y+e.height/2,u=e.width/2,d=e.height/2;if(u===0||d===0)return null;const p=a.x-l,g=a.y-s,f=p*p/(u*u)+g*g/(d*d);if(Math.abs(f-1)>mk&&f<1)return null;const y=Math.atan2(g/d,p/u),m=Pv(e,y),x=su(m,a);return x>r?null:{attachment:{elementId:e.id,anchor:{kind:"oval",angle:y}},position:m,distance:x}},vk=(e,a,r)=>{const l=Qh(e);if(!l||l.length<2)return null;let s=Number.POSITIVE_INFINITY,u=null,d=-1,p=0;for(let f=0;f<l.length;f+=1){const y=l[f],m=l[(f+1)%l.length],{closestPoint:x,t:b}=yk(a,y,m),v=su(x,a);v<s&&(s=v,u=x,d=f,p=b)}if(!u||s>r)return null;const g={kind:"polygon",shapeType:e.type,segmentIndex:d,t:p};return{attachment:{elementId:e.id,anchor:g},position:u,distance:s}},Wy=(e,a,r,l)=>{if(e.width<=0||e.height<=0)return null;const s=Lv(e,l),u=[],d=(g,f)=>{const y=su(a,f);y<=r&&u.push({attachment:{elementId:e.id,anchor:g},position:f,distance:y})};if(s.orientation==="vertical"){const g=Math.max(s.bodyBottom-s.bodyTop,0);if(g>=0){const S=Math.max(g,ao),C=Lc(a.y,s.bodyTop,s.bodyBottom),M=(C-s.bodyTop)/S,R={x:s.leftX,y:C};d({kind:"capsule",shapeType:l,segment:"left",ratio:M},R);const T={x:s.rightX,y:C};d({kind:"capsule",shapeType:l,segment:"right",ratio:M},T)}const f={x:s.centerX,y:s.topCenterY},y=hc(a,f,s.rx,s.ry),m=pc(y,f,s.rx,s.ry);d({kind:"capsule",shapeType:l,segment:"top",angle:m},y);const x={x:s.centerX,y:s.bottomCenterY},b=hc(a,x,s.rx,s.ry),v=pc(b,x,s.rx,s.ry);d({kind:"capsule",shapeType:l,segment:"bottom",angle:v},b)}else{const g=Math.max(s.bodyRight-s.bodyLeft,0);if(g>=0){const S=Math.max(g,ao),C=Lc(a.x,s.bodyLeft,s.bodyRight),M=(C-s.bodyLeft)/S,R={x:C,y:s.topY};d({kind:"capsule",shapeType:l,segment:"top",ratio:M},R);const T={x:C,y:s.bottomY};d({kind:"capsule",shapeType:l,segment:"bottom",ratio:M},T)}const f={x:s.leftCenterX,y:s.centerY},y=hc(a,f,s.rx,s.ry),m=pc(y,f,s.rx,s.ry);d({kind:"capsule",shapeType:l,segment:"left",angle:m},y);const x={x:s.rightCenterX,y:s.centerY},b=hc(a,x,s.rx,s.ry),v=pc(b,x,s.rx,s.ry);d({kind:"capsule",shapeType:l,segment:"right",angle:v},b)}if(u.length===0)return null;let p=u[0];for(let g=1;g<u.length;g+=1)u[g].distance<p.distance&&(p=u[g]);return p},cu=(e,a,r=lu)=>{let l=null;for(let s=e.length-1;s>=0;s-=1){const u=e[s];let d=null;u.type==="cylinder"?d=Wy(u,a,r,"cylinder"):u.type==="pipe"?d=Wy(u,a,r,"pipe"):u.type==="oval"?d=bk(u,a,r):Qh(u)?d=vk(u,a,r):d=xk(u,a,r),d&&(!l||d.distance<l.distance)&&(l={...d,elementId:u.id})}return l};if(typeof window<"u"){const e=window.__rewiredTestHooks=window.__rewiredTestHooks??{};e.probeAnchor||(e.probeAnchor=(a,r,l)=>cu([a],r,l??lu))}const Ak=({elements:e,connectors:a,zoom:r,panX:l,panY:s,onPanChange:u,onElementSelect:d,onConnectorSelect:p,onElementsMoveTo:g,onConnectorsMoveTo:f,onElementTextEdit:y,onElementPropertyChange:m,onElementImageChange:x,onZoomChange:b,onZoomAtPoint:v,selectedElements:S,selectedConnectors:C,canvasMode:M,selectionArea:R,isSelecting:T,onSelectionStart:_,onSelectionChange:I,onSelectionComplete:z,onResizeStart:O,onConnectorResizeStart:B,isResizing:V,isConnectorResizing:U,resizingConnectorId:L,resizeHasAnchorPreview:Z,resizeEndpoint:J,resizeAnchorPreview:X,onTransactionStart:G,onTransactionEnd:D,onTemporarySelectModeChange:P,onConnectorCreate:N,onModeChange:Y,onSelectionClear:E})=>{const H=A.useRef(null),$=A.useRef(null),[q,nt]=A.useState(null),vt=jt.useMemo(()=>new Set(S),[S]),ht=jt.useMemo(()=>new Set(C),[C]),xt=jt.useMemo(()=>{const gt=new Map;return e.forEach(Mt=>{gt.set(Mt.id,{x:Mt.x,y:Mt.y})}),gt},[e]),Ct=A.useCallback(()=>S.slice(),[S]),F=A.useCallback(gt=>xt.get(gt)??null,[xt]),et=A.useCallback((gt,Mt)=>{const Bt=e.find(Gt=>Gt.id===gt);if(!Bt)return S.slice();const ae=Bt.groupId?e.filter(Gt=>Gt.groupId===Bt.groupId).map(Gt=>Gt.id):[gt];return Mt?ae.some(re=>vt.has(re))?S.filter(re=>!ae.includes(re)):Array.from(new Set([...S,...ae])):ae},[e,S,vt]),K=jt.useMemo(()=>{const gt=new Map;return a.forEach(Mt=>{gt.set(Mt.id,{startPoint:{x:Mt.startPoint.x,y:Mt.startPoint.y},endPoint:{x:Mt.endPoint.x,y:Mt.endPoint.y}})}),gt},[a]),rt=A.useCallback(()=>C.slice(),[C]),bt=A.useCallback(gt=>K.get(gt)??null,[K]),mt=A.useCallback((gt,Mt)=>{const Bt=a.find(Gt=>Gt.id===gt);if(!Bt)return C.slice();const ae=Bt.groupId?a.filter(Gt=>Gt.groupId===Bt.groupId).map(Gt=>Gt.id):[gt];return Mt?ae.some(re=>ht.has(re))?C.filter(re=>!ae.includes(re)):Array.from(new Set([...C,...ae])):ae},[a,C,ht]),wt=jt.useMemo(()=>new Set(e.map(gt=>gt.id)),[e]),st=X.elementId,[ct,kt]=A.useState(null),[pt,Rt]=A.useState({point:null,endpoint:null}),_t=A.useCallback((gt,Mt)=>!gt&&!Mt?!0:!gt||!Mt?!1:gt.x===Mt.x&&gt.y===Mt.y,[]),St=A.useCallback(gt=>{kt(Mt=>Mt===gt?Mt:gt)},[]),Nt=jt.useMemo(()=>[...e.map((Mt,Bt)=>({kind:"element",zIndex:Mt.zIndex??Bt,orderIndex:Bt,element:Mt})),...a.map((Mt,Bt)=>({kind:"connector",zIndex:Mt.zIndex??e.length+Bt,orderIndex:e.length+Bt,connector:Mt}))].sort((Mt,Bt)=>Mt.zIndex===Bt.zIndex?Mt.orderIndex-Bt.orderIndex:Mt.zIndex-Bt.zIndex),[e,a]),Dt=A.useRef(null),Xt=A.useRef(null),{isDragging:Et,dragElementId:Tt,dragVisualDelta:Yt,startDragging:Se,updateDragPosition:co,endDragging:uo,cancelDragAnimationFrame:Gn}=lk({zoom:r,panX:l,panY:s,getSelectedElementIds:Ct,getElementInitialPosition:F,onElementsMoveTo:g,onTransactionStart:G,onTransactionEnd:D}),{isDraggingConnector:je,dragConnectorId:pn,dragConnectorVisualDelta:an,startDraggingConnector:At,updateConnectorDragPosition:It,endDraggingConnector:he,cancelConnectorDragAnimationFrame:se}=sk({zoom:r,panX:l,panY:s,getSelectedConnectorIds:rt,getConnectorInitialEndpoints:bt,onConnectorsMoveTo:f,onTransactionStart:G,onTransactionEnd:D}),{isPanning:oe,startPanning:Re,updatePanPosition:$t,endPanning:rn,cancelPanAnimationFrame:On}=ck({zoom:r,panX:l,panY:s,onPanChange:u,onTransactionStart:G,onTransactionEnd:D}),{handleTouchStart:Ge,handleTouchMove:vn,handleTouchEnd:ln,handleWheelNative:fo,isZoomingRef:Lo}=uk({zoom:r,panX:l,panY:s,onZoomChange:b,onZoomAtPoint:v,canvasRef:H,rulerSize:Ne}),{startSelection:mn,updateSelection:Ee,completeSelection:xe}=dk({isSelecting:T,selectionArea:R,onSelectionStart:_,onSelectionChange:I,onSelectionComplete:z}),{editingElementId:An,editingText:ho,setEditingText:wn,handleElementDoubleClick:Ga,handleTextInputKeyDown:ha,handleTextInputBlur:po,handleInputMouseDown:Fa,handleInputClick:sn}=fk({canvasMode:M,onElementTextEdit:y,onElementPropertyChange:m,onElementImageChange:x}),{temporarySelectMode:Ue}=hk({canvasMode:M,isDragging:Et,onTemporarySelectModeChange:P}),Dn=A.useCallback((gt,Mt,Bt)=>{N?.(gt,Mt,Bt)},[N]),{isDrawing:be,startPoint:pe,currentPoint:So,startDrawing:Ho,updateDrawing:Cn,finishDrawing:Yo}=pk({canvasMode:M,onConnectorCreate:Dn,onFinishDrawing:()=>Y?.("drag")}),Eo=A.useCallback(gt=>{const Mt=cu(e,gt);if(Mt){const ae={point:Mt.position,attachment:Mt.attachment,elementId:Mt.elementId};return Xt.current=ae,ae}const Bt=Xt.current;if(Bt){const ae=gt.x-Bt.point.x,Gt=gt.y-Bt.point.y;if(Math.hypot(ae,Gt)<=lu*.5)return Bt}return Xt.current=null,{point:gt,attachment:null,elementId:null}},[e]);A.useEffect(()=>{be||(Dt.current=null,Xt.current=null)},[be]);const Gl=A.useCallback(gt=>{if(gt.button!==0)return;const Mt=gt.target,Bt=Mt.nodeType===Node.ELEMENT_NODE?Mt:Mt.parentElement??null,ae=Bt?.getAttribute?.("data-connector-handle")??null,Gt=Bt?.closest?.('[data-connector-container="true"]')??null,re=Bt?.getAttribute?.("data-connector-id")||Bt?.parentElement?.getAttribute?.("data-connector-id")||Gt?.getAttribute("data-connector-id"),ee=(Bt?.closest?.('[data-element-container="true"]')??null)?.getAttribute("data-element-id"),Uo=Bt?.getAttribute?.("data-resize-handle")??null,go=H.current?.getBoundingClientRect();if(go){if(ae&&re){gt.stopPropagation(),B(re,ae,{x:gt.clientX,y:gt.clientY});return}if(Uo&&Bt){gt.stopPropagation();const cn=Bt.closest('[data-element-container="true"]')?.getAttribute("data-element-id")||Bt.getAttribute("data-element-id");if(cn){const _e=e.find($e=>$e.id===cn);if(!_e)return;const gn={x:_e.x,y:_e.y,width:_e.width,height:_e.height};O(cn,Uo,{x:gt.clientX,y:gt.clientY},gn);return}}if(re&&M==="drag"&&!V&&!U){gt.stopPropagation();const Pe=gt.ctrlKey||gt.metaKey,cn=ht.has(re);let _e;(Pe||!cn)&&(_e=mt(re,Pe),p(re,Pe));const gn=a.find(wi=>wi.id===re);(gn?!gn.startAttachment&&!gn.endAttachment:!1)&&!ae&&At(re,{x:gt.clientX,y:gt.clientY},go,_e);return}else if(ee&&M==="drag"&&!V){const Pe=gt.ctrlKey||gt.metaKey,cn=vt.has(ee);let _e;(Pe||!cn)&&(_e=et(ee,Pe),d(ee,Pe)),Se(ee,{x:gt.clientX,y:gt.clientY},go,_e)}else if(!ee&&!re&&M==="drag"&&!Ue&&!Et&&!je)Re({x:gt.clientX,y:gt.clientY}),!gt.ctrlKey&&!gt.metaKey&&E?.();else if(M==="select"||Ue){const Pe=(gt.clientX-go.left-Ne)/r-l,cn=(gt.clientY-go.top-Ne)/r-s;mn(Pe,cn)}else if(M==="draw-connector"){const Pe=(gt.clientX-go.left-Ne)/r-l,cn=(gt.clientY-go.top-Ne)/r-s,gn=Eo({x:Pe,y:cn});if(!be)Dt.current=gn.attachment,Ho(gn.point);else{const $e={start:Dt.current,end:gn.attachment};Yo(gn.point,$e),Dt.current=null}}gt.preventDefault()}},[d,p,S,C,vt,ht,M,r,l,s,Ue,V,U,O,B,Se,At,Re,mn,be,Ho,Yo,Eo,et,mt]),gr=A.useCallback(gt=>{const Mt=H.current?.getBoundingClientRect(),Bt={x:gt.clientX,y:gt.clientY};let ae=!1;if(!be&&M==="draw-connector"&&Mt){const Gt=(Bt.x-Mt.left-Ne)/r-l,re=(Bt.y-Mt.top-Ne)/r-s,we=Eo({x:Gt,y:re});St(we.elementId??null),we.elementId?(Rt(ee=>ee.endpoint==="start"&&_t(ee.point,we.point)?ee:{point:we.point,endpoint:"start"}),ae=!0):pt.endpoint==="start"&&(pt.point||pt.endpoint)&&Rt({point:null,endpoint:null})}if(be&&Mt){const Gt=(Bt.x-Mt.left-Ne)/r-l,re=(Bt.y-Mt.top-Ne)/r-s,we=Eo({x:Gt,y:re});Cn(we.point),St(we.elementId??null),we.elementId?(Rt(ee=>ee.endpoint==="end"&&_t(ee.point,we.point)?ee:{point:we.point,endpoint:"end"}),ae=!0):pt.endpoint==="end"&&(pt.point||pt.endpoint)&&Rt({point:null,endpoint:null})}if(U&&Mt){const Gt=(Bt.x-Mt.left-Ne)/r-l,re=(Bt.y-Mt.top-Ne)/r-s,we=Eo({x:Gt,y:re});St(we.elementId??null),we.elementId&&(ae=!0)}if(ae||(St(null),Rt(Gt=>Gt.point||Gt.endpoint?{point:null,endpoint:null}:Gt)),Et&&Tt)co(Bt);else if(je&&pn)It(Bt);else if(oe)$t(Bt);else if(T&&Mt&&R){const Gt=(Bt.x-Mt.left-Ne)/r-l,re=(Bt.y-Mt.top-Ne)/r-s;Ee(Gt,re)}},[M,Eo,pt.endpoint,pt.point,U,be,Et,Tt,je,pn,oe,T,_t,R,It,Cn,co,St,$t,Ee,r,l,s]),mo=A.useCallback(()=>{T&&R&&xe(),Et?uo():je?he():oe?(rn(),Gn(),se()):(Gn(),se(),On())},[T,R,xe,Et,je,oe,uo,he,rn,Gn,se,On]),yr=A.useCallback(gt=>{const Mt=H.current?.getBoundingClientRect();if(!Mt)return;if(!be&&M==="draw-connector"){const Gt=(gt.clientX-Mt.left-Ne)/r-l,re=(gt.clientY-Mt.top-Ne)/r-s,we=Eo({x:Gt,y:re});St(we.elementId??null),we.elementId?Rt(ee=>ee.endpoint==="start"&&_t(ee.point,we.point)?ee:{point:we.point,endpoint:"start"}):pt.endpoint==="start"&&(pt.point||pt.endpoint)&&Rt({point:null,endpoint:null})}const Bt=gt.clientX-Mt.left,ae=gt.clientY-Mt.top;nt(Gt=>Gt&&Gt.x===Bt&&Gt.y===ae?Gt:{x:Bt,y:ae})},[M,Eo,pt.endpoint,pt.point,be,l,s,_t,St,r]),xr=A.useCallback(()=>{nt(gt=>gt===null?gt:null),Xt.current=null,St(null),Rt({point:null,endpoint:null})},[St]);A.useEffect(()=>{M!=="draw-connector"&&Rt(gt=>gt.point||gt.endpoint?{point:null,endpoint:null}:gt)},[M]),A.useEffect(()=>{!be&&!U&&M!=="draw-connector"&&St(null)},[U,be,M,St]),A.useEffect(()=>{U&&Z&&st&&St(st)},[U,Z,st,St]),A.useEffect(()=>{const gt=H.current;if(!gt)return;const Mt={passive:!1};return gt.addEventListener("wheel",fo,Mt),gt.addEventListener("touchstart",Ge,Mt),gt.addEventListener("touchmove",vn,Mt),gt.addEventListener("touchend",ln,Mt),gt.addEventListener("touchcancel",ln,Mt),()=>{gt.removeEventListener("wheel",fo),gt.removeEventListener("touchstart",Ge),gt.removeEventListener("touchmove",vn),gt.removeEventListener("touchend",ln),gt.removeEventListener("touchcancel",ln)}},[fo,Ge,vn,ln]),A.useEffect(()=>{const gt=Mt=>{Mt.preventDefault()};return document.addEventListener("gesturestart",gt,{passive:!1}),document.addEventListener("gesturechange",gt,{passive:!1}),document.addEventListener("gestureend",gt,{passive:!1}),()=>{document.removeEventListener("gesturestart",gt),document.removeEventListener("gesturechange",gt),document.removeEventListener("gestureend",gt)}},[]),A.useLayoutEffect(()=>{if(oe||Et||je||T||be||U)return document.addEventListener("mousemove",gr),document.addEventListener("mouseup",mo),document.addEventListener("pointerup",mo),document.addEventListener("pointercancel",mo),window.addEventListener("blur",mo),()=>{document.removeEventListener("mousemove",gr),document.removeEventListener("mouseup",mo),document.removeEventListener("pointerup",mo),document.removeEventListener("pointercancel",mo),window.removeEventListener("blur",mo)}},[oe,Et,je,T,be,U,gr,mo]);const Fn=Ue?"select":M;return w.jsxs(HT,{ref:H,$canvasMode:Fn,$isPanning:oe,className:oe?"panning":"",onMouseDown:Gl,onMouseMove:yr,onMouseLeave:xr,"data-canvas":"true","data-canvas-wrapper":"true",children:[w.jsxs(YT,{$zoom:r,$panX:l,$panY:s,$isPinchZooming:Lo.current,"data-canvas-content":"true",children:[Nt.map(gt=>{if(gt.kind==="element"){const _e=gt.element,gn=vt.has(_e.id),$e=Et&&gn?Yt:ii;return w.jsx(nk,{element:_e,isSelected:gn,dragDelta:$e,onDoubleClick:Ga,isInteractive:Fn==="drag",highlightAnchors:ct===_e.id,layerZIndex:gt.zIndex,layerOrder:gt.orderIndex,handleOverlay:$.current},`element:${_e.id}`)}const Mt=gt.connector,Bt=ht.has(Mt.id),ae=je&&Mt.id===pn,Gt=ae?an:ii,re=Mt.startAttachment?.elementId??null,we=Mt.endAttachment?.elementId??null,ee=U&&L===Mt.id,Uo=ee&&Z,go=!ae&&!ee&&!!(re&&wt.has(re)||we&&wt.has(we)),Pe=Uo?X.point:null,cn=Uo?J:null;return w.jsx(ik,{connector:Mt,isSelected:Bt,dragDelta:Gt,isAnchored:go,hasAnchorPreview:Uo,anchorPreviewPoint:Pe,anchorPreviewEndpoint:cn,layerZIndex:gt.zIndex,layerOrder:gt.orderIndex,handleOverlay:$.current},`connector:${Mt.id}`)}),pt.point&&pt.endpoint&&w.jsx(zv,{x:pt.point.x,y:pt.point.y,endpoint:pt.endpoint}),R&&w.jsx($T,{$left:Math.min(R.startX,R.endX),$top:Math.min(R.startY,R.endY),$width:Math.abs(R.endX-R.startX),$height:Math.abs(R.endY-R.startY),"data-selection-rectangle":"true"}),be&&pe&&So&&w.jsxs("svg",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",overflow:"visible",pointerEvents:"none"},children:[w.jsx("line",{x1:pe.x,y1:pe.y,x2:So.x,y2:So.y,stroke:"#3498db",strokeWidth:2,strokeDasharray:"5,5",vectorEffect:"non-scaling-stroke",strokeLinecap:"round"}),w.jsx("circle",{cx:pe.x,cy:pe.y,r:4,fill:"#3498db",stroke:"white",strokeWidth:2})]}),An&&e.find(gt=>gt.id===An)&&w.jsx(ok,{element:e.find(gt=>gt.id===An),editingText:ho,onTextChange:wn,onKeyDown:gt=>ha(gt,e),onBlur:po,onMouseDown:Fa,onClick:sn}),w.jsx("div",{ref:$,"data-handle-overlay":"true",style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:1e4}})]}),w.jsx(LT,{}),w.jsx(Yy,{orientation:"horizontal",zoom:r,pan:l,mousePos:q?.x??null}),w.jsx(Yy,{orientation:"vertical",zoom:r,pan:s,mousePos:q?.y??null})]})},wk=36,Ck=88,Sk=24,Zy=140,Ek=2,Mk=12;function Ky(e){const a=wk+Ck+Sk,r=Math.max(0,e-a),l=Math.floor((r+Zy*.2)/Zy);return Math.max(Ek,Math.min(l,Mk))}function Rk(e,a,r){if(e.length<=r)return e;const l=e.findIndex(p=>p.id===a);if(l===-1)return e.slice(0,r);const s=new Set;s.add(e[l]);let u=l-1,d=l+1;for(;s.size<r&&(u>=0||d<e.length);)d<e.length&&s.size<r&&s.add(e[d++]),u>=0&&s.size<r&&s.add(e[u--]);return e.filter(p=>s.has(p))}function Tk(e,a,r){const[l,s]=A.useState(()=>Ky(r));A.useEffect(()=>{const g=setTimeout(()=>{s(Ky(r))},250);return()=>clearTimeout(g)},[r]);const u=A.useMemo(()=>Rk(e,a,l),[e,a,l]),d=A.useMemo(()=>e.filter(g=>!u.some(f=>f.id===g.id)),[e,u]),p=d.length>0;return{visibleTabs:u,overflowTabs:d,hasOverflow:p,tabCapacity:l}}function kk(e){const[a,r]=A.useState(0);return A.useEffect(()=>{const l=e.current;if(!l)return;const s=new ResizeObserver(u=>{for(const d of u)r(d.contentRect.width)});return s.observe(l),r(l.getBoundingClientRect().width),()=>s.disconnect()},[e]),a}function _k(e,a){const[r,l]=A.useState(null),[s,u]=A.useState(null),d=A.useRef(null),p=A.useRef(null),g=A.useRef(e);A.useEffect(()=>{g.current=e},[e]);const f=A.useCallback(()=>{d.current=null,p.current=null,l(null),u(null)},[]),y=A.useCallback(S=>{p.current=S,u(S)},[]),m=A.useCallback((S,C)=>{S.dataTransfer.effectAllowed="move",S.dataTransfer.setData("text/plain",C),d.current=C,l(C)},[]),x=A.useCallback(S=>{S.preventDefault(),f()},[f]),b=A.useCallback((S,C,M)=>{if(!d.current)return;S.preventDefault(),S.dataTransfer.dropEffect="move";const R=S.currentTarget.getBoundingClientRect(),T=R.left+R.width/2,_=S.clientX<=T?"before":"after";y({zone:M,targetId:C,position:_})},[y]),v=A.useCallback(S=>{S.preventDefault(),S.stopPropagation();const C=d.current,M=p.current,R=g.current;if(!C||!M){f();return}const T=R.map(O=>O.id),_=T.indexOf(C),I=T.indexOf(M.targetId);if(_===-1||I===-1){f();return}let z=M.position==="before"?I:I+1;_<z&&(z-=1),z=Math.max(0,Math.min(T.length-1,z)),z!==_&&a(C,z),f()},[a,f]);return{draggingPageId:r,dropState:s,handleDragStart:m,handleDragEnd:x,handleDragOver:b,handleDrop:v}}const Ok=dt.div.attrs(e=>({style:{left:`${e.$libraryWidth}px`}}))`
  position: fixed;
  bottom: 0;
  right: 0;
  height: 34px;
  background: white;
  border-top: 1px solid #e1e5e9;
  z-index: 150;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 0 10px;
  box-shadow: 0 -1px 3px rgba(0, 0, 0, 0.08);
  transition: left 0.15s ease-out;
`,Dk=dt.div`
  display: flex;
  align-items: center;
  gap: 2px;
  flex: 1;
  overflow-x: auto;
  scrollbar-width: none;
  -ms-overflow-style: none;

  &::-webkit-scrollbar {
    display: none;
  }
`,Hv=dt.div`
  position: relative;
  display: flex;
  align-items: center;
  gap: 0;
  padding: 0 8px 0 12px;
  min-height: 28px;
  border-radius: 6px;
  cursor: pointer;
  user-select: none;
  font-size: 12px;
  color: #2c3e50;
  background: transparent;
  border: 1px solid transparent;
  transition: background 0.2s, border-color 0.2s;
  flex-shrink: 0;

  &[data-active='true'] {
    font-weight: 600;
  }

  &[data-dragging='true'] {
    opacity: 0.5;
  }

  &:hover:not([data-dragging='true']) {
    background: #f5f5f5;
  }

  &[data-drop-target='true'] {
    background: rgba(33, 150, 243, 0.12);
    border-color: rgba(33, 150, 243, 0.4);
  }
`,Ik=dt.button`
  width: 18px;
  height: 18px;
  border: none;
  background: transparent;
  cursor: pointer;
  font-size: 11px;
  color: #666;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  flex-shrink: 0;
  opacity: 0;
  pointer-events: none;
  margin-left: 8px;

  ${Hv}:hover & {
    opacity: 1;
    pointer-events: auto;
  }

  &:hover {
    background: rgba(0, 0, 0, 0.1);
    color: #333;
  }
`,jk=dt.input`
  border: 1px solid #2196f3;
  background: white;
  padding: 4px 8px;
  height: 28px;
  font-size: 12px;
  border-radius: 3px;
  outline: none;
  min-width: 90px;
  max-width: 200px;
`,Bk=dt.span`
  flex: 1 1 auto;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,zk=dt.button`
  padding: 4px 10px;
  border: none;
  background: transparent;
  border-radius: 6px;
  cursor: pointer;
  font-size: 12px;
  color: #2c3e50;
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
  user-select: none;

  &:hover {
    background: rgba(0, 0, 0, 0.08);
  }

  &:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.4);
  }

  &[data-open='true'] {
    background: rgba(0, 0, 0, 0.1);
  }
`,Nk=dt.button`
  min-width: 30px;
  height: 28px;
  padding: 0 10px;
  border: none;
  background: rgba(0, 0, 0, 0.04);
  border-radius: 6px;
  cursor: pointer;
  font-size: 16px;
  color: #2c3e50;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  user-select: none;

  &:hover:not(:disabled) {
    background: rgba(0, 0, 0, 0.08);
  }

  &:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.4);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Pk=dt.div`
  position: absolute;
  bottom: 100%;
  right: 10px;
  margin-bottom: 4px;
  background: white;
  border: 1px solid #e1e5e9;
  border-radius: 6px;
  box-shadow: 0px -4px 12px rgba(0, 0, 0, 0.15);
  min-width: 200px;
  max-height: 300px;
  z-index: 1200;
  animation: slideUp 0.15s ease-out;

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
`,Lk=dt.div`
  padding: 8px 12px;
  cursor: pointer;
  font-size: 12px;
  color: #2c3e50;
  user-select: none;
  display: flex;
  align-items: center;
  justify-content: space-between;

  &[data-active='true'] {
    font-weight: 600;
  }

  &[data-dragging='true'] {
    opacity: 0.5;
  }

  &:hover:not([data-dragging='true']) {
    background: #f5f5f5;
  }

  &[data-drop-target='true'] {
    background: rgba(33, 150, 243, 0.12);
  }
`,dh=dt.div`
  pointer-events: none;
  background: #1d6ff2;
  box-shadow: 0 0 6px rgba(29, 111, 242, 0.4);
  border-radius: 999px;

  ${e=>e.$variant==="strip"?`
      width: 6px;
      height: 22px;
      margin: 0 4px;
    `:`
      width: calc(100% - 24px);
      height: 4px;
      margin: 4px 12px;
    `}
`,Hk=dt.div`
  position: absolute;
  background: white;
  border: 1px solid #e1e5e9;
  border-radius: 6px;
  box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);
  min-width: 150px;
  z-index: 1300;
  padding: 4px;
`,Hf=dt.button`
  width: 100%;
  padding: 8px 12px;
  border: none;
  background: none;
  text-align: left;
  cursor: pointer;
  font-size: 12px;
  color: #2c3e50;
  border-radius: 4px;
  user-select: none;

  &:hover {
    background: #f5f5f5;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;let Yf=null;const Yk=(e,a)=>{if(typeof document>"u")return e.length*7;Yf||(Yf=document.createElement("canvas"));const r=Yf.getContext("2d");return r?(r.font=`${a} 12px -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif`,r.measureText(e).width):e.length*7};function Uk({page:e,isActive:a,isDragging:r,isDropTarget:l,canDelete:s,onSelect:u,onClose:d,onRename:p,onContextMenu:g,onDragStart:f,onDragEnd:y,onDragOver:m,onDrop:x}){const[b,v]=A.useState(!1),[S,C]=A.useState(e.name),M=A.useRef(null),R=A.useRef(!1);A.useEffect(()=>{b&&M.current&&(M.current.focus(),M.current.select())},[b]);const T=L=>{L.stopPropagation(),C(e.name),v(!0)},_=()=>{if(R.current)return;R.current=!0,p(e.id,S)?v(!1):C(e.name),setTimeout(()=>{R.current=!1},100)},I=()=>{setTimeout(()=>{!R.current&&b&&_()},50)},z=L=>{L.key==="Enter"?(L.preventDefault(),M.current?.blur(),_()):L.key==="Escape"&&(L.preventDefault(),C(e.name),v(!1))},O=L=>{if(L.button===1){L.preventDefault(),d(e.id);return}b||u(e.id)},B=L=>{L.stopPropagation(),s&&d(e.id)},V=L=>{L.preventDefault(),L.stopPropagation(),g(L,e.id)},U=A.useMemo(()=>{const L=a?"600":"500",Z=Yk(e.name,L),J=12,X=8,G=s?8:0,D=s?18:0,P=8,N=90,Y=260,E=Z+J+X+G+D+P;return Math.min(Y,Math.max(N,Math.ceil(E)))},[e.name,a,s]);return b?w.jsx(jk,{ref:M,value:S,onChange:L=>C(L.target.value),onBlur:I,onKeyDown:z,style:{width:`${U}px`}}):w.jsxs(Hv,{"data-active":a,"data-dragging":r,"data-drop-target":l,"data-page-tab-id":e.id,draggable:!0,onMouseDown:O,onDoubleClick:T,onContextMenu:V,onDragStart:L=>f(L,e.id),onDragEnd:y,onDragOver:L=>m(L,e.id),onDrop:x,style:{width:`${U}px`},children:[w.jsx(Bk,{title:e.name,children:e.name}),s&&w.jsx(Ik,{onClick:B,children:""})]})}const $k=A.memo(Uk,(e,a)=>e.page.id===a.page.id&&e.page.name===a.page.name&&e.isActive===a.isActive&&e.isDragging===a.isDragging&&e.isDropTarget===a.isDropTarget&&e.canDelete===a.canDelete);function Qk({pages:e,activePageId:a,draggingPageId:r,dropState:l,onSelect:s,onContextMenu:u,onDragStart:d,onDragEnd:p,onDragOver:g,onDrop:f,onClose:y}){const m=A.useRef(null);A.useEffect(()=>{const v=C=>{m.current&&!m.current.contains(C.target)&&y()},S=setTimeout(()=>{document.addEventListener("mousedown",v)},100);return()=>{clearTimeout(S),document.removeEventListener("mousedown",v)}},[y]);const x=v=>{s(v),y()},b=(v,S)=>{v.preventDefault(),v.stopPropagation(),u(v,S)};return w.jsx(Pk,{ref:m,onDrop:f,onDragOver:v=>{r&&v.preventDefault()},children:e.map(v=>{const S=v.id===a,C=v.id===r,M=l?.zone==="overflow"&&l.targetId===v.id,R=M&&l?.position==="before",T=M&&l?.position==="after";return w.jsxs(jt.Fragment,{children:[R&&w.jsx(dh,{$variant:"overflow"}),w.jsxs(Lk,{"data-active":S,"data-dragging":C,"data-drop-target":M,draggable:!0,onClick:()=>x(v.id),onContextMenu:_=>b(_,v.id),onDragStart:_=>d(_,v.id),onDragEnd:p,onDragOver:_=>g(_,v.id,"overflow"),onDrop:f,children:[w.jsx("span",{children:v.name}),S&&w.jsx("span",{children:""})]}),T&&w.jsx(dh,{$variant:"overflow"})]},v.id)})})}function Xk({isOpen:e,pageName:a,itemCount:r,onConfirm:l,onCancel:s}){return w.jsx(nu,{$isOpen:e,children:w.jsxs(ou,{role:"dialog","aria-modal":"true","aria-labelledby":"delete-page-title",style:{background:"#ffffff"},children:[w.jsx(au,{id:"delete-page-title",children:"Delete page"}),w.jsxs(ru,{children:[w.jsxs("p",{children:["Are you sure you want to delete the page ",w.jsx("strong",{children:a}),"?"]}),r>0?w.jsxs("p",{children:["This page contains ",r," item",r===1?"":"s",". Deleting it cannot be undone."]}):w.jsx("p",{children:"This page is currently empty. Deleting it cannot be undone."})]}),w.jsxs(iu,{children:[w.jsx(Ha,{onClick:s,children:"Cancel"}),w.jsx(Ha,{$variant:"danger",onClick:l,children:"Delete page"})]})]})})}function Gk({pages:e,activePageId:a,canAddPage:r,libraryWidth:l,onAddPage:s,onDeletePage:u,onRenamePage:d,onDuplicatePage:p,onReorderPages:g,onSwitchToPage:f}){const[y,m]=A.useState(!1),[x,b]=A.useState(null),[v,S]=A.useState(null),C=A.useRef(null),M=kk(C),{visibleTabs:R,overflowTabs:T,hasOverflow:_}=Tk(e,a,M),{draggingPageId:I,dropState:z,handleDragStart:O,handleDragEnd:B,handleDragOver:V,handleDrop:U}=_k(e,g),L=A.useCallback(($,q)=>{b({pageId:q,x:$.clientX,y:$.clientY})},[]),Z=A.useCallback(()=>{b(null)},[]),J=A.useCallback($=>{if(Z(),e.length<=1)return;const q=e.find(xt=>xt.id===$);if(!q)return;const nt=q.canvasState.elements.length,vt=q.canvasState.connectors.length;if(nt+vt===0){u($);return}S($)},[Z,u,e]),X=jt.useMemo(()=>v?e.find($=>$.id===v)??null:null,[v,e]),G=A.useCallback(()=>{v&&(u(v),S(null))},[v,u]),D=A.useCallback(()=>{S(null)},[]),P=A.useCallback(()=>{Z()},[Z]),N=A.useCallback(()=>{x&&(p(x.pageId),Z())},[x,p,Z]),Y=A.useCallback(()=>{x&&J(x.pageId)},[x,J]);jt.useEffect(()=>{if(x){const $=()=>Z();return document.addEventListener("click",$),()=>document.removeEventListener("click",$)}},[x,Z]);const E=[...T],H=($,q,nt)=>z&&z.zone===nt&&z.targetId===$&&z.position===q?w.jsx(dh,{$variant:nt}):null;return w.jsxs(Ok,{ref:C,$libraryWidth:l,onDrop:U,onDragOver:$=>{I&&$.preventDefault()},children:[w.jsx(Nk,{onClick:()=>s(),disabled:!r,title:r?"Add new page":"Maximum 100 pages reached",children:"+"}),w.jsx(Dk,{onDrop:U,onDragOver:$=>{I&&$.preventDefault()},children:R.map($=>w.jsxs(jt.Fragment,{children:[H($.id,"before","strip"),w.jsx($k,{page:$,isActive:$.id===a,isDragging:$.id===I,isDropTarget:z?.zone==="strip"&&z.targetId===$.id,canDelete:e.length>1,onSelect:f,onClose:J,onRename:d,onContextMenu:L,onDragStart:O,onDragEnd:B,onDragOver:(q,nt)=>V(q,nt,"strip"),onDrop:U}),H($.id,"after","strip")]},$.id))}),_&&w.jsxs(zk,{"data-open":y,onClick:()=>m(!y),children:["More (",T.length,")"]}),y&&_&&w.jsx(Qk,{pages:E,activePageId:a,draggingPageId:I,dropState:z,onSelect:f,onContextMenu:L,onDragStart:O,onDragEnd:B,onDragOver:V,onDrop:U,onClose:()=>m(!1)}),x&&w.jsxs(Hk,{style:{left:`${x.x}px`,top:`${x.y}px`},children:[w.jsx(Hf,{onClick:P,children:"Rename"}),w.jsx(Hf,{onClick:N,disabled:!r,children:"Duplicate"}),w.jsx(Hf,{onClick:Y,disabled:e.length===1,children:"Delete"})]}),w.jsx(Xk,{isOpen:!!X,pageName:X?.name??"",itemCount:(()=>{if(!X)return 0;const{canvasState:$}=X,q=$.elements?.length??0,nt=$.connectors?.length??0;return q+nt})(),onConfirm:G,onCancel:D})]})}const la=(e,a)=>Array.from(new Set([...e,...a])),Hc=e=>[...e.elements,...e.connectors].reduce((l,s)=>{const u=typeof s.zIndex=="number"&&Number.isFinite(s.zIndex)?Math.round(s.zIndex):l;return u>l?u:l},-1)+1;function Fk(e,a){const[r,l]=A.useState(()=>{try{const u=window.localStorage.getItem(e);return u?JSON.parse(u):a}catch(u){return console.warn(`Error reading localStorage key "${e}":`,u),a}}),s=A.useCallback((u,d={})=>{const p=d.persist!==!1;try{u instanceof Function?l(g=>{const f=u(g);return p&&window.localStorage.setItem(e,JSON.stringify(f)),f}):(l(u),p&&window.localStorage.setItem(e,JSON.stringify(u)))}catch(g){console.warn(`Error setting localStorage key "${e}":`,g)}},[e]);return[r,s]}let Jy=0;function mc(e,a){return Jy+=1,{state:e,description:a||"Canvas updated",timestamp:Date.now(),id:`history-${Jy}`}}function qk({initialState:e,onStateChange:a,maxHistorySize:r=50}){const[l,s]=A.useState(()=>({past:[],present:mc(e,"Initial state"),future:[]})),u=A.useRef(!1);A.useEffect(()=>{s({past:[],present:mc(e,"Initial state"),future:[]})},[]);const d=A.useCallback((S,C)=>{s(M=>{const R=M.present.state;let T=!1;R.elements.length===S.elements.length&&(T=R.elements.every((U,L)=>U===S.elements[L]));let _=!1;R.connectors.length===S.connectors.length&&(_=R.connectors.every((U,L)=>U===S.connectors[L]));const I=R.selectedElements.length===S.selectedElements.length&&R.selectedElements.every((U,L)=>U===S.selectedElements[L]),z=R.selectedConnectors.length===S.selectedConnectors.length&&R.selectedConnectors.every((U,L)=>U===S.selectedConnectors[L]),O=R.zoom===S.zoom&&R.panX===S.panX&&R.panY===S.panY;if(T&&_&&I&&z&&O)return M;const B=mc(S,C),V=[...M.past,M.present];return V.length>r&&V.shift(),{past:V,present:B,future:[]}})},[r]),p=A.useCallback(()=>{s(S=>{if(S.past.length===0)return S;const C=S.past[S.past.length-1],M=S.past.slice(0,S.past.length-1);return u.current=!0,a(C.state),{past:M,present:C,future:[S.present,...S.future]}})},[a]),g=A.useCallback(()=>{s(S=>{if(S.future.length===0)return S;const C=S.future[0],M=S.future.slice(1);return u.current=!0,a(C.state),{past:[...S.past,S.present],present:C,future:M}})},[a]),f=A.useCallback((S,C)=>{u.current=!1,s({past:[],present:mc(S,C||"Initial state"),future:[]})},[]),y=A.useCallback(()=>l,[l]),m=A.useCallback(S=>{u.current=!1,s({past:S.past.map(C=>({...C})),present:{...S.present},future:S.future.map(C=>({...C}))}),a(S.present.state)},[a]),x=[...l.past.map(S=>({id:S.id,description:S.description,timestamp:S.timestamp,position:"past"})),{id:l.present.id,description:l.present.description,timestamp:l.present.timestamp,position:"present"},...l.future.map(S=>({id:S.id,description:S.description,timestamp:S.timestamp,position:"future"}))],b=l.past.length,v=A.useCallback(S=>{s(C=>{if(C.present.id===S)return C;const M=C.past.findIndex(T=>T.id===S);if(M>=0){const T=C.past[M],_=C.past.slice(0,M),z=[...C.past.slice(M+1),C.present,...C.future];return u.current=!0,a(T.state),{past:_,present:T,future:z}}const R=C.future.findIndex(T=>T.id===S);if(R>=0){const T=C.future[R],_=C.future.slice(0,R),I=C.future.slice(R+1),z=[...C.past,C.present,..._];return u.current=!0,a(T.state),{past:z,present:T,future:I}}return C})},[a]);return{undo:p,redo:g,canUndo:l.past.length>0,canRedo:l.future.length>0,recordState:d,resetHistory:f,historyEntries:x,historyIndex:b,jumpToHistoryEntry:v,getHistoryState:y,setHistoryState:m}}const Cl="#6c757d",Sl=2,Oo="None",El=e=>{const a=e.properties?{...e.properties}:{},r=typeof a.lineWidth=="number"?a.lineWidth:typeof a.strokeWidth=="number"?a.strokeWidth:void 0,l=Number.isFinite(r)?Math.max(.5,Number(r)):Sl,s=typeof a.lineColour=="string"&&a.lineColour.trim().length>0?a.lineColour:typeof a.strokeColour=="string"&&a.strokeColour.trim().length>0?a.strokeColour:Cl,u=typeof a.opacity=="number"?Math.min(1,Math.max(0,a.opacity)):1,d=a.shadow===void 0?typeof a.dropShadow=="boolean"?a.dropShadow:!1:!!a.shadow,p=zc(a.shadowColour??xn),g=CR(a.shadowOpacity),f=SR(a.shadowBlurRadius??Tn),y=a.connectorType??"line",m=C=>C==="HollowArrow"?"HollowArrow":"None",x=m(a.startMark),b=m(a.endMark),v={x:Math.round(e.startPoint.x),y:Math.round(e.startPoint.y)},S={x:Math.round(e.endPoint.x),y:Math.round(e.endPoint.y)};return{...e,startPoint:v,endPoint:S,properties:{connectorType:y,lineColour:s,lineWidth:l,opacity:u,shadow:d,shadowColour:p,shadowOpacity:g,shadowBlurRadius:f,startMark:x,endMark:b}}},Vk=(e,a)=>{const r=[...e.map((g,f)=>({kind:"element",id:g.id,data:g,zIndex:typeof g.zIndex=="number"&&Number.isFinite(g.zIndex)?Math.round(g.zIndex):void 0,order:f})),...a.map((g,f)=>({kind:"connector",id:g.id,data:g,zIndex:typeof g.zIndex=="number"&&Number.isFinite(g.zIndex)?Math.round(g.zIndex):void 0,order:e.length+f}))],l=new Set;let s=-1;r.forEach(g=>{g.zIndex!==void 0&&(l.has(g.zIndex)||(l.add(g.zIndex),g.zIndex>s&&(s=g.zIndex)))});let u=s+1;l.clear(),r.sort((g,f)=>{const y=g.zIndex??1/0,m=f.zIndex??1/0;return y===m?g.order-f.order:y-m}).forEach(g=>{let f=g.zIndex;(f===void 0||l.has(f))&&(f=u++),l.add(f),g.data={...g.data,zIndex:f}});const d=r.filter(g=>g.kind==="element").sort((g,f)=>g.order-f.order).map(g=>g.data),p=r.filter(g=>g.kind==="connector").sort((g,f)=>g.order-f.order).map(g=>g.data);return{elements:d,connectors:p}},Yn=e=>{const a=e.elements.some(f=>!f.properties),r=!e.connectors||!e.selectedConnectors,l=!e.selectedItemIds;if(!a&&!r&&!l){const f=ke(e.connectors,e.elements);return f===e.connectors?e:{...e,connectors:f}}const s=e.selectedItemIds?e.selectedItemIds:[...e.selectedElements??[],...e.selectedConnectors??[]],u=e.elements.map(gi),d=ke((e.connectors||[]).map(El),e.elements),{elements:p,connectors:g}=Vk(u,d);return{...e,elements:p,connectors:g,selectedConnectors:e.selectedConnectors||[],selectedItemIds:Array.from(new Set(s))}},tx=e=>Array.from(new Set(e)),Wk=50;function Zk(e){const a={elements:[],connectors:[],selectedElements:[],selectedConnectors:[],selectedItemIds:[],zoom:1,panX:0,panY:0},[r,l]=Fk("rewired-current-project",e||a);A.useEffect(()=>{r.elements.some(et=>!et.properties)&&l(et=>Yn(et),{persist:!0})},[r,l]);const s=A.useMemo(()=>Yn(r),[r]),u=A.useRef(s);A.useEffect(()=>{u.current=s},[s]);const d=A.useRef(!1),p=A.useRef(null),g=A.useCallback(()=>{const F=p.current;F&&(l(()=>F,{persist:!0}),p.current=null)},[l]);A.useEffect(()=>()=>{g()},[g]);const f=A.useCallback(F=>{const et=!d.current,K=Yn(u.current),rt=typeof F=="function"?F(K):F,bt=Yn(rt);et?p.current=null:p.current=bt,u.current=bt,l(bt,{persist:et})},[l]),y=qk({initialState:s,onStateChange:f,maxHistorySize:Wk}),m=A.useRef(s),x=A.useRef(!1),b=A.useRef(null),v=A.useRef("Edit elements"),S=A.useRef(null);A.useEffect(()=>{const F=JSON.stringify({elements:m.current.elements,connectors:m.current.connectors}),et=JSON.stringify({elements:s.elements,connectors:s.connectors});F!==et&&!x.current&&(m.current=s)},[s]);const C=A.useCallback((F="Edit elements")=>{x.current=!0,b.current=s,v.current=F,d.current=!0,p.current=null},[s]),M=A.useCallback(()=>{const F=p.current??u.current,et=b.current,K=v.current;p.current=null,d.current=!1,x.current=!1,b.current=null,v.current="Edit elements";const rt=F.elements.map(mt=>({...mt,properties:{...mt.properties,posX:mt.x,posY:mt.y,width:mt.width,height:mt.height}})),bt={...F,elements:rt};if(et){const mt=JSON.stringify({elements:et.elements,connectors:et.connectors}),wt=JSON.stringify({elements:bt.elements,connectors:bt.connectors});mt!==wt&&(y.recordState(bt,K),m.current=bt)}l(bt,{persist:!0}),u.current=bt},[y,l]),R=A.useCallback(F=>{S.current=F,d.current||g()},[]),T=A.useCallback((F,et,K)=>{const rt=F.selectedElements.length?new Set(F.selectedElements):null,bt=F.selectedConnectors.length?new Set(F.selectedConnectors):null;if(!rt&&!bt)return F;const mt=rt?F.elements.map(ct=>{if(!rt.has(ct.id))return ct;const kt=Math.round(ct.x+et),pt=Math.round(ct.y+K);return{...ct,x:kt,y:pt,properties:{...ct.properties,posX:kt,posY:pt}}}):F.elements,wt=bt?F.connectors.map(ct=>bt.has(ct.id)?{...ct,startPoint:{x:Math.round(ct.startPoint.x+et),y:Math.round(ct.startPoint.y+K)},endPoint:{x:Math.round(ct.endPoint.x+et),y:Math.round(ct.endPoint.y+K)}}:ct):F.connectors,st=ke(wt,mt);return{...F,elements:mt,connectors:st}},[]),_=A.useCallback(F=>{f(et=>{const K=typeof F=="function"?F(et):F,rt=Yn(K);if(!x.current){const bt=JSON.stringify({elements:m.current.elements,connectors:m.current.connectors}),mt=JSON.stringify({elements:rt.elements,connectors:rt.connectors});if(bt!==mt){const wt=S.current;wt&&y.recordState(rt,wt),m.current=rt,S.current=null}}return rt})},[f,y]),I=A.useCallback((F,et={})=>{const K=Yn(F);f(K),m.current=K,b.current=null,x.current=!1,S.current=null,et.resetHistory&&y.resetHistory(K,et.description)},[y,f]),z=A.useCallback(()=>{const F=y.getHistoryState(),et=Yn(u.current);return{past:F.past.map(K=>({...K,state:Yn(K.state)})),present:{...F.present,state:et},future:F.future.map(K=>({...K,state:Yn(K.state)}))}},[y]),O=A.useCallback(F=>{const et={past:F.past.map(rt=>({...rt,state:Yn(rt.state)})),present:{...F.present,state:Yn(F.present.state)},future:F.future.map(rt=>({...rt,state:Yn(rt.state)}))};y.setHistoryState(et);const K=Yn(et.present.state);f(K),m.current=K,b.current=null,x.current=!1,S.current=null},[y,f]),B=A.useCallback((F,et=!1)=>{_(K=>{const rt=K.elements.find(mt=>mt.id===F);if(!rt)return K;const bt=rt.groupId?K.elements.filter(mt=>mt.groupId===rt.groupId).map(mt=>mt.id):[F];if(et)if(bt.some(wt=>K.selectedElements.includes(wt))){const wt=K.selectedElements.filter(st=>!bt.includes(st));return{...K,selectedElements:wt,selectedConnectors:K.selectedConnectors,selectedItemIds:la(wt,K.selectedConnectors)}}else{const wt=tx([...K.selectedElements,...bt]);return{...K,selectedElements:wt,selectedConnectors:K.selectedConnectors,selectedItemIds:la(wt,K.selectedConnectors)}}else{const mt=bt;return{...K,selectedElements:mt,selectedConnectors:[],selectedItemIds:la(mt,[])}}})},[_]),V=A.useCallback((F,et,K)=>{et===0&&K===0||_(rt=>{if(new Set(rt.selectedElements).has(F))return T(rt,et,K);{const wt=rt.elements.map(ct=>{if(ct.id!==F)return ct;const kt=Math.round(ct.x+et),pt=Math.round(ct.y+K);return{...ct,x:kt,y:pt,properties:{...ct.properties,posX:kt,posY:pt}}}),st=ke(rt.connectors,wt);return{...rt,elements:wt,connectors:st}}})},[_,T]),U=A.useCallback((F,et=!1)=>{_(K=>{const rt=K.connectors.find(mt=>mt.id===F);if(!rt)return K;const bt=rt.groupId?K.connectors.filter(mt=>mt.groupId===rt.groupId).map(mt=>mt.id):[F];if(et)if(bt.some(wt=>K.selectedConnectors.includes(wt))){const wt=K.selectedConnectors.filter(st=>!bt.includes(st));return{...K,selectedElements:K.selectedElements,selectedConnectors:wt,selectedItemIds:la(K.selectedElements,wt)}}else{const wt=tx([...K.selectedConnectors,...bt]);return{...K,selectedElements:K.selectedElements,selectedConnectors:wt,selectedItemIds:la(K.selectedElements,wt)}}else{const mt=bt;return{...K,selectedElements:[],selectedConnectors:mt,selectedItemIds:la([],mt)}}})},[_]),L=A.useCallback((F,et,K)=>{et===0&&K===0||_(rt=>{if(new Set(rt.selectedConnectors).has(F))return T(rt,et,K);{const wt=rt.connectors.map(ct=>ct.id!==F?ct:{...ct,startPoint:{x:Math.round(ct.startPoint.x+et),y:Math.round(ct.startPoint.y+K)},endPoint:{x:Math.round(ct.endPoint.x+et),y:Math.round(ct.endPoint.y+K)}}),st=ke(wt,rt.elements);return{...rt,connectors:st}}})},[_,T]),Z=A.useCallback(F=>{if(!F.length)return;const et=new Map;F.forEach(K=>{const rt=Math.round(K.x),bt=Math.round(K.y);et.set(K.id,{x:rt,y:bt})}),_(K=>{let rt=!1;const bt=K.elements.map(wt=>{const st=et.get(wt.id);return!st||wt.x===st.x&&wt.y===st.y?wt:(rt=!0,{...wt,x:st.x,y:st.y,properties:{...wt.properties,posX:st.x,posY:st.y}})});if(!rt)return K;const mt=ke(K.connectors,bt);return{...K,elements:bt,connectors:mt}})},[_]),J=A.useCallback(F=>{if(!F.length)return;const et=new Map;F.forEach(K=>{et.set(K.id,K)}),_(K=>{let rt=!1;const bt=K.connectors.map(mt=>{const wt=et.get(mt.id);if(!wt)return mt;const st=wt.startPoint??mt.startPoint,ct=wt.endPoint??mt.endPoint,kt={x:Math.round(st.x),y:Math.round(st.y)},pt={x:Math.round(ct.x),y:Math.round(ct.y)};return mt.startPoint.x===kt.x&&mt.startPoint.y===kt.y&&mt.endPoint.x===pt.x&&mt.endPoint.y===pt.y?mt:(rt=!0,{...mt,startPoint:kt,endPoint:pt})});return rt?{...K,connectors:ke(bt,K.elements)}:K})},[_]),X=A.useCallback((F,et,K)=>{_(rt=>{if(!rt.selectedConnectors.includes(F))return rt;const bt=rt.connectors.findIndex(Et=>Et.id===F);if(bt===-1)return rt;const mt=rt.connectors[bt],wt=El(mt),st=wt.properties??{connectorType:"line",lineColour:Cl,lineWidth:Sl,opacity:1,shadow:!1,shadowColour:xn,shadowOpacity:Qn,shadowBlurRadius:Tn,startMark:Oo,endMark:Oo},ct={...st,startMark:st.startMark??Oo,endMark:st.endMark??Oo},kt={...wt.startPoint},pt={...wt.endPoint},Rt=Et=>{if(typeof Et=="number"&&Number.isFinite(Et))return Et;if(typeof Et=="string"){const Tt=Number(Et);if(Number.isFinite(Tt))return Tt}return null},_t=Et=>Et==="HollowArrow"?"HollowArrow":"None";let St=!1;switch(et){case"lineWidth":{const Et=Rt(K);if(Et!==null){const Tt=Math.max(.5,Et);Tt!==ct.lineWidth&&(ct.lineWidth=Tt,St=!0)}break}case"lineColour":{typeof K=="string"&&K.trim().length>0&&K!==ct.lineColour&&(ct.lineColour=K,St=!0);break}case"opacity":{const Et=Rt(K);if(Et!==null){const Tt=Math.min(1,Math.max(0,Et));Tt!==ct.opacity&&(ct.opacity=Tt,St=!0)}break}case"shadow":case"dropShadow":{const Et=!!K;Et!==ct.shadow&&(ct.shadow=Et,St=!0);break}case"shadowColour":{if(typeof K=="string"&&K.trim().length>0){const Et=zc(K);Et!==ct.shadowColour&&(ct.shadowColour=Et,St=!0)}break}case"shadowOpacity":{const Et=Rt(K);if(Et!==null){const Tt=Math.min(1,Math.max(0,Et));Tt!==ct.shadowOpacity&&(ct.shadowOpacity=Tt,St=!0)}break}case"shadowBlurRadius":{const Et=Rt(K);if(Et!==null){const Tt=Math.max(0,Et);Tt!==ct.shadowBlurRadius&&(ct.shadowBlurRadius=Tt,St=!0)}break}case"startMark":{const Et=_t(K);Et!==ct.startMark&&(ct.startMark=Et,St=!0);break}case"endMark":{const Et=_t(K);Et!==ct.endMark&&(ct.endMark=Et,St=!0);break}case"startX":{const Et=Rt(K);if(Et!==null){const Tt=Math.round(Et);Tt!==wt.startPoint.x&&(kt.x=Tt,St=!0)}break}case"startY":{const Et=Rt(K);if(Et!==null){const Tt=Math.round(Et);Tt!==wt.startPoint.y&&(kt.y=Tt,St=!0)}break}case"endX":{const Et=Rt(K);if(Et!==null){const Tt=Math.round(Et);Tt!==wt.endPoint.x&&(pt.x=Tt,St=!0)}break}case"endY":{const Et=Rt(K);if(Et!==null){const Tt=Math.round(Et);Tt!==wt.endPoint.y&&(pt.y=Tt,St=!0)}break}}if(!St)return rt;const Nt=El({...mt,startPoint:kt,endPoint:pt,properties:ct}),Dt=[...rt.connectors];Dt[bt]=Nt;const Xt=ke(Dt,rt.elements);return R("Edit connector properties"),{...rt,connectors:Xt}})},[R,_]),G=A.useCallback((F,et)=>{R("Edit text"),_(K=>({...K,elements:K.elements.map(rt=>rt.id===F?{...rt,text:et}:rt)}))},[_,R]),D=A.useCallback((F,et)=>{const rt=u.current.elements.find(st=>st.id===F);if(!rt)return;const bt=typeof et=="string"&&et.trim().length>0?et:void 0,mt=typeof rt.imageSrc=="string"&&rt.imageSrc.trim().length>0?rt.imageSrc:typeof rt.properties?.imageSrc=="string"?rt.properties.imageSrc:void 0,wt=!!(rt.properties&&Object.prototype.hasOwnProperty.call(rt.properties,"imageSrc"));mt===bt&&!wt||(R("Update image"),_(st=>{const ct=st.elements.map(pt=>{if(pt.id!==F)return pt;let Rt;if(pt.properties){const _t=Object.entries(pt.properties).filter(([St])=>St!=="imageSrc");_t.length>0&&(Rt=_t.reduce((St,[Nt,Dt])=>(St[Nt]=Dt,St),{}))}return{...pt,imageSrc:bt,properties:Rt}}),kt=ke(st.connectors,ct);return{...st,elements:ct,connectors:kt}}))},[R,_]),P=A.useCallback((F,et,K)=>{R("Edit properties"),_(rt=>{if(!rt.selectedElements.includes(F)||!rt.elements.some(wt=>wt.id===F))return rt;const mt=rt.elements.map(wt=>wt.id===F?ch(wt,et,K):wt);return{...rt,elements:mt,connectors:ke(rt.connectors,mt)}})},[R,_]),N=A.useCallback(F=>{R("Reset properties"),_(et=>{const K=et.elements.map(rt=>rt.id===F?jR(rt):rt);return{...et,elements:K,connectors:ke(et.connectors,K)}})},[R,_]),Y=A.useCallback((F,et)=>{F.length!==0&&(R("Paste properties"),_(K=>{const rt=K.elements.map(bt=>F.includes(bt.id)?uh(bt,et):bt);return{...K,elements:rt,connectors:ke(K.connectors,rt)}}))},[R,_]),E=A.useCallback((F,et)=>{F.length!==0&&(R("Paste properties"),_(K=>{const rt=new Set(F),bt=K.connectors.map(mt=>{if(!rt.has(mt.id))return mt;const st=El(mt).properties??{connectorType:"line",lineColour:Cl,lineWidth:Sl,opacity:1,shadow:!1,shadowColour:xn,shadowOpacity:Qn,shadowBlurRadius:Tn,startMark:Oo,endMark:Oo},ct=(pt,Rt)=>pt==="HollowArrow"?"HollowArrow":pt==="None"?"None":Rt,kt={connectorType:et.connectorType??st.connectorType??"line",lineColour:typeof et.lineColour=="string"&&et.lineColour.trim().length>0?et.lineColour:st.lineColour??Cl,lineWidth:typeof et.lineWidth=="number"?Math.max(.5,et.lineWidth):st.lineWidth??Sl,opacity:typeof et.opacity=="number"?Math.min(1,Math.max(0,et.opacity)):st.opacity??1,shadow:typeof et.shadow=="boolean"?et.shadow:typeof et.dropShadow=="boolean"?et.dropShadow:st.shadow??!1,shadowColour:typeof et.shadowColour=="string"&&et.shadowColour.trim().length>0?zc(et.shadowColour):st.shadowColour??xn,shadowOpacity:typeof et.shadowOpacity=="number"?Math.min(1,Math.max(0,et.shadowOpacity)):st.shadowOpacity??Qn,shadowBlurRadius:typeof et.shadowBlurRadius=="number"?Math.max(0,et.shadowBlurRadius):st.shadowBlurRadius??Tn,startMark:ct(et.startMark,st.startMark??Oo),endMark:ct(et.endMark,st.endMark??Oo)};return{...mt,properties:kt}});return{...K,connectors:ke(bt,K.elements)}}))},[R,_]),H=A.useCallback(F=>{F.length!==0&&(R("Reset properties"),_(et=>{const K=new Set(F),rt=et.connectors.map(bt=>{if(!K.has(bt.id))return bt;const st={connectorType:(El(bt).properties??{connectorType:"line"}).connectorType??"line",lineColour:Cl,lineWidth:Sl,opacity:1,shadow:!1,shadowColour:xn,shadowOpacity:Qn,shadowBlurRadius:Tn,startMark:Oo,endMark:Oo};return{...bt,properties:st}});return{...et,connectors:ke(rt,et.elements)}}))},[R,_]),$=A.useCallback(()=>{_(F=>{const et=F.selectedElements.length>0,K=F.selectedConnectors.length>0;if(!et&&!K)return F;const rt=new Set(F.selectedElements),bt=new Set(F.selectedConnectors);R("Delete selection");const mt=et?F.elements.filter(kt=>!rt.has(kt.id)):F.elements,wt=K?F.connectors.filter(kt=>!bt.has(kt.id)):F.connectors,st=rt.size>0?wt.map(kt=>{let pt=kt.startAttachment??null,Rt=kt.endAttachment??null,_t=!1;return pt&&rt.has(pt.elementId)&&(pt=null,_t=!0),Rt&&rt.has(Rt.elementId)&&(Rt=null,_t=!0),_t?{...kt,startAttachment:pt,endAttachment:Rt}:kt}):wt,ct=ke(st,mt);return{...F,elements:mt,connectors:ct,selectedElements:[],selectedConnectors:[],selectedItemIds:[]}})},[_,R]),q=A.useCallback((F,et)=>{_(K=>{if(K.selectedElements.length===0&&K.selectedConnectors.length===0||F===0&&et===0)return K;R("Move selection");const rt=new Set(K.selectedElements),bt=new Set(K.selectedConnectors),mt=K.elements.map(ct=>rt.has(ct.id)?uh(ct,{posX:ct.x+F,posY:ct.y+et}):ct),wt=K.connectors.map(ct=>bt.has(ct.id)?{...ct,startPoint:{x:ct.startPoint.x+F,y:ct.startPoint.y+et},endPoint:{x:ct.endPoint.x+F,y:ct.endPoint.y+et}}:ct),st=ke(wt,mt);return{...K,elements:mt,connectors:st}})},[_,R]),nt=A.useCallback(F=>{F.length<2||_(et=>{R("Group elements");const K=crypto.randomUUID(),rt=new Set;return F.forEach(bt=>{const mt=et.elements.find(wt=>wt.id===bt);mt?.groupId&&rt.add(mt.groupId)}),{...et,elements:et.elements.map(bt=>F.includes(bt.id)||bt.groupId&&rt.has(bt.groupId)?{...bt,groupId:K}:bt)}})},[_,R]),vt=A.useCallback(F=>{F&&_(et=>(R("Ungroup elements"),{...et,elements:et.elements.map(K=>K.groupId===F?{...K,groupId:void 0}:K)}))},[_,R]),ht=A.useCallback(()=>{_(F=>({...F,selectedElements:F.elements.map(et=>et.id),selectedConnectors:F.connectors.map(et=>et.id),selectedItemIds:la(F.elements.map(et=>et.id),F.connectors.map(et=>et.id))}))},[_]),xt=A.useCallback(()=>{_(F=>F.selectedElements.length===0&&F.selectedConnectors.length===0?F:{...F,selectedElements:[],selectedConnectors:[],selectedItemIds:[]})},[_]),Ct=A.useCallback(()=>{I({elements:[],connectors:[],selectedElements:[],selectedConnectors:[],selectedItemIds:[],zoom:1,panX:0,panY:0},{resetHistory:!0,description:"Cleared canvas"})},[I]);return{canvasState:s,actions:{setCanvasState:_,replaceCanvasState:I,queueHistoryEntry:R,selectElement:B,selectConnector:U,moveElement:V,moveConnector:L,moveElementsTo:Z,moveConnectorsTo:J,updateElementText:G,updateElementImage:D,updateElementProperty:P,updateConnectorProperty:X,resetElementStyling:N,applyPropertiesToElements:Y,applyPropertiesToConnectors:E,resetConnectorProperties:H,deleteSelectedElements:$,moveSelectedElements:q,selectAll:ht,clearSelection:xt,clearCanvas:Ct,groupElements:nt,ungroupElements:vt,undo:y.undo,redo:y.redo,startTransaction:C,endTransaction:M,jumpToHistoryEntry:y.jumpToHistoryEntry,exportHistoryState:z,importHistoryState:O},canUndo:y.canUndo,canRedo:y.canRedo,historyEntries:y.historyEntries,historyIndex:y.historyIndex}}const oi=20;function Kk({canvasState:e,setCanvasState:a}){const[r,l]=A.useState("drag"),[s,u]=A.useState(null),[d,p]=A.useState(!1),g=A.useCallback(()=>{a(T=>({...T,zoom:Math.min(T.zoom*1.2,3)}))},[a]),f=A.useCallback(()=>{a(T=>({...T,zoom:Math.max(T.zoom/1.2,.1)}))},[a]),y=A.useCallback(T=>{const _=Math.min(Math.max(T,.1),3);a(I=>({...I,zoom:_}))},[a]),m=A.useCallback((T,_,I,z)=>{const O=Math.min(Math.max(T,.1),3);a(B=>{const V=B.zoom,U=_-z.left-oi,L=I-z.top-oi,Z=U*(1/O-1/V)+B.panX,J=L*(1/O-1/V)+B.panY;return{...B,zoom:O,panX:Z,panY:J}})},[a]),x=A.useCallback((T,_)=>{a(I=>({...I,panX:T,panY:_}))},[a]),b=A.useCallback(T=>{l(T),T==="select"&&(u(null),p(!1))},[]),v=A.useCallback(()=>{p(!0)},[]),S=A.useCallback(T=>{u(T)},[]),C=A.useCallback(()=>{a(T=>({...T,zoom:1,panX:0,panY:0}))},[a]),M=A.useCallback(()=>{a(T=>{const _=T.elements;if(_.length===0)return{...T,zoom:1,panX:0,panY:0};let I=1/0,z=1/0,O=-1/0,B=-1/0;_.forEach(H=>{I=Math.min(I,H.x),z=Math.min(z,H.y),O=Math.max(O,H.x+H.width),B=Math.max(B,H.y+H.height)});const V=O-I,U=B-z,Z=document.querySelector('[data-canvas-wrapper="true"]')?.getBoundingClientRect(),J=Z?Z.width-oi:window.innerWidth-oi-280,X=Z?Z.height-oi:window.innerHeight-oi-60,G=.9,D=J/V*G,P=X/U*G,N=Math.min(Math.max(Math.min(D,P),.1),3),Y=J/2/N-(I+O)/2,E=X/2/N-(z+B)/2;return{...T,zoom:N,panX:Y,panY:E}})},[a]),R=A.useCallback((T,_)=>{const I=[],z=[],O=Math.min(T.startX,T.endX),B=Math.max(T.startX,T.endX),V=Math.min(T.startY,T.endY),U=Math.max(T.startY,T.endY),L=B-O,Z=U-V;return(L>5||Z>5)&&(_.elements.forEach(X=>{const G=X.x,D=X.x+X.width,P=X.y,N=X.y+X.height;G>=O&&D<=B&&P>=V&&N<=U&&I.push(X.id)}),_.connectors.forEach(X=>{rk(X,T)&&z.push(X.id)}),(I.length>0||z.length>0)&&l("drag")),u(null),p(!1),{elementIds:I,connectorIds:z}},[l]);return{zoom:e.zoom,panX:e.panX,panY:e.panY,canvasMode:r,selectionArea:s,isSelecting:d,actions:{zoomIn:g,zoomOut:f,setZoom:y,setZoomAtPoint:m,resetZoom:C,fitToScreen:M,updatePan:x,setMode:b,startSelection:v,updateSelectionArea:S,completeSelection:R}}}function Jk({canvasState:e,setCanvasState:a,queueHistoryEntry:r}){const l=e.selectedElements.length>0||e.selectedConnectors.length>0,s=A.useCallback(m=>[...m.elements.map((b,v)=>({kind:"element",id:b.id,zIndex:typeof b.zIndex=="number"?b.zIndex:v,orderIndex:v})),...m.connectors.map((b,v)=>({kind:"connector",id:b.id,zIndex:typeof b.zIndex=="number"?b.zIndex:m.elements.length+v,orderIndex:m.elements.length+v}))].sort((b,v)=>b.zIndex===v.zIndex?b.orderIndex-v.orderIndex:b.zIndex-v.zIndex),[]),u=A.useCallback((m,x)=>{const b=new Map;x.forEach((C,M)=>{b.set(`${C.kind}:${C.id}`,M)});const v=m.elements.map(C=>{const M=`element:${C.id}`,R=b.get(M);return R===void 0?C:{...C,zIndex:R}}),S=m.connectors.map(C=>{const M=`connector:${C.id}`,R=b.get(M);return R===void 0?C:{...C,zIndex:R}});return{...m,elements:v,connectors:S}},[]),d=A.useCallback(()=>{const m=new Set;return e.selectedElements.forEach(x=>m.add(`element:${x}`)),e.selectedConnectors.forEach(x=>m.add(`connector:${x}`)),m},[e.selectedElements,e.selectedConnectors]),p=A.useCallback(()=>{l&&(r("Send items to back"),a(m=>{const x=s(m),b=d(),v=x.filter(M=>b.has(`${M.kind}:${M.id}`));if(v.length===0)return m;const S=x.filter(M=>!b.has(`${M.kind}:${M.id}`)),C=[...v,...S].map((M,R)=>({...M,zIndex:R}));return u(m,C)}))},[l,r,a,s,d,u]),g=A.useCallback(()=>{l&&(r("Bring items to front"),a(m=>{const x=s(m),b=d(),v=x.filter(M=>b.has(`${M.kind}:${M.id}`));if(v.length===0)return m;const C=[...x.filter(M=>!b.has(`${M.kind}:${M.id}`)),...v].map((M,R)=>({...M,zIndex:R}));return u(m,C)}))},[l,r,a,s,d,u]),f=A.useCallback(()=>{l&&(r("Bring items forward"),a(m=>{const x=s(m),b=d(),v=C=>`${C.kind}:${C.id}`;for(let C=x.length-2;C>=0;C--){const M=x[C],R=x[C+1],T=b.has(v(M)),_=b.has(v(R));T&&!_&&([x[C],x[C+1]]=[R,M])}const S=x.map((C,M)=>({...C,zIndex:M}));return u(m,S)}))},[l,r,a,s,d,u]),y=A.useCallback(()=>{l&&(r("Send items backward"),a(m=>{const x=s(m),b=d(),v=C=>`${C.kind}:${C.id}`;for(let C=1;C<x.length;C++){const M=x[C],R=x[C-1],T=b.has(v(M)),_=b.has(v(R));T&&!_&&([x[C-1],x[C]]=[M,R])}const S=x.map((C,M)=>({...C,zIndex:M}));return u(m,S)}))},[l,r,a,s,d,u]);return{sendToBack:p,sendToFront:g,bringForward:f,bringBack:y}}const ex=50,nx=30;function t_({setCanvasState:e,zoom:a,onTransactionStart:r,onTransactionEnd:l}){const[s,u]=A.useState(!1),[d,p]=A.useState(null),[g,f]=A.useState(null),[y,m]=A.useState(null),[x,b]=A.useState(null),v=A.useRef(null),S=A.useCallback((R,T,_,I)=>{r?.("Resize element"),u(!0),p(R),f(T),m(_),b({width:I.width,height:I.height,x:I.x,y:I.y})},[r]),C=A.useCallback(R=>{!s||!d||!g||!y||!x||(v.current!==null&&cancelAnimationFrame(v.current),v.current=requestAnimationFrame(()=>{const T=(R.x-y.x)/a,_=(R.y-y.y)/a;e(I=>{const z=I.elements.find(q=>q.id===d);if(!z)return I;const O=z.constraints??sh[z.type],B=O?.minWidth??ex,V=O?.minHeight??nx;let U=x.width,L=x.height;switch(g){case"nw":U=x.width-T,L=x.height-_;break;case"ne":U=x.width+T,L=x.height-_;break;case"sw":U=x.width-T,L=x.height+_;break;case"se":U=x.width+T,L=x.height+_;break;case"n":L=x.height-_;break;case"s":L=x.height+_;break;case"w":U=x.width-T;break;case"e":U=x.width+T;break}const Z=!!z.properties?.constrainRatio,J=x.height!==0?x.width/x.height:null;let X=Math.max(U,B),G=Math.max(L,V);if(Z&&J&&Number.isFinite(J)&&J>0){const q=g.includes("w")||g.includes("e"),nt=g.includes("n")||g.includes("s"),vt=xt=>{let Ct=Math.max(xt,B),F=Ct/J;return F<V&&(F=V,Ct=F*J),{width:Ct,height:F}},ht=xt=>{let Ct=Math.max(xt,V),F=Ct*J;return F<B&&(F=B,Ct=F/J),{width:F,height:Ct}};if(q&&!nt){const xt=vt(U);X=xt.width,G=xt.height}else if(!q&&nt){const xt=ht(L);X=xt.width,G=xt.height}else if(q&&nt){const xt=vt(U),Ct=ht(L),F=Math.abs(xt.width-x.width),et=Math.abs(Ct.height-x.height);F>=et?(X=xt.width,G=xt.height):(X=Ct.width,G=Ct.height)}else{const xt=vt(U);X=xt.width,G=xt.height}}X=Math.round(X),G=Math.round(G);const D=x.x,P=x.y,N=x.x+x.width,Y=x.y+x.height;let E=z.x,H=z.y;if(Z){const q=g.includes("w")&&!g.includes("e"),nt=g.includes("n")&&!g.includes("s");E=q?N-X:D,H=nt?Y-G:P}else g.includes("w")?E=N-X:g.includes("e")&&(E=D),g.includes("n")?H=Y-G:g.includes("s")&&(H=P);const $=I.elements.map(q=>q.id===d?{...q,x:E,y:H,width:X,height:G,properties:{...q.properties,posX:E,posY:H,width:X,height:G}}:q);return{...I,elements:$,connectors:ke(I.connectors,$)}})}))},[s,d,g,y,x,a,e]),M=A.useCallback(()=>{d&&e(R=>{const T=R.elements.map(_=>{if(_.id!==d)return _;const I=_.constraints??sh[_.type],z=I?.minWidth??ex,O=I?.minHeight??nx,B=Math.max(Math.round(_.width),z),V=Math.max(Math.round(_.height),O),U={width:B,height:V,posX:Math.round(_.x),posY:Math.round(_.y)};return uh(_,U)});return{...R,elements:T,connectors:ke(R.connectors,T)}}),l?.(),u(!1),p(null),f(null),m(null),b(null)},[l,d,g,e]);return A.useEffect(()=>{if(!s)return;const R=_=>{C({x:_.clientX,y:_.clientY})},T=()=>{M()};return document.addEventListener("mousemove",R),document.addEventListener("mouseup",T),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",T),v.current!==null&&(cancelAnimationFrame(v.current),v.current=null)}},[s,C,M]),{isResizing:s,resizeElementId:d,resizeHandle:g,resizeStartPos:y,resizeStartSize:x,actions:{handleResizeStart:S,handleResizeMove:C,handleResizeEnd:M}}}function e_({setCanvasState:e,zoom:a,onTransactionStart:r,onTransactionEnd:l}){const[s,u]=A.useState(!1),[d,p]=A.useState(null),[g,f]=A.useState(null),[y,m]=A.useState(null),[x,b]=A.useState(null),[v,S]=A.useState(!1),[C,M]=A.useState({elementId:null,point:null}),R=A.useRef(null),T=A.useCallback((z,O,B)=>{r?.("Resize connector"),u(!0),p(z),f(O),m(B),S(!1),M({elementId:null,point:null}),e(V=>{const U=V.connectors.findIndex(G=>G.id===z);if(U===-1)return V;const L=V.connectors[U],Z=O==="start"?L.startPoint:L.endPoint;b(Z);const J={...L,startAttachment:O==="start"?null:L.startAttachment??null,endAttachment:O==="end"?null:L.endAttachment??null},X=[...V.connectors];return X[U]=J,{...V,connectors:ke(X,V.elements)}})},[r,e]),_=A.useCallback(z=>{!s||!d||!g||!y||!x||(R.current!==null&&cancelAnimationFrame(R.current),R.current=requestAnimationFrame(()=>{const O=(z.x-y.x)/a,B=(z.y-y.y)/a,V=x.x+O,U=x.y+B;let L={elementId:null,point:null};e(Z=>{const J=Z.connectors.map(X=>{if(X.id!==d)return X;const G=cu(Z.elements,{x:V,y:U}),D=G?G.position:{x:V,y:U},P=Qt(D),N=G?G.attachment:null;return L=G?{elementId:G.elementId??null,point:P}:{elementId:null,point:null},S(Y=>Y===!!G?Y:!!G),g==="start"?{...X,startPoint:P,startAttachment:N,endAttachment:X.endAttachment??null}:{...X,endPoint:P,endAttachment:N,startAttachment:X.startAttachment??null}});return{...Z,connectors:ke(J,Z.elements)}}),M(L)}))},[s,d,g,y,x,e,a]),I=A.useCallback(()=>{R.current!==null&&(cancelAnimationFrame(R.current),R.current=null),u(!1),p(null),f(null),m(null),b(null),S(!1),M({elementId:null,point:null}),l?.()},[l]);return A.useEffect(()=>{if(!s)return;const z=B=>{_({x:B.clientX,y:B.clientY})},O=()=>{I()};return document.addEventListener("mousemove",z),document.addEventListener("mouseup",O),()=>{document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",O)}},[s,_,I]),A.useEffect(()=>()=>{R.current!==null&&cancelAnimationFrame(R.current)},[]),{isResizing:s,resizeConnectorId:d,resizeEndpoint:g,resizeStartPos:y,resizeOriginalPoint:x,resizeHasAnchorPreview:v,resizeAnchorPreview:C,actions:{handleResizeStart:T,handleResizeMove:_,handleResizeEnd:I}}}const n_={elements:[],connectors:[]};function o_({canvasState:e,setCanvasState:a,queueHistoryEntry:r}){const[l,s]=A.useState(n_),[u,d]=A.useState(0),p=A.useCallback(()=>{const y=e.elements.filter(x=>e.selectedElements.includes(x.id)),m=e.connectors.filter(x=>e.selectedConnectors.includes(x.id));y.length===0&&m.length===0||(s({elements:y,connectors:m}),d(0),console.log(`Copied ${y.length} element(s) and ${m.length} connector(s) to clipboard`))},[e]),g=A.useCallback(()=>{const y=e.elements.filter(x=>e.selectedElements.includes(x.id)),m=e.connectors.filter(x=>e.selectedConnectors.includes(x.id));y.length===0&&m.length===0||(s({elements:y,connectors:m}),d(0),r("Cut items"),a(x=>({...x,...(()=>{const b=new Set(x.selectedElements),v=new Set(x.selectedConnectors),S=b.size?x.elements.filter(T=>!b.has(T.id)):x.elements,C=v.size?x.connectors.filter(T=>!v.has(T.id)):x.connectors,M=b.size?C.map(T=>{let _=T.startAttachment??null,I=T.endAttachment??null,z=!1;return _&&b.has(_.elementId)&&(_=null,z=!0),I&&b.has(I.elementId)&&(I=null,z=!0),z?{...T,startAttachment:_,endAttachment:I}:T}):C,R=ke(M,S);return{elements:S,connectors:R,selectedElements:[],selectedConnectors:[],selectedItemIds:[]}})()})),console.log(`Cut ${y.length} element(s) and ${m.length} connector(s) to clipboard`))},[e,r,a]),f=A.useCallback(()=>{if(l.elements.length===0&&l.connectors.length===0)return;const y=u+1,m=20*y,x=20*y,b=new Map;l.elements.forEach(C=>{C.groupId&&!b.has(C.groupId)&&b.set(C.groupId,crypto.randomUUID())});const v=new Map,S=l.elements.map(C=>{const M=kn();return v.set(C.id,M),gi({...C,id:M,x:C.x+m,y:C.y+x,groupId:C.groupId?b.get(C.groupId):void 0})});r("Paste items"),a(C=>{let M=Hc(C);const R=S.map(B=>({...B,zIndex:M++})),T=[...C.elements,...R],_=l.connectors.map(B=>{const V=kn(),U=X=>{if(!X)return null;const G=v.get(X.elementId);return G?{...X,elementId:G}:X},L=U(B.startAttachment??null),Z=U(B.endAttachment??null);return{...B,id:V,startPoint:Qt({x:B.startPoint.x+m,y:B.startPoint.y+x}),endPoint:Qt({x:B.endPoint.x+m,y:B.endPoint.y+x}),startAttachment:L,endAttachment:Z,zIndex:M++}}),I=ke([...C.connectors,..._],T),z=_.map(B=>B.id),O=R.map(B=>B.id);return{...C,elements:T,connectors:I,selectedElements:O,selectedConnectors:z,selectedItemIds:la(O,z)}}),d(C=>C+1),console.log(`Pasted ${S.length} element(s) and ${l.connectors.length} connector(s) from clipboard (paste #${y})`)},[l,u,r,a]);return{clipboard:l,actions:{copy:p,cut:g,paste:f}}}function gc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Uf={exports:{}};/*!

pica
https://github.com/nodeca/pica

*/var ox;function a_(){return ox||(ox=1,(function(e,a){(function(r){e.exports=r()})(function(){return(function(){function r(l,s,u){function d(f,y){if(!s[f]){if(!l[f]){var m=typeof gc=="function"&&gc;if(!y&&m)return m(f,!0);if(p)return p(f,!0);var x=new Error("Cannot find module '"+f+"'");throw x.code="MODULE_NOT_FOUND",x}var b=s[f]={exports:{}};l[f][0].call(b.exports,function(v){var S=l[f][1][v];return d(S||v)},b,b.exports,r,l,s,u)}return s[f].exports}for(var p=typeof gc=="function"&&gc,g=0;g<u.length;g++)d(u[g]);return d}return r})()({1:[function(r,l,s){var u=r("multimath"),d=r("./mm_unsharp_mask"),p=r("./mm_resize");function g(f){var y=f||[],m={js:y.indexOf("js")>=0,wasm:y.indexOf("wasm")>=0};u.call(this,m),this.features={js:m.js,wasm:m.wasm&&this.has_wasm()},this.use(d),this.use(p)}g.prototype=Object.create(u.prototype),g.prototype.constructor=g,g.prototype.resizeAndUnsharp=function(y,m){var x=this.resize(y,m);return y.unsharpAmount&&this.unsharp_mask(x,y.toWidth,y.toHeight,y.unsharpAmount,y.unsharpRadius,y.unsharpThreshold),x},l.exports=g},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(r,l,s){function u(m){return m<0?0:m>255?255:m}function d(m){return m>=0?m:0}function p(m,x,b,v,S,C){var M,R,T,_,I,z,O,B,V,U,L,Z=0,J=0;for(V=0;V<v;V++){for(I=0,U=0;U<S;U++){for(z=C[I++],O=C[I++],B=Z+z*4|0,M=R=T=_=0;O>0;O--)L=C[I++],_=_+L*m[B+3]|0,T=T+L*m[B+2]|0,R=R+L*m[B+1]|0,M=M+L*m[B]|0,B=B+4|0;x[J+3]=d(_>>7),x[J+2]=d(T>>7),x[J+1]=d(R>>7),x[J]=d(M>>7),J=J+v*4|0}J=(V+1)*4|0,Z=(V+1)*b*4|0}}function g(m,x,b,v,S,C){var M,R,T,_,I,z,O,B,V,U,L,Z=0,J=0;for(V=0;V<v;V++){for(I=0,U=0;U<S;U++){for(z=C[I++],O=C[I++],B=Z+z*4|0,M=R=T=_=0;O>0;O--)L=C[I++],_=_+L*m[B+3]|0,T=T+L*m[B+2]|0,R=R+L*m[B+1]|0,M=M+L*m[B]|0,B=B+4|0;M>>=7,R>>=7,T>>=7,_>>=7,x[J+3]=u(_+8192>>14),x[J+2]=u(T+8192>>14),x[J+1]=u(R+8192>>14),x[J]=u(M+8192>>14),J=J+v*4|0}J=(V+1)*4|0,Z=(V+1)*b*4|0}}function f(m,x,b,v,S,C){var M,R,T,_,I,z,O,B,V,U,L,Z,J=0,X=0;for(U=0;U<v;U++){for(z=0,L=0;L<S;L++){for(O=C[z++],B=C[z++],V=J+O*4|0,M=R=T=_=0;B>0;B--)Z=C[z++],I=m[V+3],_=_+Z*I|0,T=T+Z*m[V+2]*I|0,R=R+Z*m[V+1]*I|0,M=M+Z*m[V]*I|0,V=V+4|0;T=T/255|0,R=R/255|0,M=M/255|0,x[X+3]=d(_>>7),x[X+2]=d(T>>7),x[X+1]=d(R>>7),x[X]=d(M>>7),X=X+v*4|0}X=(U+1)*4|0,J=(U+1)*b*4|0}}function y(m,x,b,v,S,C){var M,R,T,_,I,z,O,B,V,U,L,Z=0,J=0;for(V=0;V<v;V++){for(I=0,U=0;U<S;U++){for(z=C[I++],O=C[I++],B=Z+z*4|0,M=R=T=_=0;O>0;O--)L=C[I++],_=_+L*m[B+3]|0,T=T+L*m[B+2]|0,R=R+L*m[B+1]|0,M=M+L*m[B]|0,B=B+4|0;M>>=7,R>>=7,T>>=7,_>>=7,_=u(_+8192>>14),_>0&&(M=M*255/_|0,R=R*255/_|0,T=T*255/_|0),x[J+3]=_,x[J+2]=u(T+8192>>14),x[J+1]=u(R+8192>>14),x[J]=u(M+8192>>14),J=J+v*4|0}J=(V+1)*4|0,Z=(V+1)*b*4|0}}l.exports={convolveHor:p,convolveVert:g,convolveHorWithPre:f,convolveVertWithPre:y}},{}],3:[function(r,l,s){l.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(r,l,s){l.exports={name:"resize",fn:r("./resize"),wasm_fn:r("./resize_wasm"),wasm_src:r("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(r,l,s){var u=r("./resize_filter_gen"),d=r("./convolve"),p=d.convolveHor,g=d.convolveVert,f=d.convolveHorWithPre,y=d.convolveVertWithPre;function m(b,v,S){for(var C=3,M=v*S*4|0;C<M;){if(b[C]!==255)return!0;C=C+4|0}return!1}function x(b,v,S){for(var C=3,M=v*S*4|0;C<M;)b[C]=255,C=C+4|0}l.exports=function(v){var S=v.src,C=v.width,M=v.height,R=v.toWidth,T=v.toHeight,_=v.scaleX||v.toWidth/v.width,I=v.scaleY||v.toHeight/v.height,z=v.offsetX||0,O=v.offsetY||0,B=v.dest||new Uint8Array(R*T*4),V=typeof v.filter>"u"?"mks2013":v.filter,U=u(V,C,R,_,z),L=u(V,M,T,I,O),Z=new Uint16Array(R*M*4);return m(S,C,M)?(f(S,Z,C,M,R,U),y(Z,B,M,R,T,L)):(p(S,Z,C,M,R,U),g(Z,B,M,R,T,L),x(B,R,T)),B}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(r,l,s){var u=r("./resize_filter_info"),d=14;function p(g){return Math.round(g*((1<<d)-1))}l.exports=function(f,y,m,x,b){var v=u.filter[f].fn,S=1/x,C=Math.min(1,x),M=u.filter[f].win/C,R,T,_,I,z,O,B,V,U,L,Z,J,X,G,D,P,N,Y=Math.floor((M+1)*2),E=new Int16Array((Y+2)*m),H=0,$=!E.subarray||!E.set;for(R=0;R<m;R++){for(T=(R+.5)*S+b,_=Math.max(0,Math.floor(T-M)),I=Math.min(y-1,Math.ceil(T+M)),z=I-_+1,O=new Float32Array(z),B=new Int16Array(z),V=0,U=_,L=0;U<=I;U++,L++)Z=v((U+.5-T)*C),V+=Z,O[L]=Z;for(J=0,L=0;L<O.length;L++)X=O[L]/V,J+=X,B[L]=p(X);for(B[m>>1]+=p(1-J),G=0;G<B.length&&B[G]===0;)G++;if(G<B.length){for(D=B.length-1;D>0&&B[D]===0;)D--;if(P=_+G,N=D-G+1,E[H++]=P,E[H++]=N,!$)E.set(B.subarray(G,D+1),H),H+=N;else for(L=G;L<=D;L++)E[H++]=B[L]}else E[H++]=0,E[H++]=0}return E}},{"./resize_filter_info":7}],7:[function(r,l,s){var u={box:{win:.5,fn:function(p){return p<0&&(p=-p),p<.5?1:0}},hamming:{win:1,fn:function(p){if(p<0&&(p=-p),p>=1)return 0;if(p<11920929e-14)return 1;var g=p*Math.PI;return Math.sin(g)/g*(.54+.46*Math.cos(g/1))}},lanczos2:{win:2,fn:function(p){if(p<0&&(p=-p),p>=2)return 0;if(p<11920929e-14)return 1;var g=p*Math.PI;return Math.sin(g)/g*Math.sin(g/2)/(g/2)}},lanczos3:{win:3,fn:function(p){if(p<0&&(p=-p),p>=3)return 0;if(p<11920929e-14)return 1;var g=p*Math.PI;return Math.sin(g)/g*Math.sin(g/3)/(g/3)}},mks2013:{win:2.5,fn:function(p){return p<0&&(p=-p),p>=2.5?0:p>=1.5?-.125*(p-2.5)*(p-2.5):p>=.5?.25*(4*p*p-11*p+7):1.0625-1.75*p*p}}};l.exports={filter:u,f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(r,l,s){var u=r("./resize_filter_gen");function d(m,x,b){for(var v=3,S=x*b*4|0;v<S;){if(m[v]!==255)return!0;v=v+4|0}return!1}function p(m,x,b){for(var v=3,S=x*b*4|0;v<S;)m[v]=255,v=v+4|0}function g(m){return new Uint8Array(m.buffer,0,m.byteLength)}var f=!0;try{f=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1}catch{}function y(m,x,b){if(f){x.set(g(m),b);return}for(var v=b,S=0;S<m.length;S++){var C=m[S];x[v++]=C&255,x[v++]=C>>8&255}}l.exports=function(x){var b=x.src,v=x.width,S=x.height,C=x.toWidth,M=x.toHeight,R=x.scaleX||x.toWidth/x.width,T=x.scaleY||x.toHeight/x.height,_=x.offsetX||0,I=x.offsetY||0,z=x.dest||new Uint8Array(C*M*4),O=typeof x.filter>"u"?"mks2013":x.filter,B=u(O,v,C,R,_),V=u(O,S,M,T,I),U=0,L=Math.max(b.byteLength,z.byteLength),Z=this.__align(U+L),J=S*C*4*2,X=this.__align(Z+J),G=this.__align(X+B.byteLength),D=G+V.byteLength,P=this.__instance("resize",D),N=new Uint8Array(this.__memory.buffer),Y=new Uint32Array(this.__memory.buffer),E=new Uint32Array(b.buffer);Y.set(E),y(B,N,X),y(V,N,G);var H=P.exports.convolveHV||P.exports._convolveHV;d(b,v,S)?H(X,G,Z,v,S,C,M,1):(H(X,G,Z,v,S,C,M,0),p(z,C,M));var $=new Uint32Array(z.buffer);return $.set(new Uint32Array(this.__memory.buffer,0,M*C)),z}},{"./resize_filter_gen":6}],9:[function(r,l,s){l.exports={name:"unsharp_mask",fn:r("./unsharp_mask"),wasm_fn:r("./unsharp_mask_wasm"),wasm_src:r("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(r,l,s){var u=r("glur/mono16");function d(p,g,f){for(var y=g*f,m=new Uint16Array(y),x,b,v,S,C=0;C<y;C++)x=p[4*C],b=p[4*C+1],v=p[4*C+2],S=x>=b&&x>=v?x:b>=v&&b>=x?b:v,m[C]=S<<8;return m}l.exports=function(g,f,y,m,x,b){var v,S,C,M,R;if(!(m===0||x<.5)){x>2&&(x=2);var T=d(g,f,y),_=new Uint16Array(T);u(_,f,y,x);for(var I=m/100*4096+.5|0,z=b<<8,O=f*y,B=0;B<O;B++)v=T[B],M=v-_[B],Math.abs(M)>=z&&(S=v+(I*M+2048>>12),S=S>65280?65280:S,S=S<0?0:S,v=v!==0?v:1,C=(S<<12)/v|0,R=B*4,g[R]=g[R]*C+2048>>12,g[R+1]=g[R+1]*C+2048>>12,g[R+2]=g[R+2]*C+2048>>12)}}},{"glur/mono16":18}],11:[function(r,l,s){l.exports=function(d,p,g,f,y,m){if(!(f===0||y<.5)){y>2&&(y=2);var x=p*g,b=x*4,v=x*2,S=x*2,C=Math.max(p,g)*4,M=32,R=0,T=b,_=T+v,I=_+S,z=I+S,O=z+C,B=this.__instance("unsharp_mask",b+v+S*2+C+M,{exp:Math.exp}),V=new Uint32Array(d.buffer),U=new Uint32Array(this.__memory.buffer);U.set(V);var L=B.exports.hsv_v16||B.exports._hsv_v16;L(R,T,p,g),L=B.exports.blurMono16||B.exports._blurMono16,L(T,_,I,z,O,p,g,y),L=B.exports.unsharp||B.exports._unsharp,L(R,R,T,_,p,g,f,m),V.set(new Uint32Array(this.__memory.buffer,0,x))}}},{}],12:[function(r,l,s){l.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(r,l,s){var u=100;function d(p,g){this.create=p,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=g||2e3}d.prototype.acquire=function(){var p=this,g;return this.available.length!==0?g=this.available.pop():(g=this.create(),g.id=this.lastId++,g.release=function(){return p.release(g)}),this.acquired[g.id]=g,g},d.prototype.release=function(p){var g=this;delete this.acquired[p.id],p.lastUsed=Date.now(),this.available.push(p),this.timeoutId===0&&(this.timeoutId=setTimeout(function(){return g.gc()},u))},d.prototype.gc=function(){var p=this,g=Date.now();this.available=this.available.filter(function(f){return g-f.lastUsed>p.idle?(f.destroy(),!1):!0}),this.available.length!==0?this.timeoutId=setTimeout(function(){return p.gc()},u):this.timeoutId=0},l.exports=d},{}],14:[function(r,l,s){var u=2;l.exports=function(p,g,f,y,m,x){var b=f/p,v=y/g,S=(2*x+u+1)/m;if(S>.5)return[[f,y]];var C=Math.ceil(Math.log(Math.min(b,v))/Math.log(S));if(C<=1)return[[f,y]];for(var M=[],R=0;R<C;R++){var T=Math.round(Math.pow(Math.pow(p,C-R-1)*Math.pow(f,R+1),1/C)),_=Math.round(Math.pow(Math.pow(g,C-R-1)*Math.pow(y,R+1),1/C));M.push([T,_])}return M}},{}],15:[function(r,l,s){var u=1e-5;function d(g){var f=Math.round(g);return Math.abs(g-f)<u?f:Math.floor(g)}function p(g){var f=Math.round(g);return Math.abs(g-f)<u?f:Math.ceil(g)}l.exports=function(f){var y=f.toWidth/f.width,m=f.toHeight/f.height,x=d(f.srcTileSize*y)-2*f.destTileBorder,b=d(f.srcTileSize*m)-2*f.destTileBorder;if(x<1||b<1)throw new Error("Internal error in pica: target tile width/height is too small.");var v,S,C,M,R,T,_=[],I;for(M=0;M<f.toHeight;M+=b)for(C=0;C<f.toWidth;C+=x)v=C-f.destTileBorder,v<0&&(v=0),R=C+x+f.destTileBorder-v,v+R>=f.toWidth&&(R=f.toWidth-v),S=M-f.destTileBorder,S<0&&(S=0),T=M+b+f.destTileBorder-S,S+T>=f.toHeight&&(T=f.toHeight-S),I={toX:v,toY:S,toWidth:R,toHeight:T,toInnerX:C,toInnerY:M,toInnerWidth:x,toInnerHeight:b,offsetX:v/y-d(v/y),offsetY:S/m-d(S/m),scaleX:y,scaleY:m,x:d(v/y),y:d(S/m),width:p(R/y),height:p(T/m)},_.push(I);return _}},{}],16:[function(r,l,s){function u(d){return Object.prototype.toString.call(d)}l.exports.isCanvas=function(p){var g=u(p);return g==="[object HTMLCanvasElement]"||g==="[object OffscreenCanvas]"||g==="[object Canvas]"},l.exports.isImage=function(p){return u(p)==="[object HTMLImageElement]"},l.exports.isImageBitmap=function(p){return u(p)==="[object ImageBitmap]"},l.exports.limiter=function(p){var g=0,f=[];function y(){g<p&&f.length&&(g++,f.shift()())}return function(x){return new Promise(function(b,v){f.push(function(){x().then(function(S){b(S),g--,y()},function(S){v(S),g--,y()})}),y()})}},l.exports.cib_quality_name=function(p){switch(p){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},l.exports.cib_support=function(p){return Promise.resolve().then(function(){if(typeof createImageBitmap>"u")return!1;var g=p(100,100);return createImageBitmap(g,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(f){var y=f.width===10;return f.close(),g=null,y})}).catch(function(){return!1})},l.exports.worker_offscreen_canvas_support=function(){return new Promise(function(p,g){if(typeof OffscreenCanvas>"u"){p(!1);return}function f(x){if(typeof createImageBitmap>"u"){x.postMessage(!1);return}Promise.resolve().then(function(){var b=new OffscreenCanvas(10,10),v=b.getContext("2d");return v.rect(0,0,1,1),createImageBitmap(b,0,0,1,1)}).then(function(){return x.postMessage(!0)},function(){return x.postMessage(!1)})}var y=btoa("(".concat(f.toString(),")(self);")),m=new Worker("data:text/javascript;base64,".concat(y));m.onmessage=function(x){return p(x.data)},m.onerror=g}).then(function(p){return p},function(){return!1})},l.exports.can_use_canvas=function(p){var g=!1;try{var f=p(2,1),y=f.getContext("2d"),m=y.createImageData(2,1);m.data[0]=12,m.data[1]=23,m.data[2]=34,m.data[3]=255,m.data[4]=45,m.data[5]=56,m.data[6]=67,m.data[7]=255,y.putImageData(m,0,0),m=null,m=y.getImageData(0,0,2,1),m.data[0]===12&&m.data[1]===23&&m.data[2]===34&&m.data[3]===255&&m.data[4]===45&&m.data[5]===56&&m.data[6]===67&&m.data[7]===255&&(g=!0)}catch{}return g},l.exports.cib_can_use_region=function(){return new Promise(function(p){if(typeof Image>"u"||typeof createImageBitmap>"u"){p(!1);return}var g=new Image;g.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",g.onload=function(){createImageBitmap(g,0,0,g.width,g.height).then(function(f){f.width===g.width&&f.height===g.height?p(!0):p(!1)},function(){return p(!1)})},g.onerror=function(){return p(!1)}})}},{}],17:[function(r,l,s){l.exports=function(){var u=r("./mathlib"),d;onmessage=function(g){var f=g.data.opts;if(!f.src&&f.srcBitmap){var y=new OffscreenCanvas(f.width,f.height),m=y.getContext("2d");m.drawImage(f.srcBitmap,0,0),f.src=m.getImageData(0,0,f.width,f.height).data,y.width=y.height=0,y=null,f.srcBitmap.close(),f.srcBitmap=null}d||(d=new u(g.data.features));var x=d.resizeAndUnsharp(f);postMessage({data:x},[x.buffer])}}},{"./mathlib":1}],18:[function(r,l,s){var u,d,p,g,f,y,m,x;function b(C){C<.5&&(C=.5);var M=Math.exp(.726*.726)/C,R=Math.exp(-M),T=Math.exp(-2*M),_=(1-R)*(1-R)/(1+2*M*R-T);return u=_,d=_*(M-1)*R,p=_*(M+1)*R,g=-_*T,f=2*R,y=-T,m=(u+d)/(1-f-y),x=(p+g)/(1-f-y),new Float32Array([u,d,p,g,f,y,m,x])}function v(C,M,R,T,_,I){var z,O,B,V,U,L,Z,J,X,G,D,P,N,Y;for(X=0;X<I;X++){for(L=X*_,Z=X,J=0,z=C[L],U=z*T[6],V=U,D=T[0],P=T[1],N=T[4],Y=T[5],G=0;G<_;G++)O=C[L],B=O*D+z*P+V*N+U*Y,U=V,V=B,z=O,R[J]=V,J++,L++;for(L--,J--,Z+=I*(_-1),z=C[L],U=z*T[7],V=U,O=z,D=T[2],P=T[3],G=_-1;G>=0;G--)B=O*D+z*P+V*N+U*Y,U=V,V=B,z=O,O=C[L],M[Z]=R[J]+V,L--,J--,Z-=I}}function S(C,M,R,T){if(T){var _=new Uint16Array(C.length),I=new Float32Array(Math.max(M,R)),z=b(T);v(C,_,I,z,M,R),v(_,C,I,z,R,M)}}l.exports=S},{}],19:[function(r,l,s){var u=r("object-assign"),d=r("./lib/base64decode"),p=r("./lib/wa_detect"),g={js:!0,wasm:!0};function f(y){if(!(this instanceof f))return new f(y);var m=u({},g,y||{});if(this.options=m,this.__cache={},this.__init_promise=null,this.__modules=m.modules||{},this.__memory=null,this.__wasm={},this.__isLE=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1,!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}f.prototype.has_wasm=p,f.prototype.use=function(y){return this.__modules[y.name]=y,this.options.wasm&&this.has_wasm()&&y.wasm_fn?this[y.name]=y.wasm_fn:this[y.name]=y.fn,this},f.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error(`mathlib: only "wasm" was enabled, but it's not supported`));var y=this;return this.__init_promise=Promise.all(Object.keys(y.__modules).map(function(m){var x=y.__modules[m];return!y.options.wasm||!y.has_wasm()||!x.wasm_fn||y.__wasm[m]?null:WebAssembly.compile(y.__base64decode(x.wasm_src)).then(function(b){y.__wasm[m]=b})})).then(function(){return y}),this.__init_promise},f.prototype.__base64decode=d,f.prototype.__reallocate=function(m){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(m/(64*1024))}),this.__memory;var x=this.__memory.buffer.byteLength;return x<m&&this.__memory.grow(Math.ceil((m-x)/(64*1024))),this.__memory},f.prototype.__instance=function(m,x,b){if(x&&this.__reallocate(x),!this.__wasm[m]){var v=this.__modules[m];this.__wasm[m]=new WebAssembly.Module(this.__base64decode(v.wasm_src))}if(!this.__cache[m]){var S={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[m]=new WebAssembly.Instance(this.__wasm[m],{env:u(S,b||{})})}return this.__cache[m]},f.prototype.__align=function(m,x){x=x||8;var b=m%x;return m+(b?x-b:0)},l.exports=f},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(r,l,s){var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";l.exports=function(p){for(var g=p.replace(/[\r\n=]/g,""),f=g.length,y=new Uint8Array(f*3>>2),m=0,x=0,b=0;b<f;b++)b%4===0&&b&&(y[x++]=m>>16&255,y[x++]=m>>8&255,y[x++]=m&255),m=m<<6|u.indexOf(g.charAt(b));var v=f%4*6;return v===0?(y[x++]=m>>16&255,y[x++]=m>>8&255,y[x++]=m&255):v===18?(y[x++]=m>>10&255,y[x++]=m>>2&255):v===12&&(y[x++]=m>>4&255),y}},{}],21:[function(r,l,s){var u;l.exports=function(){if(typeof u<"u"||(u=!1,typeof WebAssembly>"u"))return u;try{var p=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),g=new WebAssembly.Module(p),f=new WebAssembly.Instance(g,{});return f.exports.test(4)!==0&&(u=!0),u}catch{}return u}},{}],22:[function(r,l,s){var u=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function g(y){if(y==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(y)}function f(){try{if(!Object.assign)return!1;var y=new String("abc");if(y[5]="de",Object.getOwnPropertyNames(y)[0]==="5")return!1;for(var m={},x=0;x<10;x++)m["_"+String.fromCharCode(x)]=x;var b=Object.getOwnPropertyNames(m).map(function(S){return m[S]});if(b.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(S){v[S]=S}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}l.exports=f()?Object.assign:function(y,m){for(var x,b=g(y),v,S=1;S<arguments.length;S++){x=Object(arguments[S]);for(var C in x)d.call(x,C)&&(b[C]=x[C]);if(u){v=u(x);for(var M=0;M<v.length;M++)p.call(x,v[M])&&(b[v[M]]=x[v[M]])}}return b}},{}],23:[function(r,l,s){var u=arguments[3],d=arguments[4],p=arguments[5],g=JSON.stringify;l.exports=function(f,y){for(var m,x=Object.keys(p),b=0,v=x.length;b<v;b++){var S=x[b],C=p[S].exports;if(C===f||C&&C.default===f){m=S;break}}if(!m){m=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var M={},b=0,v=x.length;b<v;b++){var S=x[b];M[S]=S}d[m]=["function(require,module,exports){"+f+"(self); }",M]}var R=Math.floor(Math.pow(16,8)*Math.random()).toString(16),T={};T[m]=m,d[R]=["function(require,module,exports){var f = require("+g(m)+");(f.default ? f.default : f)(self);}",T];var _={};I(R);function I(L){_[L]=!0;for(var Z in d[L][1]){var J=d[L][1][Z];_[J]||I(J)}}var z="("+u+")({"+Object.keys(_).map(function(L){return g(L)+":["+d[L][0]+","+g(d[L][1])+"]"}).join(",")+"},{},["+g(R)+"])",O=window.URL||window.webkitURL||window.mozURL||window.msURL,B=new Blob([z],{type:"text/javascript"});if(y&&y.bare)return B;var V=O.createObjectURL(B),U=new Worker(V);return U.objectURL=V,U}},{}],"/index.js":[function(r,l,s){function u(D,P){return y(D)||f(D,P)||p(D,P)||d()}function d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(D,P){if(D){if(typeof D=="string")return g(D,P);var N=Object.prototype.toString.call(D).slice(8,-1);if(N==="Object"&&D.constructor&&(N=D.constructor.name),N==="Map"||N==="Set")return Array.from(D);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return g(D,P)}}function g(D,P){(P==null||P>D.length)&&(P=D.length);for(var N=0,Y=new Array(P);N<P;N++)Y[N]=D[N];return Y}function f(D,P){var N=D==null?null:typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(N!=null){var Y=[],E=!0,H=!1,$,q;try{for(N=N.call(D);!(E=($=N.next()).done)&&(Y.push($.value),!(P&&Y.length===P));E=!0);}catch(nt){H=!0,q=nt}finally{try{!E&&N.return!=null&&N.return()}finally{if(H)throw q}}return Y}}function y(D){if(Array.isArray(D))return D}var m=r("object-assign"),x=r("webworkify"),b=r("./lib/mathlib"),v=r("./lib/pool"),S=r("./lib/utils"),C=r("./lib/worker"),M=r("./lib/stepper"),R=r("./lib/tiler"),T=r("./lib/mm_resize/resize_filter_info"),_={},I=!1;try{typeof navigator<"u"&&navigator.userAgent&&(I=navigator.userAgent.indexOf("Safari")>=0)}catch{}var z=1;typeof navigator<"u"&&(z=Math.min(navigator.hardwareConcurrency||1,4));var O={tile:1024,concurrency:z,features:["js","wasm","ww"],idle:2e3,createCanvas:function(P,N){var Y=document.createElement("canvas");return Y.width=P,Y.height=N,Y}},B={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},V=!1,U=!1,L=!1,Z=!1,J=!1;function X(){return{value:x(C),destroy:function(){if(this.value.terminate(),typeof window<"u"){var P=window.URL||window.webkitURL||window.mozURL||window.msURL;P&&P.revokeObjectURL&&this.value.objectURL&&P.revokeObjectURL(this.value.objectURL)}}}}function G(D){if(!(this instanceof G))return new G(D);this.options=m({},O,D||{});var P="lk_".concat(this.options.concurrency);this.__limit=_[P]||S.limiter(this.options.concurrency),_[P]||(_[P]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}G.prototype.init=function(){var D=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData<"u"&&typeof Uint8ClampedArray<"u")try{new ImageData(new Uint8ClampedArray(400),10,10),V=!0}catch{}typeof ImageBitmap<"u"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?U=!0:this.debug("ImageBitmap does not support .close(), disabled"));var P=this.options.features.slice();if(P.indexOf("all")>=0&&(P=["cib","wasm","js","ww"]),this.__requested_features=P,this.__mathlib=new b(P),P.indexOf("ww")>=0&&typeof window<"u"&&"Worker"in window)try{var N=r("webworkify")(function(){});N.terminate(),this.features.ww=!0;var Y="wp_".concat(JSON.stringify(this.options));_[Y]?this.__workersPool=_[Y]:(this.__workersPool=new v(X,this.options.idle),_[Y]=this.__workersPool)}catch{}var E=this.__mathlib.init().then(function(nt){m(D.features,nt.features)}),H;U?H=S.cib_support(this.options.createCanvas).then(function(nt){if(D.features.cib&&P.indexOf("cib")<0){D.debug("createImageBitmap() resize supported, but disabled by config");return}P.indexOf("cib")>=0&&(D.features.cib=nt)}):H=Promise.resolve(!1),L=S.can_use_canvas(this.options.createCanvas);var $;U&&V&&P.indexOf("ww")!==-1?$=S.worker_offscreen_canvas_support():$=Promise.resolve(!1),$=$.then(function(nt){Z=nt});var q=S.cib_can_use_region().then(function(nt){J=nt});return this.__initPromise=Promise.all([E,H,$,q]).then(function(){return D}),this.__initPromise},G.prototype.__invokeResize=function(D,P){var N=this;return P.__mathCache=P.__mathCache||{},Promise.resolve().then(function(){return N.features.ww?new Promise(function(Y,E){var H=N.__workersPool.acquire();P.cancelToken&&P.cancelToken.catch(function(q){return E(q)}),H.value.onmessage=function(q){H.release(),q.data.err?E(q.data.err):Y(q.data)};var $=[];D.src&&$.push(D.src.buffer),D.srcBitmap&&$.push(D.srcBitmap),H.value.postMessage({opts:D,features:N.__requested_features,preload:{wasm_nodule:N.__mathlib.__}},$)}):{data:N.__mathlib.resizeAndUnsharp(D,P.__mathCache)}})},G.prototype.__extractTileData=function(D,P,N,Y,E){if(this.features.ww&&Z&&(S.isCanvas(P)||J))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(Y.srcImageBitmap||P,D.x,D.y,D.width,D.height).then(function(q){return E.srcBitmap=q,E});if(S.isCanvas(P))return Y.srcCtx||(Y.srcCtx=P.getContext("2d")),this.debug("Get tile pixel data"),E.src=Y.srcCtx.getImageData(D.x,D.y,D.width,D.height).data,E;this.debug("Draw tile imageBitmap/image to temporary canvas");var H=this.options.createCanvas(D.width,D.height),$=H.getContext("2d");return $.globalCompositeOperation="copy",$.drawImage(Y.srcImageBitmap||P,D.x,D.y,D.width,D.height,0,0,D.width,D.height),this.debug("Get tile pixel data"),E.src=$.getImageData(0,0,D.width,D.height).data,H.width=H.height=0,E},G.prototype.__landTileData=function(D,P,N){var Y;if(this.debug("Convert raw rgba tile result to ImageData"),P.bitmap)return N.toCtx.drawImage(P.bitmap,D.toX,D.toY),null;if(V)Y=new ImageData(new Uint8ClampedArray(P.data),D.toWidth,D.toHeight);else if(Y=N.toCtx.createImageData(D.toWidth,D.toHeight),Y.data.set)Y.data.set(P.data);else for(var E=Y.data.length-1;E>=0;E--)Y.data[E]=P.data[E];return this.debug("Draw tile"),I?N.toCtx.putImageData(Y,D.toX,D.toY,D.toInnerX-D.toX,D.toInnerY-D.toY,D.toInnerWidth+1e-5,D.toInnerHeight+1e-5):N.toCtx.putImageData(Y,D.toX,D.toY,D.toInnerX-D.toX,D.toInnerY-D.toY,D.toInnerWidth,D.toInnerHeight),null},G.prototype.__tileAndResize=function(D,P,N){var Y=this,E={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null},H=function(q){return Y.__limit(function(){if(N.canceled)return N.cancelToken;var nt={width:q.width,height:q.height,toWidth:q.toWidth,toHeight:q.toHeight,scaleX:q.scaleX,scaleY:q.scaleY,offsetX:q.offsetX,offsetY:q.offsetY,filter:N.filter,unsharpAmount:N.unsharpAmount,unsharpRadius:N.unsharpRadius,unsharpThreshold:N.unsharpThreshold};return Y.debug("Invoke resize math"),Promise.resolve(nt).then(function(vt){return Y.__extractTileData(q,D,N,E,vt)}).then(function(vt){return Y.debug("Invoke resize math"),Y.__invokeResize(vt,N)}).then(function(vt){return N.canceled?N.cancelToken:(E.srcImageData=null,Y.__landTileData(q,vt,E))})})};return Promise.resolve().then(function(){if(E.toCtx=P.getContext("2d"),S.isCanvas(D))return null;if(S.isImageBitmap(D))return E.srcImageBitmap=D,E.isImageBitmapReused=!0,null;if(S.isImage(D))return U?(Y.debug("Decode image via createImageBitmap"),createImageBitmap(D).then(function($){E.srcImageBitmap=$}).catch(function($){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(N.canceled)return N.cancelToken;Y.debug("Calculate tiles");var $=R({width:N.width,height:N.height,srcTileSize:Y.options.tile,toWidth:N.toWidth,toHeight:N.toHeight,destTileBorder:N.__destTileBorder}),q=$.map(function(vt){return H(vt)});function nt(vt){vt.srcImageBitmap&&(vt.isImageBitmapReused||vt.srcImageBitmap.close(),vt.srcImageBitmap=null)}return Y.debug("Process tiles"),Promise.all(q).then(function(){return Y.debug("Finished!"),nt(E),P},function(vt){throw nt(E),vt})})},G.prototype.__processStages=function(D,P,N,Y){var E=this;if(Y.canceled)return Y.cancelToken;var H=D.shift(),$=u(H,2),q=$[0],nt=$[1],vt=D.length===0,ht;vt||T.q2f.indexOf(Y.filter)<0?ht=Y.filter:Y.filter==="box"?ht="box":ht="hamming",Y=m({},Y,{toWidth:q,toHeight:nt,filter:ht});var xt;return vt||(xt=this.options.createCanvas(q,nt)),this.__tileAndResize(P,vt?N:xt,Y).then(function(){return vt?N:(Y.width=q,Y.height=nt,E.__processStages(D,xt,N,Y))}).then(function(Ct){return xt&&(xt.width=xt.height=0),Ct})},G.prototype.__resizeViaCreateImageBitmap=function(D,P,N){var Y=this,E=P.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(D,{resizeWidth:N.toWidth,resizeHeight:N.toHeight,resizeQuality:S.cib_quality_name(T.f2q[N.filter])}).then(function(H){if(N.canceled)return N.cancelToken;if(!N.unsharpAmount)return E.drawImage(H,0,0),H.close(),E=null,Y.debug("Finished!"),P;Y.debug("Unsharp result");var $=Y.options.createCanvas(N.toWidth,N.toHeight),q=$.getContext("2d");q.drawImage(H,0,0),H.close();var nt=q.getImageData(0,0,N.toWidth,N.toHeight);return Y.__mathlib.unsharp_mask(nt.data,N.toWidth,N.toHeight,N.unsharpAmount,N.unsharpRadius,N.unsharpThreshold),E.putImageData(nt,0,0),$.width=$.height=0,nt=q=$=E=null,Y.debug("Finished!"),P})},G.prototype.resize=function(D,P,N){var Y=this;this.debug("Start resize...");var E=m({},B);if(isNaN(N)?N&&(E=m(E,N)):E=m(E,{quality:N}),E.toWidth=P.width,E.toHeight=P.height,E.width=D.naturalWidth||D.width,E.height=D.naturalHeight||D.height,Object.prototype.hasOwnProperty.call(E,"quality")){if(E.quality<0||E.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(E.quality));E.filter=T.q2f[E.quality]}if(P.width===0||P.height===0)return Promise.reject(new Error("Invalid output size: ".concat(P.width,"x").concat(P.height)));E.unsharpRadius>2&&(E.unsharpRadius=2),E.canceled=!1,E.cancelToken&&(E.cancelToken=E.cancelToken.then(function($){throw E.canceled=!0,$},function($){throw E.canceled=!0,$}));var H=3;return E.__destTileBorder=Math.ceil(Math.max(H,2.5*E.unsharpRadius|0)),this.init().then(function(){if(E.canceled)return E.cancelToken;if(Y.features.cib){if(T.q2f.indexOf(E.filter)>=0)return Y.__resizeViaCreateImageBitmap(D,P,E);Y.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!L){var $=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw $.code="ERR_GET_IMAGE_DATA",$}var q=M(E.width,E.height,E.toWidth,E.toHeight,Y.options.tile,E.__destTileBorder);return Y.__processStages(q,D,P,E)})},G.prototype.resizeBuffer=function(D){var P=this,N=m({},B,D);if(Object.prototype.hasOwnProperty.call(N,"quality")){if(N.quality<0||N.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(N.quality));N.filter=T.q2f[N.quality]}return this.init().then(function(){return P.__mathlib.resizeAndUnsharp(N)})},G.prototype.toBlob=function(D,P,N){return P=P||"image/png",new Promise(function(Y){if(D.toBlob){D.toBlob(function(nt){return Y(nt)},P,N);return}if(D.convertToBlob){Y(D.convertToBlob({type:P,quality:N}));return}for(var E=atob(D.toDataURL(P,N).split(",")[1]),H=E.length,$=new Uint8Array(H),q=0;q<H;q++)$[q]=E.charCodeAt(q);Y(new Blob([$],{type:P}))})},G.prototype.debug=function(){},l.exports=G},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")})})(Uf)),Uf.exports}var r_=a_();const i_=Uc(r_),bl=(e,a,r)=>{if(typeof window>"u")return;const l=window.__rewiredTestHooks?.onSaveFile;if(typeof l=="function")try{l({content:e,filename:a,mimeType:r})}catch(s){console.warn("onSaveFile hook threw an error",s)}},l_=(e,a)=>{for(const l of e)for(const s of Object.values(l.accept))if(s.length>0)return s[0];const r=a.split(".");return r.length>1?`.${r.pop()}`:""},s_=(e,a)=>!a||e.toLowerCase().endsWith(a.toLowerCase())?e:`${e}${a}`,uu=()=>"showSaveFilePicker"in window,c_=async e=>{if(!uu())throw new Error("File System Access API not supported");try{return await window.showSaveFilePicker({suggestedName:e.suggestedName,types:e.types})}catch(a){if(a.name==="AbortError")return null;throw a}},u_=async(e,a)=>{const r=await e.createWritable();await r.write(a),await r.close()},d_=async(e,a)=>{const r=await e.createWritable();await r.write(a),await r.close()},$f=(e,a,r)=>{let l;typeof e=="string"?l=new Blob([e],{type:r}):l=e;const s=URL.createObjectURL(l),u=document.createElement("a");u.href=s,u.download=a,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(s)},ax=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),rx=e=>{const a=new FileReader;a.onloadend=()=>{const r=typeof a.result=="string"?a.result:void 0;if(!r)return;window.open(r,"_blank")||(window.location.href=r)},a.readAsDataURL(e)},f_=async e=>{if(!uu())throw new Error("File System Access API not supported");try{const[a]=await window.showOpenFilePicker({types:e.types,multiple:!1});return a}catch(a){if(a.name==="AbortError")return null;throw a}},h_=async e=>await(await e.getFile()).text(),ix=e=>new Promise(a=>{const r=document.createElement("input");r.type="file",r.accept=e.join(","),r.onchange=l=>{const s=l.target.files?.[0];a(s||null)},r.oncancel=()=>{a(null)},document.body.appendChild(r),r.click(),document.body.removeChild(r)}),p_=async e=>{if(uu())try{const a=await f_({types:e});return a?await h_(a):null}catch(a){console.warn("File System Access API failed, falling back to input:",a);const r=e.flatMap(s=>Object.values(s.accept).flat()),l=await ix(r);return l?await l.text():null}else{const a=e.flatMap(l=>Object.values(l.accept).flat()),r=await ix(a);return r?await r.text():null}},Xh=async(e,a,r,l)=>{if(uu())try{const s=await c_({suggestedName:a,types:r});return s?(typeof e=="string"?await u_(s,e):await d_(s,e),bl(e,s.name??a,l),!0):!1}catch(s){return console.warn("File System Access API failed, falling back to download:",s),bl(e,a,l),$f(e,a,l),!0}else{const s=l_(r,a);bl(e,a,l);const u=window.prompt("Save file as",a);if(u===null)return!1;const d=s_(u.trim()||a,s);return typeof e=="string"?(bl(e,d,l),ax()?rx(new Blob([e],{type:l})):$f(e,d,l)):(bl(e,d,l),ax()?rx(e):$f(e,d,l)),!0}},yi="#ffffff",Pa=10,Qf=253,m_=[{description:"PNG images",accept:{"image/png":[".png"]}}],g_=(e,a,r,l,s,u)=>{const d=Math.max(0,Math.min(u,Math.min(l,s)/2));e.beginPath(),e.moveTo(a+d,r),e.lineTo(a+l-d,r),e.quadraticCurveTo(a+l,r,a+l,r+d),e.lineTo(a+l,r+s-d),e.quadraticCurveTo(a+l,r+s,a+l-d,r+s),e.lineTo(a+d,r+s),e.quadraticCurveTo(a,r+s,a,r+s-d),e.lineTo(a,r+d),e.quadraticCurveTo(a,r,a+d,r),e.closePath()},y_=e=>({top:parseFloat(e.paddingTop||"0")||0,right:parseFloat(e.paddingRight||"0")||0,bottom:parseFloat(e.paddingBottom||"0")||0,left:parseFloat(e.paddingLeft||"0")||0}),x_=(e,a)=>{if(!a)return e;const r=a.blur+Math.max(a.spread,0),l=Math.max(0,r-a.offsetX),s=Math.max(0,r+a.offsetX),u=Math.max(0,r-a.offsetY),d=Math.max(0,r+a.offsetY);return{left:e.left-l,top:e.top-u,width:e.width+l+s,height:e.height+u+d}},b_=(e,a,r,l)=>{if(!l){a.width=0,a.height=0,a.style.width="0px",a.style.height="0px";const T=a.dataset;T.elementShadowCanvas="false",T.elementCanvasShadowMarginTop="0",T.elementCanvasShadowMarginRight="0",T.elementCanvasShadowMarginBottom="0",T.elementCanvasShadowMarginLeft="0";return}const s=Pt(e.getAttribute("data-element-width"),e.clientWidth),u=Pt(e.getAttribute("data-element-height"),e.clientHeight);if(s<=0||u<=0)return;const d=Pt(e.getAttribute("data-element-stroke-width"),0),p=e.getAttribute("data-element-background")??"#ffffff",g=e.getAttribute("data-element-border-colour")??"#6c757d",f=l.blur+Math.max(l.spread,0),y=f+Math.max(0,-l.offsetX),m=f+Math.max(0,l.offsetX),x=f+Math.max(0,-l.offsetY),b=f+Math.max(0,l.offsetY),v=s+y+m,S=u+x+b,C=Math.min(window.devicePixelRatio||1,3);a.width=Math.max(1,Math.round(v*C)),a.height=Math.max(1,Math.round(S*C)),a.style.width=`${v}px`,a.style.height=`${S}px`,a.style.left=`${-y}px`,a.style.top=`${-x}px`;const M=a.getContext("2d");if(!M)return;M.setTransform(C,0,0,C,0,0),M.clearRect(0,0,v,S),M.translate(y,x),Ov(M,{type:r,width:s,height:u,strokeWidth:d,fillColour:p,strokeColour:g,shadowColour:"rgba(255, 0, 0, 0.75)",shadowBlur:f,shadowOffsetX:l.offsetX,shadowOffsetY:l.offsetY}),M.setTransform(1,0,0,1,0,0);const R=a.dataset;R.elementShadowCanvas="true",R.elementCanvasShadowColour="rgba(255, 0, 0, 0.75)",R.elementCanvasShadowOffsetX=String(l.offsetX),R.elementCanvasShadowOffsetY=String(l.offsetY),R.elementCanvasShadowBlur=String(f),R.elementCanvasShadowMarginTop=String(x),R.elementCanvasShadowMarginRight=String(m),R.elementCanvasShadowMarginBottom=String(b),R.elementCanvasShadowMarginLeft=String(y)},v_=e=>{if(!e)return{top:0,right:0,bottom:0,left:0};try{const a=JSON.parse(e);return{top:Number(a.top)||0,right:Number(a.right)||0,bottom:Number(a.bottom)||0,left:Number(a.left)||0}}catch{return{top:0,right:0,bottom:0,left:0}}},A_=e=>{const a=e.querySelector('[data-element-canvas="true"]');if(!a)return;const r=window.devicePixelRatio||1,l=Pt(e.getAttribute("data-element-width"),a.width/r),s=Pt(e.getAttribute("data-element-height"),a.height/r),u=a.dataset.elementCanvasBackground??"#ffffff",d=a.dataset.elementCanvasBorderColour??"#6c757d",p=Pt(a.dataset.elementCanvasBorderWidth,0),g=Pt(a.dataset.elementCanvasBorderRadius,0),f=v_(a.dataset.elementCanvasPadding),y=a.dataset.elementCanvasText??"",m=a.dataset.elementCanvasTextColour??"#2c3e50",x=Pt(a.dataset.elementCanvasFontSize,14),b=a.dataset.elementCanvasFontWeight??"normal",v=a.dataset.elementCanvasFontFamily??so,S=a.dataset.elementCanvasTextAlign??"left",C=parseFloat(a.dataset.elementCanvasLineHeight||`${x*1.2}`),M=a.dataset.elementCanvasTextarea==="true",R=a.dataset.elementCanvasCheckIndicator,T=a.dataset.elementCanvasCheckColour??"#3498db",_={width:l,height:s,background:u,borderColour:d,borderWidth:p,borderRadius:g,padding:f},I={text:y,textAlign:S,textColour:m,fontSize:x,fontWeight:b,fontFamily:v,lineHeight:C,isTextArea:M},z=R==="checkbox"||R==="radio"?R:void 0,O=Pt(a.dataset.elementCanvasCheckFontSize,Math.max(12,Math.min(l,s)*.75)),B=Pt(a.dataset.elementCanvasCheckTranslateY,0),V=a.dataset.elementCanvasDropdownCaret==="true",U=a.dataset.elementCanvasDropdownCaretColour??m,L=Pt(a.dataset.elementCanvasDropdownCaretSize,Math.max(6,Math.min(x*.6,s*.6))),Z=Pt(a.dataset.elementCanvasDropdownCaretOffset,8),J=(()=>{const N={};return z&&(N.checkIndicator={type:z,colour:T,fontSize:O,translateY:B}),V&&(N.dropdownCaret={colour:U,size:L,offset:Z}),Object.keys(N).length?N:void 0})();jv(a,_,I,!0,r,J);const X=e.querySelector('[data-element-shadow-canvas="true"]');if(X){const N=X.dataset.elementCanvasShadowColour??"rgba(0,0,0,0)",Y=Pt(X.dataset.elementCanvasShadowOffsetX,0),E=Pt(X.dataset.elementCanvasShadowOffsetY,0),H=Pt(X.dataset.elementCanvasShadowBlur,0),q=Bv(X,_,{colour:N,offsetX:Y,offsetY:E,blur:H,enabled:N!=="rgba(0,0,0,0)"},r);X.style.left=`${-q.left}px`,X.style.top=`${-q.top}px`}const G=e.getAttribute("data-element-text-colour"),D=e.getAttribute("data-element-background"),P=e.getAttribute("data-element-border-colour");G&&(e.setAttribute("data-element-text-colour-original",G),e.style.color="transparent"),D&&e.style.setProperty("--element-background","transparent"),P&&e.style.setProperty("--element-border","0px solid transparent")},w_=(e,a,r)=>{if(e.querySelector('[data-element-canvas="true"]')){e.style.position=e.style.position||"relative",e.style.padding="0",e.style.background="transparent",e.style.border="0 solid transparent";return}if(e.getAttribute("data-element-snapshot")==="true"||e.getAttribute("data-shape"))return;const s=Pt(e.getAttribute("data-element-width")),u=Pt(e.getAttribute("data-element-height")),d=s??(parseFloat(a.width||"0")||e.clientWidth),p=u??(parseFloat(a.height||"0")||e.clientHeight);if(!(d>0&&p>0))return;const g=window.devicePixelRatio||1,f=y_(a),y=parseFloat(a.borderTopWidth||"0")||0,m=a.borderTopColor||"rgba(0,0,0,0)",x=a.backgroundColor||"#ffffff",b=parseFloat(a.borderTopLeftRadius||"0")||0,v=a.color||"#2c3e50",S=parseFloat(a.fontSize||"14")||14,C=a.fontWeight||"normal",M=a.fontStyle&&a.fontStyle!=="normal"?a.fontStyle:"",R=a.fontFamily||"sans-serif",T=a.textAlign||"left",_=parseFloat(a.lineHeight||"0"),I=Number.isFinite(_)&&_>0?_:S*1.2,O=(e.textContent??"").replace(/\r\n/g,`
`).split(`
`),B=O.length>0?O:[""],V=B.length*I,U=document.createElement("canvas");U.dataset.elementSnapshot="true",U.width=Math.max(1,Math.round(d*g)),U.height=Math.max(1,Math.round(p*g)),U.style.width=`${d}px`,U.style.height=`${p}px`,U.style.position="absolute",U.style.left="0",U.style.top="0",U.style.pointerEvents="none";const L=U.getContext("2d");if(!L)return;L.setTransform(g,0,0,g,0,0),L.clearRect(0,0,d,p);const Z=zl(r);Z&&(L.shadowColor="rgba(255, 0, 0, 0.75)",L.shadowBlur=Z.blur+Math.max(Z.spread,0),L.shadowOffsetX=Z.offsetX,L.shadowOffsetY=Z.offsetY);const J=Math.max(0,d-y),X=Math.max(0,p-y);g_(L,y/2,y/2,J,X,Math.max(0,b-y/2)),L.fillStyle=x,L.fill(),y>0&&(L.shadowColor="rgba(0,0,0,0)",L.lineWidth=y,L.strokeStyle=m,L.stroke()),L.shadowColor="rgba(0,0,0,0)";const G=[];M&&G.push(M),G.push(C),G.push(`${S}px`),G.push(R),L.font=G.join(" "),L.fillStyle=v,L.textBaseline="middle";let D="left";(T==="center"||T==="right")&&(D=T),L.textAlign=D;const P=e.getAttribute("data-element-type")==="textarea",N=p-f.top-f.bottom;let Y;if(P)Y=f.top+I/2;else{const $=Math.max(0,(N-V)/2);Y=f.top+$+I/2}const E=d-f.left-f.right;let H=Y;for(B.forEach($=>{let q;D==="center"?q=f.left+E/2:D==="right"?q=d-f.right:q=f.left,L.fillText($,q,H),H+=I});e.firstChild;)e.removeChild(e.firstChild);e.style.position=e.style.position||"relative",e.style.padding="0",e.style.background="transparent",e.style.border="0 solid transparent",e.appendChild(U),e.setAttribute("data-element-snapshot","true")};function Pt(e,a=0){if(e==null)return a;const r=Number(e);return Number.isFinite(r)?r:a}function lx(e,a,r,l){const s=e.getContext("2d");if(!s)return;const u=window.devicePixelRatio||1,d=Math.max(1,Math.round(a*u)),p=Math.max(1,Math.round(r*u));(e.width!==d||e.height!==p)&&(e.width=d,e.height=p),e.style.width=`${a}px`,e.style.height=`${r}px`,s.setTransform(u,0,0,u,0,0),s.clearRect(0,0,a,r);const g=l.endX-l.startX,f=l.endY-l.startY,y=Math.sqrt(g*g+f*f);if(y<=0||l.lineWidth<=0||l.opacity<=0)return;const m=g/y,x=f/y,b=-x,v=m,S=l.hasStartArrow?Math.min(l.lineWidth,y/2):0,C=l.hasEndArrow?Math.min(l.lineWidth,y/2):0,M=.5,R=l.lineWidth/2,T=l.hasStartArrow?0:Math.min(R+M,Math.max(0,y/2-S)),_=l.hasEndArrow?0:Math.min(R+M,Math.max(0,y/2-C)),I=S+T,z=C+_;if(y<=I+z)return;const O=l.startX+m*I,B=l.startY+x*I,V=l.endX-m*z,U=l.endY-x*z;if(s.globalAlpha=l.opacity,s.lineCap="round",s.lineJoin="round",s.lineWidth=l.lineWidth,s.strokeStyle=l.colour,l.enableShadow){const Z=Math.max(0,l.shadowBlur*u),J=l.shadowOffsetX*u,X=l.shadowOffsetY*u;s.shadowColor=l.shadowColour,s.shadowBlur=Z,s.shadowOffsetX=J,s.shadowOffsetY=X}else s.shadowColor="rgba(0,0,0,0)",s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0;const L=l.arrowWidth/2;if(s.beginPath(),s.moveTo(O,B),s.lineTo(V,U),l.hasStartArrow){const Z=l.startX,J=l.startY,X=Z+m*l.arrowLength,G=J+x*l.arrowLength;s.moveTo(Z,J),s.lineTo(X+b*L,G+v*L),s.moveTo(Z,J),s.lineTo(X-b*L,G-v*L)}if(l.hasEndArrow){const Z=l.endX,J=l.endY,X=Z-m*l.arrowLength,G=J-x*l.arrowLength;s.moveTo(Z,J),s.lineTo(X+b*L,G+v*L),s.moveTo(Z,J),s.lineTo(X-b*L,G-v*L)}s.stroke()}function Gh(e={}){const a=e.elementIds??[],r=e.connectorIds??[],l=document.querySelector('[data-canvas="true"]');if(!l)throw new Error("Canvas element not found");const s=l.querySelector('[data-canvas-content="true"]')??l.firstElementChild;if(!s)throw new Error("Canvas content not found");const u=window.getComputedStyle(s),d=s.scrollWidth||parseFloat(u.width)||s.clientWidth||0,p=s.scrollHeight||parseFloat(u.height)||s.clientHeight||0,g=Math.max(1,d||2e3),f=Math.max(1,p||2e3),y=document.createElement("div");y.style.position="fixed",y.style.left="0",y.style.top="0",y.style.pointerEvents="none",y.style.opacity="0",y.style.zIndex="-1000",y.style.width=`${g}px`,y.style.height=`${f}px`,y.style.background=yi,y.style.overflow="visible";const m=s.cloneNode(!0);m.style.transform="none",m.style.transformOrigin="0 0",m.style.width=`${g}px`,m.style.height=`${f}px`,m.style.background=yi,m.style.overflow="visible",y.appendChild(m),document.body.appendChild(y);const x=()=>{y.remove()},b=Array.from(m.querySelectorAll('[data-element-container="true"]')),v=Array.from(m.querySelectorAll('[data-connector-container="true"]'));v.forEach(E=>{if(E.style.display==="none")return;const H=E.querySelector('[data-connector-line="true"]'),$=E.querySelector('[data-connector-visual="true"]'),q=E.querySelector('[data-connector-shadow="true"]'),nt=$??H,vt=nt?Pt(nt.getAttribute("data-connector-base-line-width"),2):2,ht=nt?.getAttribute("data-connector-base-colour")??"#6c757d";if(H&&(H.style.height=`${vt}px`,H.style.borderRadius=`${vt/2}px`,H.style.backgroundColor=ht),$){const xt=Pt(E.getAttribute("data-connector-width"),$.width||0),Ct=Pt(E.getAttribute("data-connector-height"),$.height||0),F=Pt(E.getAttribute("data-connector-start-x")),et=Pt(E.getAttribute("data-connector-start-y")),K=Pt(E.getAttribute("data-connector-end-x")),rt=Pt(E.getAttribute("data-connector-end-y")),bt=Pt(E.getAttribute("data-connector-opacity"),1),mt=!!E.querySelector('[data-connector-arrow-endpoint="start"]'),wt=!!E.querySelector('[data-connector-arrow-endpoint="end"]'),st=Math.max(vt*4,12),ct=Math.max(vt*2.5,10),kt=Pt($.getAttribute("data-connector-shadow-offset-x"),0),pt=Pt($.getAttribute("data-connector-shadow-offset-y"),2),Rt=Pt($.getAttribute("data-connector-shadow-blur"),4),_t=$.getAttribute("data-connector-shadow-colour")??"rgba(0,0,0,0.25)";lx($,xt,Ct,{startX:F,startY:et,endX:K,endY:rt,lineWidth:vt,colour:ht,opacity:bt,hasStartArrow:mt,hasEndArrow:wt,arrowLength:st,arrowWidth:ct,enableShadow:!1,shadowOffsetX:kt,shadowOffsetY:pt,shadowBlur:Rt,shadowColour:_t}),q&&lx(q,xt,Ct,{startX:F,startY:et,endX:K,endY:rt,lineWidth:vt,colour:ht,opacity:bt,hasStartArrow:mt,hasEndArrow:wt,arrowLength:st,arrowWidth:ct,enableShadow:!0,shadowOffsetX:kt,shadowOffsetY:pt,shadowBlur:Rt,shadowColour:_t})}});const S=E=>{if(E===null)return null;const H=Number(E);return Number.isFinite(H)?H:null},C=new Map,M=new Map,R=m.getBoundingClientRect(),T=(E,H,$,q,nt)=>{const vt=S(E.getAttribute(H)),ht=S(E.getAttribute($)),xt=S(E.getAttribute(q)),Ct=S(E.getAttribute(nt));if(vt!==null&&ht!==null&&xt!==null&&Ct!==null)return{left:vt,top:ht,width:xt,height:Ct};const F=E.getBoundingClientRect(),et=F.left-R.left,K=F.top-R.top;return{left:et,top:K,width:F.width,height:F.height}};b.forEach(E=>{if(E.style.display==="none")return;const H=T(E,"data-element-left","data-element-top","data-element-width","data-element-height");if(H){const $=E.getAttribute("data-element-base-shadow"),q=zl($);C.set(E,{actual:H,extended:x_(H,q)})}}),v.forEach(E=>{if(E.style.display==="none")return;const H=T(E,"data-connector-left","data-connector-top","data-connector-width","data-connector-height");H&&M.set(E,H)});const _=a.length>0||r.length>0;let I=null;if(!b.length&&!v.length)throw x(),new Error("No items to export");b.forEach(E=>{const H=E.getAttribute("data-element-base-border"),$=E.getAttribute("data-element-base-shadow");E.getAttribute("data-element-selected")==="true"&&H&&(E.style.border=H),$?E.style.boxShadow=$:E.style.boxShadow="none";const nt=window.getComputedStyle(E);if(!!!E.getAttribute("data-shape"))w_(E,nt,$);else{const K=E.querySelector('[data-element-shadow-canvas="true"]'),rt=E.getAttribute("data-element-type");if(K&&rt){const bt=zl($);b_(E,K,rt,bt)}}const ht=nt.display,xt=nt.alignItems;if(ht==="flex"&&xt==="center"){const K=E.getAttribute("data-element-height"),rt=parseFloat(nt.paddingLeft||"0"),bt=parseFloat(nt.paddingRight||"0"),mt=parseFloat(nt.fontSize||"14");if(K){const wt=parseFloat(K);E.style.display="block",E.style.alignItems="initial";const st=mt*1,ct=(wt-st)/2,kt=mt*.21;E.style.paddingTop=`${ct-kt}px`,E.style.paddingBottom=`${ct+kt}px`,E.style.paddingLeft=`${rt}px`,E.style.paddingRight=`${bt}px`,E.style.lineHeight=`${st}px`}}A_(E);const Ct=E.querySelector('[data-element-text-layer="true"]');Ct&&(Ct.style.visibility="hidden");const F=E.querySelector('[data-element-canvas="true"]');F&&(F.style.visibility="hidden",F.style.display="none");const et=E.querySelector('[data-element-shadow-canvas="true"]');et&&(et.style.visibility="hidden",et.style.display="none"),E.style.opacity="0"}),m.querySelectorAll("[data-resize-container]").forEach(E=>{E.style.display="none"}),m.querySelectorAll("[data-connector-handle]").forEach(E=>{E.style.display="none"}),m.querySelectorAll('[data-selection-rectangle="true"]').forEach(E=>{E.style.display="none"}),m.querySelectorAll("input, textarea").forEach(E=>{E.style.display="none"}),m.querySelectorAll("[data-zoom-controls],[data-floating-toolbar]").forEach(E=>{E.style.display="none"}),m.querySelectorAll('[data-connector-halo="true"]').forEach(E=>{E.style.display="none"}),m.querySelectorAll('[data-connector-hit-area="true"]').forEach(E=>{E.style.display="none"});const J=a.length>0,X=r.length>0;let G=b.length,D=0;if(J){const E=new Set(a);G=0,b.forEach(H=>{const $=H.getAttribute("data-element-id")??"";E.has($)?(H.setAttribute("data-element-selected","false"),G+=1):H.style.display="none"})}else b.forEach(E=>{X&&(E.style.display="none"),E.setAttribute("data-element-selected","false")}),X&&(G=0);if(X){const E=new Set(r);D=0,v.forEach(H=>{const $=H.getAttribute("data-connector-id")??"";E.has($)?D+=1:H.style.display="none"})}else v.forEach(E=>{E.setAttribute("data-connector-selected","false"),J&&(E.style.display="none")});if((J||X)&&G+D===0)throw x(),new Error("Selected items not found in DOM");const P=b.filter(E=>E.style.display!=="none").map(E=>{const H=C.get(E);return H?{element:E,bounds:H}:null}).filter(E=>!!E),N=v.filter(E=>E.style.display!=="none").map(E=>{const H=M.get(E);return H?{connector:E,bounds:H}:null}).filter(E=>!!E),Y=[...P.map(E=>E.bounds.extended),...N.map(E=>E.bounds)];if(Y.length>0){const E=Math.min(...Y.map(et=>et.left)),H=Math.min(...Y.map(et=>et.top)),$=Math.max(...Y.map(et=>et.left+et.width)),q=Math.max(...Y.map(et=>et.top+et.height)),nt=Pa-E,vt=Pa-H;P.forEach(({element:et,bounds:K})=>{const rt=K.actual.left+nt,bt=K.actual.top+vt;et.style.setProperty("--element-left",`${rt}px`),et.style.setProperty("--element-top",`${bt}px`),et.setAttribute("data-element-left",`${rt}`),et.setAttribute("data-element-top",`${bt}`);const mt=et.querySelector('[data-element-snapshot="true"]');mt&&(mt.style.left="0",mt.style.top="0",mt.style.width=`${K.actual.width}px`,mt.style.height=`${K.actual.height}px`)}),N.forEach(({connector:et,bounds:K})=>{const rt=K.left+nt,bt=K.top+vt;et.style.left=`${rt}px`,et.style.top=`${bt}px`,et.setAttribute("data-connector-left",`${rt}`),et.setAttribute("data-connector-top",`${bt}`)});const ht=Math.max(1,$-E+Pa*2),xt=Math.max(1,q-H+Pa*2),Ct=_?ht:Math.max(ht,g),F=_?xt:Math.max(xt,f);m.style.left="0px",m.style.top="0px",m.style.width=`${Ct}px`,m.style.height=`${F}px`,y.style.width=`${Ct}px`,y.style.height=`${F}px`,I={rootWidth:Ct,rootHeight:F,contentLeft:Pa,contentTop:Pa,contentWidth:Math.max(0,$-E),contentHeight:Math.max(0,q-H)}}return typeof window<"u"&&window.__rewiredTestHooks?.onPrepareExportSnapshot?.({root:m,selectedElementIds:a,selectedConnectorIds:r}),{root:m,cleanup:x,metrics:I}}function C_(e){const a=e.getContext("2d");if(!a)throw new Error("Failed to get canvas context");const{width:r,height:l}=e,{data:s}=a.getImageData(0,0,r,l);let u=r,d=l,p=-1,g=-1;for(let f=0;f<l;f++)for(let y=0;y<r;y++){const m=(f*r+y)*4,x=s[m],b=s[m+1],v=s[m+2],S=s[m+3];S>0&&(x<Qf||b<Qf||v<Qf||S<255)&&(y<u&&(u=y),f<d&&(d=f),y>p&&(p=y),f>g&&(g=f))}return p===-1||g===-1?null:{minX:u,minY:d,maxX:p,maxY:g}}function Fh(e,a){const r=C_(e),l=e.getBoundingClientRect(),s=a?.rootWidth??l.width??e.width,u=a?.rootHeight??l.height??e.height,d=s>0?e.width/s:1,p=u>0?e.height/u:1,g=Pa*d,f=Pa*p;let y=null,m=null,x=null,b=null;if(r?(y=r.minX,m=r.minY,x=r.maxX,b=r.maxY):a&&(y=a.contentLeft*d,m=a.contentTop*p,x=(a.contentLeft+a.contentWidth)*d,b=(a.contentTop+a.contentHeight)*p),y===null||m===null||x===null||b===null||x<y||b<m)throw new Error("Failed to detect content in exported image");const v=Math.max(0,Math.floor(y-g)),S=Math.max(0,Math.floor(m-f)),C=Math.min(e.width,Math.ceil(x+g)),M=Math.min(e.height,Math.ceil(b+f));return S_(e,v,S,C,M)}function S_(e,a,r,l,s){const u=Math.max(0,l-a),d=Math.max(0,s-r);if(u<=0||d<=0)throw new Error("Invalid crop dimensions for exported image");const p=document.createElement("canvas");p.width=u,p.height=d;const g=p.getContext("2d");if(!g)throw new Error("Failed to create cropped canvas context");return g.drawImage(e,a,r,u,d,0,0,u,d),p}function qh(e,a){const r=a?.rootWidth??e.width;if(r<=0)return 1;const l=e.width/r;return Number.isFinite(l)&&l>0?l:1}const sx=typeof window<"u"?i_():null,cx=e=>new Promise((a,r)=>{const l=new Image;l.onload=()=>a(l),l.onerror=r,l.src=e}),E_=(e,a)=>{const r=[e,...Array.from(e.querySelectorAll("*"))];[a,...Array.from(a.querySelectorAll("*"))].forEach((s,u)=>{const d=r[u];if(!d||!s)return;const p=window.getComputedStyle(d),g=p.fill;g&&g!=="none"&&s.setAttribute("fill",g);const f=p.stroke;f&&f!=="none"&&s.setAttribute("stroke",f);const y=p.strokeWidth;y&&s.setAttribute("stroke-width",y);const m=p.strokeLinecap;m&&s.setAttribute("stroke-linecap",m);const x=p.strokeLinejoin;x&&s.setAttribute("stroke-linejoin",x)})},M_=(e,a,r,l,s,u,d,p)=>{d&&(e.save(),e.shadowColor=d.color,e.shadowBlur=(d.blur+Math.max(d.spread,0))*p,e.shadowOffsetX=d.offsetX*p,e.shadowOffsetY=d.offsetY*p,e.drawImage(a,r,l,s,u),e.restore()),e.drawImage(a,r,l,s,u)},Vh=e=>{const a=document.createElement("canvas");a.width=e.width,a.height=e.height;const r=a.getContext("2d");return r?(r.fillStyle=yi,r.fillRect(0,0,a.width,a.height),r.drawImage(e,0,0),a):e};async function Wh(e,a,r){const l=e.getContext("2d");if(!l)return;const s=r?.rootWidth??e.width,u=r?.rootHeight??e.height,d=s>0?e.width/s:1,p=u>0?e.height/u:1,g=Array.from(a.querySelectorAll('[data-element-container="true"]'));g.sort((m,x)=>{const b=Pt(m.getAttribute("data-element-z-index"),0),v=Pt(x.getAttribute("data-element-z-index"),0);if(b===v){const S=Pt(m.getAttribute("data-element-order"),0),C=Pt(x.getAttribute("data-element-order"),0);return S-C}return b-v});const f=Array.from(a.querySelectorAll('[data-connector-container="true"]'));f.sort((m,x)=>{const b=Pt(m.getAttribute("data-connector-z-index"),0),v=Pt(x.getAttribute("data-connector-z-index"),0);if(b===v){const S=Pt(m.getAttribute("data-connector-order"),0),C=Pt(x.getAttribute("data-connector-order"),0);return S-C}return b-v});const y=[...g.map(m=>({kind:"element",node:m})),...f.map(m=>({kind:"connector",node:m}))];y.sort((m,x)=>{const b=Pt(m.node.getAttribute(m.kind==="element"?"data-element-z-index":"data-connector-z-index"),0),v=Pt(x.node.getAttribute(x.kind==="element"?"data-element-z-index":"data-connector-z-index"),0);if(b===v){const S=Pt(m.node.getAttribute(m.kind==="element"?"data-element-order":"data-connector-order"),0),C=Pt(x.node.getAttribute(x.kind==="element"?"data-element-order":"data-connector-order"),0);return S-C}return b-v});for(const m of y){if(m.kind==="connector"){const _=m.node;if(_.style.display==="none")continue;const I=Pt(_.getAttribute("data-connector-left"),0),z=Pt(_.getAttribute("data-connector-top"),0),O=_.querySelector('[data-connector-visual="true"]'),B=_.querySelector('[data-connector-shadow="true"]');B&&B.width>0&&B.height>0&&l.drawImage(B,I*d,z*p),O&&O.width>0&&O.height>0&&l.drawImage(O,I*d,z*p);continue}const x=m.node;if(x.style.display==="none")continue;const b=Pt(x.getAttribute("data-element-left"),0),v=Pt(x.getAttribute("data-element-top"),0),S=Pt(x.getAttribute("data-element-width"),0),C=Pt(x.getAttribute("data-element-height"),0),M=x.querySelector('[data-element-canvas="true"]'),R=x.querySelector('[data-element-shadow-canvas="true"]');if(x.getAttribute("data-shape")){const _=Pt(R?.dataset.elementCanvasShadowMarginTop,0),I=Pt(R?.dataset.elementCanvasShadowMarginRight,0),z=Pt(R?.dataset.elementCanvasShadowMarginBottom,0),O=Pt(R?.dataset.elementCanvasShadowMarginLeft,0);if(R&&R.width>0&&R.height>0){const G=(S+O+I)*d,D=(C+_+z)*p;l.drawImage(R,(b-O)*d,(v-_)*p,G,D)}const B=x.querySelector("svg");if(!B)return;const V=x.getAttribute("data-element-base-shadow"),U=zl(V),L=B.cloneNode(!0);L.setAttribute("width",`${S}`),L.setAttribute("height",`${C}`),E_(B,L);const Z=new XMLSerializer().serializeToString(L),X=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(Z)}`;try{const G=await cx(X),D=S*d,P=C*p,N=(d+p)/2,Y=R&&R.width>0?null:U;M_(l,G,b*d,v*p,D,P,Y,N)}catch(G){console.warn("Failed to rasterize shape element",G)}continue}if(M||R){if(R&&R.width>0&&R.height>0){const I=Pt(R.dataset.elementCanvasShadowMarginTop,0),z=Pt(R.dataset.elementCanvasShadowMarginRight,0),O=Pt(R.dataset.elementCanvasShadowMarginBottom,0),B=Pt(R.dataset.elementCanvasShadowMarginLeft,0),V=(S+B+z)*d,U=(C+I+O)*p;l.drawImage(R,(b-B)*d,(v-I)*p,V,U)}M&&M.width>0&&M.height>0&&l.drawImage(M,b*d,v*p);const _=x.querySelector('[data-element-image-layer="true"]');if(_){const I=x.getAttribute("data-element-image-src")||"";if(I.trim().length>0){const z=_.querySelector("img"),O=z&&(z.complete||z.naturalWidth>0)?z:await cx(I),B=O.naturalWidth||O.width||S,V=O.naturalHeight||O.height||C;if(B>0&&V>0){const U=S/Math.max(C,1),L=B/V;let Z=S,J=C;L>U?(Z=S,J=Math.max(1,S/L)):(J=C,Z=Math.max(1,C*L));const X=b+(S-Z)/2,G=v+(C-J)/2;l.drawImage(O,X*d,G*p,Z*d,J*p)}}else{const z=_.querySelector("span"),O=z?.textContent?.trim()??_.textContent?.trim()??"";if(O){const B=window.getComputedStyle(z??_),V=parseFloat(B.fontSize||"12")||12,U=B.fontFamily||so,L=B.fontWeight&&B.fontWeight!=="normal"?B.fontWeight:"600",Z=parseFloat(B.lineHeight||"0"),J=Number.isFinite(Z)&&Z>0?Z:V*1.3,X=B.color||"#6c757d",G=Math.max(1,S-8);l.save(),l.fillStyle=X,l.textAlign="center",l.textBaseline="middle",l.font=`${L} ${V*p}px ${U}`;const P=(H=>{const $=H.split(/\s+/),q=[];let nt="";const vt=()=>{nt.trim().length>0&&(q.push(nt.trim()),nt="")},ht=xt=>l.measureText(xt).width/d;for(const xt of $){if(!xt)continue;const Ct=nt?`${nt} ${xt}`:xt;if(ht(Ct)<=G){nt=Ct;continue}if(ht(xt)>G){let F="";for(const et of xt){const K=F+et;if(ht(K)>G&&F){const rt=nt?`${nt} ${F}`.trim():F;rt&&q.push(rt),F=et,nt=""}else F=K}if(F)if(nt){const et=`${nt} ${F}`.trim();ht(et)<=G?nt=et:(q.push(nt.trim()),nt=F)}else nt=F;continue}vt(),nt=xt}return vt(),q.length?q:[H]})(O),N=P.length*J;let Y=v+(C-N)/2+J/2;const E=b+S/2;for(const H of P)l.fillText(H,E*d,Y*p),Y+=J;l.restore()}}}}}}async function Zh(e,a){if(!sx||a<=1.0001)return e;const r=Math.max(1,Math.round(e.width/a)),l=Math.max(1,Math.round(e.height/a)),s=document.createElement("canvas");return s.width=r,s.height=l,await sx.resize(e,s,{unsharpAmount:80,unsharpRadius:.6,unsharpThreshold:1}),s}function R_(e){const[a,r]=e.split(","),l=a.match(/data:(.*?);base64/),s=l?l[1]:"image/png",u=atob(r),d=new Uint8Array(u.length);for(let p=0;p<u.length;p+=1)d[p]=u.charCodeAt(p);return new Blob([d],{type:s})}async function Yv(e,a){const r=await new Promise(s=>e.toBlob(u=>s(u),"image/png"));if(!r)throw new Error("Failed to convert canvas to PNG");return await Xh(r,a??"rewired-export.png",m_,"image/png")}async function Uv(e){const a=Gh(),{cleanup:r,root:l}=a;try{const s=a.metrics?.rootWidth??l.getBoundingClientRect().width??1,u=a.metrics?.rootHeight??l.getBoundingClientRect().height??1,d=Math.min(window.devicePixelRatio||1,3),p=document.createElement("canvas");p.width=Math.max(1,Math.round(s*d)),p.height=Math.max(1,Math.round(u*d));const g=p.getContext("2d");g&&(g.fillStyle=yi,g.fillRect(0,0,p.width,p.height)),await Wh(p,l,a.metrics);const f=Fh(p,a.metrics),y=qh(p,a.metrics),m=await Zh(f,y),x=Vh(m);return await Yv(x,e??"wireframe.png")}catch(s){throw console.error("Export canvas failed:",s),s}finally{r()}}async function T_(){const e=Gh(),{cleanup:a,root:r}=e;try{const l=e.metrics?.rootWidth??r.getBoundingClientRect().width??1,s=e.metrics?.rootHeight??r.getBoundingClientRect().height??1,u=Math.min(window.devicePixelRatio||1,3),d=document.createElement("canvas");d.width=Math.max(1,Math.round(l*u)),d.height=Math.max(1,Math.round(s*u));const p=d.getContext("2d");p&&(p.fillStyle=yi,p.fillRect(0,0,d.width,d.height)),await Wh(d,r,e.metrics);const g=Fh(d,e.metrics),f=qh(d,e.metrics),y=await Zh(g,f),x=Vh(y).toDataURL("image/png",1);return R_(x)}catch(l){throw console.error("Export canvas failed:",l),l}finally{a()}}async function $v(e,a){const{elementIds:r,connectorIds:l}=e;if(!r.length&&!l.length)throw new Error("No elements were selected for export");const s=Gh({elementIds:r,connectorIds:l}),u=s.cleanup;try{const d=s.metrics?.rootWidth??s.root.getBoundingClientRect().width??1,p=s.metrics?.rootHeight??s.root.getBoundingClientRect().height??1,g=Math.min(window.devicePixelRatio||1,3),f=document.createElement("canvas");f.width=Math.max(1,Math.round(d*g)),f.height=Math.max(1,Math.round(p*g));const y=f.getContext("2d");y&&(y.fillStyle=yi,y.fillRect(0,0,f.width,f.height)),await Wh(f,s.root,s.metrics);const m=Fh(f,s.metrics),x=qh(f,s.metrics),b=await Zh(m,x),v=Vh(b);return await Yv(v,a??"wireframe-selection.png")}catch(d){throw console.error("Export selection failed:",d),d}finally{u()}}typeof window<"u"&&(window.__rewiredTestHooks=window.__rewiredTestHooks??{},window.__rewiredTestHooks.exportSelectedElementsToPNG||(window.__rewiredTestHooks.exportSelectedElementsToPNG=(e,a)=>$v(e,a)),window.__rewiredTestHooks.exportCanvasToPNG||(window.__rewiredTestHooks.exportCanvasToPNG=e=>Uv(e)),window.__rewiredTestHooks.exportCanvasToPNGBlob||(window.__rewiredTestHooks.exportCanvasToPNGBlob=()=>T_()));const k_=new Set(["posX","posY","width","height","id","type","imageSrc"]),__=e=>{if(!e)return;const a=Object.entries(e).filter(([l])=>!k_.has(l)&&l!=="imageSrc");if(a.length===0)return;const r={};for(const[l,s]of a)s!==void 0&&(r[l]=s);return r},O_=e=>{const{id:a,type:r,x:l,y:s,width:u,height:d,zIndex:p,text:g,imageSrc:f,groupId:y,properties:m}=e,x={id:a,type:r,x:l,y:s,width:u,height:d};typeof p=="number"&&(x.zIndex=p),typeof g=="string"&&g.length>0&&(x.text=g),y&&(x.groupId=y);const b=typeof f=="string"&&f.trim().length>0?f:typeof m?.imageSrc=="string"&&m.imageSrc.trim().length>0?m.imageSrc:void 0;b&&(x.imageSrc=b);const v=__(m);return v&&Object.keys(v).length>0&&(x.properties=v),x},D_=e=>{const a={id:e.id,type:"connector",startPoint:{...e.startPoint},endPoint:{...e.endPoint}};return typeof e.zIndex=="number"&&(a.zIndex=e.zIndex),e.groupId&&(a.groupId=e.groupId),e.properties&&(a.properties={...e.properties}),e.startAttachment&&(a.startAttachment={elementId:e.startAttachment.elementId}),e.endAttachment&&(a.endAttachment={elementId:e.endAttachment.elementId}),a},I_=e=>({elements:e.elements.map(O_),connectors:e.connectors.map(D_),zoom:e.zoom,panX:e.panX,panY:e.panY,selectedItems:e.selectedItemIds.length?[...e.selectedItemIds]:void 0}),j_=e=>{const a=I_(e.canvasState);return{id:e.id,name:e.name,order:e.order,...a}},Qv=(e,a)=>({version:"1.1.0",exportDate:new Date().toISOString(),pages:e.map(j_),activePageId:a}),B_=(e,a)=>Qv([e],a??e.id),Xv=(e,a)=>{const r=JSON.stringify(e,null,2),l=new Blob([r],{type:"application/json"}),s=URL.createObjectURL(l),u=document.createElement("a");u.href=s,u.download=a||`wireframe-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(s)},Gv=()=>{const e=new Date,a=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return`${a}-${r}-${l}`},Fv=[{description:"Wireframe JSON files",accept:{"application/json":[".json"]}}],z_=async(e,a,r)=>{const l=B_(e,a),s=JSON.stringify(l,null,2),d=`wireframe-${e.name.replace(/\s+/g,"-").toLowerCase()||"page"}-${Gv()}.json`;try{return await Xh(s,d,Fv,"application/json")}catch(p){return console.error("Failed to save JSON file:",p),Xv(l,d),!0}},N_=async(e,a,r)=>{const l=Qv(e,a),s=JSON.stringify(l,null,2),u=`wireframe-project-${Gv()}.json`;try{return await Xh(s,u,Fv,"application/json")}catch(d){return console.error("Failed to save JSON file:",d),Xv(l,u),!0}},ca=e=>typeof e=="object"&&e!==null,ro=(e,a=0)=>{const r=typeof e=="number"?e:Number(e);return Number.isFinite(r)?r:a},P_=new Set(["posX","posY","width","height","id","type","imageSrc"]),L_=e=>{if(!ca(e))return;const a=Object.entries(e).filter(([l])=>!P_.has(l));if(!a.length)return;const r={};for(const[l,s]of a)s!==void 0&&(r[l]=s);return Object.keys(r).length>0?r:void 0},ux=e=>({x:ro(e?.x,0),y:ro(e?.y,0)}),dx=e=>!e||typeof e!="object"||!e.elementId?null:{elementId:String(e.elementId),anchor:e.anchor},H_=e=>{if(!ca(e))throw new Error("Invalid element payload");const a=typeof e.id=="string"&&e.id.trim().length>0?e.id:kn(),r=typeof e.type=="string"?e.type:void 0,l=r==="heading",u=l?"text":r??"button",d=ro(e.x,0),p=ro(e.y,0),g=Math.max(1,ro(e.width,120)),f=Math.max(1,ro(e.height,40)),y={id:a,type:u,x:d,y:p,width:g,height:f};e.zIndex!==void 0&&(y.zIndex=ro(e.zIndex,0)),typeof e.text=="string"&&(y.text=e.text),typeof e.groupId=="string"&&e.groupId.length>0&&(y.groupId=e.groupId);const m=e.properties??e.props??e.elementProperties;let x;typeof e.imageSrc=="string"&&e.imageSrc.trim().length>0&&(x=e.imageSrc),!x&&ca(m)&&typeof m.imageSrc=="string"&&m.imageSrc.trim().length>0&&(x=m.imageSrc);let b=L_(m);return l&&(b={...{fontSize:24,fontWeight:"bold",textAlign:"left"},...b??{}}),b&&(typeof b.imageSrc=="string"&&b.imageSrc.trim().length>0&&(x=x??b.imageSrc,delete b.imageSrc),Object.keys(b).length===0&&(b=void 0)),b&&(y.properties=b),x&&(y.imageSrc=x),y},Y_=e=>{if(!ca(e))throw new Error("Invalid connector payload");const r={id:typeof e.id=="string"&&e.id.trim().length>0?e.id:kn(),type:"connector",startPoint:ux(e.startPoint??e.start??{}),endPoint:ux(e.endPoint??e.end??{})};e.zIndex!==void 0&&(r.zIndex=ro(e.zIndex,0)),e.groupId&&(r.groupId=String(e.groupId)),ca(e.properties)&&(r.properties={...e.properties});const l=dx(e.startAttachment);l&&(r.startAttachment=l);const s=dx(e.endAttachment);return s&&(r.endAttachment=s),r},qv=e=>{const a=Array.isArray(e?.elements)?e.elements:[],r=Array.isArray(e?.connectors)?e.connectors:[],l=Array.isArray(e?.selectedItems)?e.selectedItems:Array.isArray(e?.selectedItemIds)?e.selectedItemIds:[...Array.isArray(e?.selectedElements)?e.selectedElements:[],...Array.isArray(e?.selectedConnectors)?e.selectedConnectors:[]];return{elements:a.map(H_),connectors:r.map(Y_),zoom:ro(e?.zoom,1)||1,panX:ro(e?.panX,0),panY:ro(e?.panY,0),selectedItems:l.length?l.map(s=>String(s)):void 0}},U_=(e,a=0)=>{if(!ca(e))throw new Error("Invalid page payload");const r=typeof e.id=="string"&&e.id.trim().length>0?e.id:kn(),l=typeof e.name=="string"&&e.name.trim().length>0?e.name:`Imported Page ${a+1}`,s=ro(e.order,a),u=e.canvasState??e.canvas??e,d=qv(u);return{id:r,name:l,order:s,...d}},$_=e=>{const a=typeof e?.version=="string"?e.version:"1.0.0",r=typeof e?.exportDate=="string"?e.exportDate:new Date().toISOString();if(Array.isArray(e?.pages)&&e.pages.length>0){const p=e.pages.map((y,m)=>U_(y,m)),g=typeof e.activePageId=="string"?e.activePageId:void 0,f=p.slice().sort((y,m)=>y.order-m.order).map((y,m)=>({...y,order:m}));return{version:a,exportDate:r,pages:f,activePageId:g}}const l=qv(e?.canvasState??e),u=(typeof e?.ownerPageId=="string"?e.ownerPageId:typeof e?.canvasState?.ownerPageId=="string"?e.canvasState.ownerPageId:void 0)??kn(),d=typeof e?.pageName=="string"&&e.pageName.trim().length>0?e.pageName:"Imported Page";return{version:a,exportDate:r,pages:[{id:u,name:d,order:0,...l}],activePageId:u}},Q_=e=>{if(!ca(e))return!1;if(Array.isArray(e.pages)&&e.pages.length>0)return e.pages.every(r=>{const l=r?.canvasState??r?.canvas??r;return!ca(l)||!Array.isArray(l.elements)?!1:l.elements.every(s=>s&&typeof s.id=="string"&&typeof s.type=="string")});const a=e.canvasState??e.canvas??e;return!ca(a)||!Array.isArray(a.elements)?!1:a.elements.every(r=>r&&typeof r.id=="string"&&typeof r.type=="string")},fx=async()=>{const e=[{description:"Wireframe JSON files",accept:{"application/json":[".json"]}}];try{const a=await p_(e);if(!a)return null;let r;try{r=JSON.parse(a)}catch{throw new Error("Invalid JSON file. Please select a valid wireframe export file.")}if(!Q_(r))throw new Error("Invalid wireframe file format. Please select a valid wireframe export file.");return $_(r)}catch(a){throw console.error("Import failed:",a),a}},Vv=e=>{const a=new Set,r=[];for(const l of e)a.has(l)||(a.add(l),r.push(l));return r},X_=(e,a,r)=>{if(!e?.length)return[];const l=e.map(s=>a&&a[s]?a[s]:r&&r[s]?r[s]:s);return Vv(l)},fh=(e,a,r)=>{if(!r?.length)return{selectedElements:[],selectedConnectors:[],selectedItemIds:[]};const l=new Set(e.map(g=>g.id)),s=new Set(a.map(g=>g.id)),u=Vv(r.filter(g=>l.has(g)||s.has(g))),d=u.filter(g=>l.has(g)),p=u.filter(g=>s.has(g));return{selectedElements:d,selectedConnectors:p,selectedItemIds:u}},Wv=e=>{const a={id:e.id,type:e.type,x:e.x,y:e.y,width:e.width,height:e.height,text:e.text,zIndex:e.zIndex,groupId:e.groupId,imageSrc:e.imageSrc,properties:e.properties?{...e.properties}:void 0};return gi(a)},Zv=e=>({id:e.id,type:"connector",startPoint:{...e.startPoint},endPoint:{...e.endPoint},zIndex:e.zIndex,properties:e.properties?{...e.properties}:void 0,groupId:e.groupId,startAttachment:e.startAttachment?.anchor?{elementId:e.startAttachment.elementId,anchor:e.startAttachment.anchor}:null,endAttachment:e.endAttachment?.anchor?{elementId:e.endAttachment.elementId,anchor:e.endAttachment.anchor}:null}),Kv=(e,a,r)=>{if(!r.size)return e;if(!a.length)return e.map(d=>({...d,startAttachment:null,endAttachment:null}));const l=new Map(a.map(d=>[d.id,d]));let s=!1;const u=e.map(d=>{const p=r.get(d.id);if(!p)return d;let g=d.startAttachment??null,f=d.endAttachment??null;const y=(m,x)=>{if(!m)return null;const b=l.get(m);if(!b)return null;const v=cu([b],x,lu);return!v||v.attachment.elementId!==m?null:v.attachment};if(!g&&p.startElementId){const m=y(p.startElementId,d.startPoint);m&&(g=m)}if(!f&&p.endElementId){const m=y(p.endElementId,d.endPoint);m&&(f=m)}return g===d.startAttachment&&f===d.endAttachment?d:(s=!0,{...d,startAttachment:g,endAttachment:f})});return s?ke(u,a):e},G_=e=>{const a={};return{elements:e.map(l=>{const s=kn();return a[l.id]=s,{...l,id:s}}),idMap:a}},F_=e=>{const a={};return{connectors:e.map(l=>{const s=kn();return a[l.id]=s,{...l,id:s}}),idMap:a}},q_=(e,a)=>{const r=l=>{if(!l)return l??null;const s=a[l.elementId];return s?{...l,elementId:s}:l};return{...e,startAttachment:r(e.startAttachment)??null,endAttachment:r(e.endAttachment)??null}},V_=(e,a)=>{const r=e.elements.map(Wv),l=e.connectors.map(p=>({connector:Zv(p),hints:{startElementId:p.startAttachment?.elementId??null,endElementId:p.endAttachment?.elementId??null}})),s=new Map(l.map(p=>[p.connector.id,p.hints])),u=Kv(l.map(p=>p.connector),r,s),d=fh(r,u,e.selectedItems);return{elements:r,connectors:u,selectedElements:d.selectedElements,selectedConnectors:d.selectedConnectors,selectedItemIds:d.selectedItemIds,zoom:e.zoom||1,panX:e.panX||0,panY:e.panY||0,ownerPageId:a}},W_=(e,a,r)=>{const l=a.elements.map(Wv),s=a.connectors.map(v=>({connector:Zv(v),hints:{startElementId:v.startAttachment?.elementId??null,endElementId:v.endAttachment?.elementId??null}})),u=new Map(s.map(v=>[v.connector.id,v.hints])),d=Kv(s.map(v=>v.connector),l,u);if(r.clearCanvas){const v=fh(l,d,a.selectedItems);return{elements:l,connectors:d,selectedElements:v.selectedElements,selectedConnectors:v.selectedConnectors,selectedItemIds:v.selectedItemIds,zoom:a.zoom||1,panX:a.panX||0,panY:a.panY||0,ownerPageId:e.ownerPageId}}const{elements:p,idMap:g}=G_(l),{connectors:f,idMap:y}=F_(d),m=f.map(v=>q_(v,g)),x=X_(a.selectedItems,g,y),b=fh([...e.elements,...p],[...e.connectors,...m],x);return{...e,elements:[...e.elements,...p],connectors:[...e.connectors,...m],selectedElements:b.selectedElements,selectedConnectors:b.selectedConnectors,selectedItemIds:b.selectedItemIds}},Z_=e=>e.pages.map(a=>({id:a.id,name:a.name,order:a.order,canvasState:V_(a,a.id)})),Yc=e=>{try{return JSON.parse(JSON.stringify(e))}catch(a){return console.error("Failed to clone canvas state, returning original reference. Some operations may mutate shared state.",a),e}};function K_({canvasState:e,setCanvasState:a,replaceCanvasState:r,queueHistoryEntry:l,onSaveTimestampUpdate:s,activePageId:u,activePage:d,pages:p,commitCanvasSnapshot:g,onImportApplied:f,replaceProject:y}){const[m,x]=A.useState(null),[b,v]=A.useState(()=>({project:null})),[S,C]=A.useState(()=>({project:null})),M=A.useCallback(async()=>{try{await Uv()}catch(X){console.error("Failed to export PNG:",X),alert("Failed to export PNG: "+X.message)}},[]),R=A.useCallback(async()=>{const{selectedElements:X,selectedConnectors:G}=e;if(X.length===0&&G.length===0){alert("Please select items to export");return}try{await $v({elementIds:X,connectorIds:G})}catch(D){console.error("Failed to export selection as PNG:",D),alert("Failed to export selection: "+D.message)}},[e]),T=A.useCallback(async()=>{try{await z_(d,u)}catch(X){console.error("Failed to export page JSON:",X),alert("Failed to export JSON: "+X.message)}},[d,u]),_=A.useCallback(async()=>{try{await N_(p,u)}catch(X){console.error("Failed to export project JSON:",X),alert("Failed to export project JSON: "+X.message)}},[p,u]),I=A.useCallback((X,G)=>{const D=X.pages.find(P=>P.id===G)??X.pages[0];if(!D){alert("No pages found in the imported file.");return}x({pageId:D.id,pageName:D.name,canvasState:{elements:D.elements,connectors:D.connectors,zoom:D.zoom,panX:D.panX,panY:D.panY,selectedItems:D.selectedItems}}),v({project:null})},[]),z=A.useCallback(async()=>{try{const X=await fx();if(!X)return;if(X.pages.length===0){alert("The imported file does not contain any pages.");return}if(X.pages.length===1){I(X,X.pages[0].id);return}v({project:X})}catch(X){console.error("Import failed:",X),alert("Import failed: "+X.message)}},[I]),O=A.useCallback(async()=>{try{const X=await fx();if(!X)return;if(X.pages.length===0){alert("The imported file does not contain any pages.");return}C({project:X})}catch(X){console.error("Import failed:",X),alert("Import failed: "+X.message)}},[]),B=A.useCallback(X=>{if(!m)return;const D={...W_(e,m.canvasState,{clearCanvas:X}),ownerPageId:u};X?r(D,{resetHistory:!0,description:"Imported canvas (replace)"}):(l("Import items (append)"),a(Yc(D))),g(u,D),f(D),s(),x(null)},[m,e,u,r,l,a,g,f,s]),V=A.useCallback(()=>{x(null)},[]),U=A.useCallback(X=>{const G=b.project;G&&I(G,X)},[b.project,I]),L=A.useCallback(()=>{v({project:null})},[]),Z=A.useCallback(()=>{const X=S.project;if(!X)return;const G=Z_(X);y(G,X.activePageId),s(),C({project:null})},[S.project,y,s]),J=A.useCallback(()=>{C({project:null})},[]);return{importModal:{isOpen:!!m,pendingImportData:m,onConfirm:B,onCancel:V},pagePickerModal:{isOpen:!!(b.project&&b.project.pages.length>1),pages:b.project?.pages.map(X=>({id:X.id,name:X.name,order:X.order}))??[],onSelect:U,onCancel:L},projectImportModal:{isOpen:!!S.project,pageCount:S.project?.pages.length??0,onConfirm:Z,onCancel:J},actions:{exportPNG:M,exportSelectedPNG:R,exportPageJSON:T,exportProjectJSON:_,importPageJSON:z,importProjectJSON:O}}}const hx=20,yc=(e,a)=>{const{constraints:r}=e,l=a==="width"?r?.minWidth:r?.minHeight,s=typeof l=="number"?l:a==="width"?100:40,u=e.defaultProps[a]??s;return typeof l=="number"?Math.max(u,l):u};function J_({setCanvasState:e,queueHistoryEntry:a}){const r=A.useRef(null),l=A.useCallback(p=>{r.current=p},[]),s=A.useCallback(()=>{},[]),u=A.useCallback(p=>{const g=r.current;if(!g)return;const f=document.querySelector('[data-canvas="true"]');if(f){const y=f.getBoundingClientRect();p.x>=y.left&&p.x<=y.right&&p.y>=y.top&&p.y<=y.bottom&&(a("Add element from library"),e(x=>{const b=Hc(x),v=(p.x-y.left-hx-x.panX*x.zoom)/x.zoom,S=(p.y-y.top-hx-x.panY*x.zoom)/x.zoom,C=yc(g,"width"),M=yc(g,"height"),R={id:kn(),type:g.type,x:Math.max(0,v-C/2),y:Math.max(0,S-M/2),width:C,height:M,text:g.defaultProps.text??"",imageSrc:typeof g.defaultProps.imageSrc=="string"?g.defaultProps.imageSrc:void 0,style:g.defaultProps.style,constraints:g.constraints,properties:g.defaultProps.properties?{...g.defaultProps.properties}:void 0,zIndex:b},T=gi(R);return{...x,elements:[...x.elements,T],selectedElements:[T.id],selectedConnectors:[],selectedItemIds:[T.id]}}))}r.current=null},[a,e]),d=A.useCallback(p=>{const g=yc(p,"width"),f=yc(p,"height");a("Add element from library"),e(y=>{const m=Hc(y),x={id:kn(),type:p.type,x:100+Math.random()*200,y:100+Math.random()*200,width:g,height:f,text:p.defaultProps.text??"",imageSrc:typeof p.defaultProps.imageSrc=="string"?p.defaultProps.imageSrc:void 0,style:p.defaultProps.style,constraints:p.constraints,properties:p.defaultProps.properties?{...p.defaultProps.properties}:void 0,zIndex:m},b=gi(x);return{...y,elements:[...y.elements,b],selectedElements:[b.id],selectedConnectors:[],selectedItemIds:[b.id]}})},[a,e]);return{handleDragStart:l,handleDragMove:s,handleDragEnd:u,handleElementClick:d}}function tO({handlers:e,hasSelection:a}){const r=A.useRef(e),l=A.useRef(a);A.useEffect(()=>{r.current=e},[e]),A.useEffect(()=>{l.current=a},[a]),A.useEffect(()=>{const s=u=>{const d=r.current,p=l.current,g=document.activeElement,f=g?.tagName==="INPUT"||g?.tagName==="TEXTAREA";if(u.key==="Escape"&&!f&&p&&d.onClearSelection){u.preventDefault(),d.onClearSelection();return}if(u.key==="a"&&(u.ctrlKey||u.metaKey)&&!f){u.preventDefault(),d.onSelectAll();return}if(u.ctrlKey||u.metaKey){if((u.key==="z"||u.key==="Z")&&!u.shiftKey&&d.onUndo){u.preventDefault(),d.onUndo();return}if((u.key==="z"||u.key==="Z")&&u.shiftKey&&d.onRedo){u.preventDefault(),d.onRedo();return}if((u.key==="h"||u.key==="H")&&d.onToggleHistory){u.preventDefault(),d.onToggleHistory();return}}if(!f&&(u.ctrlKey||u.metaKey)){if(u.shiftKey){if((u.key==="c"||u.key==="C")&&d.onCopyProperties){u.preventDefault(),d.onCopyProperties();return}if((u.key==="v"||u.key==="V")&&d.onPasteProperties){u.preventDefault(),d.onPasteProperties();return}}if(!u.shiftKey){if(u.key==="c"||u.key==="C"){u.preventDefault(),d.onCopy();return}if(u.key==="x"||u.key==="X"){u.preventDefault(),d.onCut();return}if(u.key==="v"||u.key==="V"){u.preventDefault(),d.onPaste();return}}}if(!f){if(u.key==="s"||u.key==="S"){u.preventDefault(),d.onSetMode("select");return}if(u.key==="d"||u.key==="D"){u.preventDefault(),d.onSetMode("drag");return}}if((u.key==="Delete"||u.key==="Backspace")&&p&&(f||(u.preventDefault(),d.onDelete())),!f&&p&&d.onMoveSelection){if(u.key==="ArrowUp"){u.preventDefault(),d.onMoveSelection(0,-1);return}if(u.key==="ArrowDown"){u.preventDefault(),d.onMoveSelection(0,1);return}if(u.key==="ArrowLeft"){u.preventDefault(),d.onMoveSelection(-1,0);return}if(u.key==="ArrowRight"){u.preventDefault(),d.onMoveSelection(1,0);return}}if(!f&&p&&(u.ctrlKey||u.metaKey)){if((u.key==="g"||u.key==="G")&&!u.shiftKey&&d.onGroup){u.preventDefault(),d.onGroup();return}if((u.key==="g"||u.key==="G")&&u.shiftKey&&d.onUngroup){u.preventDefault(),d.onUngroup();return}}if(!f&&(u.ctrlKey||u.metaKey)){if(u.key==="["&&d.onZoomOut){u.preventDefault(),d.onZoomOut();return}if(u.key==="]"&&d.onZoomIn){u.preventDefault(),d.onZoomIn();return}if((u.key==="\\"||u.key==="|")&&d.onFitToScreen){u.preventDefault(),d.onFitToScreen();return}}};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[]),A.useEffect(()=>(document.body.style.userSelect="none",()=>{document.body.style.userSelect=""}),[])}const Jv="rewired-project-v2",vl=100,Rl=e=>({elements:[],connectors:[],selectedElements:[],selectedConnectors:[],selectedItemIds:[],zoom:1,panX:0,panY:0,ownerPageId:e}),Tl=()=>{const e=kn();return{pages:[{id:e,name:"Page 1",order:0}],canvases:{[e]:Rl(e)},activePageId:e}},ai=(e,a)=>{if(!e)return Rl(a);const r=Yc(e);return r.ownerPageId=a,r},eO=()=>{try{const e=window.localStorage.getItem(Jv);if(!e)return Tl();const a=JSON.parse(e);if(!a.pages?.length||!a.canvases)return Tl();const r={};a.pages.forEach(s=>{r[s.id]=ai(a.canvases[s.id],s.id)});const l=r[a.activePageId]?a.activePageId:a.pages[0].id;return{pages:a.pages.slice().sort((s,u)=>s.order-u.order).map((s,u)=>({...s,order:u})),canvases:r,activePageId:l}}catch(e){return console.error("Failed to load project metadata",e),Tl()}},nO=()=>{const[e,a]=A.useState(()=>typeof window>"u"?Tl():eO()),r=A.useCallback(S=>{if(!(typeof window>"u"))try{window.localStorage.setItem(Jv,JSON.stringify(S))}catch(C){console.error("Failed to persist project",C)}},[]);A.useEffect(()=>{r(e)},[r,e]);const l=A.useCallback(S=>{a(C=>{const M=S(C);return M===C?C:(r(M),M)})},[r]),s=A.useCallback((S,C)=>{l(M=>{const R=ai(C,S);return{...M,canvases:{...M.canvases,[S]:R}}})},[l]),u=A.useCallback(S=>{l(C=>{if(C.activePageId===S)return C;const M=C.canvases[S]?C.canvases:{...C.canvases,[S]:Rl(S)};return{...C,canvases:M,activePageId:S}})},[l]),d=A.useCallback(()=>{l(S=>{if(S.pages.length>=vl)return console.warn(`Cannot add page. Maximum ${vl} pages reached.`),S;const C=kn(),M=`Page ${S.pages.length+1}`,R=[...S.pages,{id:C,name:M,order:S.pages.length}],T={...S.canvases,[C]:Rl(C)};return{pages:R,canvases:T,activePageId:C}})},[l]),p=A.useCallback(S=>{l(C=>{if(C.pages.length<=1)return console.warn("Cannot delete the last page"),C;const M=C.pages.filter(I=>I.id!==S).map((I,z)=>({...I,order:z})),{[S]:R,...T}=C.canvases,_=C.activePageId===S?M[0].id:C.activePageId;return{pages:M,canvases:T,activePageId:_}})},[l]),g=A.useCallback((S,C)=>{const M=C.trim();if(!M)return!1;let R=!0;return l(T=>{if(T.pages.some(I=>I.id!==S&&I.name===M))return console.warn("Page name already in use"),R=!1,T;const _=T.pages.map(I=>I.id===S?{...I,name:M}:I);return{...T,pages:_}}),R},[l]),f=A.useCallback(S=>{l(C=>{if(C.pages.length>=vl)return console.warn(`Cannot duplicate page. Maximum ${vl} pages reached.`),C;const M=C.pages.find(B=>B.id===S);if(!M)return C;const R=C.canvases[S]??Rl(S);let T=`${M.name} (Copy)`,_=1;for(;C.pages.some(B=>B.name===T);)T=`${M.name} (Copy ${_++})`;const I=kn(),z=[...C.pages,{id:I,name:T,order:C.pages.length}],O={...C.canvases,[I]:ai(R,I)};return{pages:z,canvases:O,activePageId:I}})},[l]),y=A.useCallback((S,C)=>{l(M=>{const R=[...M.pages],T=R.findIndex(z=>z.id===S);if(T===-1)return M;const[_]=R.splice(T,1);R.splice(C,0,_);const I=R.map((z,O)=>({...z,order:O}));return{...M,pages:I}})},[l]),m=A.useCallback(()=>{const S=Tl();r(S),a(S)},[r]),x=A.useCallback((S,C)=>{if(!S.length){console.warn("Cannot replace project with zero pages.");return}l(()=>{const M=S.slice().sort((I,z)=>I.order-z.order).map((I,z)=>({...I,order:z})),R={};M.forEach(I=>{R[I.id]=ai(I.canvasState,I.id)});const T=M.map(I=>({id:I.id,name:I.name,order:I.order})),_=C&&R[C]?C:M[0].id;return{pages:T,canvases:R,activePageId:_}})},[l]),b=A.useMemo(()=>e.pages.map(S=>({...S,canvasState:ai(e.canvases[S.id],S.id)})),[e]),v=A.useMemo(()=>ai(e.canvases[e.activePageId],e.activePageId),[e]);return{pages:b,activePageId:e.activePageId,activeCanvas:v,canAddPage:e.pages.length<vl,setActivePage:u,commitCanvasSnapshot:s,addPage:d,deletePage:p,renamePage:g,duplicatePage:f,reorderPages:y,resetProject:m,replaceProject:x}},oO=dt.div.attrs(e=>({style:{top:`${e.$top}px`,left:`${e.$left}px`}}))`
  position: fixed;
  width: 240px;
  min-height: 160px;
  max-height: 70vh;
  resize: vertical;
  background: #ffffff;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  box-shadow: 0 18px 36px rgba(15, 23, 42, 0.14);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  z-index: 1100;
  backdrop-filter: blur(12px);
`,aO=dt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 8px 14px;
  background: #f8fafc;
  border-bottom: 1px solid #e2e8f0;
  cursor: grab;

  &:active {
    cursor: grabbing;
  }
`,rO=dt.h3`
  margin: 0;
  font-size: 14px;
  font-weight: 600;
  color: #1f2937;
`,iO=dt.button`
  border: none;
  background: transparent;
  color: #64748b;
  font-size: 16px;
  cursor: pointer;
  padding: 2px 6px;
  border-radius: 4px;

  &:hover {
    background: rgba(226, 232, 240, 0.45);
    color: #0f172a;
  }
`,lO=dt.ul`
  list-style: none;
  margin: 0;
  padding: 0;
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: auto;
`,sO=dt.li`
  padding: 10px 16px;
  display: flex;
  flex-direction: column;
  gap: 4px;
  background: ${e=>e.$isCurrent?"#eef2ff":"transparent"};
  border-bottom: 1px solid #e5e7eb;

  &:last-child {
    border-bottom: none;
  }
`,cO=dt.span`
  font-size: 14px;
  color: #1f2937;
  font-weight: 500;
`,uO=dt.button`
  border: none;
  background: none;
  padding: 0;
  margin: 0;
  font-size: 14px;
  font-weight: 500;
  text-align: left;
  color: ${e=>e.$position==="past"?"#1d4ed8":"#047857"};
  cursor: pointer;

  &:hover {
    text-decoration: underline;
  }
`,dO=dt.span`
  font-size: 12px;
  color: #6b7280;
`,fO=dt.div`
  padding: 24px 16px;
  text-align: center;
  color: #6b7280;
  font-size: 13px;
`;function hO(e){const a=new Date(e);return`${a.toLocaleDateString()} ${a.toLocaleTimeString()}`}function pO({entries:e,currentIndex:a,onClose:r,onSelectEntry:l,position:s,onPositionChange:u}){const d=A.useRef(null),p=A.useRef(null),g=A.useCallback(m=>{if(!d.current)return;const x=m.clientX-d.current.x,b=m.clientY-d.current.y;u({x:Math.max(12,x),y:Math.max(12,b)})},[u]),f=A.useCallback(()=>{d.current=null,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",f)},[g]),y=A.useCallback(m=>{m.preventDefault(),d.current={x:m.clientX-s.x,y:m.clientY-s.y},document.addEventListener("mousemove",g),document.addEventListener("mouseup",f)},[g,f,s.x,s.y]);return A.useEffect(()=>()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",f)},[g,f]),A.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[e.length]),w.jsxs(oO,{"data-history-panel":!0,$top:s.y,$left:s.x,children:[w.jsxs(aO,{"data-history-header":!0,onMouseDown:y,children:[w.jsx(rO,{children:"History"}),w.jsx(iO,{type:"button",onClick:r,children:""})]}),e.length===0?w.jsx(fO,{children:"No history recorded yet."}):w.jsx(lO,{ref:p,children:e.map((m,x)=>{const b=m.position==="present"?"Current":m.position==="past"?"Undo":"Redo",v=m.position!=="present";return w.jsxs(sO,{$isCurrent:x===a,"data-history-entry":!0,"data-entry-position":m.position,children:[v?w.jsx(uO,{type:"button",$position:m.position==="past"?"past":"future",onClick:()=>l(m.id),"data-history-action":m.position==="past"?"undo":"redo","data-entry-id":m.id,children:m.description}):w.jsx(cO,{children:m.description}),w.jsxs(dO,{children:[b,"  ",hO(m.timestamp)]})]},m.id)})})]})}const Ze={connectorType:"line",lineColour:"#6c757d",lineWidth:2,opacity:1,shadow:!1,shadowColour:"#000000",shadowOpacity:.36,shadowBlurRadius:6,startMark:"None",endMark:"None"},mO=()=>{const{pages:e,activePageId:a,activeCanvas:r,canAddPage:l,setActivePage:s,commitCanvasSnapshot:u,addPage:d,deletePage:p,renamePage:g,duplicatePage:f,reorderPages:y,resetProject:m,replaceProject:x}=nO(),{canvasState:b,actions:v,canUndo:S,canRedo:C,historyEntries:M,historyIndex:R}=Zk(r),T=v.exportHistoryState,_=v.importHistoryState,I=v.replaceCanvasState,[z,O]=A.useState(()=>typeof window>"u"?!1:window.localStorage.getItem("rewired-history-panel-open")==="true"),[B,V]=A.useState({x:24,y:80}),[U,L]=A.useState(null),Z=A.useRef({}),J=A.useRef(null),X=A.useCallback(At=>JSON.parse(JSON.stringify(At)),[]),G=A.useRef(!1),[D,P]=A.useState(!1),[N,Y]=A.useState(()=>{if(typeof window<"u"){const At=window.localStorage.getItem("rewired-floating-toolbar-position");if(At)try{const It=JSON.parse(At);if(typeof It.x=="number"&&typeof It.y=="number"&&Number.isFinite(It.x)&&Number.isFinite(It.y))return G.current=!0,{x:It.x,y:It.y}}catch(It){console.warn("Failed to parse stored toolbar position",It)}}return{x:0,y:26}}),[E,H]=A.useState(null),$=A.useCallback(At=>JSON.stringify({elements:At.elements,connectors:At.connectors,zoom:At.zoom,panX:At.panX,panY:At.panY}),[]),q=A.useRef(()=>{}),nt=A.useRef(null),vt=A.useCallback(At=>{Z.current[a]=X(T()),nt.current=$(At),J.current=a},[a,X,T,$]);A.useEffect(()=>{q.current=()=>{const At={...Yc(b),ownerPageId:a};u(a,At),Z.current[a]=X(T()),nt.current=$(At)}},[a,b,u,X,T,$]),A.useEffect(()=>()=>{q.current()},[]),A.useEffect(()=>{typeof window>"u"||window.localStorage.setItem("rewired-history-panel-open",String(z))},[z]),A.useEffect(()=>{const At=e.find(oe=>oe.id===a);if(!At)return;const It={...Yc(At.canvasState),ownerPageId:a},he=$(It);if(nt.current===he){J.current=a;return}const se=Z.current[a];se?_(X(se)):(I(It,{resetHistory:!0}),Z.current[a]=X(T())),nt.current=he,J.current=a},[a,e,X,T,_,I,$]),A.useEffect(()=>{const At=()=>{q.current()};return window.addEventListener("beforeunload",At),()=>{window.removeEventListener("beforeunload",At)}},[]);const ht=A.useCallback(At=>{v.startTransaction(At)},[v]),xt=A.useCallback(()=>{v.endTransaction(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{q.current()})})},[v]),Ct=Kk({canvasState:b,setCanvasState:v.setCanvasState}),F=Ct.actions,et=Ct.canvasMode,[K,rt]=A.useState(null),[bt,mt]=A.useState({...Ze}),wt=A.useCallback(At=>{F.setMode(At),At!=="draw-connector"&&(rt(null),mt({...Ze}))},[F]),st=A.useCallback(At=>{const It=At.label;if((K?.label??null)===It&&et==="draw-connector"){rt(null),mt({...Ze}),F.setMode("drag");return}const se=At.defaultProps?.properties;rt(At),mt({...Ze,...se??{}}),F.setMode("draw-connector")},[K,et,F]),ct=Jk({canvasState:b,setCanvasState:v.setCanvasState,queueHistoryEntry:v.queueHistoryEntry}),kt=t_({setCanvasState:v.setCanvasState,zoom:Ct.zoom,onTransactionStart:ht,onTransactionEnd:xt}),pt=e_({setCanvasState:v.setCanvasState,zoom:Ct.zoom,onTransactionStart:ht,onTransactionEnd:xt}),Rt=o_({canvasState:b,setCanvasState:v.setCanvasState,queueHistoryEntry:v.queueHistoryEntry}),_t=A.useMemo(()=>{const At=e.find(It=>It.id===a);return At||{id:a,name:"Current Page",order:0,canvasState:b}},[e,a,b]),St=K_({canvasState:b,setCanvasState:v.setCanvasState,replaceCanvasState:I,queueHistoryEntry:v.queueHistoryEntry,onSaveTimestampUpdate:()=>L(new Date),activePageId:a,activePage:_t,pages:e,commitCanvasSnapshot:u,onImportApplied:vt,replaceProject:x}),Nt=J_({setCanvasState:v.setCanvasState,queueHistoryEntry:v.queueHistoryEntry}),Dt=D?50:280;A.useEffect(()=>{typeof window<"u"&&window.localStorage.setItem("rewired-floating-toolbar-position",JSON.stringify(N))},[N]);const Xt=b.selectedItemIds.length,Et=b.selectedElements.length>0||b.selectedConnectors.length>0;A.useEffect(()=>{(b.elements.length>0||b.connectors.length>0)&&L(new Date)},[b.elements,b.connectors]);const{singleElement:Tt,singleConnector:Yt}=A.useMemo(()=>{if(Xt!==1)return{singleElement:null,singleConnector:null};const At=b.selectedElements[0]??null;if(At)return{singleElement:b.elements.find(se=>se.id===At)??null,singleConnector:null};const It=b.selectedConnectors[0]??null;return It?{singleElement:null,singleConnector:b.connectors.find(se=>se.id===It)??null??null}:{singleElement:null,singleConnector:null}},[b.elements,b.connectors,b.selectedElements,b.selectedConnectors,Xt]),Se=A.useCallback((At,It)=>{Yt&&(v.updateConnectorProperty(Yt.id,At,It),queueMicrotask(()=>{q.current(),L(new Date)}))},[v,Yt]),co=A.useCallback((At,It)=>{if(Tt){v.updateElementProperty(Tt.id,At,It);return}Yt&&Se(At,It)},[v,Se,Yt,Tt]),uo=A.useCallback(()=>{if(Tt){const At=Ai(Tt.type),It=new Set(Sv()),he=new Set(BR()),se=Bl(Tt,Tt.properties),oe={};At.forEach(Re=>{if(It.has(Re.id)||he.has(Re.id))return;const $t=se[Re.id];$t!==void 0&&(oe[Re.id]=$t)}),H({kind:"element",elementType:Tt.type,properties:oe});return}if(Yt){const At=Yt.properties??Ze;H({kind:"connector",properties:{connectorType:At.connectorType??Ze.connectorType,lineColour:At.lineColour??Ze.lineColour,lineWidth:typeof At.lineWidth=="number"?Math.max(.5,At.lineWidth):Ze.lineWidth,opacity:typeof At.opacity=="number"?Math.min(1,Math.max(0,At.opacity)):Ze.opacity,shadow:typeof At.shadow=="boolean"?At.shadow:typeof At.dropShadow=="boolean"?At.dropShadow:Ze.shadow,shadowColour:typeof At.shadowColour=="string"&&At.shadowColour.trim().length>0?At.shadowColour:Ze.shadowColour??"#000000",shadowOpacity:typeof At.shadowOpacity=="number"?Math.min(1,Math.max(0,At.shadowOpacity)):Ze.shadowOpacity??.36,shadowBlurRadius:typeof At.shadowBlurRadius=="number"?Math.max(0,At.shadowBlurRadius):Ze.shadowBlurRadius??6,startMark:At.startMark==="HollowArrow"?"HollowArrow":Ze.startMark,endMark:At.endMark==="HollowArrow"?"HollowArrow":Ze.endMark}})}},[Tt,Yt,Ze]),Gn=A.useCallback(()=>{if(E){if(E.kind==="element"){if(b.selectedElements.length===0)return;v.applyPropertiesToElements(b.selectedElements,E.properties);return}if(E.kind==="connector"){if(b.selectedConnectors.length===0)return;v.applyPropertiesToConnectors(b.selectedConnectors,E.properties)}}},[v,b.selectedConnectors,b.selectedElements,E]);tO({handlers:{onSelectAll:v.selectAll,onCopy:Rt.actions.copy,onCut:Rt.actions.cut,onPaste:Rt.actions.paste,onDelete:v.deleteSelectedElements,onSetMode:wt,onUndo:v.undo,onRedo:v.redo,onMoveSelection:v.moveSelectedElements,onToggleHistory:()=>O(At=>!At),onGroup:()=>v.groupElements(b.selectedElements),onUngroup:()=>{const At=b.elements.find(It=>b.selectedElements.includes(It.id)&&It.groupId)?.groupId;At&&v.ungroupElements(At)},onZoomIn:F.zoomIn,onZoomOut:F.zoomOut,onFitToScreen:F.fitToScreen,onCopyProperties:uo,onPasteProperties:Gn,onClearSelection:v.clearSelection},hasSelection:Et});const je=A.useCallback(()=>{if(Tt){v.resetElementStyling(Tt.id);return}Yt&&v.resetConnectorProperties([Yt.id])},[v,Yt,Tt]),pn=A.useMemo(()=>E?E.kind==="element"?b.selectedElements.length>0:b.selectedConnectors.length>0:!1,[b.selectedConnectors.length,b.selectedElements.length,E]),an=A.useCallback(At=>{At!==a&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{q.current(),s(At),rt(null),mt({...Ze}),F.setMode("drag")})})},[a,s,F]);return w.jsxs(vC,{children:[w.jsx(WM,{onNew:()=>m(),onExportPNG:St.actions.exportPNG,onExportSelectedPNG:St.actions.exportSelectedPNG,onExportPageJSON:St.actions.exportPageJSON,onImportPageJSON:St.actions.importPageJSON,onExportProjectJSON:St.actions.exportProjectJSON,onImportProjectJSON:St.actions.importProjectJSON,onToggleHistory:()=>O(At=>!At),onClearSelection:v.clearSelection,onSelectAll:v.selectAll,onSelectArea:()=>F.setMode("select"),onUndo:v.undo,onRedo:v.redo,hasSelection:Et,lastSaved:U}),w.jsx(XR,{isCollapsed:D,onToggleCollapse:()=>P(At=>!At),onDragStart:Nt.handleDragStart,onDragMove:Nt.handleDragMove,onDragEnd:Nt.handleDragEnd,onElementClick:Nt.handleElementClick,selectedElement:Tt,selectedConnector:Yt,selectionCount:Xt,onPropertyChange:co,onCopyProperties:uo,onPasteProperties:Gn,onResetProperties:je,canPasteProperties:pn}),w.jsxs(AC,{$libraryWidth:Dt,children:[w.jsx(AT,{canvasMode:Ct.canvasMode,isTemporarySelectMode:!1,onSetMode:wt,onSendToBack:ct.sendToBack,onBringBack:ct.bringBack,onBringForward:ct.bringForward,onSendToFront:ct.sendToFront,hasSelection:Et,onUndo:v.undo,onRedo:v.redo,canUndo:S,canRedo:C,onDelete:v.deleteSelectedElements,onGroup:()=>v.groupElements(b.selectedElements),onUngroup:()=>{const At=b.elements.find(It=>b.selectedElements.includes(It.id)&&It.groupId)?.groupId;At&&v.ungroupElements(At)},canGroup:b.selectedElements.length>1,canUngroup:b.selectedElements.some(At=>b.elements.find(It=>It.id===At&&It.groupId)),onShapeDragStart:(At,It)=>Nt.handleDragStart(At),onShapeDragMove:()=>Nt.handleDragMove(),onShapeDragEnd:Nt.handleDragEnd,onShapeClick:Nt.handleElementClick,onConnectorToolSelect:st,activeConnectorPreset:K,position:N,onPositionChange:Y,shouldAutoCenter:!G.current}),z&&w.jsx(pO,{entries:M,currentIndex:R,onClose:()=>O(!1),onSelectEntry:v.jumpToHistoryEntry,position:B,onPositionChange:V}),w.jsx(Ak,{elements:b.elements,connectors:b.connectors,zoom:Ct.zoom,panX:Ct.panX,panY:Ct.panY,onPanChange:F.updatePan,onElementSelect:v.selectElement,onConnectorSelect:v.selectConnector,onElementsMoveTo:v.moveElementsTo,onConnectorsMoveTo:v.moveConnectorsTo,onElementTextEdit:v.updateElementText,onElementPropertyChange:v.updateElementProperty,onElementImageChange:v.updateElementImage,onZoomChange:F.setZoom,onZoomAtPoint:F.setZoomAtPoint,selectedElements:b.selectedElements,selectedConnectors:b.selectedConnectors,canvasMode:Ct.canvasMode,selectionArea:Ct.selectionArea,isSelecting:Ct.isSelecting,onSelectionStart:F.startSelection,onSelectionChange:F.updateSelectionArea,onSelectionComplete:At=>{const{elementIds:It,connectorIds:he}=F.completeSelection(At,b);v.setCanvasState(se=>({...se,selectedElements:It,selectedConnectors:he,selectedItemIds:la(It,he)}))},onResizeStart:kt.actions.handleResizeStart,onConnectorResizeStart:pt.actions.handleResizeStart,isResizing:kt.isResizing,isConnectorResizing:pt.isResizing,resizingConnectorId:pt.resizeConnectorId,resizeHasAnchorPreview:pt.resizeHasAnchorPreview,resizeEndpoint:pt.resizeEndpoint,resizeAnchorPreview:pt.resizeAnchorPreview,onTransactionStart:ht,onTransactionEnd:xt,onTemporarySelectModeChange:()=>{},onConnectorCreate:(At,It,he)=>{const se=bt.connectorType??"line",oe=kn();v.queueHistoryEntry("Add connector"),v.setCanvasState(Re=>{const $t=Hc(Re),rn={id:oe,type:"connector",startPoint:Qt(At),endPoint:Qt(It),startAttachment:he?.start??null,endAttachment:he?.end??null,zIndex:$t,properties:{...bt,connectorType:se}};return{...Re,connectors:[...Re.connectors,rn],selectedElements:[],selectedConnectors:[oe],selectedItemIds:[oe]}}),rt(null),mt({...Ze}),F.setMode("drag")},onModeChange:wt})]}),w.jsx(MT,{zoom:Ct.zoom,onZoomIn:F.zoomIn,onZoomOut:F.zoomOut,onReset:F.resetZoom,onFitToScreen:F.fitToScreen}),w.jsx(kT,{isOpen:St.importModal.isOpen,pendingImportData:St.importModal.pendingImportData,onConfirm:St.importModal.onConfirm,onCancel:St.importModal.onCancel}),w.jsx(_T,{isOpen:St.pagePickerModal.isOpen,pages:St.pagePickerModal.pages,onSelect:St.pagePickerModal.onSelect,onCancel:St.pagePickerModal.onCancel}),w.jsx(OT,{isOpen:St.projectImportModal.isOpen,pageCount:St.projectImportModal.pageCount,onConfirm:St.projectImportModal.onConfirm,onCancel:St.projectImportModal.onCancel}),w.jsx(Gk,{pages:e,activePageId:a,canAddPage:l,libraryWidth:Dt,onAddPage:d,onDeletePage:p,onRenamePage:g,onDuplicatePage:f,onReorderPages:y,onSwitchToPage:an})]})};hw.createRoot(document.getElementById("root")).render(w.jsx(jt.StrictMode,{children:w.jsx(mO,{})}));
